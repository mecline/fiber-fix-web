/*! For license information please see main.289c72bd.js.LICENSE.txt */
(()=>{var e={191:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler");Symbol.for("react.provider");var s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),f=Symbol.for("react.offscreen"),m=Symbol.for("react.client.reference");function g(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case o:case a:case i:case u:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case p:case h:case s:return e;default:return t}}case r:return t}}}t.Hy=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===a||e===i||e===u||e===d||e===f||"object"===typeof e&&null!==e&&(e.$$typeof===p||e.$$typeof===h||e.$$typeof===l||e.$$typeof===s||e.$$typeof===c||e.$$typeof===m||void 0!==e.getModuleId)}},9037:(e,t,n)=>{"use strict";var r=n(6305).default;t.A=void 0;var o=r(n(5043));t.A=parseInt(o.version,10)},219:(e,t,n)=>{"use strict";var r=n(3763),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?a:s[e.$$typeof]||o}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(f){var o=p(n);o&&o!==f&&e(t,o,r)}var a=u(n);d&&(a=a.concat(d(n)));for(var s=l(t),m=l(n),g=0;g<a.length;++g){var v=a[g];if(!i[v]&&(!r||!r[v])&&(!m||!m[v])&&(!s||!s[v])){var y=h(n,v);try{c(t,v,y)}catch(b){}}}}return t}},4983:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function C(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case i:case s:case a:case p:return e;default:switch(e=e&&e.$$typeof){case c:case h:case g:case m:case l:return e;default:return t}}case o:return t}}}function _(e){return C(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=h,t.Fragment=i,t.Lazy=g,t.Memo=m,t.Portal=o,t.Profiler=s,t.StrictMode=a,t.Suspense=p,t.isAsyncMode=function(e){return _(e)||C(e)===u},t.isConcurrentMode=_,t.isContextConsumer=function(e){return C(e)===c},t.isContextProvider=function(e){return C(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return C(e)===h},t.isFragment=function(e){return C(e)===i},t.isLazy=function(e){return C(e)===g},t.isMemo=function(e){return C(e)===m},t.isPortal=function(e){return C(e)===o},t.isProfiler=function(e){return C(e)===s},t.isStrictMode=function(e){return C(e)===a},t.isSuspense=function(e){return C(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===d||e===s||e===a||e===p||e===f||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===y||e.$$typeof===b||e.$$typeof===w||e.$$typeof===v)},t.typeOf=C},3763:(e,t,n)=>{"use strict";e.exports=n(4983)},4053:e=>{e.exports=function(){return"undefined"!==typeof window&&"object"===typeof window.process&&"renderer"===window.process.type||(!("undefined"===typeof process||"object"!==typeof process.versions||!process.versions.electron)||"object"===typeof navigator&&"string"===typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0)}},1497:(e,t,n)=>{"use strict";var r=n(3218);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},5173:(e,t,n)=>{e.exports=n(1497)()},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},7004:(e,t,n)=>{"use strict";var r=n(8853),o=n(5043),i=n(7950);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}var l=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),u=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),m=Symbol.for("react.consumer"),g=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),b=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),C=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var _=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var x=Symbol.for("react.memo_cache_sentinel"),S=Symbol.iterator;function k(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=S&&e[S]||e["@@iterator"])?e:null}var I=Symbol.for("react.client.reference");function E(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===I?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case d:return"Fragment";case u:return"Portal";case p:return"Profiler";case h:return"StrictMode";case y:return"Suspense";case b:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case g:return(e.displayName||"Context")+".Provider";case m:return(e._context.displayName||"Context")+".Consumer";case v:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case w:return null!==(t=e.displayName||null)?t:E(e.type)||"Memo";case C:t=e._payload,e=e._init;try{return E(e(t))}catch(n){}}return null}var T,R,P=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,A=Object.assign;function D(e){if(void 0===T)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);T=t&&t[1]||"",R=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+T+e+R}var O=!1;function N(e,t){if(!e||O)return"";O=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(o){var r=o}Reflect.construct(e,[],n)}else{try{n.call()}catch(i){r=i}e.call(n.prototype)}}else{try{throw Error()}catch(a){r=a}(n=e())&&"function"===typeof n.catch&&n.catch((function(){}))}}catch(s){if(s&&r&&"string"===typeof s.stack)return[s.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=r.DetermineComponentFrameRoot(),a=i[0],s=i[1];if(a&&s){var l=a.split("\n"),c=s.split("\n");for(o=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;o<c.length&&!c[o].includes("DetermineComponentFrameRoot");)o++;if(r===l.length||o===c.length)for(r=l.length-1,o=c.length-1;1<=r&&0<=o&&l[r]!==c[o];)o--;for(;1<=r&&0<=o;r--,o--)if(l[r]!==c[o]){if(1!==r||1!==o)do{if(r--,0>--o||l[r]!==c[o]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=o);break}}}finally{O=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?D(n):""}function M(e){switch(e.tag){case 26:case 27:case 5:return D(e.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 15:return e=N(e.type,!1);case 11:return e=N(e.type.render,!1);case 1:return e=N(e.type,!0);default:return""}}function L(e){try{var t="";do{t+=M(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function F(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function B(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function j(e){if(F(e)!==e)throw Error(a(188))}function z(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=z(e)))return t;e=e.sibling}return null}var V=Array.isArray,U=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H={pending:!1,data:null,method:null,action:null},q=[],W=-1;function G(e){return{current:e}}function K(e){0>W||(e.current=q[W],q[W]=null,W--)}function Q(e,t){W++,q[W]=e.current,e.current=t}var Y=G(null),X=G(null),$=G(null),J=G(null);function Z(e,t){switch(Q($,t),Q(X,e),Q(Y,null),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)&&(t=t.namespaceURI)?Xu(t):0;break;default:if(t=(e=8===e?t.parentNode:t).tagName,e=e.namespaceURI)t=$u(e=Xu(e),t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(Y),Q(Y,t)}function ee(){K(Y),K(X),K($)}function te(e){null!==e.memoizedState&&Q(J,e);var t=Y.current,n=$u(t,e.type);t!==n&&(Q(X,e),Q(Y,n))}function ne(e){X.current===e&&(K(Y),K(X)),J.current===e&&(K(J),Ld._currentValue=H)}var re=Object.prototype.hasOwnProperty,oe=r.unstable_scheduleCallback,ie=r.unstable_cancelCallback,ae=r.unstable_shouldYield,se=r.unstable_requestPaint,le=r.unstable_now,ce=r.unstable_getCurrentPriorityLevel,ue=r.unstable_ImmediatePriority,de=r.unstable_UserBlockingPriority,he=r.unstable_NormalPriority,pe=r.unstable_LowPriority,fe=r.unstable_IdlePriority,me=r.log,ge=r.unstable_setDisableYieldValue,ve=null,ye=null;function be(e){if("function"===typeof me&&ge(e),ye&&"function"===typeof ye.setStrictMode)try{ye.setStrictMode(ve,e)}catch(t){}}var we=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(Ce(e)/_e|0)|0},Ce=Math.log,_e=Math.LN2;var xe=128,Se=4194304;function ke(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194176&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ie(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,a=e.warmLanes;e=0!==e.finishedLanes;var s=134217727&n;return 0!==s?0!==(n=s&~o)?r=ke(n):0!==(i&=s)?r=ke(i):e||0!==(a=s&~a)&&(r=ke(a)):0!==(s=n&~o)?r=ke(s):0!==i?r=ke(i):e||0!==(a=n&~a)&&(r=ke(a)),0===r?0:0!==t&&t!==r&&0===(t&o)&&((o=r&-r)>=(a=t&-t)||32===o&&0!==(4194176&a))?t:r}function Ee(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Te(e,t){switch(e){case 1:case 2:case 4:case 8:return t+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Re(){var e=xe;return 0===(4194176&(xe<<=1))&&(xe=128),e}function Pe(){var e=Se;return 0===(62914560&(Se<<=1))&&(Se=4194304),e}function Ae(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function De(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Oe(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-we(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194218&n}function Ne(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-we(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}function Me(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Le(){var e=U.p;return 0!==e?e:void 0===(e=window.event)?32:$d(e.type)}var Fe=Math.random().toString(36).slice(2),Be="__reactFiber$"+Fe,je="__reactProps$"+Fe,ze="__reactContainer$"+Fe,Ve="__reactEvents$"+Fe,Ue="__reactListeners$"+Fe,He="__reactHandles$"+Fe,qe="__reactResources$"+Fe,We="__reactMarker$"+Fe;function Ge(e){delete e[Be],delete e[je],delete e[Ve],delete e[Ue],delete e[He]}function Ke(e){var t=e[Be];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ze]||n[Be]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ld(e);null!==e;){if(n=e[Be])return n;e=ld(e)}return t}n=(e=n).parentNode}return null}function Qe(e){if(e=e[Be]||e[ze]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function Ye(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(a(33))}function Xe(e){var t=e[qe];return t||(t=e[qe]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function $e(e){e[We]=!0}var Je=new Set,Ze={};function et(e,t){tt(e,t),tt(e+"Capture",t)}function tt(e,t){for(Ze[e]=t,e=0;e<t.length;e++)Je.add(t[e])}var nt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),rt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ot={},it={};function at(e,t,n){if(o=t,re.call(it,o)||!re.call(ot,o)&&(rt.test(o)?it[o]=!0:(ot[o]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var o}function st(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function lt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function pt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var ft=/[\n"\\]/g;function mt(e){return e.replace(ft,(function(e){return"\\"+e.charCodeAt(0).toString(16)+" "}))}function gt(e,t,n,r,o,i,a,s){e.name="",null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.type=a:e.removeAttribute("type"),null!=t?"number"===a?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==a&&"reset"!==a||e.removeAttribute("value"),null!=t?yt(e,a,ct(t)):null!=n?yt(e,a,ct(n)):null!=r&&e.removeAttribute("value"),null==o&&null!=i&&(e.defaultChecked=!!i),null!=o&&(e.checked=o&&"function"!==typeof o&&"symbol"!==typeof o),null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.name=""+ct(s):e.removeAttribute("name")}function vt(e,t,n,r,o,i,a,s){if(null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i&&(e.type=i),null!=t||null!=n){if(!("submit"!==i&&"reset"!==i||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,s||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:o)&&"symbol"!==typeof r&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.name=a)}function yt(e,t,n){"number"===t&&pt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function wt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function Ct(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(a(92));if(V(r)){if(1<r.length)throw Error(a(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function _t(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var xt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function St(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||xt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function kt(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(a(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var o in t)r=t[o],t.hasOwnProperty(o)&&n[o]!==r&&St(e,o,r)}else for(var i in t)t.hasOwnProperty(i)&&St(e,i,t[i])}function It(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Et=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Rt(e){return Tt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Pt=null;function At(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Dt=null,Ot=null;function Nt(e){var t=Qe(e);if(t&&(e=t.stateNode)){var n=e[je]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=r[je]||null;if(!o)throw Error(a(90));gt(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ht(r)}break e;case"textarea":wt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var Mt=!1;function Lt(e,t,n){if(Mt)return e(t,n);Mt=!0;try{return e(t)}finally{if(Mt=!1,(null!==Dt||null!==Ot)&&(Bc(),Dt&&(t=Dt,e=Ot,Ot=Dt=null,Nt(t),e)))for(t=0;t<e.length;t++)Nt(e[t])}}function Ft(e,t){var n=e.stateNode;if(null===n)return null;var r=n[je]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Bt=!1;if(nt)try{var jt={};Object.defineProperty(jt,"passive",{get:function(){Bt=!0}}),window.addEventListener("test",jt,jt),window.removeEventListener("test",jt,jt)}catch(Ch){Bt=!1}var zt=null,Vt=null,Ut=null;function Ht(){if(Ut)return Ut;var e,t,n=Vt,r=n.length,o="value"in zt?zt.value:zt.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===o[i-t];t++);return Ut=o.slice(e,1<t?1-t:void 0)}function qt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Wt(){return!0}function Gt(){return!1}function Kt(e){function t(t,n,r,o,i){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(o):o[a]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?Wt:Gt,this.isPropagationStopped=Gt,this}return A(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Wt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Wt)},persist:function(){},isPersistent:Wt}),t}var Qt,Yt,Xt,$t={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jt=Kt($t),Zt=A({},$t,{view:0,detail:0}),en=Kt(Zt),tn=A({},Zt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xt&&(Xt&&"mousemove"===e.type?(Qt=e.screenX-Xt.screenX,Yt=e.screenY-Xt.screenY):Yt=Qt=0,Xt=e),Qt)},movementY:function(e){return"movementY"in e?e.movementY:Yt}}),nn=Kt(tn),rn=Kt(A({},tn,{dataTransfer:0})),on=Kt(A({},Zt,{relatedTarget:0})),an=Kt(A({},$t,{animationName:0,elapsedTime:0,pseudoElement:0})),sn=Kt(A({},$t,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),ln=Kt(A({},$t,{data:0})),cn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},un={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=dn[e])&&!!t[e]}function pn(){return hn}var fn=Kt(A({},Zt,{key:function(e){if(e.key){var t=cn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=qt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?un[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pn,charCode:function(e){return"keypress"===e.type?qt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?qt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),mn=Kt(A({},tn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),gn=Kt(A({},Zt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pn})),vn=Kt(A({},$t,{propertyName:0,elapsedTime:0,pseudoElement:0})),yn=Kt(A({},tn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),bn=Kt(A({},$t,{newState:0,oldState:0})),wn=[9,13,27,32],Cn=nt&&"CompositionEvent"in window,_n=null;nt&&"documentMode"in document&&(_n=document.documentMode);var xn=nt&&"TextEvent"in window&&!_n,Sn=nt&&(!Cn||_n&&8<_n&&11>=_n),kn=String.fromCharCode(32),In=!1;function En(e,t){switch(e){case"keyup":return-1!==wn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Rn=!1;var Pn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function An(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Pn[e.type]:"textarea"===t}function Dn(e,t,n,r){Dt?Ot?Ot.push(r):Ot=[r]:Dt=r,0<(t=Lu(t,"onChange")).length&&(n=new Jt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var On=null,Nn=null;function Mn(e){Tu(e,0)}function Ln(e){if(ht(Ye(e)))return e}function Fn(e,t){if("change"===e)return t}var Bn=!1;if(nt){var jn;if(nt){var zn="oninput"in document;if(!zn){var Vn=document.createElement("div");Vn.setAttribute("oninput","return;"),zn="function"===typeof Vn.oninput}jn=zn}else jn=!1;Bn=jn&&(!document.documentMode||9<document.documentMode)}function Un(){On&&(On.detachEvent("onpropertychange",Hn),Nn=On=null)}function Hn(e){if("value"===e.propertyName&&Ln(Nn)){var t=[];Dn(t,Nn,e,At(e)),Lt(Mn,t)}}function qn(e,t,n){"focusin"===e?(Un(),Nn=n,(On=t).attachEvent("onpropertychange",Hn)):"focusout"===e&&Un()}function Wn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Ln(Nn)}function Gn(e,t){if("click"===e)return Ln(t)}function Kn(e,t){if("input"===e||"change"===e)return Ln(t)}var Qn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Yn(e,t){if(Qn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!re.call(t,o)||!Qn(e[o],t[o]))return!1}return!0}function Xn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $n(e,t){var n,r=Xn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Xn(r)}}function Jn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Jn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Zn(e){for(var t=pt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=pt((e=t.contentWindow).document)}return t}function er(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function tr(e,t){var n=Zn(t);t=e.focusedElem;var r=e.selectionRange;if(n!==t&&t&&t.ownerDocument&&Jn(t.ownerDocument.documentElement,t)){if(null!==r&&er(t))if(e=r.start,void 0===(n=r.end)&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if((n=(e=t.ownerDocument||document)&&e.defaultView||window).getSelection){n=n.getSelection();var o=t.textContent.length,i=Math.min(r.start,o);r=void 0===r.end?i:Math.min(r.end,o),!n.extend&&i>r&&(o=r,r=i,i=o),o=$n(t,i);var a=$n(t,r);o&&a&&(1!==n.rangeCount||n.anchorNode!==o.node||n.anchorOffset!==o.offset||n.focusNode!==a.node||n.focusOffset!==a.offset)&&((e=e.createRange()).setStart(o.node,o.offset),n.removeAllRanges(),i>r?(n.addRange(e),n.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),n.addRange(e)))}for(e=[],n=t;n=n.parentNode;)1===n.nodeType&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for("function"===typeof t.focus&&t.focus(),t=0;t<e.length;t++)(n=e[t]).element.scrollLeft=n.left,n.element.scrollTop=n.top}}var nr=nt&&"documentMode"in document&&11>=document.documentMode,rr=null,or=null,ir=null,ar=!1;function sr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ar||null==rr||rr!==pt(r)||("selectionStart"in(r=rr)&&er(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},ir&&Yn(ir,r)||(ir=r,0<(r=Lu(or,"onSelect")).length&&(t=new Jt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},ur={},dr={};function hr(e){if(ur[e])return ur[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in dr)return ur[e]=n[t];return e}nt&&(dr=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var pr=hr("animationend"),fr=hr("animationiteration"),mr=hr("animationstart"),gr=hr("transitionrun"),vr=hr("transitionstart"),yr=hr("transitioncancel"),br=hr("transitionend"),wr=new Map,Cr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function _r(e,t){wr.set(e,t),et(t,[e])}var xr=[],Sr=0,kr=0;function Ir(){for(var e=Sr,t=kr=Sr=0;t<e;){var n=xr[t];xr[t++]=null;var r=xr[t];xr[t++]=null;var o=xr[t];xr[t++]=null;var i=xr[t];if(xr[t++]=null,null!==r&&null!==o){var a=r.pending;null===a?o.next=o:(o.next=a.next,a.next=o),r.pending=o}0!==i&&Pr(n,o,i)}}function Er(e,t,n,r){xr[Sr++]=e,xr[Sr++]=t,xr[Sr++]=n,xr[Sr++]=r,kr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Tr(e,t,n,r){return Er(e,t,n,r),Ar(e)}function Rr(e,t){return Er(e,null,null,t),Ar(e)}function Pr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var o=!1,i=e.return;null!==i;)i.childLanes|=n,null!==(r=i.alternate)&&(r.childLanes|=n),22===i.tag&&(null===(e=i.stateNode)||1&e._visibility||(o=!0)),e=i,i=i.return;o&&null!==t&&3===e.tag&&(i=e.stateNode,o=31-we(n),null===(e=(i=i.hiddenUpdates)[o])?i[o]=[t]:e.push(t),t.lane=536870912|n)}function Ar(e){if(50<Tc)throw Tc=0,Rc=null,Error(a(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Dr={},Or=new WeakMap;function Nr(e,t){if("object"===typeof e&&null!==e){var n=Or.get(e);return void 0!==n?n:(t={value:e,source:t,stack:L(t)},Or.set(e,t),t)}return{value:e,source:t,stack:L(t)}}var Mr=[],Lr=0,Fr=null,Br=0,jr=[],zr=0,Vr=null,Ur=1,Hr="";function qr(e,t){Mr[Lr++]=Br,Mr[Lr++]=Fr,Fr=e,Br=t}function Wr(e,t,n){jr[zr++]=Ur,jr[zr++]=Hr,jr[zr++]=Vr,Vr=e;var r=Ur;e=Hr;var o=32-we(r)-1;r&=~(1<<o),n+=1;var i=32-we(t)+o;if(30<i){var a=o-o%5;i=(r&(1<<a)-1).toString(32),r>>=a,o-=a,Ur=1<<32-we(t)+o|n<<o|r,Hr=i+e}else Ur=1<<i|n<<o|r,Hr=e}function Gr(e){null!==e.return&&(qr(e,1),Wr(e,1,0))}function Kr(e){for(;e===Fr;)Fr=Mr[--Lr],Mr[Lr]=null,Br=Mr[--Lr],Mr[Lr]=null;for(;e===Vr;)Vr=jr[--zr],jr[zr]=null,Hr=jr[--zr],jr[zr]=null,Ur=jr[--zr],jr[zr]=null}var Qr=null,Yr=null,Xr=!1,$r=null,Jr=!1,Zr=Error(a(519));function eo(e){throw io(Nr(Error(a(418,"")),e)),Zr}function to(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Be]=e,t[je]=r,n){case"dialog":Ru("cancel",t),Ru("close",t);break;case"iframe":case"object":case"embed":Ru("load",t);break;case"video":case"audio":for(n=0;n<Iu.length;n++)Ru(Iu[n],t);break;case"source":Ru("error",t);break;case"img":case"image":case"link":Ru("error",t),Ru("load",t);break;case"details":Ru("toggle",t);break;case"input":Ru("invalid",t),vt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),dt(t);break;case"select":Ru("invalid",t);break;case"textarea":Ru("invalid",t),Ct(t,r.value,r.defaultValue,r.children),dt(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Uu(t.textContent,n)?(null!=r.popover&&(Ru("beforetoggle",t),Ru("toggle",t)),null!=r.onScroll&&Ru("scroll",t),null!=r.onScrollEnd&&Ru("scrollend",t),null!=r.onClick&&(t.onclick=Hu),t=!0):t=!1,t||eo(e)}function no(e){for(Qr=e.return;Qr;)switch(Qr.tag){case 3:case 27:return void(Jr=!0);case 5:case 13:return void(Jr=!1);default:Qr=Qr.return}}function ro(e){if(e!==Qr)return!1;if(!Xr)return no(e),Xr=!0,!1;var t,n=!1;if((t=3!==e.tag&&27!==e.tag)&&((t=5===e.tag)&&(t=!("form"!==(t=e.type)&&"button"!==t)||Ju(e.type,e.memoizedProps)),t=!t),t&&(n=!0),n&&Yr&&eo(e),no(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){Yr=sd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}Yr=null}}else Yr=Qr?sd(e.stateNode.nextSibling):null;return!0}function oo(){Yr=Qr=null,Xr=!1}function io(e){null===$r?$r=[e]:$r.push(e)}var ao=Error(a(460)),so=Error(a(474)),lo={then:function(){}};function co(e){return"fulfilled"===(e=e.status)||"rejected"===e}function uo(){}function ho(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(uo,uo),t=n),t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===ao)throw Error(a(483));throw e;default:if("string"===typeof t.status)t.then(uo,uo);else{if(null!==(e=tc)&&100<e.shellSuspendCounter)throw Error(a(482));(e=t).status="pending",e.then((function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}}),(function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}}))}switch(t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===ao)throw Error(a(483));throw e}throw po=t,ao}}var po=null;function fo(){if(null===po)throw Error(a(459));var e=po;return po=null,e}var mo=null,go=0;function vo(e){var t=go;return go+=1,null===mo&&(mo=[]),ho(mo,e,t)}function yo(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function bo(e,t){if(t.$$typeof===l)throw Error(a(525));throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function wo(e){return(0,e._init)(e._payload)}function Co(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function o(e,t){return(e=Fl(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=33554434,n):r:(t.flags|=33554434,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=33554434),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Ul(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function h(e,t,n,r){var i=n.type;return i===d?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===C&&wo(i)===t.type)?(yo(t=o(t,n.props),n),t.return=e,t):(yo(t=jl(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function p(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Hl(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function f(e,t,n,r,i){return null===t||7!==t.tag?((t=zl(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function m(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Ul(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case c:return yo(n=jl(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case u:return(t=Hl(t,e.mode,n)).return=e,t;case C:return m(e,t=(0,t._init)(t._payload),n)}if(V(t)||k(t))return(t=zl(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return m(e,vo(t),n);if(t.$$typeof===g)return m(e,Is(e,t),n);bo(e,t)}return null}function v(e,t,n,r){var o=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==o?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case c:return n.key===o?h(e,t,n,r):null;case u:return n.key===o?p(e,t,n,r):null;case C:return v(e,t,n=(o=n._init)(n._payload),r)}if(V(n)||k(n))return null!==o?null:f(e,t,n,r,null);if("function"===typeof n.then)return v(e,t,vo(n),r);if(n.$$typeof===g)return v(e,t,Is(e,n),r);bo(e,n)}return null}function y(e,t,n,r,o){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case c:return h(t,e=e.get(null===r.key?n:r.key)||null,r,o);case u:return p(t,e=e.get(null===r.key?n:r.key)||null,r,o);case C:return y(e,t,n,r=(0,r._init)(r._payload),o)}if(V(r)||k(r))return f(t,e=e.get(n)||null,r,o,null);if("function"===typeof r.then)return y(e,t,n,vo(r),o);if(r.$$typeof===g)return y(e,t,n,Is(t,r),o);bo(t,r)}return null}function b(l,h,p,f){if("object"===typeof p&&null!==p&&p.type===d&&null===p.key&&(p=p.props.children),"object"===typeof p&&null!==p){switch(p.$$typeof){case c:e:{for(var w=p.key;null!==h;){if(h.key===w){if((w=p.type)===d){if(7===h.tag){n(l,h.sibling),(f=o(h,p.props.children)).return=l,l=f;break e}}else if(h.elementType===w||"object"===typeof w&&null!==w&&w.$$typeof===C&&wo(w)===h.type){n(l,h.sibling),yo(f=o(h,p.props),p),f.return=l,l=f;break e}n(l,h);break}t(l,h),h=h.sibling}p.type===d?((f=zl(p.props.children,l.mode,f,p.key)).return=l,l=f):(yo(f=jl(p.type,p.key,p.props,null,l.mode,f),p),f.return=l,l=f)}return s(l);case u:e:{for(w=p.key;null!==h;){if(h.key===w){if(4===h.tag&&h.stateNode.containerInfo===p.containerInfo&&h.stateNode.implementation===p.implementation){n(l,h.sibling),(f=o(h,p.children||[])).return=l,l=f;break e}n(l,h);break}t(l,h),h=h.sibling}(f=Hl(p,l.mode,f)).return=l,l=f}return s(l);case C:return b(l,h,p=(w=p._init)(p._payload),f)}if(V(p))return function(o,a,s,l){for(var c=null,u=null,d=a,h=a=0,p=null;null!==d&&h<s.length;h++){d.index>h?(p=d,d=null):p=d.sibling;var f=v(o,d,s[h],l);if(null===f){null===d&&(d=p);break}e&&d&&null===f.alternate&&t(o,d),a=i(f,a,h),null===u?c=f:u.sibling=f,u=f,d=p}if(h===s.length)return n(o,d),Xr&&qr(o,h),c;if(null===d){for(;h<s.length;h++)null!==(d=m(o,s[h],l))&&(a=i(d,a,h),null===u?c=d:u.sibling=d,u=d);return Xr&&qr(o,h),c}for(d=r(d);h<s.length;h++)null!==(p=y(d,o,h,s[h],l))&&(e&&null!==p.alternate&&d.delete(null===p.key?h:p.key),a=i(p,a,h),null===u?c=p:u.sibling=p,u=p);return e&&d.forEach((function(e){return t(o,e)})),Xr&&qr(o,h),c}(l,h,p,f);if(k(p)){if("function"!==typeof(w=k(p)))throw Error(a(150));return function(o,s,l,c){if(null==l)throw Error(a(151));for(var u=null,d=null,h=s,p=s=0,f=null,g=l.next();null!==h&&!g.done;p++,g=l.next()){h.index>p?(f=h,h=null):f=h.sibling;var b=v(o,h,g.value,c);if(null===b){null===h&&(h=f);break}e&&h&&null===b.alternate&&t(o,h),s=i(b,s,p),null===d?u=b:d.sibling=b,d=b,h=f}if(g.done)return n(o,h),Xr&&qr(o,p),u;if(null===h){for(;!g.done;p++,g=l.next())null!==(g=m(o,g.value,c))&&(s=i(g,s,p),null===d?u=g:d.sibling=g,d=g);return Xr&&qr(o,p),u}for(h=r(h);!g.done;p++,g=l.next())null!==(g=y(h,o,p,g.value,c))&&(e&&null!==g.alternate&&h.delete(null===g.key?p:g.key),s=i(g,s,p),null===d?u=g:d.sibling=g,d=g);return e&&h.forEach((function(e){return t(o,e)})),Xr&&qr(o,p),u}(l,h,p=w.call(p),f)}if("function"===typeof p.then)return b(l,h,vo(p),f);if(p.$$typeof===g)return b(l,h,Is(l,p),f);bo(l,p)}return"string"===typeof p&&""!==p||"number"===typeof p||"bigint"===typeof p?(p=""+p,null!==h&&6===h.tag?(n(l,h.sibling),(f=o(h,p)).return=l,l=f):(n(l,h),(f=Ul(p,l.mode,f)).return=l,l=f),s(l)):n(l,h)}return function(e,t,n,r){try{go=0;var o=b(e,t,n,r);return mo=null,o}catch(a){if(a===ao)throw a;var i=Ml(29,a,null,e.mode);return i.lanes=r,i.return=e,i}}}var _o=Co(!0),xo=Co(!1),So=G(null),ko=G(0);function Io(e,t){Q(ko,e=cc),Q(So,t),cc=e|t.baseLanes}function Eo(){Q(ko,cc),Q(So,So.current)}function To(){cc=ko.current,K(So),K(ko)}var Ro=G(null),Po=null;function Ao(e){var t=e.alternate;Q(Mo,1&Mo.current),Q(Ro,e),null===Po&&(null===t||null!==So.current||null!==t.memoizedState)&&(Po=e)}function Do(e){if(22===e.tag){if(Q(Mo,Mo.current),Q(Ro,e),null===Po){var t=e.alternate;null!==t&&null!==t.memoizedState&&(Po=e)}}else Oo()}function Oo(){Q(Mo,Mo.current),Q(Ro,Ro.current)}function No(e){K(Ro),Po===e&&(Po=null),K(Mo)}var Mo=G(0);function Lo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fo="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach((function(e){return e()}))}},Bo=r.unstable_scheduleCallback,jo=r.unstable_NormalPriority,zo={$$typeof:g,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vo(){return{controller:new Fo,data:new Map,refCount:0}}function Uo(e){e.refCount--,0===e.refCount&&Bo(jo,(function(){e.controller.abort()}))}var Ho=null,qo=0,Wo=0,Go=null;function Ko(){if(0===--qo&&null!==Ho){null!==Go&&(Go.status="fulfilled");var e=Ho;Ho=null,Wo=0,Go=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Qo=P.S;P.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Ho){var n=Ho=[];qo=0,Wo=Cu(),Go={status:"pending",value:void 0,then:function(e){n.push(e)}}}qo++,t.then(Ko,Ko)}(0,t),null!==Qo&&Qo(e,t)};var Yo=G(null);function Xo(){var e=Yo.current;return null!==e?e:tc.pooledCache}function $o(e,t){Q(Yo,null===t?Yo.current:t.pool)}function Jo(){var e=Xo();return null===e?null:{parent:zo._currentValue,pool:e}}var Zo=0,ei=null,ti=null,ni=null,ri=!1,oi=!1,ii=!1,ai=0,si=0,li=null,ci=0;function ui(){throw Error(a(321))}function di(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Qn(e[n],t[n]))return!1;return!0}function hi(e,t,n,r,o,i){return Zo=i,ei=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,P.H=null===e||null===e.memoizedState?Ia:Ea,ii=!1,i=n(r,o),ii=!1,oi&&(i=fi(t,n,r,o)),pi(e),i}function pi(e){P.H=ka;var t=null!==ti&&null!==ti.next;if(Zo=0,ni=ti=ei=null,ri=!1,si=0,li=null,t)throw Error(a(300));null===e||qa||null!==(e=e.dependencies)&&xs(e)&&(qa=!0)}function fi(e,t,n,r){ei=e;var o=0;do{if(oi&&(li=null),si=0,oi=!1,25<=o)throw Error(a(301));if(o+=1,ni=ti=null,null!=e.updateQueue){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,null!=i.memoCache&&(i.memoCache.index=0)}P.H=Ta,i=t(n,r)}while(oi);return i}function mi(){var e=P.H,t=e.useState()[0];return t="function"===typeof t.then?Ci(t):t,e=e.useState()[0],(null!==ti?ti.memoizedState:null)!==e&&(ei.flags|=1024),t}function gi(){var e=0!==ai;return ai=0,e}function vi(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function yi(e){if(ri){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}ri=!1}Zo=0,ni=ti=ei=null,oi=!1,si=ai=0,li=null}function bi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ni?ei.memoizedState=ni=e:ni=ni.next=e,ni}function wi(){if(null===ti){var e=ei.alternate;e=null!==e?e.memoizedState:null}else e=ti.next;var t=null===ni?ei.memoizedState:ni.next;if(null!==t)ni=t,ti=e;else{if(null===e){if(null===ei.alternate)throw Error(a(467));throw Error(a(310))}e={memoizedState:(ti=e).memoizedState,baseState:ti.baseState,baseQueue:ti.baseQueue,queue:ti.queue,next:null},null===ni?ei.memoizedState=ni=e:ni=ni.next=e}return ni}function Ci(e){var t=si;return si+=1,null===li&&(li=[]),e=ho(li,e,t),t=ei,null===(null===ni?t.memoizedState:ni.next)&&(t=t.alternate,P.H=null===t||null===t.memoizedState?Ia:Ea),e}function _i(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Ci(e);if(e.$$typeof===g)return ks(e)}throw Error(a(438,String(e)))}function xi(e){var t=null,n=ei.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=ei.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map((function(e){return e.slice()})),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},ei.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=x;return t.index++,n}function Si(e,t){return"function"===typeof t?t(e):t}function ki(e){return Ii(wi(),ti,e)}function Ii(e,t,n){var r=e.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=n;var o=e.baseQueue,i=r.pending;if(null!==i){if(null!==o){var s=o.next;o.next=i.next,i.next=s}t.baseQueue=o=i,r.pending=null}if(i=e.baseState,null===o)e.memoizedState=i;else{var l=s=null,c=null,u=t=o.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(rc&h)===h:(Zo&h)===h){var p=u.revertLane;if(0===p)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Wo&&(d=!0);else{if((Zo&p)===p){u=u.next,p===Wo&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,s=i):c=c.next=h,ei.lanes|=p,dc|=p}h=u.action,ii&&n(i,h),i=u.hasEagerState?u.eagerState:n(i,h)}else p={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=p,s=i):c=c.next=p,ei.lanes|=h,dc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?s=i:c.next=l,!Qn(i,e.memoizedState)&&(qa=!0,d&&null!==(n=Go)))throw n;e.memoizedState=i,e.baseState=s,e.baseQueue=c,r.lastRenderedState=i}return null===o&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Ei(e){var t=wi(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(null!==o){n.pending=null;var s=o=o.next;do{i=e(i,s.action),s=s.next}while(s!==o);Qn(i,t.memoizedState)||(qa=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Ti(e,t,n){var r=ei,o=wi(),i=Xr;if(i){if(void 0===n)throw Error(a(407));n=n()}else n=t();var s=!Qn((ti||o).memoizedState,n);if(s&&(o.memoizedState=n,qa=!0),o=o.queue,Zi(Ai.bind(null,r,o,e),[e]),o.getSnapshot!==t||s||null!==ni&&1&ni.memoizedState.tag){if(r.flags|=2048,Qi(9,Pi.bind(null,r,o,n,t),{destroy:void 0},null),null===tc)throw Error(a(349));i||0!==(60&Zo)||Ri(r,t,n)}return n}function Ri(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ei.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},ei.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Pi(e,t,n,r){t.value=n,t.getSnapshot=r,Di(t)&&Oi(e)}function Ai(e,t,n){return n((function(){Di(t)&&Oi(e)}))}function Di(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Qn(e,n)}catch(r){return!0}}function Oi(e){var t=Rr(e,2);null!==t&&Dc(t,e,2)}function Ni(e){var t=bi();if("function"===typeof e){var n=e;if(e=n(),ii){be(!0);try{n()}finally{be(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:e},t}function Mi(e,t,n,r){return e.baseState=n,Ii(e,ti,"function"===typeof r?r:Si)}function Li(e,t,n,r,o){if(_a(e))throw Error(a(485));if(null!==(e=t.action)){var i={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){i.listeners.push(e)}};null!==P.T?n(!0):i.isTransition=!1,r(i),null===(n=t.pending)?(i.next=t.pending=i,Fi(t,i)):(i.next=n.next,t.pending=n.next=i)}}function Fi(e,t){var n=t.action,r=t.payload,o=e.state;if(t.isTransition){var i=P.T,a={};P.T=a;try{var s=n(o,r),l=P.S;null!==l&&l(a,s),Bi(e,t,s)}catch(c){zi(e,t,c)}finally{P.T=i}}else try{Bi(e,t,i=n(o,r))}catch(u){zi(e,t,u)}}function Bi(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then((function(n){ji(e,t,n)}),(function(n){return zi(e,t,n)})):ji(e,t,n)}function ji(e,t,n){t.status="fulfilled",t.value=n,Vi(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Fi(e,n)))}function zi(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Vi(t),t=t.next}while(t!==r)}e.action=null}function Vi(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ui(e,t){return t}function Hi(e,t){if(Xr){var n=tc.formState;if(null!==n){e:{var r=ei;if(Xr){if(Yr){t:{for(var o=Yr,i=Jr;8!==o.nodeType;){if(!i){o=null;break t}if(null===(o=sd(o.nextSibling))){o=null;break t}}o="F!"===(i=o.data)||"F"===i?o:null}if(o){Yr=sd(o.nextSibling),r="F!"===o.data;break e}}eo(r)}r=!1}r&&(t=n[0])}}return(n=bi()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:t},n.queue=r,n=ba.bind(null,ei,r),r.dispatch=n,r=Ni(!1),i=Ca.bind(null,ei,!1,r.queue),o={state:t,dispatch:null,action:e,pending:null},(r=bi()).queue=o,n=Li.bind(null,ei,o,i,n),o.dispatch=n,r.memoizedState=e,[t,n,!1]}function qi(e){return Wi(wi(),ti,e)}function Wi(e,t,n){t=Ii(e,t,Ui)[0],e=ki(Si)[0],t="object"===typeof t&&null!==t&&"function"===typeof t.then?Ci(t):t;var r=wi(),o=r.queue,i=o.dispatch;return n!==r.memoizedState&&(ei.flags|=2048,Qi(9,Gi.bind(null,o,n),{destroy:void 0},null)),[t,i,e]}function Gi(e,t){e.action=t}function Ki(e){var t=wi(),n=ti;if(null!==n)return Wi(t,n,e);wi(),t=t.memoizedState;var r=(n=wi()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Qi(e,t,n,r){return e={tag:e,create:t,inst:n,deps:r,next:null},null===(t=ei.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},ei.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Yi(){return wi().memoizedState}function Xi(e,t,n,r){var o=bi();ei.flags|=e,o.memoizedState=Qi(1|t,n,{destroy:void 0},void 0===r?null:r)}function $i(e,t,n,r){var o=wi();r=void 0===r?null:r;var i=o.memoizedState.inst;null!==ti&&null!==r&&di(r,ti.memoizedState.deps)?o.memoizedState=Qi(t,n,i,r):(ei.flags|=e,o.memoizedState=Qi(1|t,n,i,r))}function Ji(e,t){Xi(8390656,8,e,t)}function Zi(e,t){$i(2048,8,e,t)}function ea(e,t){return $i(4,2,e,t)}function ta(e,t){return $i(4,4,e,t)}function na(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function ra(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,$i(4,4,na.bind(null,t,e),n)}function oa(){}function ia(e,t){var n=wi();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&di(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function aa(e,t){var n=wi();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&di(t,r[1]))return r[0];if(r=e(),ii){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r}function sa(e,t,n){return void 0===n||0!==(1073741824&Zo)?e.memoizedState=t:(e.memoizedState=n,e=Ac(),ei.lanes|=e,dc|=e,n)}function la(e,t,n,r){return Qn(n,t)?n:null!==So.current?(e=sa(e,n,r),Qn(e,t)||(qa=!0),e):0===(42&Zo)?(qa=!0,e.memoizedState=n):(e=Ac(),ei.lanes|=e,dc|=e,t)}function ca(e,t,n,r,o){var i=U.p;U.p=0!==i&&8>i?i:8;var a=P.T,s={};P.T=s,Ca(e,!1,t,n);try{var l=o(),c=P.S;if(null!==c&&c(s,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)wa(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then((function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)}),(function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)})),r}(l,r),Pc());else wa(e,t,r,Pc())}catch(u){wa(e,t,{then:function(){},status:"rejected",reason:u},Pc())}finally{U.p=i,P.T=a}}function ua(){}function da(e,t,n,r){if(5!==e.tag)throw Error(a(476));var o=ha(e).queue;ca(e,o,t,H,null===n?ua:function(){return pa(e),n(r)})}function ha(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:H,baseState:H,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:H},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function pa(e){wa(e,ha(e).next.queue,{},Pc())}function fa(){return ks(Ld)}function ma(){return wi().memoizedState}function ga(){return wi().memoizedState}function va(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Pc(),r=Ds(t,e=As(n),n);return null!==r&&(Dc(r,t,n),Os(r,t,n)),t={cache:Vo()},void(e.payload=t)}t=t.return}}function ya(e,t,n){var r=Pc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},_a(e)?xa(t,n):null!==(n=Tr(e,t,n,r))&&(Dc(n,e,r),Sa(n,t,r))}function ba(e,t,n){wa(e,t,n,Pc())}function wa(e,t,n,r){var o={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(_a(e))xa(t,o);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=i(a,n);if(o.hasEagerState=!0,o.eagerState=s,Qn(s,a))return Er(e,t,o,0),null===tc&&Ir(),!1}catch(l){}if(null!==(n=Tr(e,t,o,r)))return Dc(n,e,r),Sa(n,t,r),!0}return!1}function Ca(e,t,n,r){if(r={lane:2,revertLane:Cu(),action:r,hasEagerState:!1,eagerState:null,next:null},_a(e)){if(t)throw Error(a(479))}else null!==(t=Tr(e,n,r,2))&&Dc(t,e,2)}function _a(e){var t=e.alternate;return e===ei||null!==t&&t===ei}function xa(e,t){oi=ri=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Sa(e,t,n){if(0!==(4194176&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ne(e,n)}}var ka={readContext:ks,use:_i,useCallback:ui,useContext:ui,useEffect:ui,useImperativeHandle:ui,useLayoutEffect:ui,useInsertionEffect:ui,useMemo:ui,useReducer:ui,useRef:ui,useState:ui,useDebugValue:ui,useDeferredValue:ui,useTransition:ui,useSyncExternalStore:ui,useId:ui};ka.useCacheRefresh=ui,ka.useMemoCache=ui,ka.useHostTransitionStatus=ui,ka.useFormState=ui,ka.useActionState=ui,ka.useOptimistic=ui;var Ia={readContext:ks,use:_i,useCallback:function(e,t){return bi().memoizedState=[e,void 0===t?null:t],e},useContext:ks,useEffect:Ji,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Xi(4194308,4,na.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Xi(4194308,4,e,t)},useInsertionEffect:function(e,t){Xi(4,2,e,t)},useMemo:function(e,t){var n=bi();t=void 0===t?null:t;var r=e();if(ii){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=bi();if(void 0!==n){var o=n(t);if(ii){be(!0);try{n(t)}finally{be(!1)}}}else o=t;return r.memoizedState=r.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},r.queue=e,e=e.dispatch=ya.bind(null,ei,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},bi().memoizedState=e},useState:function(e){var t=(e=Ni(e)).queue,n=ba.bind(null,ei,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:oa,useDeferredValue:function(e,t){return sa(bi(),e,t)},useTransition:function(){var e=Ni(!1);return e=ca.bind(null,ei,e.queue,!0,!1),bi().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=ei,o=bi();if(Xr){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===tc)throw Error(a(349));0!==(60&rc)||Ri(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,Ji(Ai.bind(null,r,i,e),[e]),r.flags|=2048,Qi(9,Pi.bind(null,r,i,n,t),{destroy:void 0},null),n},useId:function(){var e=bi(),t=tc.identifierPrefix;if(Xr){var n=Hr;t=":"+t+"R"+(n=(Ur&~(1<<32-we(Ur)-1)).toString(32)+n),0<(n=ai++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ci++).toString(32)+":";return e.memoizedState=t},useCacheRefresh:function(){return bi().memoizedState=va.bind(null,ei)}};Ia.useMemoCache=xi,Ia.useHostTransitionStatus=fa,Ia.useFormState=Hi,Ia.useActionState=Hi,Ia.useOptimistic=function(e){var t=bi();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Ca.bind(null,ei,!0,n),n.dispatch=t,[e,t]};var Ea={readContext:ks,use:_i,useCallback:ia,useContext:ks,useEffect:Zi,useImperativeHandle:ra,useInsertionEffect:ea,useLayoutEffect:ta,useMemo:aa,useReducer:ki,useRef:Yi,useState:function(){return ki(Si)},useDebugValue:oa,useDeferredValue:function(e,t){return la(wi(),ti.memoizedState,e,t)},useTransition:function(){var e=ki(Si)[0],t=wi().memoizedState;return["boolean"===typeof e?e:Ci(e),t]},useSyncExternalStore:Ti,useId:ma};Ea.useCacheRefresh=ga,Ea.useMemoCache=xi,Ea.useHostTransitionStatus=fa,Ea.useFormState=qi,Ea.useActionState=qi,Ea.useOptimistic=function(e,t){return Mi(wi(),0,e,t)};var Ta={readContext:ks,use:_i,useCallback:ia,useContext:ks,useEffect:Zi,useImperativeHandle:ra,useInsertionEffect:ea,useLayoutEffect:ta,useMemo:aa,useReducer:Ei,useRef:Yi,useState:function(){return Ei(Si)},useDebugValue:oa,useDeferredValue:function(e,t){var n=wi();return null===ti?sa(n,e,t):la(n,ti.memoizedState,e,t)},useTransition:function(){var e=Ei(Si)[0],t=wi().memoizedState;return["boolean"===typeof e?e:Ci(e),t]},useSyncExternalStore:Ti,useId:ma};function Ra(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:A({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}Ta.useCacheRefresh=ga,Ta.useMemoCache=xi,Ta.useHostTransitionStatus=fa,Ta.useFormState=Ki,Ta.useActionState=Ki,Ta.useOptimistic=function(e,t){var n=wi();return null!==ti?Mi(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])};var Pa={isMounted:function(e){return!!(e=e._reactInternals)&&F(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Pc(),o=As(r);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Ds(e,o,r))&&(Dc(t,e,r),Os(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Pc(),o=As(r);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Ds(e,o,r))&&(Dc(t,e,r),Os(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Pc(),r=As(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=Ds(e,r,n))&&(Dc(t,e,n),Os(t,e,n))}};function Aa(e,t,n,r,o,i,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!Yn(n,r)||!Yn(o,i))}function Da(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Pa.enqueueReplaceState(t,t.state,null)}function Oa(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var o in n===t&&(n=A({},n)),e)void 0===n[o]&&(n[o]=e[o]);return n}var Na="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function Ma(e){Na(e)}function La(e){console.error(e)}function Fa(e){Na(e)}function Ba(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout((function(){throw n}))}}function ja(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout((function(){throw r}))}}function za(e,t,n){return(n=As(n)).tag=3,n.payload={element:null},n.callback=function(){Ba(e,t)},n}function Va(e){return(e=As(e)).tag=3,e}function Ua(e,t,n,r){var o=n.type.getDerivedStateFromError;if("function"===typeof o){var i=r.value;e.payload=function(){return o(i)},e.callback=function(){ja(t,n,r)}}var a=n.stateNode;null!==a&&"function"===typeof a.componentDidCatch&&(e.callback=function(){ja(t,n,r),"function"!==typeof o&&(null===_c?_c=new Set([this]):_c.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Ha=Error(a(461)),qa=!1;function Wa(e,t,n,r){t.child=null===e?xo(t,null,n,r):_o(t,e.child,n,r)}function Ga(e,t,n,r,o){n=n.render;var i=t.ref;if("ref"in r){var a={};for(var s in r)"ref"!==s&&(a[s]=r[s])}else a=r;return Ss(t),r=hi(e,t,n,a,i,o),s=gi(),null===e||qa?(Xr&&s&&Gr(t),t.flags|=1,Wa(e,t,r,o),t.child):(vi(e,t,o),hs(e,t,o))}function Ka(e,t,n,r,o){if(null===e){var i=n.type;return"function"!==typeof i||Ll(i)||void 0!==i.defaultProps||null!==n.compare?((e=jl(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Qa(e,t,i,r,o))}if(i=e.child,!ps(e,o)){var a=i.memoizedProps;if((n=null!==(n=n.compare)?n:Yn)(a,r)&&e.ref===t.ref)return hs(e,t,o)}return t.flags|=1,(e=Fl(i,r)).ref=t.ref,e.return=t,t.child=e}function Qa(e,t,n,r,o){if(null!==e){var i=e.memoizedProps;if(Yn(i,r)&&e.ref===t.ref){if(qa=!1,t.pendingProps=r=i,!ps(e,o))return t.lanes=e.lanes,hs(e,t,o);0!==(131072&e.flags)&&(qa=!0)}}return Ja(e,t,n,r,o)}function Ya(e,t,n){var r=t.pendingProps,o=r.children,i=0!==(2&t.stateNode._pendingVisibility),a=null!==e?e.memoizedState:null;if($a(e,t),"hidden"===r.mode||i){if(0!==(128&t.flags)){if(r=null!==a?a.baseLanes|n:n,null!==e){for(o=t.child=e.child,i=0;null!==o;)i=i|o.lanes|o.childLanes,o=o.sibling;t.childLanes=i&~r}else t.childLanes=0,t.child=null;return Xa(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Xa(e,t,null!==a?a.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&$o(0,null!==a?a.cachePool:null),null!==a?Io(t,a):Eo(),Do(t)}else null!==a?($o(0,a.cachePool),Io(t,a),Oo(),t.memoizedState=null):(null!==e&&$o(0,null),Eo(),Oo());return Wa(e,t,o,n),t.child}function Xa(e,t,n,r){var o=Xo();return o=null===o?null:{parent:zo._currentValue,pool:o},t.memoizedState={baseLanes:n,cachePool:o},null!==e&&$o(0,null),Eo(),Do(t),null!==e&&_s(e,t,r,!0),null}function $a(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=2097664);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(a(284));null!==e&&e.ref===n||(t.flags|=2097664)}}function Ja(e,t,n,r,o){return Ss(t),n=hi(e,t,n,r,void 0,o),r=gi(),null===e||qa?(Xr&&r&&Gr(t),t.flags|=1,Wa(e,t,n,o),t.child):(vi(e,t,o),hs(e,t,o))}function Za(e,t,n,r,o,i){return Ss(t),t.updateQueue=null,n=fi(t,r,n,o),pi(e),r=gi(),null===e||qa?(Xr&&r&&Gr(t),t.flags|=1,Wa(e,t,n,i),t.child):(vi(e,t,i),hs(e,t,i))}function es(e,t,n,r,o){if(Ss(t),null===t.stateNode){var i=Dr,a=n.contextType;"object"===typeof a&&null!==a&&(i=ks(a)),i=new n(r,i),t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,i.updater=Pa,t.stateNode=i,i._reactInternals=t,(i=t.stateNode).props=r,i.state=t.memoizedState,i.refs={},Rs(t),a=n.contextType,i.context="object"===typeof a&&null!==a?ks(a):Dr,i.state=t.memoizedState,"function"===typeof(a=n.getDerivedStateFromProps)&&(Ra(t,n,a,r),i.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(a=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),a!==i.state&&Pa.enqueueReplaceState(i,i.state,null),Fs(t,r,i,o),Ls(),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){i=t.stateNode;var s=t.memoizedProps,l=Oa(n,s);i.props=l;var c=i.context,u=n.contextType;a=Dr,"object"===typeof u&&null!==u&&(a=ks(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof i.getSnapshotBeforeUpdate,s=t.pendingProps!==s,u||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s||c!==a)&&Da(t,i,r,a),Ts=!1;var h=t.memoizedState;i.state=h,Fs(t,r,i,o),Ls(),c=t.memoizedState,s||h!==c||Ts?("function"===typeof d&&(Ra(t,n,d,r),c=t.memoizedState),(l=Ts||Aa(t,n,l,r,h,c,a))?(u||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=a,r=l):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Ps(e,t),u=Oa(n,a=t.memoizedProps),i.props=u,d=t.pendingProps,h=i.context,c=n.contextType,l=Dr,"object"===typeof c&&null!==c&&(l=ks(c)),(c="function"===typeof(s=n.getDerivedStateFromProps)||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(a!==d||h!==l)&&Da(t,i,r,l),Ts=!1,h=t.memoizedState,i.state=h,Fs(t,r,i,o),Ls();var p=t.memoizedState;a!==d||h!==p||Ts||null!==e&&null!==e.dependencies&&xs(e.dependencies)?("function"===typeof s&&(Ra(t,n,s,r),p=t.memoizedState),(u=Ts||Aa(t,n,u,r,h,p,l)||null!==e&&null!==e.dependencies&&xs(e.dependencies))?(c||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,p,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),i.props=r,i.state=p,i.context=l,r=u):("function"!==typeof i.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return i=r,$a(e,t),r=0!==(128&t.flags),i||r?(i=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:i.render(),t.flags|=1,null!==e&&r?(t.child=_o(t,e.child,null,o),t.child=_o(t,null,n,o)):Wa(e,t,n,o),t.memoizedState=i.state,e=t.child):e=hs(e,t,o),e}function ts(e,t,n,r){return oo(),t.flags|=256,Wa(e,t,n,r),t.child}var ns={dehydrated:null,treeContext:null,retryLane:0};function rs(e){return{baseLanes:e,cachePool:Jo()}}function os(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=fc),e}function is(e,t,n){var r,o=t.pendingProps,i=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&Mo.current)),r&&(i=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(Xr){if(i?Ao(t):Oo(),Xr){var l,c=Yr;if(l=c){e:{for(l=c,c=Jr;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=sd(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Vr?{id:Ur,overflow:Hr}:null,retryLane:536870912},(l=Ml(18,null,null,0)).stateNode=c,l.return=t,t.child=l,Qr=t,Yr=null,l=!0):l=!1}l||eo(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return"$!"===c.data?t.lanes=16:t.lanes=536870912,null;No(t)}return c=o.children,o=o.fallback,i?(Oo(),c=ss({mode:"hidden",children:c},i=t.mode),o=zl(o,i,n,null),c.return=t,o.return=t,c.sibling=o,t.child=c,(i=t.child).memoizedState=rs(n),i.childLanes=os(e,r,n),t.memoizedState=ns,o):(Ao(t),as(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(s)256&t.flags?(Ao(t),t.flags&=-257,t=ls(e,t,n)):null!==t.memoizedState?(Oo(),t.child=e.child,t.flags|=128,t=null):(Oo(),i=o.fallback,c=t.mode,o=ss({mode:"visible",children:o.children},c),(i=zl(i,c,n,null)).flags|=2,o.return=t,i.return=t,o.sibling=i,t.child=o,_o(t,e.child,null,n),(o=t.child).memoizedState=rs(n),o.childLanes=os(e,r,n),t.memoizedState=ns,t=i);else if(Ao(t),"$!"===c.data){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(o=Error(a(419))).stack="",o.digest=r,io({value:o,source:null,stack:null}),t=ls(e,t,n)}else if(qa||_s(e,t,n,!1),r=0!==(n&e.childLanes),qa||r){if(null!==(r=tc)){if(0!==(42&(o=n&-n)))o=1;else switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=64;break;case 268435456:o=134217728;break;default:o=0}if(0!==(o=0!==(o&(r.suspendedLanes|n))?0:o)&&o!==l.retryLane)throw l.retryLane=o,Rr(e,o),Dc(r,e,o),Ha}"$?"===c.data||qc(),t=ls(e,t,n)}else"$?"===c.data?(t.flags|=128,t.child=e.child,t=su.bind(null,e),c._reactRetry=t,t=null):(e=l.treeContext,Yr=sd(c.nextSibling),Qr=t,Xr=!0,$r=null,Jr=!1,null!==e&&(jr[zr++]=Ur,jr[zr++]=Hr,jr[zr++]=Vr,Ur=e.id,Hr=e.overflow,Vr=t),(t=as(t,o.children)).flags|=4096);return t}return i?(Oo(),i=o.fallback,c=t.mode,u=(l=e.child).sibling,(o=Fl(l,{mode:"hidden",children:o.children})).subtreeFlags=31457280&l.subtreeFlags,null!==u?i=Fl(u,i):(i=zl(i,c,n,null)).flags|=2,i.return=t,o.return=t,o.sibling=i,t.child=o,o=i,i=t.child,null===(c=e.child.memoizedState)?c=rs(n):(null!==(l=c.cachePool)?(u=zo._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Jo(),c={baseLanes:c.baseLanes|n,cachePool:l}),i.memoizedState=c,i.childLanes=os(e,r,n),t.memoizedState=ns,o):(Ao(t),e=(n=e.child).sibling,(n=Fl(n,{mode:"visible",children:o.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function as(e,t){return(t=ss({mode:"visible",children:t},e.mode)).return=e,e.child=t}function ss(e,t){return Vl(e,t,0,null)}function ls(e,t,n){return _o(t,e.child,null,n),(e=as(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function cs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ws(e.return,t,n)}function us(e,t,n,r,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function ds(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(Wa(e,t,r.children,n),0!==(2&(r=Mo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&cs(e,n,t);else if(19===e.tag)cs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(Q(Mo,r),o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===Lo(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),us(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===Lo(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}us(t,!0,n,null,i);break;case"together":us(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),dc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(_s(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Fl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Fl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function ps(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!xs(e))}function fs(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)qa=!0;else{if(!ps(e,n)&&0===(128&t.flags))return qa=!1,function(e,t,n){switch(t.tag){case 3:Z(t,t.stateNode.containerInfo),ys(t,zo,e.memoizedState.cache),oo();break;case 27:case 5:te(t);break;case 4:Z(t,t.stateNode.containerInfo);break;case 10:ys(t,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Ao(t),t.flags|=128,null):0!==(n&t.child.childLanes)?is(e,t,n):(Ao(t),null!==(e=hs(e,t,n))?e.sibling:null);Ao(t);break;case 19:var o=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(_s(e,t,n,!1),r=0!==(n&t.childLanes)),o){if(r)return ds(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),Q(Mo,Mo.current),r)break;return null;case 22:case 23:return t.lanes=0,Ya(e,t,n);case 24:ys(t,zo,e.memoizedState.cache)}return hs(e,t,n)}(e,t,n);qa=0!==(131072&e.flags)}else qa=!1,Xr&&0!==(1048576&t.flags)&&Wr(t,Br,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,o=r._init;if(r=o(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((o=r.$$typeof)===v){t.tag=11,t=Ga(null,t,r,e,n);break e}if(o===w){t.tag=14,t=Ka(null,t,r,e,n);break e}}throw t=E(r)||r,Error(a(306,t,""))}Ll(r)?(e=Oa(r,e),t.tag=1,t=es(null,t,r,e,n)):(t.tag=0,t=Ja(null,t,r,e,n))}return t;case 0:return Ja(e,t,t.type,t.pendingProps,n);case 1:return es(e,t,r=t.type,o=Oa(r,t.pendingProps),n);case 3:e:{if(Z(t,t.stateNode.containerInfo),null===e)throw Error(a(387));var i=t.pendingProps;r=(o=t.memoizedState).element,Ps(e,t),Fs(t,i,null,n);var s=t.memoizedState;if(i=s.cache,ys(t,zo,i),i!==o.cache&&Cs(t,[zo],n,!0),Ls(),i=s.element,o.isDehydrated){if(o={element:i,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=ts(e,t,i,n);break e}if(i!==r){io(r=Nr(Error(a(424)),t)),t=ts(e,t,i,n);break e}for(Yr=sd(t.stateNode.containerInfo.firstChild),Qr=t,Xr=!0,$r=null,Jr=!0,n=xo(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(oo(),i===r){t=hs(e,t,n);break e}Wa(e,t,i,n)}t=t.child}return t;case 26:return $a(e,t),null===e?(n=gd(t.type,null,t.pendingProps,null))?t.memoizedState=n:Xr||(n=t.type,e=t.pendingProps,(r=Yu($.current).createElement(n))[Be]=t,r[je]=e,Gu(r,n,e),$e(r),t.stateNode=r):t.memoizedState=gd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return te(t),null===e&&Xr&&(r=t.stateNode=cd(t.type,t.pendingProps,$.current),Qr=t,Jr=!0,Yr=sd(r.firstChild)),r=t.pendingProps.children,null!==e||Xr?Wa(e,t,r,n):t.child=_o(t,null,r,n),$a(e,t),t.child;case 5:return null===e&&Xr&&((o=r=Yr)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var o=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[We])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(i=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(i!==o.rel||e.getAttribute("href")!==(null==o.href?null:o.href)||e.getAttribute("crossorigin")!==(null==o.crossOrigin?null:o.crossOrigin)||e.getAttribute("title")!==(null==o.title?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((i=e.getAttribute("src"))!==(null==o.src?null:o.src)||e.getAttribute("type")!==(null==o.type?null:o.type)||e.getAttribute("crossorigin")!==(null==o.crossOrigin?null:o.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var i=null==o.name?null:""+o.name;if("hidden"===o.type&&e.getAttribute("name")===i)return e}if(null===(e=sd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,Jr))?(t.stateNode=r,Qr=t,Yr=sd(r.firstChild),Jr=!1,o=!0):o=!1),o||eo(t)),te(t),o=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,r=i.children,Ju(o,i)?r=null:null!==s&&Ju(o,s)&&(t.flags|=32),null!==t.memoizedState&&(o=hi(e,t,mi,null,null,n),Ld._currentValue=o),$a(e,t),Wa(e,t,r,n),t.child;case 6:return null===e&&Xr&&((e=n=Yr)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=sd(e.nextSibling)))return null}return e}(n,t.pendingProps,Jr))?(t.stateNode=n,Qr=t,Yr=null,e=!0):e=!1),e||eo(t)),null;case 13:return is(e,t,n);case 4:return Z(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=_o(t,null,r,n):Wa(e,t,r,n),t.child;case 11:return Ga(e,t,t.type,t.pendingProps,n);case 7:return Wa(e,t,t.pendingProps,n),t.child;case 8:case 12:return Wa(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,ys(t,t.type,r.value),Wa(e,t,r.children,n),t.child;case 9:return o=t.type._context,r=t.pendingProps.children,Ss(t),r=r(o=ks(o)),t.flags|=1,Wa(e,t,r,n),t.child;case 14:return Ka(e,t,t.type,t.pendingProps,n);case 15:return Qa(e,t,t.type,t.pendingProps,n);case 19:return ds(e,t,n);case 22:return Ya(e,t,n);case 24:return Ss(t),r=ks(zo),null===e?(null===(o=Xo())&&(o=tc,i=Vo(),o.pooledCache=i,i.refCount++,null!==i&&(o.pooledCacheLanes|=n),o=i),t.memoizedState={parent:r,cache:o},Rs(t),ys(t,zo,o)):(0!==(e.lanes&n)&&(Ps(e,t),Fs(t,null,null,n),Ls()),o=e.memoizedState,i=t.memoizedState,o.parent!==r?(o={parent:r,cache:r},t.memoizedState=o,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=o),ys(t,zo,r)):(r=i.cache,ys(t,zo,r),r!==o.cache&&Cs(t,[zo],n,!0))),Wa(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}var ms=G(null),gs=null,vs=null;function ys(e,t,n){Q(ms,t._currentValue),t._currentValue=n}function bs(e){e._currentValue=ms.current,K(ms)}function ws(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Cs(e,t,n,r){var o=e.child;for(null!==o&&(o.return=e);null!==o;){var i=o.dependencies;if(null!==i){var s=o.child;i=i.firstContext;e:for(;null!==i;){var l=i;i=o;for(var c=0;c<t.length;c++)if(l.context===t[c]){i.lanes|=n,null!==(l=i.alternate)&&(l.lanes|=n),ws(i.return,n,e),r||(s=null);break e}i=l.next}}else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(i=s.alternate)&&(i.lanes|=n),ws(s,n,e),s=null}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===e){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}}function _s(e,t,n,r){e=null;for(var o=t,i=!1;null!==o;){if(!i)if(0!==(524288&o.flags))i=!0;else if(0!==(262144&o.flags))break;if(10===o.tag){var s=o.alternate;if(null===s)throw Error(a(387));if(null!==(s=s.memoizedProps)){var l=o.type;Qn(o.pendingProps.value,s.value)||(null!==e?e.push(l):e=[l])}}else if(o===J.current){if(null===(s=o.alternate))throw Error(a(387));s.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(null!==e?e.push(Ld):e=[Ld])}o=o.return}null!==e&&Cs(t,e,n,r),t.flags|=262144}function xs(e){for(e=e.firstContext;null!==e;){if(!Qn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ss(e){gs=e,vs=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function ks(e){return Es(gs,e)}function Is(e,t){return null===gs&&Ss(e),Es(e,t)}function Es(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===vs){if(null===e)throw Error(a(308));vs=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else vs=vs.next=t;return n}var Ts=!1;function Rs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ps(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function As(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ds(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&ec)){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,t=Ar(e),Pr(e,null,n),t}return Er(e,r,t,n),Ar(e)}function Os(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194176&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ne(e,n)}}function Ns(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===i?o=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Ms=!1;function Ls(){if(Ms){if(null!==Go)throw Go}}function Fs(e,t,n,r){Ms=!1;var o=e.updateQueue;Ts=!1;var i=o.firstBaseUpdate,a=o.lastBaseUpdate,s=o.shared.pending;if(null!==s){o.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?i=c:a.next=c,a=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==i){var d=o.baseState;for(a=0,u=c=l=null,s=i;;){var h=-536870913&s.lane,p=h!==s.lane;if(p?(rc&h)===h:(r&h)===h){0!==h&&h===Wo&&(Ms=!0),null!==u&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var f=e,m=s;h=t;var g=n;switch(m.tag){case 1:if("function"===typeof(f=m.payload)){d=f.call(g,d,h);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(h="function"===typeof(f=m.payload)?f.call(g,d,h):f)||void 0===h)break e;d=A({},d,h);break e;case 2:Ts=!0}}null!==(h=s.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=o.callbacks)?o.callbacks=[h]:p.push(h))}else p={lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,a|=h;if(null===(s=s.next)){if(null===(s=o.shared.pending))break;s=(p=s).next,p.next=null,o.lastBaseUpdate=p,o.shared.pending=null}}null===u&&(l=d),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=u,null===i&&(o.shared.lanes=0),dc|=a,e.lanes=a,e.memoizedState=d}}function Bs(e,t){if("function"!==typeof e)throw Error(a(191,e));e.call(t)}function js(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Bs(n[e],t)}function zs(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var o=r.next;n=o;do{if((n.tag&e)===e){r=void 0;var i=n.create,a=n.inst;r=i(),a.destroy=r}n=n.next}while(n!==o)}}catch(s){ru(t,t.return,s)}}function Vs(e,t,n){try{var r=t.updateQueue,o=null!==r?r.lastEffect:null;if(null!==o){var i=o.next;r=i;do{if((r.tag&e)===e){var a=r.inst,s=a.destroy;if(void 0!==s){a.destroy=void 0,o=t;var l=n;try{s()}catch(c){ru(o,l,c)}}}r=r.next}while(r!==i)}}catch(c){ru(t,t.return,c)}}function Us(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{js(t,n)}catch(r){ru(e,e.return,r)}}}function Hs(e,t,n){n.props=Oa(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){ru(e,t,r)}}function qs(e,t){try{var n=e.ref;if(null!==n){var r=e.stateNode;switch(e.tag){case 26:case 27:case 5:var o=r;break;default:o=r}"function"===typeof n?e.refCleanup=n(o):n.current=o}}catch(i){ru(e,t,i)}}function Ws(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(o){ru(e,t,o)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(i){ru(e,t,i)}else n.current=null}function Gs(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(o){ru(e,e.return,o)}}function Ks(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,i=null,s=null,l=null,c=null,u=null,d=null;for(f in n){var h=n[f];if(n.hasOwnProperty(f)&&null!=h)switch(f){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(f)||qu(e,t,f,null,r,h)}}for(var p in r){var f=r[p];if(h=n[p],r.hasOwnProperty(p)&&(null!=f||null!=h))switch(p){case"type":i=f;break;case"name":o=f;break;case"checked":u=f;break;case"defaultChecked":d=f;break;case"value":s=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(a(137,t));break;default:f!==h&&qu(e,t,p,f,r,h)}}return void gt(e,s,l,c,u,d,i,o);case"select":for(i in f=s=l=p=null,n)if(c=n[i],n.hasOwnProperty(i)&&null!=c)switch(i){case"value":break;case"multiple":f=c;default:r.hasOwnProperty(i)||qu(e,t,i,null,r,c)}for(o in r)if(i=r[o],c=n[o],r.hasOwnProperty(o)&&(null!=i||null!=c))switch(o){case"value":p=i;break;case"defaultValue":l=i;break;case"multiple":s=i;default:i!==c&&qu(e,t,o,i,r,c)}return t=l,n=s,r=f,void(null!=p?bt(e,!!n,p,!1):!!r!==!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(l in f=p=null,n)if(o=n[l],n.hasOwnProperty(l)&&null!=o&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:qu(e,t,l,null,r,o)}for(s in r)if(o=r[s],i=n[s],r.hasOwnProperty(s)&&(null!=o||null!=i))switch(s){case"value":p=o;break;case"defaultValue":f=o;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=o)throw Error(a(91));break;default:o!==i&&qu(e,t,s,o,r,i)}return void wt(e,p,f);case"option":for(var m in n)if(p=n[m],n.hasOwnProperty(m)&&null!=p&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else qu(e,t,m,null,r,p);for(c in r)if(p=r[c],f=n[c],r.hasOwnProperty(c)&&p!==f&&(null!=p||null!=f))if("selected"===c)e.selected=p&&"function"!==typeof p&&"symbol"!==typeof p;else qu(e,t,c,p,r,f);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)p=n[g],n.hasOwnProperty(g)&&null!=p&&!r.hasOwnProperty(g)&&qu(e,t,g,null,r,p);for(u in r)if(p=r[u],f=n[u],r.hasOwnProperty(u)&&p!==f&&(null!=p||null!=f))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(a(137,t));break;default:qu(e,t,u,p,r,f)}return;default:if(It(t)){for(var v in n)p=n[v],n.hasOwnProperty(v)&&void 0!==p&&!r.hasOwnProperty(v)&&Wu(e,t,v,void 0,r,p);for(d in r)p=r[d],f=n[d],!r.hasOwnProperty(d)||p===f||void 0===p&&void 0===f||Wu(e,t,d,p,r,f);return}}for(var y in n)p=n[y],n.hasOwnProperty(y)&&null!=p&&!r.hasOwnProperty(y)&&qu(e,t,y,null,r,p);for(h in r)p=r[h],f=n[h],!r.hasOwnProperty(h)||p===f||null==p&&null==f||qu(e,t,h,p,r,f)}(r,e.type,n,t),r[je]=t}catch(o){ru(e,e.return,o)}}function Qs(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag||4===e.tag}function Ys(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Qs(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&27!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Xs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Hu));else if(4!==r&&27!==r&&null!==(e=e.child))for(Xs(e,t,n),e=e.sibling;null!==e;)Xs(e,t,n),e=e.sibling}function $s(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&27!==r&&null!==(e=e.child))for($s(e,t,n),e=e.sibling;null!==e;)$s(e,t,n),e=e.sibling}var Js=!1,Zs=!1,el=!1,tl="function"===typeof WeakSet?WeakSet:Set,nl=null,rl=!1;function ol(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:vl(e,n),4&r&&zs(5,n);break;case 1:if(vl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(s){ru(n,n.return,s)}else{var o=Oa(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(l){ru(n,n.return,l)}}64&r&&Us(n),512&r&&qs(n,n.return);break;case 3:if(vl(e,n),64&r&&null!==(r=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:e=n.child.stateNode}try{js(r,e)}catch(s){ru(n,n.return,s)}}break;case 26:vl(e,n),512&r&&qs(n,n.return);break;case 27:case 5:vl(e,n),null===t&&4&r&&Gs(n),512&r&&qs(n,n.return);break;case 12:default:vl(e,n);break;case 13:vl(e,n),4&r&&ul(e,n);break;case 22:if(!(o=null!==n.memoizedState||Js)){t=null!==t&&null!==t.memoizedState||Zs;var i=Js,a=Zs;Js=o,(Zs=t)&&!a?bl(e,n,0!==(8772&n.subtreeFlags)):vl(e,n),Js=i,Zs=a}512&r&&("manual"===n.memoizedProps.mode?qs(n,n.return):Ws(n,n.return))}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ge(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var al=null,sl=!1;function ll(e,t,n){for(n=n.child;null!==n;)cl(e,t,n),n=n.sibling}function cl(e,t,n){if(ye&&"function"===typeof ye.onCommitFiberUnmount)try{ye.onCommitFiberUnmount(ve,n)}catch(a){}switch(n.tag){case 26:Zs||Ws(n,t),ll(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Zs||Ws(n,t);var r=al,o=sl;for(al=n.stateNode,ll(e,t,n),t=(n=n.stateNode).attributes;t.length;)n.removeAttributeNode(t[0]);Ge(n),al=r,sl=o;break;case 5:Zs||Ws(n,t);case 6:o=al;var i=sl;if(al=null,ll(e,t,n),sl=i,null!==(al=o))if(sl)try{e=al,r=n.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)}catch(s){ru(n,t,s)}else try{al.removeChild(n.stateNode)}catch(s){ru(n,t,s)}break;case 18:null!==al&&(sl?(t=al,n=n.stateNode,8===t.nodeType?id(t.parentNode,n):1===t.nodeType&&id(t,n),mh(t)):id(al,n.stateNode));break;case 4:r=al,o=sl,al=n.stateNode.containerInfo,sl=!0,ll(e,t,n),al=r,sl=o;break;case 0:case 11:case 14:case 15:Zs||Vs(2,n,t),Zs||Vs(4,n,t),ll(e,t,n);break;case 1:Zs||(Ws(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&Hs(n,t,r)),ll(e,t,n);break;case 21:ll(e,t,n);break;case 22:Zs||Ws(n,t),Zs=(r=Zs)||null!==n.memoizedState,ll(e,t,n),Zs=r;break;default:ll(e,t,n)}}function ul(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{mh(e)}catch(n){ru(t,t.return,n)}}function dl(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new tl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new tl),t;default:throw Error(a(435,e.tag))}}(e);t.forEach((function(t){var r=lu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}function hl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r],i=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 27:case 5:al=l.stateNode,sl=!1;break e;case 3:case 4:al=l.stateNode.containerInfo,sl=!0;break e}l=l.return}if(null===al)throw Error(a(160));cl(i,s,o),al=null,sl=!1,null!==(i=o.alternate)&&(i.return=null),o.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)fl(t,e),t=t.sibling}var pl=null;function fl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:hl(t,e),ml(e),4&r&&(Vs(3,e,e.return),zs(3,e),Vs(5,e,e.return));break;case 1:hl(t,e),ml(e),512&r&&(Zs||null===n||Ws(n,n.return)),64&r&&Js&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var o=pl;if(hl(t,e),ml(e),512&r&&(Zs||null===n||Ws(n,n.return)),4&r){var i=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,o=o.ownerDocument||o;t:switch(r){case"title":(!(i=o.getElementsByTagName("title")[0])||i[We]||i[Be]||"http://www.w3.org/2000/svg"===i.namespaceURI||i.hasAttribute("itemprop"))&&(i=o.createElement(r),o.head.insertBefore(i,o.querySelector("head > title"))),Gu(i,r,n),i[Be]=e,$e(i),r=i;break e;case"link":var s=Ed("link","href",o).get(r+(n.href||""));if(s)for(var l=0;l<s.length;l++)if((i=s[l]).getAttribute("href")===(null==n.href?null:n.href)&&i.getAttribute("rel")===(null==n.rel?null:n.rel)&&i.getAttribute("title")===(null==n.title?null:n.title)&&i.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){s.splice(l,1);break t}Gu(i=o.createElement(r),r,n),o.head.appendChild(i);break;case"meta":if(s=Ed("meta","content",o).get(r+(n.content||"")))for(l=0;l<s.length;l++)if((i=s[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&i.getAttribute("name")===(null==n.name?null:n.name)&&i.getAttribute("property")===(null==n.property?null:n.property)&&i.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&i.getAttribute("charset")===(null==n.charSet?null:n.charSet)){s.splice(l,1);break t}Gu(i=o.createElement(r),r,n),o.head.appendChild(i);break;default:throw Error(a(468,r))}i[Be]=e,$e(i),r=i}e.stateNode=r}else Td(o,e.type,e.stateNode);else e.stateNode=_d(o,r,e.memoizedProps);else i!==r?(null===i?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):i.count--,null===r?Td(o,e.type,e.stateNode):_d(o,r,e.memoizedProps)):null===r&&null!==e.stateNode&&Ks(e,e.memoizedProps,n.memoizedProps)}break;case 27:if(4&r&&null===e.alternate){o=e.stateNode,i=e.memoizedProps;try{for(var c=o.firstChild;c;){var u=c.nextSibling,d=c.nodeName;c[We]||"HEAD"===d||"BODY"===d||"SCRIPT"===d||"STYLE"===d||"LINK"===d&&"stylesheet"===c.rel.toLowerCase()||o.removeChild(c),c=u}for(var h=e.type,p=o.attributes;p.length;)o.removeAttributeNode(p[0]);Gu(o,h,i),o[Be]=e,o[je]=i}catch(m){ru(e,e.return,m)}}case 5:if(hl(t,e),ml(e),512&r&&(Zs||null===n||Ws(n,n.return)),32&e.flags){o=e.stateNode;try{_t(o,"")}catch(m){ru(e,e.return,m)}}4&r&&null!=e.stateNode&&Ks(e,o=e.memoizedProps,null!==n?n.memoizedProps:o),1024&r&&(el=!0);break;case 6:if(hl(t,e),ml(e),4&r){if(null===e.stateNode)throw Error(a(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(m){ru(e,e.return,m)}}break;case 3:if(Id=null,o=pl,pl=hd(t.containerInfo),hl(t,e),pl=o,ml(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{mh(t.containerInfo)}catch(m){ru(e,e.return,m)}el&&(el=!1,gl(e));break;case 4:r=pl,pl=hd(e.stateNode.containerInfo),hl(t,e),ml(e),pl=r;break;case 12:hl(t,e),ml(e);break;case 13:hl(t,e),ml(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(bc=le()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,dl(e,r)));break;case 22:if(512&r&&(Zs||null===n||Ws(n,n.return)),c=null!==e.memoizedState,u=null!==n&&null!==n.memoizedState,Js=(d=Js)||c,Zs=(h=Zs)||u,hl(t,e),Zs=h,Js=d,ml(e),(t=e.stateNode)._current=e,t._visibility&=-3,t._visibility|=2&t._pendingVisibility,8192&r&&(t._visibility=c?-2&t._visibility:1|t._visibility,c&&(t=Js||Zs,null===n||u||t||yl(e)),null===e.memoizedProps||"manual"!==e.memoizedProps.mode))e:for(n=null,t=e;;){if(5===t.tag||26===t.tag||27===t.tag){if(null===n){u=n=t;try{if(o=u.stateNode,c)"function"===typeof(i=o.style).setProperty?i.setProperty("display","none","important"):i.display="none";else{s=u.stateNode;var f=void 0!==(l=u.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null;s.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(m){ru(u,u.return,m)}}}else if(6===t.tag){if(null===n){u=t;try{u.stateNode.nodeValue=c?"":u.memoizedProps}catch(m){ru(u,u.return,m)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,dl(e,n))));break;case 19:hl(t,e),ml(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,dl(e,r)));break;case 21:break;default:hl(t,e),ml(e)}}function ml(e){var t=e.flags;if(2&t){try{if(27!==e.tag){e:{for(var n=e.return;null!==n;){if(Qs(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 27:var o=r.stateNode;$s(e,Ys(e),o);break;case 5:var i=r.stateNode;32&r.flags&&(_t(i,""),r.flags&=-33),$s(e,Ys(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;Xs(e,Ys(e),s);break;default:throw Error(a(161))}}}catch(l){ru(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;gl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function vl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)ol(e,t.alternate,t),t=t.sibling}function yl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Vs(4,t,t.return),yl(t);break;case 1:Ws(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&Hs(t,t.return,n),yl(t);break;case 26:case 27:case 5:Ws(t,t.return),yl(t);break;case 22:Ws(t,t.return),null===t.memoizedState&&yl(t);break;default:yl(t)}e=e.sibling}}function bl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,o=e,i=t,a=i.flags;switch(i.tag){case 0:case 11:case 15:bl(o,i,n),zs(4,i);break;case 1:if(bl(o,i,n),"function"===typeof(o=(r=i).stateNode).componentDidMount)try{o.componentDidMount()}catch(c){ru(r,r.return,c)}if(null!==(o=(r=i).updateQueue)){var s=r.stateNode;try{var l=o.shared.hiddenCallbacks;if(null!==l)for(o.shared.hiddenCallbacks=null,o=0;o<l.length;o++)Bs(l[o],s)}catch(c){ru(r,r.return,c)}}n&&64&a&&Us(i),qs(i,i.return);break;case 26:case 27:case 5:bl(o,i,n),n&&null===r&&4&a&&Gs(i),qs(i,i.return);break;case 12:default:bl(o,i,n);break;case 13:bl(o,i,n),n&&4&a&&ul(o,i);break;case 22:null===i.memoizedState&&bl(o,i,n),qs(i,i.return)}t=t.sibling}}function wl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Uo(n))}function Cl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Uo(e))}function _l(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)xl(e,t,n,r),t=t.sibling}function xl(e,t,n,r){var o=t.flags;switch(t.tag){case 0:case 11:case 15:_l(e,t,n,r),2048&o&&zs(9,t);break;case 3:_l(e,t,n,r),2048&o&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Uo(e)));break;case 12:if(2048&o){_l(e,t,n,r),e=t.stateNode;try{var i=t.memoizedProps,a=i.id,s=i.onPostCommit;"function"===typeof s&&s(a,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){ru(t,t.return,l)}}else _l(e,t,n,r);break;case 23:break;case 22:i=t.stateNode,null!==t.memoizedState?4&i._visibility?_l(e,t,n,r):kl(e,t):4&i._visibility?_l(e,t,n,r):(i._visibility|=4,Sl(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&o&&wl(t.alternate,t);break;case 24:_l(e,t,n,r),2048&o&&Cl(t.alternate,t);break;default:_l(e,t,n,r)}}function Sl(e,t,n,r,o){for(o=o&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var i=e,a=t,s=n,l=r,c=a.flags;switch(a.tag){case 0:case 11:case 15:Sl(i,a,s,l,o),zs(8,a);break;case 23:break;case 22:var u=a.stateNode;null!==a.memoizedState?4&u._visibility?Sl(i,a,s,l,o):kl(i,a):(u._visibility|=4,Sl(i,a,s,l,o)),o&&2048&c&&wl(a.alternate,a);break;case 24:Sl(i,a,s,l,o),o&&2048&c&&Cl(a.alternate,a);break;default:Sl(i,a,s,l,o)}t=t.sibling}}function kl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,o=r.flags;switch(r.tag){case 22:kl(n,r),2048&o&&wl(r.alternate,r);break;case 24:kl(n,r),2048&o&&Cl(r.alternate,r);break;default:kl(n,r)}t=t.sibling}}var Il=8192;function El(e){if(e.subtreeFlags&Il)for(e=e.child;null!==e;)Tl(e),e=e.sibling}function Tl(e){switch(e.tag){case 26:El(e),e.flags&Il&&null!==e.memoizedState&&function(e,t,n){if(null===Pd)throw Error(a(475));var r=Pd;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var o=vd(n.href),i=e.querySelector(yd(o));if(i)return null!==(e=i._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=Dd.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=i,void $e(i);i=e.ownerDocument||e,n=bd(n),(o=ud.get(o))&&Sd(n,o),$e(i=i.createElement("link"));var s=i;s._p=new Promise((function(e,t){s.onload=e,s.onerror=t})),Gu(i,"link",n),t.instance=i}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=Dd.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(pl,e.memoizedState,e.memoizedProps);break;case 5:default:El(e);break;case 3:case 4:var t=pl;pl=hd(e.stateNode.containerInfo),El(e),pl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Il,Il=16777216,El(e),Il=t):El(e))}}function Rl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Pl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];nl=r,Ol(r,e)}Rl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Al(e),e=e.sibling}function Al(e){switch(e.tag){case 0:case 11:case 15:Pl(e),2048&e.flags&&Vs(9,e,e.return);break;case 3:case 12:default:Pl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&4&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-5,Dl(e)):Pl(e)}}function Dl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];nl=r,Ol(r,e)}Rl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:Vs(8,t,t.return),Dl(t);break;case 22:4&(n=t.stateNode)._visibility&&(n._visibility&=-5,Dl(t));break;default:Dl(t)}e=e.sibling}}function Ol(e,t){for(;null!==nl;){var n=nl;switch(n.tag){case 0:case 11:case 15:Vs(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Uo(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,nl=r;else e:for(n=e;null!==nl;){var o=(r=nl).sibling,i=r.return;if(il(r),r===n){nl=null;break e}if(null!==o){o.return=i,nl=o;break e}nl=i}}}function Nl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ml(e,t,n,r){return new Nl(e,t,n,r)}function Ll(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fl(e,t){var n=e.alternate;return null===n?((n=Ml(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=31457280&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Bl(e,t){e.flags&=31457282;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function jl(e,t,n,r,o,i){var s=0;if(r=e,"function"===typeof e)Ll(e)&&(s=1);else if("string"===typeof e)s=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,Y.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case d:return zl(n.children,o,i,t);case h:s=8,o|=24;break;case p:return(e=Ml(12,n,t,2|o)).elementType=p,e.lanes=i,e;case y:return(e=Ml(13,n,t,o)).elementType=y,e.lanes=i,e;case b:return(e=Ml(19,n,t,o)).elementType=b,e.lanes=i,e;case _:return Vl(n,o,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case f:case g:s=10;break e;case m:s=9;break e;case v:s=11;break e;case w:s=14;break e;case C:s=16,r=null;break e}s=29,n=Error(a(130,null===e?"null":typeof e,"")),r=null}return(t=Ml(s,n,t,o)).elementType=e,t.type=r,t.lanes=i,t}function zl(e,t,n,r){return(e=Ml(7,e,r,t)).lanes=n,e}function Vl(e,t,n,r){(e=Ml(22,e,r,t)).elementType=_,e.lanes=n;var o={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var e=o._current;if(null===e)throw Error(a(456));if(0===(2&o._pendingVisibility)){var t=Rr(e,2);null!==t&&(o._pendingVisibility|=2,Dc(t,e,2))}},attach:function(){var e=o._current;if(null===e)throw Error(a(456));if(0!==(2&o._pendingVisibility)){var t=Rr(e,2);null!==t&&(o._pendingVisibility&=-3,Dc(t,e,2))}}};return e.stateNode=o,e}function Ul(e,t,n){return(e=Ml(6,e,null,t)).lanes=n,e}function Hl(e,t,n){return(t=Ml(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ql(e){e.flags|=4}function Wl(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Rd(t)){if(null!==(t=Ro.current)&&((4194176&rc)===rc?null!==Po:(62914560&rc)!==rc&&0===(536870912&rc)||t!==Po))throw po=lo,so;e.flags|=8192}}function Gl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Pe():536870912,e.lanes|=t,mc|=t)}function Kl(e,t){if(!Xr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ql(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=31457280&o.subtreeFlags,r|=31457280&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Yl(e,t,n){var r=t.pendingProps;switch(Kr(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return Ql(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),bs(zo),ee(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(ro(t)?ql(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==$r&&(Nc($r),$r=null))),Ql(t),null;case 26:return n=t.memoizedState,null===e?(ql(t),null!==n?(Ql(t),Wl(t,n)):(Ql(t),t.flags&=-16777217)):n?n!==e.memoizedState?(ql(t),Ql(t),Wl(t,n)):(Ql(t),t.flags&=-16777217):(e.memoizedProps!==r&&ql(t),Ql(t),t.flags&=-16777217),null;case 27:ne(t),n=$.current;var o=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&ql(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ql(t),null}e=Y.current,ro(t)?to(t):(e=cd(o,r,n),t.stateNode=e,ql(t))}return Ql(t),null;case 5:if(ne(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&ql(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ql(t),null}if(e=Y.current,ro(t))to(t);else{switch(o=Yu($.current),e){case 1:e=o.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=o.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?o.createElement("select",{is:r.is}):o.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?o.createElement(n,{is:r.is}):o.createElement(n)}}e[Be]=t,e[je]=r;e:for(o=t.child;null!==o;){if(5===o.tag||6===o.tag)e.appendChild(o.stateNode);else if(4!==o.tag&&27!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;null===o.sibling;){if(null===o.return||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=e;e:switch(Gu(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&ql(t)}}return Ql(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&ql(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(e=$.current,ro(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(o=Qr))switch(o.tag){case 27:case 5:r=o.memoizedProps}e[Be]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Uu(e.nodeValue,n)))||eo(t)}else(e=Yu(e).createTextNode(r))[Be]=t,t.stateNode=e}return Ql(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(o=ro(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[Be]=t}else oo(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ql(t),o=!1}else null!==$r&&(Nc($r),$r=null),o=!0;if(!o)return 256&t.flags?(No(t),t):(No(t),null)}if(No(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){o=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(o=r.alternate.memoizedState.cachePool.pool);var i=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(i=r.memoizedState.cachePool.pool),i!==o&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),Gl(t,t.updateQueue),Ql(t),null;case 4:return ee(),null===e&&Du(t.stateNode.containerInfo),Ql(t),null;case 10:return bs(t.type),Ql(t),null;case 19:if(K(Mo),null===(o=t.memoizedState))return Ql(t),null;if(r=0!==(128&t.flags),null===(i=o.rendering))if(r)Kl(o,!1);else{if(0!==uc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(i=Lo(e))){for(t.flags|=128,Kl(o,!1),e=i.updateQueue,t.updateQueue=e,Gl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Bl(n,e),n=n.sibling;return Q(Mo,1&Mo.current|2),t.child}e=e.sibling}null!==o.tail&&le()>wc&&(t.flags|=128,r=!0,Kl(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=Lo(i))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,Gl(t,e),Kl(o,!0),null===o.tail&&"hidden"===o.tailMode&&!i.alternate&&!Xr)return Ql(t),null}else 2*le()-o.renderingStartTime>wc&&536870912!==n&&(t.flags|=128,r=!0,Kl(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(null!==(e=o.last)?e.sibling=i:t.child=i,o.last=i)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=le(),t.sibling=null,e=Mo.current,Q(Mo,r?1&e|2:1&e),t):(Ql(t),null);case 22:case 23:return No(t),To(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(Ql(t),6&t.subtreeFlags&&(t.flags|=8192)):Ql(t),null!==(n=t.updateQueue)&&Gl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&K(Yo),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),bs(zo),Ql(t),null;case 25:return null}throw Error(a(156,t.tag))}function Xl(e,t){switch(Kr(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return bs(zo),ee(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return ne(t),null;case 13:if(No(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));oo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return K(Mo),null;case 4:return ee(),null;case 10:return bs(t.type),null;case 22:case 23:return No(t),To(),null!==e&&K(Yo),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return bs(zo),null;default:return null}}function $l(e,t){switch(Kr(t),t.tag){case 3:bs(zo),ee();break;case 26:case 27:case 5:ne(t);break;case 4:ee();break;case 13:No(t);break;case 19:K(Mo);break;case 10:bs(t.type);break;case 22:case 23:No(t),To(),null!==e&&K(Yo);break;case 24:bs(zo)}}var Jl={getCacheForType:function(e){var t=ks(zo),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},Zl="function"===typeof WeakMap?WeakMap:Map,ec=0,tc=null,nc=null,rc=0,oc=0,ic=null,ac=!1,sc=!1,lc=!1,cc=0,uc=0,dc=0,hc=0,pc=0,fc=0,mc=0,gc=null,vc=null,yc=!1,bc=0,wc=1/0,Cc=null,_c=null,xc=!1,Sc=null,kc=0,Ic=0,Ec=null,Tc=0,Rc=null;function Pc(){if(0!==(2&ec)&&0!==rc)return rc&-rc;if(null!==P.T){return 0!==Wo?Wo:Cu()}return Le()}function Ac(){0===fc&&(fc=0===(536870912&rc)||Xr?Re():536870912);var e=Ro.current;return null!==e&&(e.flags|=32),fc}function Dc(e,t,n){(e===tc&&2===oc||null!==e.cancelPendingCommit)&&(zc(e,0),Fc(e,rc,fc,!1)),De(e,n),0!==(2&ec)&&e===tc||(e===tc&&(0===(2&ec)&&(hc|=n),4===uc&&Fc(e,rc,fc,!1)),mu(e))}function Oc(e,t,n){if(0!==(6&ec))throw Error(a(327));for(var r=!n&&0===(60&t)&&0===(t&e.expiredLanes)||Ee(e,t),o=r?function(e,t){var n=ec;ec|=2;var r=Uc(),o=Hc();tc!==e||rc!==t?(Cc=null,wc=le()+500,zc(e,t)):sc=Ee(e,t);e:for(;;)try{if(0!==oc&&null!==nc){t=nc;var i=ic;t:switch(oc){case 1:oc=0,ic=null,Xc(e,t,i,1);break;case 2:if(co(i)){oc=0,ic=null,Yc(t);break}t=function(){2===oc&&tc===e&&(oc=7),mu(e)},i.then(t,t);break e;case 3:oc=7;break e;case 4:oc=5;break e;case 7:co(i)?(oc=0,ic=null,Yc(t)):(oc=0,ic=null,Xc(e,t,i,7));break;case 5:var s=null;switch(nc.tag){case 26:s=nc.memoizedState;case 5:case 27:var l=nc;if(!s||Rd(s)){oc=0,ic=null;var c=l.sibling;if(null!==c)nc=c;else{var u=l.return;null!==u?(nc=u,$c(u)):nc=null}break t}}oc=0,ic=null,Xc(e,t,i,5);break;case 6:oc=0,ic=null,Xc(e,t,i,6);break;case 8:jc(),uc=6;break e;default:throw Error(a(462))}}Kc();break}catch(d){Vc(e,d)}return vs=gs=null,P.H=r,P.A=o,ec=n,null!==nc?0:(tc=null,rc=0,Ir(),uc)}(e,t):Wc(e,t,!0),i=r;;){if(0===o){sc&&!r&&Fc(e,t,0,!1);break}if(6===o)Fc(e,t,0,!ac);else{if(n=e.current.alternate,i&&!Lc(n)){o=Wc(e,t,!1),i=!1;continue}if(2===o){if(i=t,e.errorRecoveryDisabledLanes&i)var s=0;else s=0!==(s=-536870913&e.pendingLanes)?s:536870912&s?536870912:0;if(0!==s){t=s;e:{var l=e;o=gc;var c=l.current.memoizedState.isDehydrated;if(c&&(zc(l,s).flags|=256),2!==(s=Wc(l,s,!1))){if(lc&&!c){l.errorRecoveryDisabledLanes|=i,hc|=i,o=4;break e}i=vc,vc=o,null!==i&&Nc(i)}o=s}if(i=!1,2!==o)continue}}if(1===o){zc(e,0),Fc(e,t,0,!0);break}e:{switch(r=e,o){case 0:case 1:throw Error(a(345));case 4:if((4194176&t)===t){Fc(r,t,fc,!ac);break e}break;case 2:vc=null;break;case 3:case 5:break;default:throw Error(a(329))}if(r.finishedWork=n,r.finishedLanes=t,(62914560&t)===t&&10<(i=bc+300-le())){if(Fc(r,t,fc,!ac),0!==Ie(r,0))break e;r.timeoutHandle=ed(Mc.bind(null,r,n,vc,Cc,yc,t,fc,hc,mc,ac,2,-0,0),i)}else Mc(r,n,vc,Cc,yc,t,fc,hc,mc,ac,0,-0,0)}}break}mu(e)}function Nc(e){null===vc?vc=e:vc.push.apply(vc,e)}function Mc(e,t,n,r,o,i,s,l,c,u,d,h,p){var f=t.subtreeFlags;if((8192&f||16785408===(16785408&f))&&(Pd={stylesheets:null,count:0,unsuspend:Ad},Tl(t),null!==(t=function(){if(null===Pd)throw Error(a(475));var e=Pd;return e.stylesheets&&0===e.count&&Nd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout((function(){if(e.stylesheets&&Nd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}}),6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=t(Zc.bind(null,e,n,r,o,s,l,c,1,h,p)),void Fc(e,i,s,!u);Zc(e,n,r,o,s,l,c,d,h,p)}function Lc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!Qn(i(),o))return!1}catch(a){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Fc(e,t,n,r){t&=~pc,t&=~hc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var o=t;0<o;){var i=31-we(o),a=1<<i;r[i]=-1,o&=~a}0!==n&&Oe(e,n,t)}function Bc(){return 0!==(6&ec)||(gu(0,!1),!1)}function jc(){if(null!==nc){if(0===oc)var e=nc.return;else vs=gs=null,yi(e=nc),mo=null,go=0,e=nc;for(;null!==e;)$l(e.alternate,e),e=e.return;nc=null}}function zc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,td(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),jc(),tc=e,nc=n=Fl(e.current,null),rc=t,oc=0,ic=null,ac=!1,sc=Ee(e,t),lc=!1,mc=fc=pc=hc=dc=uc=0,vc=gc=null,yc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var o=31-we(r),i=1<<o;t|=e[o],r&=~i}return cc=t,Ir(),n}function Vc(e,t){ei=null,P.H=ka,t===ao?(t=fo(),oc=3):t===so?(t=fo(),oc=4):oc=t===Ha?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,ic=t,null===nc&&(uc=1,Ba(e,Nr(t,e.current)))}function Uc(){var e=P.H;return P.H=ka,null===e?ka:e}function Hc(){var e=P.A;return P.A=Jl,e}function qc(){uc=4,ac||(4194176&rc)!==rc&&null!==Ro.current||(sc=!0),0===(134217727&dc)&&0===(134217727&hc)||null===tc||Fc(tc,rc,fc,!1)}function Wc(e,t,n){var r=ec;ec|=2;var o=Uc(),i=Hc();tc===e&&rc===t||(Cc=null,zc(e,t)),t=!1;var a=uc;e:for(;;)try{if(0!==oc&&null!==nc){var s=nc,l=ic;switch(oc){case 8:jc(),a=6;break e;case 3:case 2:case 6:null===Ro.current&&(t=!0);var c=oc;if(oc=0,ic=null,Xc(e,s,l,c),n&&sc){a=0;break e}break;default:c=oc,oc=0,ic=null,Xc(e,s,l,c)}}Gc(),a=uc;break}catch(u){Vc(e,u)}return t&&e.shellSuspendCounter++,vs=gs=null,ec=r,P.H=o,P.A=i,null===nc&&(tc=null,rc=0,Ir()),a}function Gc(){for(;null!==nc;)Qc(nc)}function Kc(){for(;null!==nc&&!ae();)Qc(nc)}function Qc(e){var t=fs(e.alternate,e,cc);e.memoizedProps=e.pendingProps,null===t?$c(e):nc=t}function Yc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Za(n,t,t.pendingProps,t.type,void 0,rc);break;case 11:t=Za(n,t,t.pendingProps,t.type.render,t.ref,rc);break;case 5:yi(t);default:$l(n,t),t=fs(n,t=nc=Bl(t,cc),cc)}e.memoizedProps=e.pendingProps,null===t?$c(e):nc=t}function Xc(e,t,n,r){vs=gs=null,yi(t),mo=null,go=0;var o=t.return;try{if(function(e,t,n,r,o){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&_s(t,n,o,!0),null!==(n=Ro.current)){switch(n.tag){case 13:return null===Po?qc():null===n.alternate&&0===uc&&(uc=3),n.flags&=-257,n.flags|=65536,n.lanes=o,r===lo?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),ou(e,r,o)),!1;case 22:return n.flags|=65536,r===lo?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),ou(e,r,o)),!1}throw Error(a(435,n.tag))}return ou(e,r,o),qc(),!1}if(Xr)return null!==(t=Ro.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=o,r!==Zr&&io(Nr(e=Error(a(422),{cause:r}),n))):(r!==Zr&&io(Nr(t=Error(a(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,o&=-o,e.lanes|=o,r=Nr(r,n),Ns(e,o=za(e.stateNode,r,o)),4!==uc&&(uc=2)),!1;var i=Error(a(520),{cause:r});if(i=Nr(i,n),null===gc?gc=[i]:gc.push(i),4!==uc&&(uc=2),null===t)return!0;r=Nr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=o&-o,n.lanes|=e,Ns(n,e=za(n.stateNode,r,e)),!1;case 1:if(t=n.type,i=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==i&&"function"===typeof i.componentDidCatch&&(null===_c||!_c.has(i))))return n.flags|=65536,o&=-o,n.lanes|=o,Ua(o=Va(o),e,n,r),Ns(n,o),!1}n=n.return}while(null!==n);return!1}(e,o,t,n,rc))return uc=1,Ba(e,Nr(n,e.current)),void(nc=null)}catch(i){if(null!==o)throw nc=o,i;return uc=1,Ba(e,Nr(n,e.current)),void(nc=null)}32768&t.flags?(Xr||1===r?e=!0:sc||0!==(536870912&rc)?e=!1:(ac=e=!0,(2===r||3===r||6===r)&&(null!==(r=Ro.current)&&13===r.tag&&(r.flags|=16384))),Jc(t,e)):$c(t)}function $c(e){var t=e;do{if(0!==(32768&t.flags))return void Jc(t,ac);e=t.return;var n=Yl(t.alternate,t,cc);if(null!==n)return void(nc=n);if(null!==(t=t.sibling))return void(nc=t);nc=t=e}while(null!==t);0===uc&&(uc=5)}function Jc(e,t){do{var n=Xl(e.alternate,e);if(null!==n)return n.flags&=32767,void(nc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(nc=e);nc=e=n}while(null!==e);uc=6,nc=null}function Zc(e,t,n,r,o,i,s,l,c,u){var d=P.T,h=U.p;try{U.p=2,P.T=null,function(e,t,n,r,o,i,s,l){do{tu()}while(null!==Sc);if(0!==(6&ec))throw Error(a(327));var c=e.finishedWork;if(r=e.finishedLanes,null===c)return null;if(e.finishedWork=null,e.finishedLanes=0,c===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var u=c.lanes|c.childLanes;if(function(e,t,n,r,o,i){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=a&~n;0<n;){var u=31-we(n),d=1<<u;s[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var p=h[u];null!==p&&(p.lane&=-536870913)}n&=~d}0!==r&&Oe(e,r,0),0!==i&&0===o&&0!==e.tag&&(e.suspendedLanes|=i&~(a&~t))}(e,r,u|=kr,i,s,l),e===tc&&(nc=tc=null,rc=0),0===(10256&c.subtreeFlags)&&0===(10256&c.flags)||xc||(xc=!0,Ic=u,Ec=n,function(e,t){oe(e,t)}(he,(function(){return tu(),null}))),n=0!==(15990&c.flags),0!==(15990&c.subtreeFlags)||n?(n=P.T,P.T=null,i=U.p,U.p=2,s=ec,ec|=4,function(e,t){if(e=e.containerInfo,Ku=qd,er(e=Zn(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(g){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==o&&3!==h.nodeType||(l=s+o),h!==i||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++u===o&&(l=s),p===i&&++d===r&&(c=s),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Qu={focusedElem:e,selectionRange:n},qd=!1,nl=t;null!==nl;)if(e=(t=nl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,nl=e;else for(;null!==nl;){switch(i=(t=nl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==i){e=void 0,n=t,o=i.memoizedProps,i=i.memoizedState,r=n.stateNode;try{var m=Oa(n.type,o,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(m,i),r.__reactInternalSnapshotBeforeUpdate=e}catch(v){ru(n,n.return,v)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))ad(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ad(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(a(163))}if(null!==(e=t.sibling)){e.return=t.return,nl=e;break}nl=t.return}m=rl,rl=!1}(e,c),fl(c,e),tr(Qu,e.containerInfo),qd=!!Ku,Qu=Ku=null,e.current=c,ol(e,c.alternate,c),se(),ec=s,U.p=i,P.T=n):e.current=c,xc?(xc=!1,Sc=e,kc=r):eu(e,u),u=e.pendingLanes,0===u&&(_c=null),function(e){if(ye&&"function"===typeof ye.onCommitFiberRoot)try{ye.onCommitFiberRoot(ve,e,void 0,128===(128&e.current.flags))}catch(t){}}(c.stateNode),mu(e),null!==t)for(o=e.onRecoverableError,c=0;c<t.length;c++)u=t[c],o(u.value,{componentStack:u.stack});0!==(3&kc)&&tu(),u=e.pendingLanes,0!==(4194218&r)&&0!==(42&u)?e===Rc?Tc++:(Tc=0,Rc=e):Tc=0,gu(0,!1)}(e,t,n,r,h,o,i,s)}finally{P.T=d,U.p=h}}function eu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Uo(t)))}function tu(){if(null!==Sc){var e=Sc,t=Ic;Ic=0;var n=Me(kc),r=P.T,o=U.p;try{if(U.p=32>n?32:n,P.T=null,null===Sc)var i=!1;else{n=Ec,Ec=null;var s=Sc,l=kc;if(Sc=null,kc=0,0!==(6&ec))throw Error(a(331));var c=ec;if(ec|=4,Al(s.current),xl(s,s.current,l,n),ec=c,gu(0,!1),ye&&"function"===typeof ye.onPostCommitFiberRoot)try{ye.onPostCommitFiberRoot(ve,s)}catch(u){}i=!0}return i}finally{U.p=o,P.T=r,eu(e,t)}}return!1}function nu(e,t,n){t=Nr(n,t),null!==(e=Ds(e,t=za(e.stateNode,t,2),2))&&(De(e,2),mu(e))}function ru(e,t,n){if(3===e.tag)nu(e,e,n);else for(;null!==t;){if(3===t.tag){nu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===_c||!_c.has(r))){e=Nr(n,e),null!==(r=Ds(t,n=Va(2),2))&&(Ua(n,r,t,e),De(r,2),mu(r));break}}t=t.return}}function ou(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new Zl;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(lc=!0,o.add(n),e=iu.bind(null,e,t,n),t.then(e,e))}function iu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,tc===e&&(rc&n)===n&&(4===uc||3===uc&&(62914560&rc)===rc&&300>le()-bc?0===(2&ec)&&zc(e,0):pc|=n,mc===rc&&(mc=0)),mu(e)}function au(e,t){0===t&&(t=Pe()),null!==(e=Rr(e,t))&&(De(e,t),mu(e))}function su(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),au(e,n)}function lu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(a(314))}null!==r&&r.delete(t),au(e,n)}var cu=null,uu=null,du=!1,hu=!1,pu=!1,fu=0;function mu(e){var t;e!==uu&&null===e.next&&(null===uu?cu=uu=e:uu=uu.next=e),hu=!0,du||(du=!0,t=vu,rd((function(){0!==(6&ec)?oe(ue,t):t()})))}function gu(e,t){if(!pu&&hu){pu=!0;do{for(var n=!1,r=cu;null!==r;){if(!t)if(0!==e){var o=r.pendingLanes;if(0===o)var i=0;else{var a=r.suspendedLanes,s=r.pingedLanes;i=(1<<31-we(42|e)+1)-1,i=201326677&(i&=o&~(a&~s))?201326677&i|1:i?2|i:0}0!==i&&(n=!0,wu(r,i))}else i=rc,0===(3&(i=Ie(r,r===tc?i:0)))||Ee(r,i)||(n=!0,wu(r,i));r=r.next}}while(n);pu=!1}}function vu(){hu=du=!1;var e=0;0!==fu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==Zu&&(Zu=e,!0);return Zu=null,!1}()&&(e=fu),fu=0);for(var t=le(),n=null,r=cu;null!==r;){var o=r.next,i=yu(r,t);0===i?(r.next=null,null===n?cu=o:n.next=o,null===o&&(uu=n)):(n=r,(0!==e||0!==(3&i))&&(hu=!0)),r=o}gu(e,!1)}function yu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=-62914561&e.pendingLanes;0<i;){var a=31-we(i),s=1<<a,l=o[a];-1===l?0!==(s&n)&&0===(s&r)||(o[a]=Te(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}if(n=rc,n=Ie(e,e===(t=tc)?n:0),r=e.callbackNode,0===n||e===t&&2===oc||null!==e.cancelPendingCommit)return null!==r&&null!==r&&ie(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||Ee(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&ie(r),Me(n)){case 2:case 8:n=de;break;case 32:default:n=he;break;case 268435456:n=fe}return r=bu.bind(null,e),n=oe(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&ie(r),e.callbackPriority=2,e.callbackNode=null,2}function bu(e,t){var n=e.callbackNode;if(tu()&&e.callbackNode!==n)return null;var r=rc;return 0===(r=Ie(e,e===tc?r:0))?null:(Oc(e,r,t),yu(e,le()),null!=e.callbackNode&&e.callbackNode===n?bu.bind(null,e):null)}function wu(e,t){if(tu())return null;Oc(e,t,!0)}function Cu(){return 0===fu&&(fu=Re()),fu}function _u(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Rt(""+e)}function xu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Su=0;Su<Cr.length;Su++){var ku=Cr[Su];_r(ku.toLowerCase(),"on"+(ku[0].toUpperCase()+ku.slice(1)))}_r(pr,"onAnimationEnd"),_r(fr,"onAnimationIteration"),_r(mr,"onAnimationStart"),_r("dblclick","onDoubleClick"),_r("focusin","onFocus"),_r("focusout","onBlur"),_r(gr,"onTransitionRun"),_r(vr,"onTransitionStart"),_r(yr,"onTransitionCancel"),_r(br,"onTransitionEnd"),tt("onMouseEnter",["mouseout","mouseover"]),tt("onMouseLeave",["mouseout","mouseover"]),tt("onPointerEnter",["pointerout","pointerover"]),tt("onPointerLeave",["pointerout","pointerover"]),et("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),et("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),et("onBeforeInput",["compositionend","keypress","textInput","paste"]),et("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Iu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Eu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Iu));function Tu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==i&&o.isPropagationStopped())break e;i=s,o.currentTarget=c;try{i(o)}catch(u){Na(u)}o.currentTarget=null,i=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==i&&o.isPropagationStopped())break e;i=s,o.currentTarget=c;try{i(o)}catch(u){Na(u)}o.currentTarget=null,i=l}}}}function Ru(e,t){var n=t[Ve];void 0===n&&(n=t[Ve]=new Set);var r=e+"__bubble";n.has(r)||(Ou(t,e,2,!1),n.add(r))}function Pu(e,t,n){var r=0;t&&(r|=4),Ou(n,e,r,t)}var Au="_reactListening"+Math.random().toString(36).slice(2);function Du(e){if(!e[Au]){e[Au]=!0,Je.forEach((function(t){"selectionchange"!==t&&(Eu.has(t)||Pu(t,!1,e),Pu(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Au]||(t[Au]=!0,Pu("selectionchange",!1,t))}}function Ou(e,t,n,r){switch($d(t)){case 2:var o=Wd;break;case 8:o=Gd;break;default:o=Kd}n=o.bind(null,t,n,e),o=void 0,!Bt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Nu(e,t,n,r,o){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===o||8===s.nodeType&&s.parentNode===o)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===o||8===l.nodeType&&l.parentNode===o))return;a=a.return}for(;null!==s;){if(null===(a=Ke(s)))return;if(5===(l=a.tag)||6===l||26===l||27===l){r=i=a;continue e}s=s.parentNode}}r=r.return}Lt((function(){var r=i,o=At(n),a=[];e:{var s=wr.get(e);if(void 0!==s){var l=Jt,c=e;switch(e){case"keypress":if(0===qt(n))break e;case"keydown":case"keyup":l=fn;break;case"focusin":c="focus",l=on;break;case"focusout":c="blur",l=on;break;case"beforeblur":case"afterblur":l=on;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=nn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=rn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=gn;break;case pr:case fr:case mr:l=an;break;case br:l=vn;break;case"scroll":case"scrollend":l=en;break;case"wheel":l=yn;break;case"copy":case"cut":case"paste":l=sn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=mn;break;case"toggle":case"beforetoggle":l=bn}var u=0!==(4&t),d=!u&&("scroll"===e||"scrollend"===e),h=u?null!==s?s+"Capture":null:s;u=[];for(var p,f=r;null!==f;){var m=f;if(p=m.stateNode,5!==(m=m.tag)&&26!==m&&27!==m||null===p||null===h||null!=(m=Ft(f,h))&&u.push(Mu(f,m,p)),d)break;f=f.return}0<u.length&&(s=new l(s,c,null,n,o),a.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===Pt||!(c=n.relatedTarget||n.fromElement)||!Ke(c)&&!c[ze])&&(l||s)&&(s=o.window===o?o:(s=o.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?Ke(c):null)&&(d=F(c),u=c.tag,c!==d||5!==u&&27!==u&&6!==u)&&(c=null)):(l=null,c=r),l!==c)){if(u=nn,m="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=mn,m="onPointerLeave",h="onPointerEnter",f="pointer"),d=null==l?s:Ye(l),p=null==c?s:Ye(c),(s=new u(m,f+"leave",l,n,o)).target=d,s.relatedTarget=p,m=null,Ke(o)===r&&((u=new u(h,f+"enter",c,n,o)).target=p,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,f=0,p=u=l;p;p=Fu(p))f++;for(p=0,m=h;m;m=Fu(m))p++;for(;0<f-p;)u=Fu(u),f--;for(;0<p-f;)h=Fu(h),p--;for(;f--;){if(u===h||null!==h&&u===h.alternate)break e;u=Fu(u),h=Fu(h)}u=null}else u=null;null!==l&&Bu(a,s,l,u,!1),null!==c&&null!==d&&Bu(a,d,c,u,!0)}if("select"===(l=(s=r?Ye(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Fn;else if(An(s))if(Bn)g=Kn;else{g=Wn;var v=qn}else!(l=s.nodeName)||"input"!==l.toLowerCase()||"checkbox"!==s.type&&"radio"!==s.type?r&&It(r.elementType)&&(g=Fn):g=Gn;switch(g&&(g=g(e,r))?Dn(a,g,n,o):(v&&v(e,s,r),"focusout"===e&&r&&"number"===s.type&&null!=r.memoizedProps.value&&yt(s,"number",s.value)),v=r?Ye(r):window,e){case"focusin":(An(v)||"true"===v.contentEditable)&&(rr=v,or=r,ir=null);break;case"focusout":ir=or=rr=null;break;case"mousedown":ar=!0;break;case"contextmenu":case"mouseup":case"dragend":ar=!1,sr(a,n,o);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":sr(a,n,o)}var y;if(Cn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Rn?En(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Sn&&"ko"!==n.locale&&(Rn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Rn&&(y=Ht()):(Vt="value"in(zt=o)?zt.value:zt.textContent,Rn=!0)),0<(v=Lu(r,b)).length&&(b=new ln(b,e,null,n,o),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=Tn(n))&&(b.data=y))),(y=xn?function(e,t){switch(e){case"compositionend":return Tn(t);case"keypress":return 32!==t.which?null:(In=!0,kn);case"textInput":return(e=t.data)===kn&&In?null:e;default:return null}}(e,n):function(e,t){if(Rn)return"compositionend"===e||!Cn&&En(e,t)?(e=Ht(),Ut=Vt=zt=null,Rn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Sn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(b=Lu(r,"onBeforeInput")).length&&(v=new ln("onBeforeInput","beforeinput",null,n,o),a.push({event:v,listeners:b}),v.data=y)),function(e,t,n,r,o){if("submit"===t&&n&&n.stateNode===o){var i=_u((o[je]||null).action),a=r.submitter;a&&null!==(t=(t=a[je]||null)?_u(t.formAction):a.getAttribute("formAction"))&&(i=t,a=null);var s=new Jt("action","action",null,r,o);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==fu){var e=a?xu(o,a):new FormData(o);da(n,{pending:!0,data:e,method:o.method,action:i},null,e)}}else"function"===typeof i&&(s.preventDefault(),e=a?xu(o,a):new FormData(o),da(n,{pending:!0,data:e,method:o.method,action:i},i,e))},currentTarget:o}]})}}(a,e,r,n,o)}Tu(a,t)}))}function Mu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Lu(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;5!==(o=o.tag)&&26!==o&&27!==o||null===i||(null!=(o=Ft(e,n))&&r.unshift(Mu(e,o,i)),null!=(o=Ft(e,t))&&r.push(Mu(e,o,i))),e=e.return}return r}function Fu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Bu(e,t,n,r,o){for(var i=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(s=s.tag,null!==l&&l===r)break;5!==s&&26!==s&&27!==s||null===c||(l=c,o?null!=(c=Ft(n,i))&&a.unshift(Mu(n,c,l)):o||null!=(c=Ft(n,i))&&a.push(Mu(n,c,l))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var ju=/\r\n?/g,zu=/\u0000|\uFFFD/g;function Vu(e){return("string"===typeof e?e:""+e).replace(ju,"\n").replace(zu,"")}function Uu(e,t){return t=Vu(t),Vu(e)===t}function Hu(){}function qu(e,t,n,r,o,i){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||_t(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&_t(e,""+r);break;case"className":st(e,"class",r);break;case"tabIndex":st(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":st(e,n,r);break;case"style":kt(e,r,i);break;case"data":if("object"!==t){st(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Rt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof i&&("formAction"===n?("input"!==t&&qu(e,t,"name",o.name,o,null),qu(e,t,"formEncType",o.formEncType,o,null),qu(e,t,"formMethod",o.formMethod,o,null),qu(e,t,"formTarget",o.formTarget,o,null)):(qu(e,t,"encType",o.encType,o,null),qu(e,t,"method",o.method,o,null),qu(e,t,"target",o.target,o,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Rt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Hu);break;case"onScroll":null!=r&&Ru("scroll",e);break;case"onScrollEnd":null!=r&&Ru("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=o.children)throw Error(a(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Rt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Ru("beforetoggle",e),Ru("toggle",e),at(e,"popover",r);break;case"xlinkActuate":lt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":lt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":lt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":lt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":lt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":lt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":lt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":lt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":lt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":at(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&at(e,n=Et.get(n)||n,r)}}function Wu(e,t,n,r,o,i){switch(n){case"style":kt(e,r,i);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=o.children)throw Error(a(60));e.innerHTML=n}}break;case"children":"string"===typeof r?_t(e,r):("number"===typeof r||"bigint"===typeof r)&&_t(e,""+r);break;case"onScroll":null!=r&&Ru("scroll",e);break;case"onScrollEnd":null!=r&&Ru("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Hu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ze.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(o=n.endsWith("Capture"),t=n.slice(2,o?n.length-7:void 0),"function"===typeof(i=null!=(i=e[je]||null)?i[n]:null)&&e.removeEventListener(t,i,o),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):at(e,n,r):("function"!==typeof i&&null!==i&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,o)))}}function Gu(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ru("error",e),Ru("load",e);var r,o=!1,i=!1;for(r in n)if(n.hasOwnProperty(r)){var s=n[r];if(null!=s)switch(r){case"src":o=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:qu(e,t,r,s,n,null)}}return i&&qu(e,t,"srcSet",n.srcSet,n,null),void(o&&qu(e,t,"src",n.src,n,null));case"input":Ru("invalid",e);var l=r=s=i=null,c=null,u=null;for(o in n)if(n.hasOwnProperty(o)){var d=n[o];if(null!=d)switch(o){case"name":i=d;break;case"type":s=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(a(137,t));break;default:qu(e,t,o,d,n,null)}}return vt(e,r,l,c,u,s,i,!1),void dt(e);case"select":for(i in Ru("invalid",e),o=s=r=null,n)if(n.hasOwnProperty(i)&&null!=(l=n[i]))switch(i){case"value":r=l;break;case"defaultValue":s=l;break;case"multiple":o=l;default:qu(e,t,i,l,n,null)}return t=r,n=s,e.multiple=!!o,void(null!=t?bt(e,!!o,t,!1):null!=n&&bt(e,!!o,n,!0));case"textarea":for(s in Ru("invalid",e),r=i=o=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":o=l;break;case"defaultValue":i=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(a(91));break;default:qu(e,t,s,l,n,null)}return Ct(e,o,i,r),void dt(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(o=n[c]))if("selected"===c)e.selected=o&&"function"!==typeof o&&"symbol"!==typeof o;else qu(e,t,c,o,n,null);return;case"dialog":Ru("cancel",e),Ru("close",e);break;case"iframe":case"object":Ru("load",e);break;case"video":case"audio":for(o=0;o<Iu.length;o++)Ru(Iu[o],e);break;case"image":Ru("error",e),Ru("load",e);break;case"details":Ru("toggle",e);break;case"embed":case"source":case"link":Ru("error",e),Ru("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(o=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:qu(e,t,u,o,n,null)}return;default:if(It(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(o=n[d])&&Wu(e,t,d,o,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(o=n[l])&&qu(e,t,l,o,n,null))}var Ku=null,Qu=null;function Yu(e){return 9===e.nodeType?e:e.ownerDocument}function Xu(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $u(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function Ju(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Zu=null;var ed="function"===typeof setTimeout?setTimeout:void 0,td="function"===typeof clearTimeout?clearTimeout:void 0,nd="function"===typeof Promise?Promise:void 0,rd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof nd?function(e){return nd.resolve(null).then(e).catch(od)}:ed;function od(e){setTimeout((function(){throw e}))}function id(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0===r)return e.removeChild(o),void mh(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=o}while(n);mh(t)}function ad(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":ad(n),Ge(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function sd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}function ld(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function cd(e,t,n){switch(t=Yu(n),e){case"html":if(!(e=t.documentElement))throw Error(a(452));return e;case"head":if(!(e=t.head))throw Error(a(453));return e;case"body":if(!(e=t.body))throw Error(a(454));return e;default:throw Error(a(451))}}var ud=new Map,dd=new Set;function hd(e){return"function"===typeof e.getRootNode?e.getRootNode():e.ownerDocument}var pd=U.d;U.d={f:function(){var e=pd.f(),t=Bc();return e||t},r:function(e){var t=Qe(e);null!==t&&5===t.tag&&"form"===t.type?pa(t):pd.r(e)},D:function(e){pd.D(e),md("dns-prefetch",e,null)},C:function(e,t){pd.C(e,t),md("preconnect",e,t)},L:function(e,t,n){pd.L(e,t,n);var r=fd;if(r&&e&&t){var o='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(o+='[imagesrcset="'+mt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(o+='[imagesizes="'+mt(n.imageSizes)+'"]')):o+='[href="'+mt(e)+'"]';var i=o;switch(t){case"style":i=vd(e);break;case"script":i=wd(e)}ud.has(i)||(e=A({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),ud.set(i,e),null!==r.querySelector(o)||"style"===t&&r.querySelector(yd(i))||"script"===t&&r.querySelector(Cd(i))||(Gu(t=r.createElement("link"),"link",e),$e(t),r.head.appendChild(t)))}},m:function(e,t){pd.m(e,t);var n=fd;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",o='link[rel="modulepreload"][as="'+mt(r)+'"][href="'+mt(e)+'"]',i=o;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=wd(e)}if(!ud.has(i)&&(e=A({rel:"modulepreload",href:e},t),ud.set(i,e),null===n.querySelector(o))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Cd(i)))return}Gu(r=n.createElement("link"),"link",e),$e(r),n.head.appendChild(r)}}},X:function(e,t){pd.X(e,t);var n=fd;if(n&&e){var r=Xe(n).hoistableScripts,o=wd(e),i=r.get(o);i||((i=n.querySelector(Cd(o)))||(e=A({src:e,async:!0},t),(t=ud.get(o))&&kd(e,t),$e(i=n.createElement("script")),Gu(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(o,i))}},S:function(e,t,n){pd.S(e,t,n);var r=fd;if(r&&e){var o=Xe(r).hoistableStyles,i=vd(e);t=t||"default";var a=o.get(i);if(!a){var s={loading:0,preload:null};if(a=r.querySelector(yd(i)))s.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":t},n),(n=ud.get(i))&&Sd(e,n);var l=a=r.createElement("link");$e(l),Gu(l,"link",e),l._p=new Promise((function(e,t){l.onload=e,l.onerror=t})),l.addEventListener("load",(function(){s.loading|=1})),l.addEventListener("error",(function(){s.loading|=2})),s.loading|=4,xd(a,t,r)}a={type:"stylesheet",instance:a,count:1,state:s},o.set(i,a)}}},M:function(e,t){pd.M(e,t);var n=fd;if(n&&e){var r=Xe(n).hoistableScripts,o=wd(e),i=r.get(o);i||((i=n.querySelector(Cd(o)))||(e=A({src:e,async:!0,type:"module"},t),(t=ud.get(o))&&kd(e,t),$e(i=n.createElement("script")),Gu(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(o,i))}}};var fd="undefined"===typeof document?null:document;function md(e,t,n){var r=fd;if(r&&"string"===typeof t&&t){var o=mt(t);o='link[rel="'+e+'"][href="'+o+'"]',"string"===typeof n&&(o+='[crossorigin="'+n+'"]'),dd.has(o)||(dd.add(o),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(o)&&(Gu(t=r.createElement("link"),"link",e),$e(t),r.head.appendChild(t)))}}function gd(e,t,n,r){var o,i,s,l,c=(c=$.current)?hd(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=vd(n.href),(r=(n=Xe(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=vd(n.href);var u=Xe(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(yd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),ud.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},ud.set(e,n),u||(o=c,i=e,s=n,l=d.state,o.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=o.createElement("link"),l.preload=i,i.addEventListener("load",(function(){return l.loading|=1})),i.addEventListener("error",(function(){return l.loading|=2})),Gu(i,"link",s),$e(i),o.head.appendChild(i))))),t&&null===r)throw Error(a(528,""));return d}if(t&&null!==r)throw Error(a(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=wd(n),(r=(n=Xe(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function vd(e){return'href="'+mt(e)+'"'}function yd(e){return'link[rel="stylesheet"]['+e+"]"}function bd(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function wd(e){return'[src="'+mt(e)+'"]'}function Cd(e){return"script[async]"+e}function _d(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+mt(n.href)+'"]');if(r)return t.instance=r,$e(r),r;var o=A({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return $e(r=(e.ownerDocument||e).createElement("style")),Gu(r,"style",o),xd(r,n.precedence,e),t.instance=r;case"stylesheet":o=vd(n.href);var i=e.querySelector(yd(o));if(i)return t.state.loading|=4,t.instance=i,$e(i),i;r=bd(n),(o=ud.get(o))&&Sd(r,o),$e(i=(e.ownerDocument||e).createElement("link"));var s=i;return s._p=new Promise((function(e,t){s.onload=e,s.onerror=t})),Gu(i,"link",r),t.state.loading|=4,xd(i,n.precedence,e),t.instance=i;case"script":return i=wd(n.src),(o=e.querySelector(Cd(i)))?(t.instance=o,$e(o),o):(r=n,(o=ud.get(i))&&kd(r=A({},n),o),$e(o=(e=e.ownerDocument||e).createElement("script")),Gu(o,"link",r),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(a(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,xd(r,n.precedence,e));return t.instance}function xd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=r.length?r[r.length-1]:null,i=o,a=0;a<r.length;a++){var s=r[a];if(s.dataset.precedence===t)i=s;else if(i!==o)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Sd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function kd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Id=null;function Ed(e,t,n){if(null===Id){var r=new Map,o=Id=new Map;o.set(n,r)}else(r=(o=Id).get(n))||(r=new Map,o.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),o=0;o<n.length;o++){var i=n[o];if(!(i[We]||i[Be]||"link"===e&&"stylesheet"===i.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==i.namespaceURI){var a=i.getAttribute(t)||"";a=e+a;var s=r.get(a);s?s.push(i):r.set(a,[i])}}return r}function Td(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Rd(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Pd=null;function Ad(){}function Dd(){if(this.count--,0===this.count)if(this.stylesheets)Nd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Od=null;function Nd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Od=new Map,t.forEach(Md,e),Od=null,Dd.call(e))}function Md(e,t){if(!(4&t.state.loading)){var n=Od.get(e);if(n)var r=n.get(null);else{n=new Map,Od.set(e,n);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<o.length;i++){var a=o[i];"LINK"!==a.nodeName&&"not all"===a.getAttribute("media")||(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}a=(o=t.instance).getAttribute("data-precedence"),(i=n.get(a)||r)===r&&n.set(null,o),n.set(a,o),this.count++,r=Dd.bind(this),o.addEventListener("load",r),o.addEventListener("error",r),i?i.parentNode.insertBefore(o,i.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(o,e.firstChild),t.state.loading|=4}}var Ld={$$typeof:g,Provider:null,Consumer:null,_currentValue:H,_currentValue2:H,_threadCount:0};function Fd(e,t,n,r,o,i,a,s){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ae(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ae(0),this.hiddenUpdates=Ae(null),this.identifierPrefix=r,this.onUncaughtError=o,this.onCaughtError=i,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function Bd(e,t,n,r,o,i,a,s,l,c,u,d){return e=new Fd(e,t,n,a,s,l,c,d),t=1,!0===i&&(t|=24),i=Ml(3,null,null,t),e.current=i,i.stateNode=e,(t=Vo()).refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:r,isDehydrated:n,cache:t},Rs(i),e}function jd(e){return e?e=Dr:Dr}function zd(e,t,n,r,o,i){o=jd(o),null===r.context?r.context=o:r.pendingContext=o,(r=As(t)).payload={element:n},null!==(i=void 0===i?null:i)&&(r.callback=i),null!==(n=Ds(e,r,t))&&(Dc(n,0,t),Os(n,e,t))}function Vd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Ud(e,t){Vd(e,t),(e=e.alternate)&&Vd(e,t)}function Hd(e){if(13===e.tag){var t=Rr(e,67108864);null!==t&&Dc(t,0,67108864),Ud(e,67108864)}}var qd=!0;function Wd(e,t,n,r){var o=P.T;P.T=null;var i=U.p;try{U.p=2,Kd(e,t,n,r)}finally{U.p=i,P.T=o}}function Gd(e,t,n,r){var o=P.T;P.T=null;var i=U.p;try{U.p=8,Kd(e,t,n,r)}finally{U.p=i,P.T=o}}function Kd(e,t,n,r){if(qd){var o=Qd(r);if(null===o)Nu(e,t,r,Yd,n),ah(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return Zd=sh(Zd,e,t,n,r,o),!0;case"dragenter":return eh=sh(eh,e,t,n,r,o),!0;case"mouseover":return th=sh(th,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return nh.set(i,sh(nh.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,rh.set(i,sh(rh.get(i)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(ah(e,r),4&t&&-1<ih.indexOf(e)){for(;null!==o;){var i=Qe(o);if(null!==i)switch(i.tag){case 3:if((i=i.stateNode).current.memoizedState.isDehydrated){var a=ke(i.pendingLanes);if(0!==a){var s=i;for(s.pendingLanes|=2,s.entangledLanes|=2;a;){var l=1<<31-we(a);s.entanglements[1]|=l,a&=~l}mu(i),0===(6&ec)&&(wc=le()+500,gu(0,!1))}}break;case 13:null!==(s=Rr(i,2))&&Dc(s,0,2),Bc(),Ud(i,2)}if(null===(i=Qd(r))&&Nu(e,t,r,Yd,n),i===o)break;o=i}null!==o&&r.stopPropagation()}else Nu(e,t,r,null,n)}}function Qd(e){return Xd(e=At(e))}var Yd=null;function Xd(e){if(Yd=null,null!==(e=Ke(e))){var t=F(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=B(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Yd=e,null}function $d(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case ue:return 2;case de:return 8;case he:case pe:return 32;case fe:return 268435456;default:return 32}default:return 32}}var Jd=!1,Zd=null,eh=null,th=null,nh=new Map,rh=new Map,oh=[],ih="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ah(e,t){switch(e){case"focusin":case"focusout":Zd=null;break;case"dragenter":case"dragleave":eh=null;break;case"mouseover":case"mouseout":th=null;break;case"pointerover":case"pointerout":nh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":rh.delete(t.pointerId)}}function sh(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},null!==t&&(null!==(t=Qe(t))&&Hd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function lh(e){var t=Ke(e.target);if(null!==t){var n=F(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=B(n)))return e.blockedOn=t,void function(e,t){var n=U.p;try{return U.p=e,t()}finally{U.p=n}}(e.priority,(function(){if(13===n.tag){var e=Pc(),t=Rr(n,e);null!==t&&Dc(t,0,e),Ud(n,e)}}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function ch(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qd(e.nativeEvent);if(null!==n)return null!==(t=Qe(n))&&Hd(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Pt=r,n.target.dispatchEvent(r),Pt=null,t.shift()}return!0}function uh(e,t,n){ch(e)&&n.delete(t)}function dh(){Jd=!1,null!==Zd&&ch(Zd)&&(Zd=null),null!==eh&&ch(eh)&&(eh=null),null!==th&&ch(th)&&(th=null),nh.forEach(uh),rh.forEach(uh)}function hh(e,t){e.blockedOn===t&&(e.blockedOn=null,Jd||(Jd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,dh)))}var ph=null;function fh(e){ph!==e&&(ph=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,(function(){ph===e&&(ph=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],o=e[t+2];if("function"!==typeof r){if(null===Xd(r||n))continue;break}var i=Qe(n);null!==i&&(e.splice(t,3),t-=3,da(i,{pending:!0,data:o,method:n.method,action:r},r,o))}})))}function mh(e){function t(t){return hh(t,e)}null!==Zd&&hh(Zd,e),null!==eh&&hh(eh,e),null!==th&&hh(th,e),nh.forEach(t),rh.forEach(t);for(var n=0;n<oh.length;n++){var r=oh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<oh.length&&null===(n=oh[0]).blockedOn;)lh(n),null===n.blockedOn&&oh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var o=n[r],i=n[r+1],a=o[je]||null;if("function"===typeof i)a||fh(n);else if(a){var s=null;if(i&&i.hasAttribute("formAction")){if(o=i,a=i[je]||null)s=a.formAction;else if(null!==Xd(o))continue}else s=a.action;"function"===typeof s?n[r+1]=s:(n.splice(r,3),r-=3),fh(n)}}}function gh(e){this._internalRoot=e}function vh(e){this._internalRoot=e}vh.prototype.render=gh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));zd(t.current,Pc(),e,t,null,null)},vh.prototype.unmount=gh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;0===e.tag&&tu(),zd(e.current,2,null,e,null,null),Bc(),t[ze]=null}},vh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Le();e={blockedOn:null,target:e,priority:t};for(var n=0;n<oh.length&&0!==t&&t<oh[n].priority;n++);oh.splice(n,0,e),0===n&&lh(e)}};var yh=o.version;if("19.0.0"!==yh)throw Error(a(527,yh,"19.0.0"));U.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=F(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var i=o.alternate;if(null===i){if(null!==(r=o.return)){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return j(o),e;if(i===r)return j(o),t;i=i.sibling}throw Error(a(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?z(e):null)?null:e.stateNode};var bh={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:P,findFiberByHostInstance:Ke,reconcilerVersion:"19.0.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var wh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wh.isDisabled&&wh.supportsFiber)try{ve=wh.inject(bh),ye=wh}catch(_h){}}t.createRoot=function(e,t){if(!s(e))throw Error(a(299));var n=!1,r="",o=Ma,i=La,l=Fa;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(o=t.onUncaughtError),void 0!==t.onCaughtError&&(i=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Bd(e,1,!1,null,0,n,r,o,i,l,0,null),e[ze]=t.current,Du(8===e.nodeType?e.parentNode:e),new gh(t)},t.hydrateRoot=function(e,t,n){if(!s(e))throw Error(a(299));var r=!1,o="",i=Ma,l=La,c=Fa,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onUncaughtError&&(i=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Bd(e,1,!0,t,0,r,o,i,l,c,0,u)).context=jd(null),n=t.current,(o=As(r=Pc())).callback=null,Ds(n,o,r),t.current.lanes=r,De(t,r),mu(t),e[ze]=t.current,Du(e),new vh(t)},t.version="19.0.0"},6672:(e,t,n)=>{"use strict";var r=n(5043);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(o(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},s=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(o(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:s,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=a.p;try{if(l.T=null,a.p=2,e)return e()}finally{l.T=t,a.p=n,a.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,a.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&a.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),o="string"===typeof t.integrity?t.integrity:void 0,i="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?a.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:o,fetchPriority:i}):"script"===n&&a.d.X(e,{crossOrigin:r,integrity:o,fetchPriority:i,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);a.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&a.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);a.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);a.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else a.d.m(e)},t.requestFormReset=function(e){a.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.0.0"},4391:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(7004)},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(6672)},4358:(e,t)=>{"use strict";const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,o=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,s=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function l(e,t,n){do{const n=e.charCodeAt(t);if(32!==n&&9!==n)return t}while(++t<n);return n}function c(e,t,n){for(;t>n;){const n=e.charCodeAt(--t);if(32!==n&&9!==n)return t+1}return n}function u(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},2799:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function o(e,t,r){var o=null;if(void 0!==r&&(o=""+r),void 0!==t.key&&(o=""+t.key),"key"in t)for(var i in r={},t)"key"!==i&&(r[i]=t[i]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:o,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=o,t.jsxs=o},4288:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,m(w,v.prototype),w.isPureReactComponent=!0;var C=Array.isArray,_={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function S(e,t,r,o,i,a){return r=a.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:a}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(){}function R(e,t,o,i,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(s){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case h:return R((u=e._init)(e._payload),t,o,i,a)}}if(u)return a=a(e),u=""===i?"."+E(e,0):i,C(a)?(o="",null!=u&&(o=u.replace(I,"$&/")+"/"),R(a,t,o,"",(function(e){return e}))):null!=a&&(k(a)&&(l=a,c=o+(null==a.key||e&&e.key===a.key?"":(""+a.key).replace(I,"$&/")+"/")+u,a=S(l.type,c,void 0,0,0,l.props)),t.push(a)),1;u=0;var d,f=""===i?".":i+":";if(C(e))for(var m=0;m<e.length;m++)u+=R(i=e[m],t,o,s=f+E(i,m),a);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=p&&d[p]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(i=e.next()).done;)u+=R(i=i.value,t,o,s=f+E(i,m++),a);else if("object"===s){if("function"===typeof e.then)return R(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(T,T):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,o,i,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function P(e,t,n){if(null==e)return e;var r=[],o=0;return R(e,r,"","",(function(e){return t.call(n,e,o++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function O(){}t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=o,t.Profiler=a,t.PureComponent=b,t.StrictMode=i,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_,t.act=function(){throw Error("act(...) is not supported in production builds of React.")},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),o=e.key;if(null!=t)for(i in void 0!==t.ref&&void 0,void 0!==t.key&&(o=""+t.key),t)!x.call(t,i)||"key"===i||"__self"===i||"__source"===i||"ref"===i&&void 0===t.ref||(r[i]=t[i]);var i=arguments.length-2;if(1===i)r.children=n;else if(1<i){for(var a=Array(i),s=0;s<i;s++)a[s]=arguments[s+2];r.children=a}return S(e.type,o,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:s,_context:e},e},t.createElement=function(e,t,n){var r,o={},i=null;if(null!=t)for(r in void 0!==t.key&&(i=""+t.key),t)x.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(o[r]=t[r]);var a=arguments.length-2;if(1===a)o.children=n;else if(1<a){for(var s=Array(a),l=0;l<a;l++)s[l]=arguments[l+2];o.children=s}if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===o[r]&&(o[r]=a[r]);return S(e,i,void 0,0,0,o)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=_.T,n={};_.T=n;try{var r=e(),o=_.S;null!==o&&o(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(O,D)}catch(i){D(i)}finally{_.T=t}},t.unstable_useCacheRefresh=function(){return _.H.useCacheRefresh()},t.use=function(e){return _.H.use(e)},t.useActionState=function(e,t,n){return _.H.useActionState(e,t,n)},t.useCallback=function(e,t){return _.H.useCallback(e,t)},t.useContext=function(e){return _.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return _.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return _.H.useEffect(e,t)},t.useId=function(){return _.H.useId()},t.useImperativeHandle=function(e,t,n){return _.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return _.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return _.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return _.H.useMemo(e,t)},t.useOptimistic=function(e,t){return _.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return _.H.useReducer(e,t,n)},t.useRef=function(e){return _.H.useRef(e)},t.useState=function(e){return _.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return _.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return _.H.useTransition()},t.version="19.0.0"},5043:(e,t,n)=>{"use strict";e.exports=n(4288)},579:(e,t,n)=>{"use strict";e.exports=n(2799)},5896:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,a=o>>>1;r<a;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>i(l,n))c<o&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<o&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,p=3,f=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)o(u);else{if(!(t.startTime<=e))break;o(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function C(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,A();else{var t=r(u);null!==t&&D(C,t.startTime-e)}}var _,x=!1,S=-1,k=5,I=-1;function E(){return!(t.unstable_now()-I<k)}function T(){if(x){var e=t.unstable_now();I=e;var n=!0;try{e:{m=!1,g&&(g=!1,y(S),S=-1),f=!0;var i=p;try{t:{for(w(e),h=r(c);null!==h&&!(h.expirationTime>e&&E());){var a=h.callback;if("function"===typeof a){h.callback=null,p=h.priorityLevel;var s=a(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof s){h.callback=s,w(e),n=!0;break t}h===r(c)&&o(c),w(e)}else o(c);h=r(c)}if(null!==h)n=!0;else{var l=r(u);null!==l&&D(C,l.startTime-e),n=!1}}break e}finally{h=null,p=i,f=!1}n=void 0}}finally{n?_():x=!1}}}if("function"===typeof b)_=function(){b(T)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,P=R.port2;R.port1.onmessage=T,_=function(){P.postMessage(null)}}else _=function(){v(T,0)};function A(){x||(x=!0,_())}function D(e,n){S=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,A())},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,o,i){var a=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?a+i:a:i=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:o,priorityLevel:e,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>a?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(g?(y(S),S=-1):g=!0,D(C,i-a))):(e.sortIndex=s,n(c,e),m||f||(m=!0,A())),e},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},8853:(e,t,n)=>{"use strict";e.exports=n(5896)},6884:(e,t,n)=>{const r=n(7346);e.exports={recognize:async(e,t,n)=>{const o=await r(t,1,n);return o.recognize(e).finally((async()=>{await o.terminate()}))},detect:async(e,t)=>{const n=await r("osd",0,t);return n.detect(e).finally((async()=>{await n.terminate()}))}}},9511:e=>{e.exports={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3}},4588:e=>{e.exports={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"}},5147:e=>{e.exports={workerBlobURL:!0,logger:()=>{}}},5571:e=>{e.exports={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"}},5701:(e,t,n)=>{const r=n(9593);let o=0;e.exports=e=>{let{id:t,action:n,payload:i={}}=e,a=t;return"undefined"===typeof a&&(a=r("Job",o),o+=1),{id:a,action:n,payload:i}}},4447:function(e,t,n){const r=n(5701),{log:o}=n(9926),i=n(9593);let a=0;e.exports=()=>{const e=i("Scheduler",a),t={},n={};let s=[];a+=1;const l=()=>Object.keys(t).length,c=()=>{if(0!==s.length){const e=Object.keys(t);for(let r=0;r<e.length;r+=1)if("undefined"===typeof n[e[r]]){s[0](t[e[r]]);break}}},u=(t,i)=>new Promise(((a,l)=>{const u=r({action:t,payload:i});s.push((async e=>{s.shift(),n[e.id]=u;try{a(await e[t].apply(this,[...i,u.id]))}catch(r){l(r)}finally{delete n[e.id],c()}})),o("[".concat(e,"]: Add ").concat(u.id," to JobQueue")),o("[".concat(e,"]: JobQueue length=").concat(s.length)),c()}));return{addWorker:n=>(t[n.id]=n,o("[".concat(e,"]: Add ").concat(n.id)),o("[".concat(e,"]: Number of workers=").concat(l())),c(),n.id),addJob:async function(t){if(0===l())throw Error("[".concat(e,"]: You need to have at least one worker before adding jobs"));for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return u(t,r)},terminate:async()=>{Object.keys(t).forEach((async e=>{await t[e].terminate()})),s=[]},getQueueLen:()=>s.length,getNumWorkers:l}}},7346:(e,t,n)=>{var r=n(2897).default,o=n(1847).default;const i=["logger","errorHandler"],a=n(4402),s=n(3057),l=n(5701),{log:c}=n(9926),u=n(9593),d=n(9511),{defaultOptions:h,spawnWorker:p,terminateWorker:f,onMessage:m,loadImage:g,send:v}=n(2034);let y=0;e.exports=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"eng",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.LSTM_ONLY,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},b=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const w=u("Worker",y),C=a(r(r({},h),n)),{logger:_,errorHandler:x}=C,S=o(C,i),k={},I={},E="string"===typeof e?e.split("+"):e;let T=t,R=b;const P=[d.DEFAULT,d.LSTM_ONLY].includes(t)&&!S.legacyCore;let A,D;const O=new Promise(((e,t)=>{D=e,A=t}));let N=p(S);N.onerror=e=>{A(e.message)},y+=1;const M=(e,t)=>{k[e]=t},L=(e,t)=>{I[e]=t},F=e=>{let{id:t,action:n,payload:r}=e;return new Promise(((e,o)=>{c("[".concat(w,"]: Start ").concat(t,", action=").concat(n)),M(n,e),L(n,o),v(N,{workerId:w,jobId:t,action:n,payload:r})}))},B=(e,t)=>F(l({id:t,action:"loadLanguage",payload:{langs:e,options:{langPath:S.langPath,dataPath:S.dataPath,cachePath:S.cachePath,cacheMethod:S.cacheMethod,gzip:S.gzip,lstmOnly:[d.LSTM_ONLY,d.TESSERACT_LSTM_COMBINED].includes(T)&&!S.legacyLang}}})),j=(e,t,n,r)=>F(l({id:r,action:"initialize",payload:{langs:e,oem:t,config:n}}));m(N,(e=>{let{workerId:t,jobId:n,status:o,action:i,data:a}=e;if("resolve"===o){c("[".concat(t,"]: Complete ").concat(n));let e=a;"recognize"===i?e=s(a):"getPDF"===i&&(e=Array.from(r(r({},a),{},{length:Object.keys(a).length}))),k[i]({jobId:n,data:e})}else if("reject"===o){if(I[i](a),"load"===i&&A(a),!x)throw Error(a);x(a)}else"progress"===o&&_(r(r({},a),{},{userJobId:n}))}));const z={id:w,worker:N,setResolve:M,setReject:L,load:()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),writeText:(e,t,n)=>F(l({id:n,action:"FS",payload:{method:"writeFile",args:[e,t]}})),readText:(e,t)=>F(l({id:t,action:"FS",payload:{method:"readFile",args:[e,{encoding:"utf8"}]}})),removeFile:(e,t)=>F(l({id:t,action:"FS",payload:{method:"unlink",args:[e]}})),FS:(e,t,n)=>F(l({id:n,action:"FS",payload:{method:e,args:t}})),loadLanguage:()=>console.warn("`loadLanguage` is depreciated and should be removed from code (workers now come with language pre-loaded)"),initialize:()=>console.warn("`initialize` is depreciated and should be removed from code (workers now come pre-initialized)"),reinitialize:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"eng",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if(P&&[d.TESSERACT_ONLY,d.TESSERACT_LSTM_COMBINED].includes(t))throw Error("Legacy model requested but code missing.");const o=t||T;T=o;const i=n||R;R=i;const a=("string"===typeof e?e.split("+"):e).filter((e=>!E.includes(e)));return E.push(...a),a.length>0?B(a,r).then((()=>j(e,o,i,r))):j(e,o,i,r)},setParameters:function(){return F(l({id:arguments.length>1?arguments[1]:void 0,action:"setParameters",payload:{params:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}}))},recognize:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{blocks:!0,text:!0,hocr:!0,tsv:!0};return F(l({id:arguments.length>3?arguments[3]:void 0,action:"recognize",payload:{image:await g(e),options:t,output:n}}))},getPDF:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Tesseract OCR Result",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;return console.log("`getPDF` function is depreciated. `recognize` option `savePDF` should be used instead."),F(l({id:n,action:"getPDF",payload:{title:e,textonly:t}}))},detect:async(e,t)=>{if(P)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return F(l({id:t,action:"detect",payload:{image:await g(e)}}))},terminate:async()=>(null!==N&&(f(N),N=null),Promise.resolve())};var V;return F(l({id:V,action:"load",payload:{options:{lstmOnly:P,corePath:S.corePath,logging:S.logging}}})).then((()=>B(e))).then((()=>j(e,t,b))).then((()=>D(z))).catch((()=>{})),O}},9938:(e,t,n)=>{var r=n(2897).default;const o=n(4447),i=n(7346),a=n(6884),s=n(5571),l=n(9511),c=n(4588),{setLogging:u}=n(9926);e.exports=r({languages:s,OEM:l,PSM:c,createScheduler:o,createWorker:i,setLogging:u},a)},3057:(e,t,n)=>{var r=n(2897).default;e.exports=e=>{const t=[],n=[],o=[],i=[],a=[];return e.blocks&&e.blocks.forEach((s=>{s.paragraphs.forEach((t=>{t.lines.forEach((n=>{n.words.forEach((o=>{o.symbols.forEach((i=>{a.push(r(r({},i),{},{page:e,block:s,paragraph:t,line:n,word:o}))})),i.push(r(r({},o),{},{page:e,block:s,paragraph:t,line:n}))})),o.push(r(r({},n),{},{page:e,block:s,paragraph:t}))})),n.push(r(r({},t),{},{page:e,block:s}))})),t.push(r(r({},s),{},{page:e}))})),r(r({},e),{},{blocks:t,paragraphs:n,lines:o,words:i,symbols:a})}},9003:(e,t,n)=>{const r=n(4053);e.exports=e=>{const t={};return"undefined"!==typeof WorkerGlobalScope?t.type="webworker":r()?t.type="electron":"object"===typeof document?t.type="browser":"object"===typeof process&&(t.type="node"),"undefined"===typeof e?t:t[e]}},9593:e=>{e.exports=(e,t)=>"".concat(e,"-").concat(t,"-").concat(Math.random().toString(16).slice(3,8))},9926:function(e,t){var n=this;let r=!1;t.logging=r,t.setLogging=e=>{r=e},t.log=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return r?console.log.apply(n,t):null}},4402:(e,t,n)=>{var r=n(2897).default;const o="browser"===n(9003)("type")?e=>new URL(e,window.location.href).href:e=>e;e.exports=e=>{const t=r({},e);return["corePath","workerPath","langPath"].forEach((n=>{e[n]&&(t[n]=o(t[n]))})),t}},1597:(e,t,n)=>{var r=n(2897).default;const o=n(6125).rE,i=n(5147);e.exports=r(r({},i),{},{workerPath:"https://cdn.jsdelivr.net/npm/tesseract.js@v".concat(o,"/dist/worker.min.js")})},2034:(e,t,n)=>{const r=n(1597),o=n(5095),i=n(4871),a=n(1942),s=n(7870),l=n(383);e.exports={defaultOptions:r,spawnWorker:o,terminateWorker:i,onMessage:a,send:s,loadImage:l}},383:e=>{const t=e=>new Promise(((t,n)=>{const r=new FileReader;r.onload=()=>{t(r.result)},r.onerror=e=>{let{target:{error:{code:t}}}=e;n(Error("File could not be read! Code=".concat(t)))},r.readAsArrayBuffer(e)})),n=async e=>{let r=e;if("undefined"===typeof e)return"undefined";if("string"===typeof e)if(/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(e))r=atob(e.split(",")[1]).split("").map((e=>e.charCodeAt(0)));else{const t=await fetch(e);r=await t.arrayBuffer()}else if("undefined"!==typeof HTMLElement&&e instanceof HTMLElement)"IMG"===e.tagName&&(r=await n(e.src)),"VIDEO"===e.tagName&&(r=await n(e.poster)),"CANVAS"===e.tagName&&await new Promise((n=>{e.toBlob((async e=>{r=await t(e),n()}))}));else if("undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas){const n=await e.convertToBlob();r=await t(n)}else(e instanceof File||e instanceof Blob)&&(r=await t(e));return new Uint8Array(r)};e.exports=n},1942:e=>{e.exports=(e,t)=>{e.onmessage=e=>{let{data:n}=e;t(n)}}},7870:e=>{e.exports=async(e,t)=>{e.postMessage(t)}},5095:e=>{e.exports=e=>{let t,{workerPath:n,workerBlobURL:r}=e;if(Blob&&URL&&r){const e=new Blob(['importScripts("'.concat(n,'");')],{type:"application/javascript"});t=new Worker(URL.createObjectURL(e))}else t=new Worker(n);return t}},4871:e=>{e.exports=e=>{e.terminate()}},3693:(e,t,n)=>{var r=n(7736);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},6305:(e,t,n)=>{var r=n(3738).default;function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}e.exports=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&{}.hasOwnProperty.call(e,s)){var l=a?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(i,s,l):i[s]=e[s]}return i.default=e,n&&n.set(e,i),i},e.exports.__esModule=!0,e.exports.default=e.exports},2897:(e,t,n)=>{var r=n(3693);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},1847:(e,t,n)=>{var r=n(4893);e.exports=function(e,t){if(null==e)return{};var n,o,i=r(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i},e.exports.__esModule=!0,e.exports.default=e.exports},4893:e=>{e.exports=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n},e.exports.__esModule=!0,e.exports.default=e.exports},9045:(e,t,n)=>{var r=n(3738).default;e.exports=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},7736:(e,t,n)=>{var r=n(3738).default,o=n(9045);e.exports=function(e){var t=o(e,"string");return"symbol"==r(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},3738:e=>{function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},6125:e=>{"use strict";e.exports={rE:"5.0.3"}},1725:e=>{"use strict";e.exports=JSON.parse('[{"floss":"3713","name":"Salmon Very Light","r":255,"g":226,"b":226,"hex":"#FFE2E2","row":"row 01-01"},{"floss":"761","name":"Salmon Light","r":255,"g":201,"b":201,"hex":"#FFC9C9","row":"row 01-02"},{"floss":"760","name":"Salmon","r":245,"g":173,"b":173,"hex":"#F5ADAD","row":"row 01-03"},{"floss":"3712","name":"Salmon Medium","r":241,"g":135,"b":135,"hex":"#F18787","row":"row 01-04"},{"floss":"3328","name":"Salmon Dark","r":227,"g":109,"b":109,"hex":"#E36D6D","row":"row 01-05"},{"floss":"347","name":"Salmon Very Dark","r":191,"g":45,"b":45,"hex":"#BF2D2D","row":"row 01-06"},{"floss":"353","name":"Peach","r":254,"g":215,"b":204,"hex":"#FED7CC","row":"row 01-07"},{"floss":"352","name":"Coral Light","r":253,"g":156,"b":151,"hex":"#FD9C97","row":"row 01-08"},{"floss":"351","name":"Coral","r":233,"g":106,"b":103,"hex":"#E96A67","row":"row 01-09"},{"floss":"350","name":"Coral Medium","r":224,"g":72,"b":72,"hex":"#E04848","row":"row 01-10"},{"floss":"349","name":"Coral Dark","r":210,"g":16,"b":53,"hex":"#D21035","row":"row 01-11"},{"floss":"817","name":"Coral Red Very Dark","r":187,"g":5,"b":31,"hex":"#BB051F","row":"row 01-12"},{"floss":"3708","name":"Melon Light","r":255,"g":203,"b":213,"hex":"#FFCBD5","row":"row 01-13"},{"floss":"3706","name":"Melon Medium","r":255,"g":173,"b":188,"hex":"#FFADBC","row":"row 01-14"},{"floss":"3705","name":"Melon Dark","r":255,"g":121,"b":146,"hex":"#FF7992","row":"row 01-15"},{"floss":"3801","name":"Melon Very Dark","r":231,"g":73,"b":103,"hex":"#E74967","row":"row 01-16"},{"floss":"666","name":"Bright Red","r":227,"g":29,"b":66,"hex":"#E31D42","row":"row 01-17"},{"floss":"321","name":"Red","r":199,"g":43,"b":59,"hex":"#C72B3B","row":"row 01-18"},{"floss":"304","name":"Red Medium","r":183,"g":31,"b":51,"hex":"#B71F33","row":"row 01-19"},{"floss":"498","name":"Red Dark","r":167,"g":19,"b":43,"hex":"#A7132B","row":"row 01-20"},{"floss":"816","name":"Garnet","r":151,"g":11,"b":35,"hex":"#970B23","row":"row 01-21"},{"floss":"815","name":"Garnet Medium","r":135,"g":7,"b":31,"hex":"#87071F","row":"row 01-22"},{"floss":"814","name":"Garnet Dark","r":123,"g":0,"b":27,"hex":"#7B001B","row":"row 01-23"},{"floss":"894","name":"Carnation Very Light","r":255,"g":178,"b":187,"hex":"#FFB2BB","row":"row 02-01"},{"floss":"893","name":"Carnation Light","r":252,"g":144,"b":162,"hex":"#FC90A2","row":"row 02-02"},{"floss":"892","name":"Carnation Medium","r":255,"g":121,"b":140,"hex":"#FF798C","row":"row 02-03"},{"floss":"891","name":"Carnation Dark","r":255,"g":87,"b":115,"hex":"#FF5773","row":"row 02-04"},{"floss":"818","name":"Baby Pink","r":255,"g":223,"b":217,"hex":"#FFDFD9","row":"row 02-05"},{"floss":"957","name":"Geranium Pale","r":253,"g":181,"b":181,"hex":"#FDB5B5","row":"row 02-06"},{"floss":"956","name":"Geranium","r":255,"g":145,"b":145,"hex":"#FF9191","row":"row 02-07"},{"floss":"309","name":"Rose Dark","r":86,"g":74,"b":74,"hex":"#BA4A4A","row":"row 02-08"},{"floss":"963","name":"Dusty Rose Ult Vy Lt","r":255,"g":215,"b":215,"hex":"#FFD7D7","row":"row 02-09"},{"floss":"3716","name":"Dusty Rose Med Vy Lt","r":255,"g":189,"b":189,"hex":"#FFBDBD","row":"row 02-10"},{"floss":"962","name":"Dusty Rose Medium","r":230,"g":138,"b":138,"hex":"#E68A8A","row":"row 02-11"},{"floss":"961","name":"Dusty Rose Dark","r":207,"g":115,"b":115,"hex":"#CF7373","row":"row 02-12"},{"floss":"3833","name":"Raspberry Light","r":234,"g":134,"b":153,"hex":"#EA8699","row":"row 02-13"},{"floss":"3832","name":"Raspberry Medium","r":219,"g":85,"b":110,"hex":"#DB556E","row":"row 02-14"},{"floss":"3831","name":"Raspberry Dark","r":179,"g":47,"b":72,"hex":"#B32F48","row":"row 02-15"},{"floss":"777","name":"Raspberry Very Dark","r":145,"g":53,"b":70,"hex":"#913546","row":"row 02-16"},{"floss":"819","name":"Baby Pink Light","r":255,"g":238,"b":235,"hex":"#FFEEEB","row":"row 02-17"},{"floss":"3326","name":"Rose Light","r":251,"g":173,"b":180,"hex":"#FBADB4","row":"row 02-18"},{"floss":"776","name":"Pink Medium","r":252,"g":176,"b":185,"hex":"#FCB0B9","row":"row 02-19"},{"floss":"899","name":"Rose Medium","r":242,"g":118,"b":136,"hex":"#F27688","row":"row 02-20"},{"floss":"335","name":"Rose","r":238,"g":84,"b":110,"hex":"#EE546E","row":"row 02-21"},{"floss":"326","name":"Rose Very Dark","r":179,"g":59,"b":75,"hex":"#B33B4B","row":"row 02-22"},{"floss":"151","name":"Dusty Rose Vry Lt","r":240,"g":206,"b":212,"hex":"#F0CED4","row":"row 03-01"},{"floss":"3354","name":"Dusty Rose Light","r":228,"g":166,"b":172,"hex":"#E4A6AC","row":"row 03-02"},{"floss":"3733","name":"Dusty Rose","r":232,"g":135,"b":155,"hex":"#E8879B","row":"row 03-03"},{"floss":"3731","name":"Dusty Rose Very Dark","r":218,"g":103,"b":131,"hex":"#DA6783","row":"row 03-04"},{"floss":"3350","name":"Dusty Rose Ultra Dark","r":188,"g":67,"b":101,"hex":"#BC4365","row":"row 03-05"},{"floss":"150","name":"Dusty Rose Ult Vy Dk","r":171,"g":2,"b":73,"hex":"#AB0249","row":"row 03-06"},{"floss":"3689","name":"Mauve Light","r":251,"g":191,"b":194,"hex":"#FBBFC2","row":"row 03-07"},{"floss":"3688","name":"Mauve Medium","r":231,"g":169,"b":172,"hex":"#E7A9AC","row":"row 03-08"},{"floss":"3687","name":"Mauve","r":201,"g":107,"b":112,"hex":"#C96B70","row":"row 03-09"},{"floss":"3803","name":"Mauve Dark","r":171,"g":51,"b":87,"hex":"#AB3357","row":"row 03-10"},{"floss":"3685","name":"Mauve Very Dark","r":136,"g":21,"b":49,"hex":"#881531","row":"row 03-11"},{"floss":"605","name":"Cranberry Very Light","r":255,"g":192,"b":205,"hex":"#FFC0CD","row":"row 03-12"},{"floss":"604","name":"Cranberry Light","r":255,"g":176,"b":190,"hex":"#FFB0BE","row":"row 03-13"},{"floss":"603","name":"Cranberry","r":255,"g":164,"b":190,"hex":"#FFA4BE","row":"row 03-14"},{"floss":"602","name":"Cranberry Medium","r":226,"g":72,"b":116,"hex":"#E24874","row":"row 03-15"},{"floss":"601","name":"Cranberry Dark","r":209,"g":40,"b":106,"hex":"#D1286A","row":"row 03-16"},{"floss":"600","name":"Cranberry Very Dark","r":205,"g":47,"b":99,"hex":"#CD2F63","row":"row 03-17"},{"floss":"3806","name":"Cyclamen Pink Light","r":255,"g":140,"b":174,"hex":"#FF8CAE","row":"row 03-18"},{"floss":"3805","name":"Cyclamen Pink","r":243,"g":71,"b":139,"hex":"#F3478B","row":"row 03-19"},{"floss":"3804","name":"Cyclamen Pink Dark","r":224,"g":40,"b":118,"hex":"#E02876","row":"row 03-20"},{"floss":"3609","name":"Plum Ultra Light","r":244,"g":174,"b":213,"hex":"#F4AED7","row":"row 03-21"},{"floss":"3608","name":"Plum Very Light","r":234,"g":156,"b":196,"hex":"#EA9CC4","row":"row 03-22"},{"floss":"3607","name":"Plum Light","r":197,"g":73,"b":137,"hex":"#C54989","row":"row 03-23"},{"floss":"718","name":"Plum","r":156,"g":36,"b":98,"hex":"#9C2462","row":"row 03-24"},{"floss":"917","name":"Plum Medium","r":155,"g":19,"b":89,"hex":"#9B1359","row":"row 03-25"},{"floss":"915","name":"Plum Dark","r":130,"g":0,"b":67,"hex":"#820043","row":"row 03-26"},{"floss":"225","name":"Shell Pink Ult Vy Lt","r":255,"g":223,"b":213,"hex":"#FFDFD7","row":"row 04-01"},{"floss":"224","name":"Shell Pink Very Light","r":235,"g":183,"b":175,"hex":"#EBB7AF","row":"row 04-02"},{"floss":"152","name":"Shell Pink Med Light","r":226,"g":160,"b":153,"hex":"#E2A099","row":"row 04-03"},{"floss":"223","name":"Shell Pink Light","r":204,"g":132,"b":124,"hex":"#CC847C","row":"row 04-04"},{"floss":"3722","name":"Shell Pink Med","r":188,"g":108,"b":100,"hex":"#BC6C64","row":"row 04-05"},{"floss":"3721","name":"Shell Pink Dark","r":161,"g":75,"b":81,"hex":"#A14B51","row":"row 04-06"},{"floss":"221","name":"Shell Pink Vy Dk","r":136,"g":62,"b":67,"hex":"#8.83E+45","row":"row 04-07"},{"floss":"778","name":"Antique Mauve Vy Lt","r":223,"g":179,"b":187,"hex":"#DFB3BB","row":"row 04-08"},{"floss":"3727","name":"Antique Mauve Light","r":219,"g":169,"b":178,"hex":"#DBA9B2","row":"row 04-09"},{"floss":"316","name":"Antique Mauve Med","r":183,"g":115,"b":127,"hex":"#B7737F","row":"row 04-10"},{"floss":"3726","name":"Antique Mauve Dark","r":155,"g":91,"b":102,"hex":"#9B5B66","row":"row 04-11"},{"floss":"315","name":"Antique Mauve Md Dk","r":129,"g":73,"b":82,"hex":"#814952","row":"row 04-12"},{"floss":"3802","name":"Antique Mauve Vy Dk","r":113,"g":65,"b":73,"hex":"#714149","row":"row 04-13"},{"floss":"902","name":"Garnet Very Dark","r":130,"g":38,"b":55,"hex":"#822637","row":"row 04-14"},{"floss":"3743","name":"Antique Violet Vy Lt","r":215,"g":203,"b":211,"hex":"#D7CBD3","row":"row 04-15"},{"floss":"3042","name":"Antique Violet Light","r":183,"g":157,"b":167,"hex":"#B79DA7","row":"row 04-16"},{"floss":"3041","name":"Antique Violet Medium","r":149,"g":111,"b":124,"hex":"#956F7C","row":"row 04-17"},{"floss":"3740","name":"Antique Violet Dark","r":120,"g":87,"b":98,"hex":"#785762","row":"row 04-18"},{"floss":"3836","name":"Grape Light","r":186,"g":145,"b":170,"hex":"#BA91AA","row":"row 04-19"},{"floss":"3835","name":"Grape Medium","r":148,"g":96,"b":131,"hex":"#946083","row":"row 04-20"},{"floss":"3834","name":"Grape Dark","r":114,"g":55,"b":93,"hex":"#72375D","row":"row 04-21"},{"floss":"154","name":"Grape Very Dark","r":87,"g":36,"b":51,"hex":"#572433","row":"row 04-22"},{"floss":"211","name":"Lavender Light","r":227,"g":203,"b":227,"hex":"#E3CBE3","row":"row 05-01"},{"floss":"210","name":"Lavender Medium","r":195,"g":159,"b":195,"hex":"#D29FC3","row":"row 05-02"},{"floss":"209","name":"Lavender Dark","r":163,"g":123,"b":167,"hex":"#A37BA7","row":"row 05-03"},{"floss":"208","name":"Lavender Very Dark","r":131,"g":91,"b":139,"hex":"#835B8B","row":"row 05-04"},{"floss":"3837","name":"Lavender Ultra Dark","r":108,"g":58,"b":110,"hex":"#6C3A6E","row":"row 05-05"},{"floss":"327","name":"Violet Dark","r":99,"g":54,"b":102,"hex":"#633666","row":"row 05-06"},{"floss":"153","name":"Violet Very Light","r":230,"g":204,"b":217,"hex":"#E6CCD9","row":"row 05-07"},{"floss":"554","name":"Violet Light","r":219,"g":179,"b":203,"hex":"#DBB3CB","row":"row 05-08"},{"floss":"553","name":"Violet","r":163,"g":99,"b":139,"hex":"#A3638B","row":"row 05-09"},{"floss":"552","name":"Violet  Medium","r":128,"g":58,"b":107,"hex":"#803A6B","row":"row 05-10"},{"floss":"550","name":"Violet Very Dark","r":92,"g":24,"b":78,"hex":"#5C184E","row":"row 05-11"},{"floss":"3747","name":"Blue Violet Vy Lt","r":211,"g":215,"b":237,"hex":"#D3D7ED","row":"row 05-12"},{"floss":"341","name":"Blue Violet Light","r":183,"g":191,"b":221,"hex":"#B7BFDD","row":"row 05-13"},{"floss":"156","name":"Blue Violet Med Lt","r":163,"g":174,"b":209,"hex":"#A3AED1","row":"row 05-14"},{"floss":"340","name":"Blue Violet Medium","r":173,"g":167,"b":199,"hex":"#ADA7C7","row":"row 05-15"},{"floss":"155","name":"Blue Violet Med Dark","r":152,"g":145,"b":182,"hex":"#9891B6","row":"row 05-16"},{"floss":"3746","name":"Blue Violet Dark","r":119,"g":107,"b":152,"hex":"#776B98","row":"row 05-17"},{"floss":"333","name":"Blue Violet Very Dark","r":92,"g":84,"b":120,"hex":"#5C5478","row":"row 05-18"},{"floss":"157","name":"Cornflower Blue Vy Lt","r":187,"g":195,"b":217,"hex":"#BBC3D9","row":"row 05-19"},{"floss":"794","name":"Cornflower Blue Light","r":143,"g":156,"b":193,"hex":"#8F9CC1","row":"row 05-20"},{"floss":"793","name":"Cornflower Blue Med","r":112,"g":125,"b":162,"hex":"#707DA2","row":"row 05-21"},{"floss":"3807","name":"Cornflower Blue","r":96,"g":103,"b":140,"hex":"#60678C","row":"row 05-22"},{"floss":"792","name":"Cornflower Blue Dark","r":85,"g":91,"b":123,"hex":"#555B7B","row":"row 05-23"},{"floss":"158","name":"Cornflower Blu M V D","r":76,"g":82,"b":110,"hex":"#4C526E","row":"row 05-24"},{"floss":"791","name":"Cornflower Blue V D","r":70,"g":69,"b":99,"hex":"#464563","row":"row 05-25"},{"floss":"3840","name":"Lavender Blue Light","r":176,"g":192,"b":218,"hex":"#B0C0DA","row":"row 06-01"},{"floss":"3839","name":"Lavender Blue Med","r":123,"g":142,"b":171,"hex":"#7B8EAB","row":"row 06-02"},{"floss":"3838","name":"Lavender Blue Dark","r":92,"g":114,"b":148,"hex":"#5C7294","row":"row 06-03"},{"floss":"800","name":"Delft Blue Pale","r":192,"g":204,"b":222,"hex":"#C0CCDE","row":"row 06-04"},{"floss":"809","name":"Delft Blue","r":148,"g":168,"b":198,"hex":"#94A8C6","row":"row 06-05"},{"floss":"799","name":"Delft Blue Medium","r":116,"g":142,"b":182,"hex":"#748EB6","row":"row 06-06"},{"floss":"798","name":"Delft Blue Dark","r":70,"g":106,"b":142,"hex":"#466A8E","row":"row 06-07"},{"floss":"797","name":"Royal Blue","r":19,"g":71,"b":125,"hex":"#13477D","row":"row 06-08"},{"floss":"796","name":"Royal Blue Dark","r":17,"g":65,"b":109,"hex":"#11416D","row":"row 06-09"},{"floss":"820","name":"Royal Blue Very Dark","r":14,"g":54,"b":92,"hex":"#0E365C","row":"row 06-10"},{"floss":"162","name":"Blue Ultra Very Light","r":219,"g":236,"b":245,"hex":"#DBECF5","row":"row 06-11"},{"floss":"827","name":"Blue Very Light","r":189,"g":221,"b":237,"hex":"#BDDDED","row":"row 06-12"},{"floss":"813","name":"Blue Light","r":161,"g":194,"b":215,"hex":"#A1C2D7","row":"row 06-13"},{"floss":"826","name":"Blue Medium","r":107,"g":158,"b":191,"hex":"#6B9EBF","row":"row 06-14"},{"floss":"825","name":"Blue Dark","r":71,"g":129,"b":165,"hex":"#4781A5","row":"row 06-15"},{"floss":"824","name":"Blue Very Dark","r":57,"g":105,"b":135,"hex":"#396987","row":"row 06-16"},{"floss":"996","name":"Electric Blue Medium","r":48,"g":194,"b":236,"hex":"#30C2EC","row":"row 06-17"},{"floss":"3843","name":"Electric Blue","r":20,"g":170,"b":208,"hex":"#14AAD0","row":"row 06-18"},{"floss":"995","name":"Electric Blue Dark","r":38,"g":150,"b":182,"hex":"#2696B6","row":"row 06-19"},{"floss":"3846","name":"Turquoise Bright Light","r":6,"g":227,"b":230,"hex":"#06E3E6","row":"row 06-20"},{"floss":"3845","name":"Turquoise Bright Med","r":4,"g":196,"b":202,"hex":"#04C4CA","row":"row 06-21"},{"floss":"3844","name":"Turquoise Bright Dark","r":18,"g":174,"b":186,"hex":"#12AEBA","row":"row 06-22"},{"floss":"159","name":"Blue Gray Light","r":199,"g":202,"b":215,"hex":"#C7CAD7","row":"row 07-01"},{"floss":"160","name":"Blue Gray Medium","r":153,"g":159,"b":183,"hex":"#999FB7","row":"row 07-02"},{"floss":"161","name":"Blue Gray","r":120,"g":128,"b":164,"hex":"#7880A4","row":"row 07-03"},{"floss":"3756","name":"Baby Blue Ult Vy Lt","r":238,"g":252,"b":252,"hex":"#EEFCFC","row":"row 07-04"},{"floss":"775","name":"Baby Blue Very Light","r":217,"g":235,"b":241,"hex":"#D9EBF1","row":"row 07-05"},{"floss":"3841","name":"Baby Blue Pale","r":205,"g":223,"b":237,"hex":"#CDDFED","row":"row 07-06"},{"floss":"3325","name":"Baby Blue Light","r":184,"g":210,"b":230,"hex":"#B8D2E6","row":"row 07-07"},{"floss":"3755","name":"Baby Blue","r":147,"g":180,"b":206,"hex":"#92B4CE","row":"row 07-08"},{"floss":"334","name":"Baby Blue Medium","r":115,"g":159,"b":193,"hex":"#739FC1","row":"row 07-09"},{"floss":"322","name":"Baby Blue Dark","r":90,"g":143,"b":184,"hex":"#5A8FB8","row":"row 07-10"},{"floss":"312","name":"Baby Blue Very Dark","r":53,"g":102,"b":139,"hex":"#35668B","row":"row 07-11"},{"floss":"803","name":"Baby Blue Ult Vy Dk","r":44,"g":89,"b":124,"hex":"#2C597C","row":"row 07-12"},{"floss":"336","name":"Navy Blue","r":37,"g":59,"b":115,"hex":"#253B73","row":"row 07-13"},{"floss":"823","name":"Navy Blue Dark","r":33,"g":48,"b":99,"hex":"#213063","row":"row 07-14"},{"floss":"939","name":"Navy Blue Very Dark","r":27,"g":40,"b":83,"hex":"#1B2853","row":"row 07-15"},{"floss":"3753","name":"Antique Blue Ult Vy Lt","r":219,"g":226,"b":233,"hex":"#DBE2E9","row":"row 07-16"},{"floss":"3752","name":"Antique Blue Very Lt","r":199,"g":209,"b":219,"hex":"#C7D1DB","row":"row 07-17"},{"floss":"932","name":"Antique Blue Light","r":162,"g":181,"b":198,"hex":"#A2B5C6","row":"row 07-18"},{"floss":"931","name":"Antique Blue Medium","r":106,"g":133,"b":158,"hex":"#6A859E","row":"row 07-19"},{"floss":"930","name":"Antique Blue Dark","r":69,"g":92,"b":113,"hex":"#455C71","row":"row 07-20"},{"floss":"3750","name":"Antique Blue Very Dk","r":56,"g":76,"b":94,"hex":"#384C5E","row":"row 07-21"},{"floss":"828","name":"Sky Blue Vy Lt","r":197,"g":232,"b":237,"hex":"#C5E8ED","row":"row 08-01"},{"floss":"3761","name":"Sky Blue Light","r":172,"g":216,"b":226,"hex":"#ACD8E2","row":"row 08-02"},{"floss":"519","name":"Sky Blue","r":126,"g":177,"b":200,"hex":"#7EB1C8","row":"row 08-03"},{"floss":"518","name":"Wedgewood Light","r":79,"g":147,"b":167,"hex":"#4F93A7","row":"row 08-04"},{"floss":"3760","name":"Wedgewood Med","r":62,"g":133,"b":162,"hex":"#3E85A2","row":"row 08-05"},{"floss":"517","name":"Wedgewood Dark","r":59,"g":118,"b":143,"hex":"#3B768F","row":"row 08-06"},{"floss":"3842","name":"Wedgewood Vry Dk","r":50,"g":102,"b":124,"hex":"#32667C","row":"row 08-07"},{"floss":"311","name":"Wedgewood Ult VyDk","r":28,"g":80,"b":102,"hex":"#1C5066","row":"row 08-08"},{"floss":"747","name":"Peacock Blue Vy Lt","r":229,"g":252,"b":253,"hex":"#E5FCFD","row":"row 08-09"},{"floss":"3766","name":"Peacock Blue Light","r":153,"g":207,"b":217,"hex":"#99CFD9","row":"row 08-10"},{"floss":"807","name":"Peacock Blue","r":100,"g":171,"b":186,"hex":"#64ABBA","row":"row 08-11"},{"floss":"806","name":"Peacock Blue Dark","r":61,"g":149,"b":165,"hex":"#3D95A5","row":"row 08-12"},{"floss":"3765","name":"Peacock Blue Vy Dk","r":52,"g":127,"b":140,"hex":"#347F8C","row":"row 08-13"},{"floss":"3811","name":"Turquoise Very Light","r":188,"g":227,"b":230,"hex":"#BCE3E6","row":"row 08-14"},{"floss":"598","name":"Turquoise Light","r":144,"g":195,"b":204,"hex":"#90C3CC","row":"row 08-15"},{"floss":"597","name":"Turquoise","r":91,"g":163,"b":179,"hex":"#5BA3B3","row":"row 08-16"},{"floss":"3810","name":"Turquoise Dark","r":72,"g":142,"b":154,"hex":"#488E9A","row":"row 08-17"},{"floss":"3809","name":"Turquoise Vy Dark","r":63,"g":124,"b":133,"hex":"#3F7C85","row":"row 08-18"},{"floss":"3808","name":"Turquoise Ult Vy Dk","r":54,"g":105,"b":112,"hex":"#366970","row":"row 08-19"},{"floss":"928","name":"Gray Green Vy Lt","r":221,"g":227,"b":227,"hex":"#DDE3E3","row":"row 08-20"},{"floss":"927","name":"Gray Green Light","r":189,"g":203,"b":203,"hex":"#BDCBCB","row":"row 08-21"},{"floss":"926","name":"Gray Green Med","r":152,"g":174,"b":174,"hex":"#98AEAE","row":"row 08-22"},{"floss":"3768","name":"Gray Green Dark","r":101,"g":127,"b":127,"hex":"#657F7F","row":"row 08-23"},{"floss":"924","name":"Gray Green Vy Dark","r":86,"g":106,"b":106,"hex":"#566A6A","row":"row 08-24"},{"floss":"3849","name":"Teal Green Light","r":82,"g":179,"b":164,"hex":"#52B3AE","row":"row 08-25"},{"floss":"3848","name":"Teal Green Med","r":85,"g":147,"b":146,"hex":"#419392","row":"row 08-26"},{"floss":"3847","name":"Teal Green Dark","r":52,"g":125,"b":117,"hex":"#347D75","row":"row 08-27"},{"floss":"964","name":"Sea Green Light","r":169,"g":226,"b":216,"hex":"#A9E2D8","row":"row 09-01"},{"floss":"959","name":"Sea Green Med","r":89,"g":199,"b":180,"hex":"#59C7B4","row":"row 09-02"},{"floss":"958","name":"Sea Green Dark","r":62,"g":182,"b":161,"hex":"#3EB6A1","row":"row 09-03"},{"floss":"3812","name":"Sea Green Vy Dk","r":47,"g":140,"b":132,"hex":"#2F8C84","row":"row 09-04"},{"floss":"3851","name":"Green Bright Lt","r":73,"g":179,"b":161,"hex":"#49B3A1","row":"row 09-05"},{"floss":"943","name":"Green Bright Md","r":61,"g":147,"b":132,"hex":"#3D9384","row":"row 09-06"},{"floss":"3850","name":"Green Bright Dk","r":55,"g":132,"b":119,"hex":"#378477","row":"row 09-07"},{"floss":"993","name":"Aquamarine Vy Lt","r":144,"g":192,"b":180,"hex":"#90C0B4","row":"row 09-08"},{"floss":"992","name":"Aquamarine Lt","r":111,"g":174,"b":159,"hex":"#6FAE9F","row":"row 09-09"},{"floss":"3814","name":"Aquamarine","r":80,"g":139,"b":125,"hex":"#508B7D","row":"row 09-10"},{"floss":"991","name":"Aquamarine Dk","r":71,"g":123,"b":110,"hex":"#477B6E","row":"row 09-11"},{"floss":"966","name":"Jade Ultra Vy Lt","r":185,"g":215,"b":192,"hex":"#B9D7C0","row":"row 09-12"},{"floss":"564","name":"Jade Very Light","r":167,"g":205,"b":175,"hex":"#A7CDAF","row":"row 09-13"},{"floss":"563","name":"Jade Light","r":143,"g":192,"b":152,"hex":"#8FC098","row":"row 09-14"},{"floss":"562","name":"Jade Medium","r":83,"g":151,"b":106,"hex":"#53976A","row":"row 09-15"},{"floss":"505","name":"Jade Green","r":51,"g":131,"b":98,"hex":"#338362","row":"row 09-16"},{"floss":"3817","name":"Celadon Green Lt","r":153,"g":195,"b":170,"hex":"#99C3AA","row":"row 09-17"},{"floss":"3816","name":"Celadon Green","r":101,"g":165,"b":125,"hex":"#65A57D","row":"row 09-18"},{"floss":"163","name":"Celadon Green Md","r":77,"g":131,"b":97,"hex":"#4D8361","row":"row 09-19"},{"floss":"3815","name":"Celadon Green Dk","r":71,"g":119,"b":89,"hex":"#477759","row":"row 09-20"},{"floss":"561","name":"Celadon Green VD","r":44,"g":106,"b":69,"hex":"#2C6A45","row":"row 09-21"},{"floss":"504","name":"Blue Green Vy Lt","r":196,"g":222,"b":204,"hex":"#C4DECC","row":"row 09-22"},{"floss":"3813","name":"Blue Green Lt","r":178,"g":212,"b":189,"hex":"#B2D4BD","row":"row 09-23"},{"floss":"503","name":"Blue Green Med","r":123,"g":172,"b":148,"hex":"#7BAC94","row":"row 09-24"},{"floss":"502","name":"Blue Green","r":91,"g":144,"b":113,"hex":"#5B9071","row":"row 09-25"},{"floss":"501","name":"Blue Green Dark","r":57,"g":111,"b":82,"hex":"#396F52","row":"row 09-26"},{"floss":"500","name":"Blue Green Vy Dk","r":4,"g":77,"b":51,"hex":"#044D33","row":"row 09-27"},{"floss":"955","name":"Nile Green Light","r":162,"g":214,"b":173,"hex":"#A2D6AD","row":"row 10-01"},{"floss":"954","name":"Nile Green","r":136,"g":186,"b":145,"hex":"#88BA91","row":"row 10-02"},{"floss":"913","name":"Nile Green Med","r":109,"g":171,"b":119,"hex":"#6DAB77","row":"row 10-03"},{"floss":"912","name":"Emerald Green Lt","r":27,"g":157,"b":107,"hex":"#1B9D6B","row":"row 10-04"},{"floss":"911","name":"Emerald Green Med","r":24,"g":144,"b":101,"hex":"#189065","row":"row 10-05"},{"floss":"910","name":"Emerald Green Dark","r":24,"g":126,"b":86,"hex":"#1.87E+58","row":"row 10-06"},{"floss":"909","name":"Emerald Green Vy Dk","r":21,"g":111,"b":73,"hex":"#156F49","row":"row 10-07"},{"floss":"3818","name":"Emerald Grn Ult V Dk","r":17,"g":90,"b":59,"hex":"#115A3B","row":"row 10-08"},{"floss":"369","name":"Pistachio Green Vy Lt","r":215,"g":237,"b":204,"hex":"#D7EDCC","row":"row 10-09"},{"floss":"368","name":"Pistachio Green Lt","r":166,"g":194,"b":152,"hex":"#A6C298","row":"row 10-10"},{"floss":"320","name":"Pistachio Green Med","r":105,"g":136,"b":90,"hex":"#69885A","row":"row 10-11"},{"floss":"367","name":"Pistachio Green Dk","r":97,"g":122,"b":82,"hex":"#617A52","row":"row 10-12"},{"floss":"319","name":"Pistachio Grn Vy Dk","r":32,"g":95,"b":46,"hex":"#205F2E","row":"row 10-13"},{"floss":"890","name":"Pistachio Grn Ult V D","r":23,"g":73,"b":35,"hex":"#184923","row":"row 10-14"},{"floss":"164","name":"Forest Green Lt","r":200,"g":216,"b":184,"hex":"#C8D8B8","row":"row 10-15"},{"floss":"989","name":"Forest Green ","r":141,"g":166,"b":117,"hex":"#8DA675","row":"row 10-16"},{"floss":"988","name":"Forest Green Med","r":115,"g":139,"b":91,"hex":"#738B5B","row":"row 10-17"},{"floss":"987","name":"Forest Green Dk","r":88,"g":113,"b":65,"hex":"#587141","row":"row 10-18"},{"floss":"986","name":"Forest Green Vy Dk","r":64,"g":82,"b":48,"hex":"#405230","row":"row 10-19"},{"floss":"772","name":"Yellow Green Vy Lt","r":228,"g":236,"b":212,"hex":"#E4ECD4","row":"row 10-20"},{"floss":"3348","name":"Yellow Green Lt","r":204,"g":217,"b":177,"hex":"#CCD9B1","row":"row 10-21"},{"floss":"3347","name":"Yellow Green Med","r":113,"g":147,"b":92,"hex":"#71935C","row":"row 10-22"},{"floss":"3346","name":"Hunter Green","r":64,"g":106,"b":58,"hex":"#406A3A","row":"row 10-23"},{"floss":"3345","name":"Hunter Green Dk","r":27,"g":89,"b":21,"hex":"#1B5915","row":"row 10-24"},{"floss":"895","name":"Hunter Green Vy Dk","r":27,"g":83,"b":0,"hex":"#1B5300","row":"row 10-25"},{"floss":"704","name":"Chartreuse Bright","r":158,"g":207,"b":52,"hex":"#9ECF34","row":"row 11-01"},{"floss":"703","name":"Chartreuse","r":123,"g":181,"b":71,"hex":"#7BB547","row":"row 11-02"},{"floss":"702","name":"Kelly Green","r":71,"g":167,"b":47,"hex":"#47A72F","row":"row 11-03"},{"floss":"701","name":"Green Light","r":63,"g":143,"b":41,"hex":"#3F8F29","row":"row 11-04"},{"floss":"700","name":"Green Bright","r":7,"g":115,"b":27,"hex":"#07731B","row":"row 11-05"},{"floss":"699","name":"Green","r":5,"g":101,"b":23,"hex":"#56517","row":"row 11-06"},{"floss":"907","name":"Parrot Green Lt","r":199,"g":230,"b":102,"hex":"#C7E666","row":"row 11-07"},{"floss":"906","name":"Parrot Green Md","r":127,"g":179,"b":53,"hex":"#7FB335","row":"row 11-08"},{"floss":"905","name":"Parrot Green Dk","r":98,"g":138,"b":40,"hex":"#628A28","row":"row 11-09"},{"floss":"904","name":"Parrot Green V Dk","r":85,"g":120,"b":34,"hex":"#557822","row":"row 11-10"},{"floss":"472","name":"Avocado Grn U Lt","r":216,"g":228,"b":152,"hex":"#D8E498","row":"row 11-11"},{"floss":"471","name":"Avocado Grn V Lt","r":174,"g":191,"b":121,"hex":"#AEBF79","row":"row 11-12"},{"floss":"470","name":"Avocado Grn Lt","r":148,"g":171,"b":79,"hex":"#94AB4F","row":"row 11-13"},{"floss":"469","name":"Avocado Green","r":114,"g":132,"b":60,"hex":"#72843C","row":"row 11-14"},{"floss":"937","name":"Avocado Green Md","r":98,"g":113,"b":51,"hex":"#627133","row":"row 11-15"},{"floss":"936","name":"Avocado Grn V Dk","r":76,"g":88,"b":38,"hex":"#4C5826","row":"row 11-16"},{"floss":"935","name":"Avocado Green Dk","r":66,"g":77,"b":33,"hex":"#424D21","row":"row 11-17"},{"floss":"934","name":"Avocado Grn Black","r":49,"g":57,"b":25,"hex":"#313919","row":"row 11-18"},{"floss":"523","name":"Fern Green Lt","r":171,"g":177,"b":151,"hex":"#ABB197","row":"row 11-19"},{"floss":"3053","name":"Green Gray","r":156,"g":164,"b":130,"hex":"#9CA482","row":"row 11-20"},{"floss":"3052","name":"Green Gray Md","r":136,"g":146,"b":104,"hex":"#889268","row":"row 11-21"},{"floss":"3051","name":"Green Gray Dk","r":95,"g":102,"b":72,"hex":"#5F6648","row":"row 11-22"},{"floss":"524","name":"Fern Green Vy Lt","r":196,"g":205,"b":172,"hex":"#C4CDAC","row":"row 11-23"},{"floss":"522","name":"Fern Green","r":150,"g":158,"b":126,"hex":"#969E7E","row":"row 11-24"},{"floss":"520","name":"Fern Green Dark","r":102,"g":109,"b":79,"hex":"#666D4F","row":"row 11-25"},{"floss":"3364","name":"Pine Green","r":131,"g":151,"b":95,"hex":"#83975F","row":"row 12-01"},{"floss":"3363","name":"Pine Green Md","r":114,"g":130,"b":86,"hex":"#728256","row":"row 12-02"},{"floss":"3362","name":"Pine Green Dk","r":94,"g":107,"b":71,"hex":"#5E6B47","row":"row 12-03"},{"floss":"165","name":"Moss Green Vy Lt","r":239,"g":244,"b":164,"hex":"#EFF4A4","row":"row 12-04"},{"floss":"3819","name":"Moss Green Lt","r":224,"g":232,"b":104,"hex":"#E0E868","row":"row 12-05"},{"floss":"166","name":"Moss Green Md Lt","r":192,"g":200,"b":64,"hex":"#C0C840","row":"row 12-06"},{"floss":"581","name":"Moss Green","r":167,"g":174,"b":56,"hex":"#A7AE38","row":"row 12-07"},{"floss":"580","name":"Moss Green Dk","r":136,"g":141,"b":51,"hex":"#888D33","row":"row 12-08"},{"floss":"734","name":"Olive Green Lt","r":199,"g":192,"b":119,"hex":"#C7C077","row":"row 12-09"},{"floss":"733","name":"Olive Green Md","r":188,"g":179,"b":76,"hex":"#BCB34C","row":"row 12-10"},{"floss":"732","name":"Olive Green","r":148,"g":140,"b":54,"hex":"#948C36","row":"row 12-11"},{"floss":"731","name":"Olive Green Dk","r":147,"g":139,"b":55,"hex":"#938B37","row":"row 12-12"},{"floss":"730","name":"Olive Green V Dk","r":130,"g":123,"b":48,"hex":"#827B30","row":"row 12-13"},{"floss":"3013","name":"Khaki Green Lt","r":185,"g":185,"b":130,"hex":"#B9B982","row":"row 12-14"},{"floss":"3012","name":"Khaki Green Md","r":166,"g":167,"b":93,"hex":"#A6A75D","row":"row 12-15"},{"floss":"3011","name":"Khaki Green Dk","r":137,"g":138,"b":88,"hex":"#898A58","row":"row 12-16"},{"floss":"372","name":"Mustard Lt","r":204,"g":183,"b":132,"hex":"#CCB784","row":"row 12-17"},{"floss":"371","name":"Mustard","r":191,"g":166,"b":113,"hex":"#BFA671","row":"row 12-18"},{"floss":"370","name":"Mustard Medium","r":184,"g":157,"b":100,"hex":"#B89D64","row":"row 12-19"},{"floss":"834","name":"Golden Olive Vy Lt","r":219,"g":190,"b":127,"hex":"#DBBE7F","row":"row 12-20"},{"floss":"833","name":"Golden Olive Lt","r":200,"g":171,"b":108,"hex":"#C8AB6C","row":"row 12-21"},{"floss":"832","name":"Golden Olive","r":189,"g":155,"b":81,"hex":"#BD9B51","row":"row 12-22"},{"floss":"831","name":"Golden Olive Md","r":170,"g":143,"b":86,"hex":"#AA8F56","row":"row 12-23"},{"floss":"830","name":"Golden Olive Dk","r":141,"g":120,"b":75,"hex":"#8D784B","row":"row 12-24"},{"floss":"829","name":"Golden Olive Vy Dk","r":126,"g":107,"b":66,"hex":"#7E6B42","row":"row 12-25"},{"floss":"613","name":"Drab Brown V Lt","r":220,"g":196,"b":170,"hex":"#DCC4AA","row":"row 13-01"},{"floss":"612","name":"Drab Brown Lt","r":188,"g":154,"b":120,"hex":"#BC9A78","row":"row 13-02"},{"floss":"611","name":"Drab Brown","r":150,"g":118,"b":86,"hex":"#967656","row":"row 13-03"},{"floss":"610","name":"Drab Brown Dk","r":121,"g":96,"b":71,"hex":"#796047","row":"row 13-04"},{"floss":"3047","name":"Yellow Beige Lt","r":231,"g":214,"b":193,"hex":"#E7D6C1","row":"row 13-05"},{"floss":"3046","name":"Yellow Beige Md","r":216,"g":188,"b":154,"hex":"#D8BC9A","row":"row 13-06"},{"floss":"3045","name":"Yellow Beige Dk","r":188,"g":150,"b":106,"hex":"#BC966A","row":"row 13-07"},{"floss":"167","name":"Yellow Beige V Dk","r":167,"g":124,"b":73,"hex":"#A77C49","row":"row 13-08"},{"floss":"746","name":"Off White","r":252,"g":252,"b":238,"hex":"#FCFCEE","row":"row 13-09"},{"floss":"677","name":"Old Gold Vy Lt","r":245,"g":236,"b":203,"hex":"#F5ECCB","row":"row 13-10"},{"floss":"422","name":"Hazelnut Brown Lt","r":198,"g":159,"b":123,"hex":"#C69F7B","row":"row 13-11"},{"floss":"3828","name":"Hazelnut Brown","r":183,"g":139,"b":97,"hex":"#B78B61","row":"row 13-12"},{"floss":"420","name":"Hazelnut Brown Dk","r":160,"g":112,"b":66,"hex":"#A07042","row":"row 13-13"},{"floss":"869","name":"Hazelnut Brown V Dk","r":131,"g":94,"b":57,"hex":"#835e39","row":"row 13-14"},{"floss":"728","name":"Topaz","r":228,"g":180,"b":104,"hex":"#E4B468","row":"row 13-15"},{"floss":"783","name":"Topaz Medium","r":206,"g":145,"b":36,"hex":"#CE9124","row":"row 13-16"},{"floss":"782","name":"Topaz Dark","r":174,"g":119,"b":32,"hex":"#AE7720","row":"row 13-17"},{"floss":"781","name":"Topaz Very Dark","r":162,"g":109,"b":32,"hex":"#A26D20","row":"row 13-18"},{"floss":"780","name":"Topaz Ultra Vy Dk","r":148,"g":99,"b":26,"hex":"#94631A","row":"row 13-19"},{"floss":"676","name":"Old Gold Lt","r":229,"g":206,"b":151,"hex":"#E5CE97","row":"row 13-20"},{"floss":"729","name":"Old Gold Medium","r":208,"g":165,"b":62,"hex":"#D0A53E","row":"row 13-21"},{"floss":"680","name":"Old Gold Dark","r":188,"g":141,"b":14,"hex":"#BC8D0E","row":"row 13-22"},{"floss":"3829","name":"Old Gold Vy Dark","r":169,"g":130,"b":4,"hex":"#A98204","row":"row 13-23"},{"floss":"3822","name":"Straw Light","r":246,"g":220,"b":152,"hex":"#F6DC98","row":"row 13-24"},{"floss":"3821","name":"Straw","r":243,"g":206,"b":117,"hex":"#F3CE75","row":"row 13-25"},{"floss":"3820","name":"Straw Dark","r":223,"g":182,"b":95,"hex":"#DFB65F","row":"row 13-26"},{"floss":"3852","name":"Straw Very Dark","r":205,"g":157,"b":55,"hex":"#CD9D37","row":"row 13-27"},{"floss":"445","name":"Lemon Light","r":255,"g":251,"b":139,"hex":"#FFFB8B","row":"row 14-01"},{"floss":"307","name":"Lemon","r":253,"g":237,"b":84,"hex":"#FDED54","row":"row 14-02"},{"floss":"973","name":"Canary Bright","r":255,"g":227,"b":0,"hex":"#FFE300","row":"row 14-03"},{"floss":"444","name":"Lemon Dark","r":255,"g":214,"b":0,"hex":"#FFD600","row":"row 14-04"},{"floss":"3078","name":"Golden Yellow Vy Lt","r":253,"g":249,"b":205,"hex":"#FDF9CD","row":"row 14-05"},{"floss":"727","name":"Topaz Vy Lt","r":255,"g":241,"b":175,"hex":"#FFF1AF","row":"row 14-06"},{"floss":"726","name":"Topaz Light","r":253,"g":215,"b":85,"hex":"#FDD755","row":"row 14-07"},{"floss":"725","name":"Topaz Med Lt","r":255,"g":200,"b":64,"hex":"#FFC840","row":"row 14-08"},{"floss":"972","name":"Canary Deep","r":255,"g":181,"b":21,"hex":"#FFB515","row":"row 14-09"},{"floss":"745","name":"Yellow Pale Light","r":255,"g":233,"b":173,"hex":"#FFE9AD","row":"row 14-10"},{"floss":"744","name":"Yellow Pale","r":255,"g":231,"b":147,"hex":"#FFE793","row":"row 14-11"},{"floss":"743","name":"Yellow Med","r":254,"g":211,"b":118,"hex":"#FED376","row":"row 14-12"},{"floss":"742","name":"Tangerine Light","r":255,"g":191,"b":87,"hex":"#FFBF57","row":"row 14-13"},{"floss":"741","name":"Tangerine Med","r":255,"g":163,"b":43,"hex":"#FFA32B","row":"row 14-14"},{"floss":"740","name":"Tangerine","r":255,"g":139,"b":0,"hex":"#FF8B00","row":"row 14-15"},{"floss":"970","name":"Pumpkin Light","r":247,"g":139,"b":19,"hex":"#F78B13","row":"row 14-16"},{"floss":"971","name":"Pumpkin","r":246,"g":127,"b":0,"hex":"#F67F00","row":"row 14-17"},{"floss":"947","name":"Burnt Orange","r":255,"g":123,"b":77,"hex":"#FF7B4D","row":"row 14-18"},{"floss":"946","name":"Burnt Orange Med","r":235,"g":99,"b":7,"hex":"#EB6307","row":"row 14-19"},{"floss":"900","name":"Burnt Orange Dark","r":209,"g":88,"b":7,"hex":"#D15807","row":"row 14-20"},{"floss":"967","name":"Apricot Very Light","r":255,"g":222,"b":213,"hex":"#FFDED5","row":"row 14-21"},{"floss":"3824","name":"Apricot Light","r":254,"g":205,"b":194,"hex":"#FECDC2","row":"row 14-22"},{"floss":"3341","name":"Apricot","r":252,"g":171,"b":152,"hex":"#FCAB98","row":"row 14-23"},{"floss":"3340","name":"Apricot Med","r":255,"g":131,"b":111,"hex":"#FF836F","row":"row 14-24"},{"floss":"608","name":"Burnt Orange Bright","r":253,"g":93,"b":53,"hex":"#FD5D35","row":"row 14-25"},{"floss":"606","name":"Orange?Red Bright","r":250,"g":50,"b":3,"hex":"#FA3203","row":"row 14-26"},{"floss":"951","name":"Tawny Light","r":255,"g":226,"b":207,"hex":"#FFE2CF","row":"row 15-01"},{"floss":"3856","name":"Mahogany Ult Vy Lt","r":255,"g":211,"b":181,"hex":"#FFD3B5","row":"row 15-02"},{"floss":"722","name":"Orange Spice Light","r":247,"g":151,"b":111,"hex":"#F7976F","row":"row 15-03"},{"floss":"721","name":"Orange Spice Med","r":242,"g":120,"b":66,"hex":"#F27842","row":"row 15-04"},{"floss":"720","name":"Orange Spice Dark","r":229,"g":92,"b":31,"hex":"#E55C1F","row":"row 15-05"},{"floss":"3825","name":"Pumpkin Pale","r":253,"g":189,"b":150,"hex":"#FDBD96","row":"row 15-06"},{"floss":"922","name":"Copper Light","r":226,"g":115,"b":35,"hex":"#E27323","row":"row 15-07"},{"floss":"921","name":"Copper","r":198,"g":98,"b":24,"hex":"#C66218","row":"row 15-08"},{"floss":"920","name":"Copper Med","r":172,"g":84,"b":20,"hex":"#AC5414","row":"row 15-09"},{"floss":"919","name":"Red?Copper","r":166,"g":69,"b":16,"hex":"#A64510","row":"row 15-10"},{"floss":"918","name":"Red?Copper Dark","r":130,"g":52,"b":10,"hex":"#82340A","row":"row 15-11"},{"floss":"3770","name":"Tawny Vy Light","r":255,"g":238,"b":227,"hex":"#FFEEE3","row":"row 15-12"},{"floss":"945","name":"Tawny","r":251,"g":213,"b":187,"hex":"#FBD5BB","row":"row 15-13"},{"floss":"402","name":"Mahogany Vy Lt","r":247,"g":167,"b":119,"hex":"#F7A777","row":"row 15-14"},{"floss":"3776","name":"Mahogany Light","r":207,"g":121,"b":57,"hex":"#CF7939","row":"row 15-15"},{"floss":"301","name":"Mahogany Med","r":179,"g":95,"b":43,"hex":"#B35F2B","row":"row 15-16"},{"floss":"400","name":"Mahogany Dark","r":143,"g":67,"b":15,"hex":"#8F430F","row":"row 15-17"},{"floss":"300","name":"Mahogany Vy Dk","r":111,"g":47,"b":0,"hex":"#6F2F00","row":"row 15-18"},{"floss":"3823","name":"Yellow Ultra Pale","r":255,"g":253,"b":227,"hex":"#FFFDE3","row":"row 15-19"},{"floss":"3855","name":"Autumn Gold Lt","r":250,"g":211,"b":150,"hex":"#FAD396","row":"row 15-20"},{"floss":"3854","name":"Autumn Gold Med","r":242,"g":175,"b":104,"hex":"#F2AF68","row":"row 15-21"},{"floss":"3853","name":"Autumn Gold Dk","r":242,"g":151,"b":70,"hex":"#F29746","row":"row 15-22"},{"floss":"3827","name":"Golden Brown Pale","r":247,"g":187,"b":119,"hex":"#F7BB77","row":"row 16-01"},{"floss":"977","name":"Golden Brown Light","r":220,"g":156,"b":86,"hex":"#DC9C56","row":"row 16-02"},{"floss":"976","name":"Golden Brown Med","r":194,"g":129,"b":66,"hex":"#C28142","row":"row 16-03"},{"floss":"3826","name":"Golden Brown","r":173,"g":114,"b":57,"hex":"#AD7239","row":"row 16-04"},{"floss":"975","name":"Golden Brown Dk","r":145,"g":79,"b":18,"hex":"#914F12","row":"row 16-05"},{"floss":"948","name":"Peach Very Light","r":254,"g":231,"b":218,"hex":"#FEE7DA","row":"row 16-06"},{"floss":"754","name":"Peach Light","r":247,"g":203,"b":191,"hex":"#F7CBBF","row":"row 16-07"},{"floss":"3771","name":"Terra Cotta Ult Vy Lt","r":244,"g":187,"b":169,"hex":"#F4BBA9","row":"row 16-08"},{"floss":"758","name":"Terra Cotta Vy Lt","r":238,"g":170,"b":155,"hex":"#EEAA9B","row":"row 16-09"},{"floss":"3778","name":"Terra Cotta Light","r":217,"g":137,"b":120,"hex":"#D98978","row":"row 16-10"},{"floss":"356","name":"Terra Cotta Med","r":197,"g":106,"b":91,"hex":"#C56A5B","row":"row 16-11"},{"floss":"3830","name":"Terra Cotta","r":185,"g":85,"b":68,"hex":"#BC5544","row":"row 16-12"},{"floss":"355","name":"Terra Cotta Dark","r":152,"g":68,"b":54,"hex":"#984436","row":"row 16-13"},{"floss":"3777","name":"Terra Cotta Vy Dk","r":134,"g":48,"b":34,"hex":"#863022","row":"row 16-14"},{"floss":"3779","name":"Rosewood Ult Vy Lt","r":248,"g":202,"b":200,"hex":"#F8CAC8","row":"row 16-15"},{"floss":"3859","name":"Rosewood Light","r":186,"g":139,"b":124,"hex":"#BA8B7C","row":"row 16-16"},{"floss":"3858","name":"Rosewood Med","r":150,"g":74,"b":63,"hex":"#964A3F","row":"row 16-17"},{"floss":"3857","name":"Rosewood Dark","r":104,"g":37,"b":26,"hex":"#68251A","row":"row 16-18"},{"floss":"3774","name":"Desert Sand Vy Lt","r":243,"g":225,"b":215,"hex":"#F3E1D7","row":"row 16-19"},{"floss":"950","name":"Desert Sand Light","r":238,"g":211,"b":196,"hex":"#EED3C4","row":"row 16-20"},{"floss":"3064","name":"Desert Sand","r":196,"g":142,"b":112,"hex":"#C48E70","row":"row 16-21"},{"floss":"407","name":"Desert Sand Med","r":187,"g":129,"b":97,"hex":"#BB8161","row":"row 16-22"},{"floss":"3773","name":"Desert Sand Dark","r":182,"g":117,"b":82,"hex":"#B67552","row":"row 16-23"},{"floss":"3772","name":"Desert Sand Vy Dk","r":160,"g":108,"b":80,"hex":"#A06C50","row":"row 16-24"},{"floss":"632","name":"Desert Sand Ult Vy Dk","r":135,"g":85,"b":57,"hex":"#875539","row":"row 16-25"},{"floss":"453","name":"Shell Gray Light","r":215,"g":206,"b":203,"hex":"#D7CECB","row":"row 17-01"},{"floss":"452","name":"Shell Gray Med","r":192,"g":179,"b":174,"hex":"#C0B3AE","row":"row 17-02"},{"floss":"451","name":"Shell Gray Dark","r":145,"g":123,"b":115,"hex":"#917B73","row":"row 17-03"},{"floss":"3861","name":"Cocoa Light","r":166,"g":136,"b":129,"hex":"#A68881","row":"row 17-04"},{"floss":"3860","name":"Cocoa","r":125,"g":93,"b":87,"hex":"#7D5D57","row":"row 17-05"},{"floss":"779","name":"Cocoa Dark","r":98,"g":75,"b":69,"hex":"#624B45","row":"row 17-06"},{"floss":"712","name":"Cream","r":255,"g":251,"b":239,"hex":"#FFFBEF","row":"row 17-07"},{"floss":"739","name":"Tan Ult Vy Lt","r":248,"g":228,"b":200,"hex":"#F8E4C8","row":"row 17-08"},{"floss":"738","name":"Tan Very Light","r":236,"g":204,"b":158,"hex":"#ECCC9E","row":"row 17-09"},{"floss":"437","name":"Tan Light","r":228,"g":187,"b":142,"hex":"#E4BB8E","row":"row 17-10"},{"floss":"436","name":"Tan","r":203,"g":144,"b":81,"hex":"#CB9051","row":"row 17-11"},{"floss":"435","name":"Brown Very Light","r":184,"g":119,"b":72,"hex":"#B87748","row":"row 17-12"},{"floss":"434","name":"Brown Light","r":152,"g":94,"b":51,"hex":"#9.85E+35","row":"row 17-13"},{"floss":"433","name":"Brown Med","r":122,"g":69,"b":31,"hex":"#7A451F","row":"row 17-14"},{"floss":"801","name":"Coffee Brown Dk","r":101,"g":57,"b":25,"hex":"#653919","row":"row 17-15"},{"floss":"898","name":"Coffee Brown Vy Dk","r":73,"g":42,"b":19,"hex":"#492A13","row":"row 17-16"},{"floss":"938","name":"Coffee Brown Ult Dk","r":54,"g":31,"b":14,"hex":"#361F0E","row":"row 17-17"},{"floss":"3371","name":"Black Brown","r":30,"g":17,"b":8,"hex":"#1E1108","row":"row 17-18"},{"floss":"543","name":"Beige Brown Ult Vy Lt","r":242,"g":227,"b":206,"hex":"#F2E3CE","row":"row 17-18"},{"floss":"3864","name":"Mocha Beige Light","r":203,"g":182,"b":156,"hex":"#CBB69C","row":"row 17-20"},{"floss":"3863","name":"Mocha Beige Med","r":164,"g":131,"b":92,"hex":"#A4835C","row":"row 17-21"},{"floss":"3862","name":"Mocha Beige Dark","r":138,"g":110,"b":78,"hex":"#8A6E4E","row":"row 17-22"},{"floss":"3031","name":"Mocha Brown Vy Dk","r":75,"g":60,"b":42,"hex":"#4B3C2A","row":"row 17-23"},{"floss":"B5200","name":"Snow White","r":255,"g":255,"b":255,"hex":"#FFFFFF","row":"row 18-01"},{"floss":"White","name":"White","r":252,"g":251,"b":248,"hex":"#FCFBF8","row":"row 18-02"},{"floss":"3865","name":"Winter White","r":249,"g":247,"b":241,"hex":"#F9F7F1","row":"row 18-03"},{"floss":"Ecru","name":"Ecru","r":240,"g":234,"b":218,"hex":"#F0EADA","row":"row 18-04"},{"floss":"822","name":"Beige Gray Light","r":231,"g":226,"b":211,"hex":"#E7E2D3","row":"row 18-05"},{"floss":"644","name":"Beige Gray Med","r":221,"g":216,"b":203,"hex":"#DDD8CB","row":"row 18-06"},{"floss":"642","name":"Beige Gray Dark","r":164,"g":152,"b":120,"hex":"#A49878","row":"row 18-07"},{"floss":"640","name":"Beige Gray Vy Dk","r":133,"g":123,"b":97,"hex":"#857B61","row":"row 18-08"},{"floss":"3787","name":"Brown Gray Dark","r":98,"g":93,"b":80,"hex":"#625D50","row":"row 18-09"},{"floss":"3021","name":"Brown Gray Vy Dk","r":79,"g":75,"b":65,"hex":"#4F4B41","row":"row 18-10"},{"floss":"3024","name":"Brown Gray Vy Lt","r":235,"g":234,"b":231,"hex":"#EBEAE7","row":"row 18-11"},{"floss":"3023","name":"Brown Gray Light","r":177,"g":170,"b":151,"hex":"#B1AA97","row":"row 18-12"},{"floss":"3022","name":"Brown Gray Med","r":142,"g":144,"b":120,"hex":"#8E9078","row":"row 18-13"},{"floss":"535","name":"Ash Gray Vy Lt","r":99,"g":100,"b":88,"hex":"#636458","row":"row 18-14"},{"floss":"3033","name":"Mocha Brown Vy Lt","r":227,"g":216,"b":204,"hex":"#E3D8CC","row":"row 18-15"},{"floss":"3782","name":"Mocha Brown Lt","r":210,"g":188,"b":166,"hex":"#D2BCA6","row":"row 18-16"},{"floss":"3032","name":"Mocha Brown Med","r":179,"g":159,"b":139,"hex":"#B39F8B","row":"row 18-17"},{"floss":"3790","name":"Beige Gray Ult Dk","r":127,"g":106,"b":85,"hex":"#7F6A55","row":"row 18-18"},{"floss":"3781","name":"Mocha Brown Dk","r":107,"g":87,"b":67,"hex":"#6B5743","row":"row 18-19"},{"floss":"3866","name":"Mocha Brn Ult Vy Lt","r":250,"g":246,"b":240,"hex":"#FAF6F0","row":"row 18-20"},{"floss":"842","name":"Beige Brown Vy Lt","r":209,"g":186,"b":161,"hex":"#D1BAA1","row":"row 18-21"},{"floss":"841","name":"Beige Brown Lt","r":182,"g":155,"b":126,"hex":"#B69B7E","row":"row 18-22"},{"floss":"840","name":"Beige Brown Med","r":154,"g":124,"b":92,"hex":"#9A7C5C","row":"row 18-23"},{"floss":"839","name":"Beige Brown Dk","r":103,"g":85,"b":65,"hex":"#675541","row":"row 18-24"},{"floss":"838","name":"Beige Brown Vy Dk","r":89,"g":73,"b":55,"hex":"#594937","row":"row 18-25"},{"floss":"3072","name":"Beaver Gray Vy Lt","r":230,"g":232,"b":232,"hex":"#E6E8E8","row":"row 19-01"},{"floss":"648","name":"Beaver Gray Lt","r":188,"g":180,"b":172,"hex":"#BCB4AC","row":"row 19-02"},{"floss":"647","name":"Beaver Gray Med","r":176,"g":166,"b":156,"hex":"#B0A69C","row":"row 19-03"},{"floss":"646","name":"Beaver Gray Dk","r":135,"g":125,"b":115,"hex":"#877D73","row":"row 19-04"},{"floss":"645","name":"Beaver Gray Vy Dk","r":110,"g":101,"b":92,"hex":"#6E655C","row":"row 19-05"},{"floss":"844","name":"Beaver Gray Ult Dk","r":72,"g":72,"b":72,"hex":"#484848","row":"row 19-06"},{"floss":"762","name":"Pearl Gray Vy Lt","r":236,"g":236,"b":236,"hex":"#ECECEC","row":"row 19-07"},{"floss":"415","name":"Pearl Gray","r":211,"g":211,"b":214,"hex":"#D3D3D6","row":"row 19-08"},{"floss":"318","name":"Steel Gray Lt","r":171,"g":171,"b":171,"hex":"#ABABAB","row":"row 19-09"},{"floss":"414","name":"Steel Gray Dk","r":140,"g":140,"b":140,"hex":"#8C8C8C","row":"row 19-10"},{"floss":"168","name":"Pewter Very Light","r":209,"g":209,"b":209,"hex":"#D1D1D1","row":"row 19-11"},{"floss":"169","name":"Pewter Light","r":132,"g":132,"b":132,"hex":"#848484","row":"row 19-12"},{"floss":"317","name":"Pewter Gray","r":108,"g":108,"b":108,"hex":"#6C6C6C","row":"row 19-13"},{"floss":"413","name":"Pewter Gray Dark","r":86,"g":86,"b":86,"hex":"#565656","row":"row 19-14"},{"floss":"3799","name":"Pewter Gray Vy Dk","r":66,"g":66,"b":66,"hex":"#424242","row":"row 19-15"},{"floss":"310","name":"Black","r":0,"g":0,"b":0,"hex":"#0","row":"row 19-16"}]')}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,o){if(1&o&&(r=this(r)),8&o)return r;if("object"===typeof r&&r){if(4&o&&r.__esModule)return r;if(16&o&&"function"===typeof r.then)return r}var i=Object.create(null);n.r(i);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&o&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,n.d(i,a),i}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+"."+{453:"06ec9d60",749:"0f499673",903:"ff2586ff",959:"9e40182e"}[e]+".chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="fiber-fix-web:";n.l=(r,o,i,a)=>{if(e[r])e[r].push(o);else{var s,l;if(void 0!==i)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+i){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+i),s.src=r),e[r]=[o];var h=(t,n)=>{s.onerror=s.onload=null,clearTimeout(p);var o=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach((e=>e(n))),t)return t(n)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),l&&document.head.appendChild(s)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/fiber-fix-web/",(()=>{var e={792:0};n.f.j=(t,r)=>{var o=n.o(e,t)?e[t]:void 0;if(0!==o)if(o)r.push(o[2]);else{var i=new Promise(((n,r)=>o=e[t]=[n,r]));r.push(o[2]=i);var a=n.p+n.u(t),s=new Error;n.l(a,(r=>{if(n.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var i=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",s.name="ChunkLoadError",s.type=i,s.request=a,o[1](s)}}),"chunk-"+t,t)}};var t=(t,r)=>{var o,i,a=r[0],s=r[1],l=r[2],c=0;if(a.some((t=>0!==e[t]))){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(l)l(n)}for(t&&t(r);c<a.length;c++)i=a[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0},r=self.webpackChunkfiber_fix_web=self.webpackChunkfiber_fix_web||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),n.nc=void 0,(()=>{"use strict";var e={};n.r(e),n.d(e,{FirebaseError:()=>$t,SDK_VERSION:()=>Hr,_DEFAULT_ENTRY_NAME:()=>Er,_addComponent:()=>Dr,_addOrOverwriteComponent:()=>Or,_apps:()=>Rr,_clearComponents:()=>jr,_components:()=>Ar,_getProvider:()=>Mr,_isFirebaseApp:()=>Fr,_isFirebaseServerApp:()=>Br,_registerComponent:()=>Nr,_removeServiceInstance:()=>Lr,_serverApps:()=>Pr,deleteApp:()=>Qr,getApp:()=>Gr,getApps:()=>Kr,initializeApp:()=>qr,initializeServerApp:()=>Wr,onLog:()=>Xr,registerVersion:()=>Yr,setLogLevel:()=>$r});var t=n(5043),r=n.t(t,2),o=n(4391);function i(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}function a(e,t){if(null==e)return{};var n,r,o=i(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}function c(e,t,n){return(t=l(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(4358);const h=["page"],p=["page","matches"],f=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],m=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],g=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var v="popstate";function y(){return k((function(e,t){let{pathname:n,search:r,hash:o}=e.location;return _("",{pathname:n,search:r,hash:o},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:x(t)}),null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function b(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function w(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function C(e,t){return{usr:e.state,key:e.key,idx:t}}function _(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return d(d({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?S(t):t),{},{state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)})}function x(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function S(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function k(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:o=document.defaultView,v5Compat:i=!1}=r,a=o.history,s="POP",l=null,c=u();function u(){return(a.state||{idx:null}).idx}function h(){s="POP";let e=u(),t=null==e?null:e-c;c=e,l&&l({action:s,location:f.location,delta:t})}function p(e){let t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:x(e);return n=n.replace(/ $/,"%20"),b(t,"No window.location.(origin|href) available to create URL for href: ".concat(n)),new URL(n,t)}null==c&&(c=0,a.replaceState(d(d({},a.state),{},{idx:c}),""));let f={get action(){return s},get location(){return e(o,a)},listen(e){if(l)throw new Error("A history only accepts one active listener");return o.addEventListener(v,h),l=e,()=>{o.removeEventListener(v,h),l=null}},createHref:e=>t(o,e),createURL:p,encodeLocation(e){let t=p(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){s="PUSH";let r=_(f.location,e,t);n&&n(r,e),c=u()+1;let d=C(r,c),h=f.createHref(r);try{a.pushState(d,"",h)}catch(Do){if(Do instanceof DOMException&&"DataCloneError"===Do.name)throw Do;o.location.assign(h)}i&&l&&l({action:s,location:f.location,delta:1})},replace:function(e,t){s="REPLACE";let r=_(f.location,e,t);n&&n(r,e),c=u();let o=C(r,c),d=f.createHref(r);a.replaceState(o,"",d),i&&l&&l({action:s,location:f.location,delta:0})},go:e=>a.go(e)};return f}function I(e,t){return E(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function E(e,t,n,r){let o=V(("string"===typeof t?S(t):t).pathname||"/",n);if(null==o)return null;let i=T(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let a=null;for(let s=0;null==a&&s<i.length;++s){let e=z(o);a=B(i[s],e,r)}return a}function T(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=(e,o,i)=>{let a={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:o,route:e};a.relativePath.startsWith("/")&&(b(a.relativePath.startsWith(r),'Absolute route path "'.concat(a.relativePath,'" nested under path "').concat(r,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),a.relativePath=a.relativePath.slice(r.length));let s=G([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(b(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(s,'".')),T(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:F(s,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let r of R(e.path))o(e,t,r);else o(e,t)})),t}function R(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return o?[i,""]:[i];let a=R(r.join("/")),s=[];return s.push(...a.map((e=>""===e?i:[i,e].join("/")))),o&&s.push(...a),s.map((t=>e.startsWith("/")&&""===t?"/":t))}var P=/^:[\w-]+$/,A=3,D=2,O=1,N=10,M=-2,L=e=>"*"===e;function F(e,t){let n=e.split("/"),r=n.length;return n.some(L)&&(r+=M),t&&(r+=D),n.filter((e=>!L(e))).reduce(((e,t)=>e+(P.test(t)?A:""===t?O:N)),r)}function B(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,o={},i="/",a=[];for(let s=0;s<r.length;++s){let e=r[s],l=s===r.length-1,c="/"===i?t:t.slice(i.length)||"/",u=j({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=j({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(o,u.params),a.push({params:o,pathname:G([i,u.pathname]),pathnameBase:K(G([i,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(i=G([i,u.pathnameBase]))}return a}function j(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];w("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),o+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":""!==e&&"/"!==e&&(o+="(?:(?=\\/|$))");let i=new RegExp(o,t?void 0:"i");return[i,r]}(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let i=o[0],a=i.replace(/(.)\/+$/,"$1"),s=o.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:o}=t;if("*"===r){let e=s[n]||"";a=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[r]=o&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:i,pathnameBase:a,pattern:e}}function z(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(Do){return w(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(Do,").")),e}}function V(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function U(e,t,n,r){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(r),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function H(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function q(e){let t=H(e);return t.map(((e,n)=>n===t.length-1?e.pathname:e.pathnameBase))}function W(e,t,n){let r,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=S(e):(r=d({},e),b(!r.pathname||!r.pathname.includes("?"),U("?","pathname","search",r)),b(!r.pathname||!r.pathname.includes("#"),U("#","pathname","hash",r)),b(!r.search||!r.search.includes("#"),U("#","search","hash",r)));let i,a=""===e||""===r.pathname,s=a?"/":r.pathname;if(null==s)i=n;else{let e=t.length-1;if(!o&&s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}i=e>=0?t[e]:"/"}let l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:o=""}="string"===typeof e?S(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:Q(r),hash:Y(o)}}(r,i),c=s&&"/"!==s&&s.endsWith("/"),u=(a||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}var G=e=>e.join("/").replace(/\/\/+/g,"/"),K=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Q=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Y=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function X(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var $=["POST","PUT","PATCH","DELETE"],J=(new Set($),["GET",...$]);new Set(J),Symbol("ResetLoaderData");var Z=t.createContext(null);Z.displayName="DataRouter";var ee=t.createContext(null);ee.displayName="DataRouterState";var te=t.createContext({isTransitioning:!1});te.displayName="ViewTransition";var ne=t.createContext(new Map);ne.displayName="Fetchers";var re=t.createContext(null);re.displayName="Await";var oe=t.createContext(null);oe.displayName="Navigation";var ie=t.createContext(null);ie.displayName="Location";var ae=t.createContext({outlet:null,matches:[],isDataRoute:!1});ae.displayName="Route";var se=t.createContext(null);se.displayName="RouteError";function le(){return null!=t.useContext(ie)}function ce(){return b(le(),"useLocation() may be used only in the context of a <Router> component."),t.useContext(ie).location}var ue="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function de(e){t.useContext(oe).static||t.useLayoutEffect(e)}function he(){let{isDataRoute:e}=t.useContext(ae);return e?function(){let{router:e}=Ce("useNavigate"),n=xe("useNavigate"),r=t.useRef(!1);de((()=>{r.current=!0}));let o=t.useCallback((async function(t){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};w(r.current,ue),r.current&&("number"===typeof t?e.navigate(t):await e.navigate(t,d({fromRouteId:n},o)))}),[e,n]);return o}():function(){b(le(),"useNavigate() may be used only in the context of a <Router> component.");let e=t.useContext(Z),{basename:n,navigator:r}=t.useContext(oe),{matches:o}=t.useContext(ae),{pathname:i}=ce(),a=JSON.stringify(q(o)),s=t.useRef(!1);de((()=>{s.current=!0}));let l=t.useCallback((function(t){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(w(s.current,ue),!s.current)return;if("number"===typeof t)return void r.go(t);let l=W(t,JSON.parse(a),i,"path"===o.relative);null==e&&"/"!==n&&(l.pathname="/"===l.pathname?n:G([n,l.pathname])),(o.replace?r.replace:r.push)(l,o.state,o)}),[n,r,a,i,e]);return l}()}t.createContext(null);function pe(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:r}=t.useContext(ae),{pathname:o}=ce(),i=JSON.stringify(q(r));return t.useMemo((()=>W(e,JSON.parse(i),o,"path"===n)),[e,i,o,n])}function fe(e,n,r,o){b(le(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:a}=t.useContext(oe),{matches:s}=t.useContext(ae),l=s[s.length-1],c=l?l.params:{},u=l?l.pathname:"/",h=l?l.pathnameBase:"/",p=l&&l.route;{let e=p&&p.path||"";Ie(u,!p||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(u,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let f,m=ce();if(n){var g;let e="string"===typeof n?S(n):n;b("/"===h||(null===(g=e.pathname)||void 0===g?void 0:g.startsWith(h)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(h,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),f=e}else f=m;let v=f.pathname||"/",y=v;if("/"!==h){let e=h.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let C=!a&&r&&r.matches&&r.matches.length>0?r.matches:I(e,{pathname:y});w(p||null!=C,'No routes matched location "'.concat(f.pathname).concat(f.search).concat(f.hash,'" ')),w(null==C||void 0!==C[C.length-1].route.element||void 0!==C[C.length-1].route.Component||void 0!==C[C.length-1].route.lazy,'Matched leaf route at location "'.concat(f.pathname).concat(f.search).concat(f.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let _=be(C&&C.map((e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:G([h,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:G([h,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),s,r,o);return n&&_?t.createElement(ie.Provider,{value:{location:d({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:"POP"}},_):_}function me(){let e=Se(),n=X(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,o="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:o},a={padding:"2px 4px",backgroundColor:o},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=t.createElement(t.Fragment,null,t.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),t.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",t.createElement("code",{style:a},"ErrorBoundary")," or"," ",t.createElement("code",{style:a},"errorElement")," prop on your route.")),t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:i},r):null,s)}var ge=t.createElement(me,null),ve=class extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(ae.Provider,{value:this.props.routeContext},t.createElement(se.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ye(e){let{routeContext:n,match:r,children:o}=e,i=t.useContext(Z);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(ae.Provider,{value:n},o)}function be(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e){if(!r)return null;if(r.errors)e=r.matches;else{if(0!==n.length||r.initialized||!(r.matches.length>0))return null;e=r.matches}}let o=e,i=null===r||void 0===r?void 0:r.errors;if(null!=i){let e=o.findIndex((e=>e.route.id&&void 0!==(null===i||void 0===i?void 0:i[e.route.id])));b(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(i).join(","))),o=o.slice(0,Math.min(o.length,e+1))}let a=!1,s=-1;if(r)for(let t=0;t<o.length;t++){let e=o[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(s=t),e.route.id){let{loaderData:t,errors:n}=r,i=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!n||void 0===n[e.route.id]);if(e.route.lazy||i){a=!0,o=s>=0?o.slice(0,s+1):[o[0]];break}}}return o.reduceRight(((e,l,c)=>{let u,d=!1,h=null,p=null;r&&(u=i&&l.route.id?i[l.route.id]:void 0,h=l.route.errorElement||ge,a&&(s<0&&0===c?(Ie("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,p=null):s===c&&(d=!0,p=l.route.hydrateFallbackElement||null)));let f=n.concat(o.slice(0,c+1)),m=()=>{let n;return n=u?h:d?p:l.route.Component?t.createElement(l.route.Component,null):l.route.element?l.route.element:e,t.createElement(ye,{match:l,routeContext:{outlet:e,matches:f,isDataRoute:null!=r},children:n})};return r&&(l.route.ErrorBoundary||l.route.errorElement||0===c)?t.createElement(ve,{location:r.location,revalidation:r.revalidation,component:h,error:u,children:m(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):m()}),null)}function we(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Ce(e){let n=t.useContext(Z);return b(n,we(e)),n}function _e(e){let n=t.useContext(ee);return b(n,we(e)),n}function xe(e){let n=function(e){let n=t.useContext(ae);return b(n,we(e)),n}(e),r=n.matches[n.matches.length-1];return b(r.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),r.route.id}function Se(){var e;let n=t.useContext(se),r=_e("useRouteError"),o=xe("useRouteError");return void 0!==n?n:null===(e=r.errors)||void 0===e?void 0:e[o]}var ke={};function Ie(e,t,n){t||ke[e]||(ke[e]=!0,w(!1,n))}t.memo((function(e){let{routes:t,future:n,state:r}=e;return fe(t,void 0,r,n)}));function Ee(e){let{to:n,replace:r,state:o,relative:i}=e;b(le(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=t.useContext(oe);w(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=t.useContext(ae),{pathname:l}=ce(),c=he(),u=W(n,q(s),l,"path"===i),d=JSON.stringify(u);return t.useEffect((()=>{c(JSON.parse(d),{replace:r,state:o,relative:i})}),[c,d,i,r,o]),null}function Te(e){b(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Re(e){let{basename:n="/",children:r=null,location:o,navigationType:i="POP",navigator:a,static:s=!1}=e;b(!le(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),c=t.useMemo((()=>({basename:l,navigator:a,static:s,future:{}})),[l,a,s]);"string"===typeof o&&(o=S(o));let{pathname:u="/",search:d="",hash:h="",state:p=null,key:f="default"}=o,m=t.useMemo((()=>{let e=V(u,l);return null==e?null:{location:{pathname:e,search:d,hash:h,state:p,key:f},navigationType:i}}),[l,u,d,h,p,f,i]);return w(null!=m,'<Router basename="'.concat(l,'"> is not able to match the URL "').concat(u).concat(d).concat(h,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==m?null:t.createElement(oe.Provider,{value:c},t.createElement(ie.Provider,{children:r,value:m}))}function Pe(e){let{children:t,location:n}=e;return fe(Ae(t),n)}t.Component;function Ae(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];return t.Children.forEach(e,((e,o)=>{if(!t.isValidElement(e))return;let i=[...n,o];if(e.type===t.Fragment)return void r.push.apply(r,Ae(e.props.children,i));b(e.type===Te,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),b(!e.props.index||!e.props.children,"An index route cannot have child routes.");let a={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=Ae(e.props.children,i)),r.push(a)})),r}var De="get",Oe="application/x-www-form-urlencoded";function Ne(e){return null!=e&&"string"===typeof e.tagName}var Me=null;var Le=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Fe(e){return null==e||Le.has(e)?e:(w(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Oe,'"')),null)}function Be(e,t){let n,r,o,i,a;if(Ne(s=e)&&"form"===s.tagName.toLowerCase()){let a=e.getAttribute("action");r=a?V(a,t):null,n=e.getAttribute("method")||De,o=Fe(e.getAttribute("enctype"))||Oe,i=new FormData(e)}else if(function(e){return Ne(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Ne(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let a=e.form;if(null==a)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let s=e.getAttribute("formaction")||a.getAttribute("action");if(r=s?V(s,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||De,o=Fe(e.getAttribute("formenctype"))||Fe(a.getAttribute("enctype"))||Oe,i=new FormData(a,e),!function(){if(null===Me)try{new FormData(document.createElement("form"),0),Me=!1}catch(e){Me=!0}return Me}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?"".concat(t,"."):"";i.append("".concat(e,"x"),"0"),i.append("".concat(e,"y"),"0")}else t&&i.append(t,r)}}else{if(Ne(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=De,r=null,o=Oe,a=e}var s;return i&&"text/plain"===o&&(a=i,i=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:i,body:a}}function je(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}async function ze(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(Do){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(Do),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise((()=>{}))}}function Ve(e){return null!=e&&"string"===typeof e.page}function Ue(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function He(e,t,n,r,o,i){let a=(e,t)=>!n[t]||e.route.id!==n[t].route.id,s=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null===(r=n[t].route.path)||void 0===r?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===i?t.filter(((e,t)=>a(e,t)||s(e,t))):"data"===i?t.filter(((t,i)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(a(t,i)||s(t,i))return!0;if(t.route.shouldRevalidate){var c;let r=t.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0})):[]}function qe(e){return[...new Set(e)]}function We(e,t){let n=new Set,r=new Set(t);return e.reduce(((e,o)=>{if(t&&!Ve(o)&&"script"===o.as&&o.href&&r.has(o.href))return e;let i=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(o));return n.has(i)||(n.add(i),e.push({key:i,link:o})),e}),[])}function Ge(e){return{__html:e}}Symbol("SingleFetchRedirect");function Ke(e){let t="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===t.pathname?t.pathname="_root.data":t.pathname="".concat(t.pathname.replace(/\/$/,""),".data"),t}t.Component;function Qe(e){let{error:n,isOutsideRemixApp:r}=e;console.error(n);let o,i=t.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://remix.run/guides/errors for more information."\n        );\n      '}});if(X(n))return t.createElement(Ye,{title:"Unhandled Thrown Response!"},t.createElement("h1",{style:{fontSize:"24px"}},n.status," ",n.statusText),i);if(n instanceof Error)0;else{let e=null==n?"Unknown Error":"object"===typeof n&&"toString"in n?n.toString():JSON.stringify(n);new Error(e)}return t.createElement(Ye,{title:"Application Error!",isOutsideRemixApp:r},t.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),t.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},o.stack),i)}function Ye(e){var n;let{title:r,renderScripts:o,isOutsideRemixApp:i,children:a}=e,{routeModules:s}=et();return null!==s.root&&void 0!==n&&n.Layout&&!i?a:t.createElement("html",{lang:"en"},t.createElement("head",null,t.createElement("meta",{charSet:"utf-8"}),t.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),t.createElement("title",null,r)),t.createElement("body",null,t.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},a,o?t.createElement(st,null):null)))}function Xe(e){return!e}function $e(){let e=t.useContext(Z);return je(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Je(){let e=t.useContext(ee);return je(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Ze=t.createContext(void 0);function et(){let e=t.useContext(Ze);return je(e,"You must render this element inside a <HydratedRouter> element"),e}function tt(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function nt(e,t,n){if(n&&!at)return[e[0]];if(t){let n=e.findIndex((e=>void 0!==t[e.route.id]));return e.slice(0,n+1)}return e}function rt(e){let{page:n}=e,r=a(e,h),{router:o}=$e(),i=t.useMemo((()=>I(o.routes,n,o.basename)),[o.routes,n,o.basename]);return i?t.createElement(it,d({page:n,matches:i},r)):null}function ot(e){let{manifest:n,routeModules:r}=et(),[o,i]=t.useState([]);return t.useEffect((()=>{let t=!1;return async function(e,t,n){return We((await Promise.all(e.map((async e=>{let r=t.routes[e.route.id];if(r){let e=await ze(r,n);return e.links?e.links():[]}return[]})))).flat(1).filter(Ue).filter((e=>"stylesheet"===e.rel||"preload"===e.rel)).map((e=>"stylesheet"===e.rel?d(d({},e),{},{rel:"prefetch",as:"style"}):d(d({},e),{},{rel:"prefetch"}))))}(e,n,r).then((e=>{t||i(e)})),()=>{t=!0}}),[e,n,r]),o}function it(e){let{page:n,matches:r}=e,o=a(e,p),i=ce(),{manifest:s,routeModules:l}=et(),{loaderData:c,matches:u}=Je(),h=t.useMemo((()=>He(n,r,u,s,i,"data")),[n,r,u,s,i]),f=t.useMemo((()=>He(n,r,u,s,i,"assets")),[n,r,u,s,i]),m=t.useMemo((()=>{if(n===i.pathname+i.search+i.hash)return[];let e=new Set,t=!1;if(r.forEach((n=>{var r;let o=s.routes[n.route.id];o&&o.hasLoader&&(!h.some((e=>e.route.id===n.route.id))&&n.route.id in c&&null!==(r=l[n.route.id])&&void 0!==r&&r.shouldRevalidate||o.hasClientLoader?t=!0:e.add(n.route.id))})),0===e.size)return[];let o=Ke(n);return t&&e.size>0&&o.searchParams.set("_routes",r.filter((t=>e.has(t.route.id))).map((e=>e.route.id)).join(",")),[o.pathname+o.search]}),[c,i,s,h,r,n,l]),g=t.useMemo((()=>function(e,t){return qe(e.map((e=>{let n=t.routes[e.route.id];if(!n)return[];let r=[n.module];return n.imports&&(r=r.concat(n.imports)),r})).flat(1))}(f,s)),[f,s]),v=ot(f);return t.createElement(t.Fragment,null,m.map((e=>t.createElement("link",d({key:e,rel:"prefetch",as:"fetch",href:e},o)))),g.map((e=>t.createElement("link",d({key:e,rel:"modulepreload",href:e},o)))),v.map((e=>{let{key:n,link:r}=e;return t.createElement("link",d({key:n},r))})))}Ze.displayName="FrameworkContext";var at=!1;function st(e){let{manifest:n,serverHandoffString:r,isSpaMode:o,renderMeta:i}=et(),{router:a,static:s,staticContext:l}=$e(),{matches:c}=Je(),u=Xe(o);i&&(i.didRenderScripts=!0);let h=nt(c,null,o);t.useEffect((()=>{0}),[]);let p=t.useMemo((()=>{var o;let i=l?"window.__reactRouterContext = ".concat(r,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",c=s?"".concat(null!==n.hmr&&void 0!==o&&o.runtime?"import ".concat(JSON.stringify(n.hmr.runtime),";"):"").concat(u?"":"import ".concat(JSON.stringify(n.url)),";\n").concat(h.map(((e,t)=>"import * as route".concat(t," from ").concat(JSON.stringify(n.routes[e.route.id].module),";"))).join("\n"),"\n  ").concat(u?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let n=new Set(t.state.matches.map((e=>e.route.id))),r=t.state.location.pathname.split("/").filter(Boolean),o=["/"];for(r.pop();r.length>0;)o.push("/".concat(r.join("/"))),r.pop();o.forEach((e=>{let r=I(t.routes,e,t.basename);r&&r.forEach((e=>n.add(e.route.id)))}));let i=[...n].reduce(((t,n)=>Object.assign(t,{[n]:e.routes[n]})),{});return d(d({},e),{},{routes:i})}(n,a),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(h.map(((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t))).join(","),"};\n\nimport(").concat(JSON.stringify(n.entry.module),");"):" ";return t.createElement(t.Fragment,null,t.createElement("script",d(d({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:Ge(i),type:void 0})),t.createElement("script",d(d({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:Ge(c),type:"module",async:!0})))}),[]),f=h.map((e=>{let t=n.routes[e.route.id];return t?(t.imports||[]).concat([t.module]):[]})).flat(1),m=at?[]:n.entry.imports.concat(f);return at?null:t.createElement(t.Fragment,null,u?null:t.createElement("link",{rel:"modulepreload",href:n.url,crossOrigin:e.crossOrigin}),t.createElement("link",{rel:"modulepreload",href:n.entry.module,crossOrigin:e.crossOrigin}),[...new Set(g)].map((n=>t.createElement("link",{key:n,rel:"modulepreload",href:n,crossOrigin:e.crossOrigin}))),p);var g}function lt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach((t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)}))}}var ct="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{ct&&(window.__reactRouterVersion="7.1.5")}catch(D9){}function ut(e){let{basename:n,children:r,window:o}=e,i=t.useRef();null==i.current&&(i.current=y({window:o,v5Compat:!0}));let a=i.current,[s,l]=t.useState({action:a.action,location:a.location}),c=t.useCallback((e=>{t.startTransition((()=>l(e)))}),[l]);return t.useLayoutEffect((()=>a.listen(c)),[a,c]),t.createElement(Re,{basename:n,children:r,location:s.location,navigationType:s.action,navigator:a})}var dt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ht=t.forwardRef((function(e,n){let r,{onClick:o,discover:i="render",prefetch:s="none",relative:l,reloadDocument:c,replace:u,state:h,target:p,to:m,preventScrollReset:g,viewTransition:v}=e,y=a(e,f),{basename:C}=t.useContext(oe),_="string"===typeof m&&dt.test(m),S=!1;if("string"===typeof m&&_&&(r=m,ct))try{let e=new URL(window.location.href),t=m.startsWith("//")?new URL(e.protocol+m):new URL(m),n=V(t.pathname,C);t.origin===e.origin&&null!=n?m=n+t.search+t.hash:S=!0}catch(D9){w(!1,'<Link to="'.concat(m,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let k=function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};b(le(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:o}=t.useContext(oe),{hash:i,pathname:a,search:s}=pe(e,{relative:n}),l=a;return"/"!==r&&(l="/"===a?r:G([r,a])),o.createHref({pathname:l,search:s,hash:i})}(m,{relative:l}),[I,E,T]=function(e,n){let r=t.useContext(Ze),[o,i]=t.useState(!1),[a,s]=t.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=n,p=t.useRef(null);t.useEffect((()=>{if("render"===e&&s(!0),"viewport"===e){let e=new IntersectionObserver((e=>{e.forEach((e=>{s(e.isIntersecting)}))}),{threshold:.5});return p.current&&e.observe(p.current),()=>{e.disconnect()}}}),[e]),t.useEffect((()=>{if(o){let e=setTimeout((()=>{s(!0)}),100);return()=>{clearTimeout(e)}}}),[o]);let f=()=>{i(!0)},m=()=>{i(!1),s(!1)};return r?"intent"!==e?[a,p,{}]:[a,p,{onFocus:tt(l,f),onBlur:tt(c,m),onMouseEnter:tt(u,f),onMouseLeave:tt(d,m),onTouchStart:tt(h,f)}]:[!1,p,{}]}(s,y),R=function(e){let{target:n,replace:r,state:o,preventScrollReset:i,relative:a,viewTransition:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=he(),c=ce(),u=pe(e,{relative:a});return t.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:x(c)===x(u);l(e,{replace:n,state:o,preventScrollReset:i,relative:a,viewTransition:s})}}),[c,l,u,r,o,n,e,i,a,s])}(m,{replace:u,state:h,target:p,preventScrollReset:g,relative:l,viewTransition:v});let P=t.createElement("a",d(d(d({},y),T),{},{href:r||k,onClick:S||c?o:function(e){o&&o(e),e.defaultPrevented||R(e)},ref:lt(n,E),target:p,"data-discover":_||"render"!==i?void 0:"true"}));return I&&!_?t.createElement(t.Fragment,null,P,t.createElement(rt,{page:k})):P}));ht.displayName="Link";var pt=t.forwardRef((function(e,n){let{"aria-current":r="page",caseSensitive:o=!1,className:i="",end:s=!1,style:l,to:c,viewTransition:u,children:h}=e,p=a(e,m),f=pe(c,{relative:p.relative}),g=ce(),v=t.useContext(ee),{navigator:y,basename:w}=t.useContext(oe),C=null!=v&&function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.useContext(te);b(null!=r,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=gt("useViewTransitionState"),i=pe(e,{relative:n.relative});if(!r.isTransitioning)return!1;let a=V(r.currentLocation.pathname,o)||r.currentLocation.pathname,s=V(r.nextLocation.pathname,o)||r.nextLocation.pathname;return null!=j(i.pathname,s)||null!=j(i.pathname,a)}(f)&&!0===u,_=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,x=g.pathname,S=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;o||(x=x.toLowerCase(),S=S?S.toLowerCase():null,_=_.toLowerCase()),S&&w&&(S=V(S,w)||S);const k="/"!==_&&_.endsWith("/")?_.length-1:_.length;let I,E=x===_||!s&&x.startsWith(_)&&"/"===x.charAt(k),T=null!=S&&(S===_||!s&&S.startsWith(_)&&"/"===S.charAt(_.length)),R={isActive:E,isPending:T,isTransitioning:C},P=E?r:void 0;I="function"===typeof i?i(R):[i,E?"active":null,T?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let A="function"===typeof l?l(R):l;return t.createElement(ht,d(d({},p),{},{"aria-current":P,className:I,ref:n,style:A,to:c,viewTransition:u}),"function"===typeof h?h(R):h)}));pt.displayName="NavLink";var ft=t.forwardRef(((e,n)=>{let{discover:r="render",fetcherKey:o,navigate:i,reloadDocument:s,replace:l,state:c,method:u=De,action:h,onSubmit:p,relative:f,preventScrollReset:m,viewTransition:v}=e,y=a(e,g),w=bt(),C=function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:r}=t.useContext(oe),o=t.useContext(ae);b(o,"useFormAction must be used inside a RouteContext");let[i]=o.matches.slice(-1),a=d({},pe(e||".",{relative:n})),s=ce();if(null==e){a.search=s.search;let e=new URLSearchParams(a.search),t=e.getAll("index"),n=t.some((e=>""===e));if(n){e.delete("index"),t.filter((e=>e)).forEach((t=>e.append("index",t)));let n=e.toString();a.search=n?"?".concat(n):""}}e&&"."!==e||!i.route.index||(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index");"/"!==r&&(a.pathname="/"===a.pathname?r:G([r,a.pathname]));return x(a)}(h,{relative:f}),_="get"===u.toLowerCase()?"get":"post",S="string"===typeof h&&dt.test(h);return t.createElement("form",d(d({ref:n,method:_,action:C,onSubmit:s?p:e=>{if(p&&p(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||u;w(t||e.currentTarget,{fetcherKey:o,method:n,navigate:i,replace:l,state:c,relative:f,preventScrollReset:m,viewTransition:v})}},y),{},{"data-discover":S||"render"!==r?void 0:"true"}))}));function mt(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function gt(e){let n=t.useContext(Z);return b(n,mt(e)),n}ft.displayName="Form";var vt=0,yt=()=>"__".concat(String(++vt),"__");function bt(){let{router:e}=gt("useSubmit"),{basename:n}=t.useContext(oe),r=xe("useRouteId");return t.useCallback((async function(t){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:i,method:a,encType:s,formData:l,body:c}=Be(t,n);if(!1===o.navigate){let t=o.fetcherKey||yt();await e.fetch(t,r,o.action||i,{preventScrollReset:o.preventScrollReset,formData:l,body:c,formMethod:o.method||a,formEncType:o.encType||s,flushSync:o.flushSync})}else await e.navigate(o.action||i,{preventScrollReset:o.preventScrollReset,formData:l,body:c,formMethod:o.method||a,formEncType:o.encType||s,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})}),[e,n,r])}new TextEncoder;const wt={primary:"#007bff",primaryHover:"#0056b3",danger:"#dc3545",dangerHover:"#c82333",text:"#333333",background:"rgba(255, 255, 255, 0.95)",containerBackground:"rgba(255, 255, 255, 0.95)",link:"#007bff",error:"#dc3545",success:"#28a745"},Ct="4px",_t="0 2px 4px rgba(0,0,0,0.1)",xt=!1,St=!1,kt="${JSCORE_VERSION}",It=function(e,t){if(!e)throw Et(t)},Et=function(e){return new Error("Firebase Database ("+kt+") INTERNAL ASSERT FAILED: "+e)},Tt=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):55296===(64512&o)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++r)),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t},Rt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<e.length;o+=3){const t=e[o],i=o+1<e.length,a=i?e[o+1]:0,s=o+2<e.length,l=s?e[o+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;s||(h=64,i||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Tt(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const o=e[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const i=e[n++];t[r++]=String.fromCharCode((31&o)<<6|63&i)}else if(o>239&&o<365){const i=((7&o)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(i>>10)),t[r++]=String.fromCharCode(56320+(1023&i))}else{const i=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&o)<<12|(63&i)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<e.length;){const t=n[e.charAt(o++)],i=o<e.length?n[e.charAt(o)]:0;++o;const a=o<e.length?n[e.charAt(o)]:64;++o;const s=o<e.length?n[e.charAt(o)]:64;if(++o,null==t||null==i||null==a||null==s)throw new Pt;const l=t<<2|i>>4;if(r.push(l),64!==a){const e=i<<4&240|a>>2;if(r.push(e),64!==s){const e=a<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Pt extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const At=function(e){const t=Tt(e);return Rt.encodeByteArray(t,!0)},Dt=function(e){return At(e).replace(/\./g,"")},Ot=function(e){try{return Rt.decodeString(e,!0)}catch(D9){console.error("base64Decode failed: ",D9)}return null};function Nt(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Nt(e[n],t[n]));return e}function Mt(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const Lt=()=>{try{return Mt().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/fiber-fix-web",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyC3Vv0qYdu4xbwtj6UNDEoFOmrcLxNfhXw",REACT_APP_FIREBASE_PROJECT_ID:"fiber-fix-web",REACT_APP_FIREBASE_SENDER_ID:"119794000149",REACT_APP_FIREBASE_APP_ID:"1:119794000149:web:89b9b5e94b9f9b6f0b491c",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-NE31YVTRYQ"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(D9){return}const t=e&&Ot(e[1]);return t&&JSON.parse(t)})()}catch(D9){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(D9))}},Ft=e=>{const t=(e=>{var t,n;return null===(n=null===(t=Lt())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]})(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Bt=()=>{var e;return null===(e=Lt())||void 0===e?void 0:e.config};class jt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function zt(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Dt(JSON.stringify({alg:"none",type:"JWT"})),Dt(JSON.stringify(i)),""].join(".")}function Vt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ut(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vt())}function Ht(){var e;const t=null===(e=Lt())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(D9){return!1}}function qt(){return"undefined"!==typeof WorkerGlobalScope&&"undefined"!==typeof self&&self instanceof WorkerGlobalScope}function Wt(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Gt(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Kt(){const e=Vt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Qt(){return!0===xt||!0===St}function Yt(){return!Ht()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Xt(){try{return"object"===typeof indexedDB}catch(D9){return!1}}class $t extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,$t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jt.prototype.create)}}class Jt{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],o=r?function(e,t){return e.replace(Zt,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",i="".concat(this.serviceName,": ").concat(o," (").concat(n,").");return new $t(n,i,t)}}const Zt=/\{\$([^}]+)}/g;function en(e){return JSON.parse(e)}function tn(e){return JSON.stringify(e)}const nn=function(e){let t={},n={},r={},o="";try{const i=e.split(".");t=en(Ot(i[0])||""),n=en(Ot(i[1])||""),o=i[2],r=n.d||{},delete n.d}catch(D9){}return{header:t,claims:n,data:r,signature:o}};function rn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function on(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function an(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function sn(e,t,n){const r={};for(const o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=t.call(n,e[o],o,e));return r}function ln(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const o of n){if(!r.includes(o))return!1;const n=e[o],i=t[o];if(cn(n)&&cn(i)){if(!ln(n,i))return!1}else if(n!==i)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function cn(e){return null!==e&&"object"===typeof e}function un(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function dn(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function hn(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class pn{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"===typeof e)for(let u=0;u<16;u++)n[u]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let u=0;u<16;u++)n[u]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let u=16;u<80;u++){const e=n[u-3]^n[u-8]^n[u-14]^n[u-16];n[u]=4294967295&(e<<1|e>>>31)}let r,o,i=this.chain_[0],a=this.chain_[1],s=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(let u=0;u<80;u++){u<40?u<20?(r=l^a&(s^l),o=1518500249):(r=a^s^l,o=1859775393):u<60?(r=a&s|l&(a|s),o=2400959708):(r=a^s^l,o=3395469782);const e=(i<<5|i>>>27)+r+c+o+n[u]&4294967295;c=l,l=s,s=4294967295&(a<<30|a>>>2),a=i,i=e}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const o=this.buf_;let i=this.inbuf_;for(;r<t;){if(0===i)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(o[i]=e.charCodeAt(r),++i,++r,i===this.blockSize){this.compress_(o),i=0;break}}else for(;r<t;)if(o[i]=e[r],++i,++r,i===this.blockSize){this.compress_(o),i=0;break}}this.inbuf_=i,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let r=0;r<5;r++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[r]>>t&255,++n;return e}}function fn(e,t){const n=new mn(e,t);return n.subscribe.bind(n)}class mn{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=gn),void 0===r.error&&(r.error=gn),void 0===r.complete&&(r.complete=gn);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(D9){}})),this.observers.push(r),o}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(D9){"undefined"!==typeof console&&console.error&&console.error(D9)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function gn(){}const vn=function(e,t,n,r){let o;if(r<t?o="at least "+t:r>n&&(o=0===n?"none":"no more than "+n),o){throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+o+".")}};function yn(e,t){return"".concat(e," failed: ").concat(t," argument ")}function bn(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(yn(e,t)+"must be a valid function.")}function wn(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(yn(e,t)+"must be a valid context object.")}const Cn=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function _n(e){return e&&e._delegate?e._delegate:e}class xn{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Sn="[DEFAULT]";class kn{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new jt;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(D9){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(D9){if(r)return null;throw D9}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Sn})}catch(D9){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(D9){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[o,i]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(o)&&i.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),o=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;o.add(e),this.onInitCallbacks.set(r,o);const i=this.instances.get(r);return i&&e(i,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const o of n)try{o(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:In(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(o){}return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn;return this.component?this.component.multipleInstances?e:Sn:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function In(e){return e===Sn?void 0:e}class En{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new kn(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Tn=[];var Rn;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Rn||(Rn={}));const Pn={debug:Rn.DEBUG,verbose:Rn.VERBOSE,info:Rn.INFO,warn:Rn.WARN,error:Rn.ERROR,silent:Rn.SILENT},An=Rn.INFO,Dn={[Rn.DEBUG]:"log",[Rn.VERBOSE]:"log",[Rn.INFO]:"info",[Rn.WARN]:"warn",[Rn.ERROR]:"error"},On=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Dn[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var o=arguments.length,i=new Array(o>2?o-2:0),a=2;a<o;a++)i[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(e.name,":"),...i)};class Nn{constructor(e){this.name=e,this._logLevel=An,this._logHandler=On,this._userLogHandler=null,Tn.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Rn))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Pn[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Rn.DEBUG,...t),this._logHandler(this,Rn.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Rn.VERBOSE,...t),this._logHandler(this,Rn.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Rn.INFO,...t),this._logHandler(this,Rn.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Rn.WARN,...t),this._logHandler(this,Rn.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Rn.ERROR,...t),this._logHandler(this,Rn.ERROR,...t)}}let Mn,Ln;const Fn=new WeakMap,Bn=new WeakMap,jn=new WeakMap,zn=new WeakMap,Vn=new WeakMap;let Un={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Bn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||jn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wn(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Hn(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Ln||(Ln=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Gn(this),n),Wn(Fn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Wn(e.apply(Gn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];const i=e.call(Gn(this),t,...r);return jn.set(i,t.sort?t.sort():[t]),Wn(i)}}function qn(e){return"function"===typeof e?Hn(e):(e instanceof IDBTransaction&&function(e){if(Bn.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",i),e.removeEventListener("abort",i)},o=()=>{t(),r()},i=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",o),e.addEventListener("error",i),e.addEventListener("abort",i)}));Bn.set(e,t)}(e),t=e,(Mn||(Mn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,Un):e);var t}function Wn(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",o),e.removeEventListener("error",i)},o=()=>{t(Wn(e.result)),r()},i=()=>{n(e.error),r()};e.addEventListener("success",o),e.addEventListener("error",i)}));return t.then((t=>{t instanceof IDBCursor&&Fn.set(t,e)})).catch((()=>{})),Vn.set(t,e),t}(e);if(zn.has(e))return zn.get(e);const t=qn(e);return t!==e&&(zn.set(e,t),Vn.set(t,e)),t}const Gn=e=>Vn.get(e);const Kn=["get","getKey","getAll","getAllKeys","count"],Qn=["put","add","delete","clear"],Yn=new Map;function Xn(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Yn.get(t))return Yn.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,o=Qn.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!o&&!Kn.includes(n))return;const i=async function(e){const t=this.transaction(e,o?"readwrite":"readonly");let i=t.store;for(var a=arguments.length,s=new Array(a>1?a-1:0),l=1;l<a;l++)s[l-1]=arguments[l];return r&&(i=i.index(s.shift())),(await Promise.all([i[n](...s),o&&t.done]))[0]};return Yn.set(t,i),i}Un=(e=>d(d({},e),{},{get:(t,n,r)=>Xn(t,n)||e.get(t,n,r),has:(t,n)=>!!Xn(t,n)||e.has(t,n)}))(Un);class $n{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const Jn="@firebase/app",Zn="0.10.18",er=new Nn("@firebase/app"),tr="@firebase/app-compat",nr="@firebase/analytics-compat",rr="@firebase/analytics",or="@firebase/app-check-compat",ir="@firebase/app-check",ar="@firebase/auth",sr="@firebase/auth-compat",lr="@firebase/database",cr="@firebase/data-connect",ur="@firebase/database-compat",dr="@firebase/functions",hr="@firebase/functions-compat",pr="@firebase/installations",fr="@firebase/installations-compat",mr="@firebase/messaging",gr="@firebase/messaging-compat",vr="@firebase/performance",yr="@firebase/performance-compat",br="@firebase/remote-config",wr="@firebase/remote-config-compat",Cr="@firebase/storage",_r="@firebase/storage-compat",xr="@firebase/firestore",Sr="@firebase/vertexai",kr="@firebase/firestore-compat",Ir="firebase",Er="[DEFAULT]",Tr={[Jn]:"fire-core",[tr]:"fire-core-compat",[rr]:"fire-analytics",[nr]:"fire-analytics-compat",[ir]:"fire-app-check",[or]:"fire-app-check-compat",[ar]:"fire-auth",[sr]:"fire-auth-compat",[lr]:"fire-rtdb",[cr]:"fire-data-connect",[ur]:"fire-rtdb-compat",[dr]:"fire-fn",[hr]:"fire-fn-compat",[pr]:"fire-iid",[fr]:"fire-iid-compat",[mr]:"fire-fcm",[gr]:"fire-fcm-compat",[vr]:"fire-perf",[yr]:"fire-perf-compat",[br]:"fire-rc",[wr]:"fire-rc-compat",[Cr]:"fire-gcs",[_r]:"fire-gcs-compat",[xr]:"fire-fst",[kr]:"fire-fst-compat",[Sr]:"fire-vertex","fire-js":"fire-js",[Ir]:"fire-js-all"},Rr=new Map,Pr=new Map,Ar=new Map;function Dr(e,t){try{e.container.addComponent(t)}catch(D9){er.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),D9)}}function Or(e,t){e.container.addOrOverwriteComponent(t)}function Nr(e){const t=e.name;if(Ar.has(t))return er.debug("There were multiple attempts to register component ".concat(t,".")),!1;Ar.set(t,e);for(const n of Rr.values())Dr(n,e);for(const n of Pr.values())Dr(n,e);return!0}function Mr(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Lr(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Er;Mr(e,t).clearInstance(n)}function Fr(e){return void 0!==e.options}function Br(e){return void 0!==e.settings}function jr(){Ar.clear()}const zr=new Jt("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Vr{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new xn("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zr.create("app-deleted",{appName:this._name})}}class Ur extends Vr{constructor(e,t,n,r){const o=void 0!==t.automaticDataCollectionEnabled&&t.automaticDataCollectionEnabled,i={name:n,automaticDataCollectionEnabled:o};if(void 0!==e.apiKey)super(e,i,r);else{super(e.options,i,r)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:o},t),this._finalizationRegistry=null,"undefined"!==typeof FinalizationRegistry&&(this._finalizationRegistry=new FinalizationRegistry((()=>{this.automaticCleanup()}))),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,Yr(Jn,Zn,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,void 0!==e&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Qr(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw zr.create("server-app-deleted")}}const Hr="11.2.0";function qr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Er,automaticDataCollectionEnabled:!1},t),o=r.name;if("string"!==typeof o||!o)throw zr.create("bad-app-name",{appName:String(o)});if(n||(n=Bt()),!n)throw zr.create("no-options");const i=Rr.get(o);if(i){if(ln(n,i.options)&&ln(r,i.config))return i;throw zr.create("duplicate-app",{appName:o})}const a=new En(o);for(const l of Ar.values())a.addComponent(l);const s=new Vr(n,r,a);return Rr.set(o,s),s}function Wr(e,t){if(("undefined"!==typeof window||qt())&&!qt())throw zr.create("invalid-server-app-environment");let n;void 0===t.automaticDataCollectionEnabled&&(t.automaticDataCollectionEnabled=!1),n=Fr(e)?e.options:e;const r=Object.assign(Object.assign({},t),n);void 0!==r.releaseOnDeref&&delete r.releaseOnDeref;if(void 0!==t.releaseOnDeref&&"undefined"===typeof FinalizationRegistry)throw zr.create("finalization-registry-not-supported",{});const o=""+(e=>[...e].reduce(((e,t)=>Math.imul(31,e)+t.charCodeAt(0)|0),0))(JSON.stringify(r)),i=Pr.get(o);if(i)return i.incRefCount(t.releaseOnDeref),i;const a=new En(o);for(const l of Ar.values())a.addComponent(l);const s=new Ur(n,t,o,a);return Pr.set(o,s),s}function Gr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Er;const t=Rr.get(e);if(!t&&e===Er&&Bt())return qr();if(!t)throw zr.create("no-app",{appName:e});return t}function Kr(){return Array.from(Rr.values())}async function Qr(e){let t=!1;const n=e.name;if(Rr.has(n))t=!0,Rr.delete(n);else if(Pr.has(n)){e.decRefCount()<=0&&(Pr.delete(n),t=!0)}t&&(await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function Yr(e,t,n){var r;let o=null!==(r=Tr[e])&&void 0!==r?r:e;n&&(o+="-".concat(n));const i=o.match(/\s|\//),a=t.match(/\s|\//);if(i||a){const e=['Unable to register library "'.concat(o,'" with version "').concat(t,'":')];return i&&e.push('library name "'.concat(o,'" contains illegal characters (whitespace or "/")')),i&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void er.warn(e.join(" "))}Nr(new xn("".concat(o,"-version"),(()=>({library:o,version:t})),"VERSION"))}function Xr(e,t){if(null!==e&&"function"!==typeof e)throw zr.create("invalid-log-argument");!function(e,t){for(const n of Tn){let r=null;t&&t.level&&(r=Pn[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var o=arguments.length,i=new Array(o>2?o-2:0),a=2;a<o;a++)i[a-2]=arguments[a];const s=i.map((e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((e=>e)).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:Rn[n].toLowerCase(),message:s,args:i,type:t.name})}}}(e,t)}function $r(e){var t;t=e,Tn.forEach((e=>{e.setLogLevel(t)}))}const Jr="firebase-heartbeat-store";let Zr=null;function eo(){return Zr||(Zr=function(e,t){let{blocked:n,upgrade:r,blocking:o,terminated:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),s=Wn(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(Wn(a.result),e.oldVersion,e.newVersion,Wn(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),s.then((e=>{i&&e.addEventListener("close",(()=>i())),o&&e.addEventListener("versionchange",(e=>o(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),s}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Jr)}catch(D9){console.warn(D9)}}}).catch((e=>{throw zr.create("idb-open",{originalErrorMessage:e.message})}))),Zr}async function to(e,t){try{const n=(await eo()).transaction(Jr,"readwrite"),r=n.objectStore(Jr);await r.put(t,no(e)),await n.done}catch(D9){if(D9 instanceof $t)er.warn(D9.message);else{const t=zr.create("idb-set",{originalErrorMessage:null===D9||void 0===D9?void 0:D9.message});er.warn(t.message)}}}function no(e){return"".concat(e.name,"!").concat(e.options.appId)}class ro{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new io(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=oo();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}catch(D9){er.warn(D9)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=oo(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const o of e){const e=n.find((e=>e.agent===o.agent));if(e){if(e.dates.push(o.date),ao(n)>t){e.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),ao(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),o=Dt(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(D9){return er.warn(D9),""}}}function oo(){return(new Date).toISOString().substring(0,10)}class io{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Xt()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var e;t((null===(e=o.error)||void 0===e?void 0:e.message)||"")}}catch(Do){t(Do)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await eo()).transaction(Jr),n=await t.objectStore(Jr).get(no(e));return await t.done,n}catch(D9){if(D9 instanceof $t)er.warn(D9.message);else{const t=zr.create("idb-get",{originalErrorMessage:null===D9||void 0===D9?void 0:D9.message});er.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return to(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return to(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function ao(e){return Dt(JSON.stringify({version:2,heartbeats:e})).length}var so;so="",Nr(new xn("platform-logger",(e=>new $n(e)),"PRIVATE")),Nr(new xn("heartbeat",(e=>new ro(e)),"PRIVATE")),Yr(Jn,Zn,so),Yr(Jn,Zn,"esm2017"),Yr("fire-js","");class lo{constructor(e,t){this._delegate=e,this.firebase=t,Dr(e,new xn("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),Qr(this._delegate))))}_getService(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Er;var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Er;this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Dr(this._delegate,e)}_addOrOverwriteComponent(e){Or(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const co=new Jt("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});const uo=function t(){const n=function(t){const n={},r={__esModule:!0,initializeApp:function(e){const o=qr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(rn(n,o.name))return n[o.name];const i=new t(o,r);return n[o.name]=i,i},app:o,registerVersion:Yr,setLogLevel:$r,onLog:Xr,apps:null,SDK_VERSION:Hr,INTERNAL:{registerComponent:function(e){const n=e.name,i=n.replace("-compat","");if(Nr(e)&&"PUBLIC"===e.type){const a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o();if("function"!==typeof e[i])throw co.create("invalid-app-argument",{appName:n});return e[i]()};void 0!==e.serviceProps&&Nt(a,e.serviceProps),r[i]=a,t.prototype[i]=function(){const t=this._getService.bind(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t.apply(this,e.multipleInstances?o:[])}}return"PUBLIC"===e.type?r[i]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function o(e){if(!rn(n,e=e||Er))throw co.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((e=>n[e]))}}),o.App=t,r}(lo);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Nt(n,e)},createSubscribe:fn,ErrorFactory:Jt,deepExtend:Nt}),n}(),ho=new Nn("@firebase/app-compat");try{const e=Mt();if(void 0!==e.firebase){ho.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const t=e.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&ho.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch(O9){}const po=uo;!function(e){Yr("@firebase/app-compat","0.2.48",e)}();const fo="@firebase/database",mo="1.0.11";let go="";function vo(e){go=e}class yo{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),tn(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:en(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class bo{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return rn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const wo=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new yo(t)}}catch(D9){}return new bo},Co=wo("localStorage"),_o=wo("sessionStorage"),xo=new Nn("@firebase/database"),So=function(){let e=1;return function(){return e++}}(),ko=function(e){const t=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let o=e.charCodeAt(r);if(o>=55296&&o<=56319){const t=o-55296;r++,It(r<e.length,"Surrogate pair missing trail surrogate."),o=65536+(t<<10)+(e.charCodeAt(r)-56320)}o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):o<65536?(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t}(e),n=new pn;n.update(t);const r=n.digest();return Rt.encodeByteArray(r)},Io=function(){let e="";for(let t=0;t<arguments.length;t++){const n=t<0||arguments.length<=t?void 0:arguments[t];Array.isArray(n)||n&&"object"===typeof n&&"number"===typeof n.length?e+=Io.apply(null,n):e+="object"===typeof n?tn(n):n,e+=" "}return e};let Eo=null,To=!0;const Ro=function(e,t){It(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(xo.logLevel=Rn.VERBOSE,Eo=xo.log.bind(xo),t&&_o.set("logging_enabled",!0)):"function"===typeof e?Eo=e:(Eo=null,_o.remove("logging_enabled"))},Po=function(){if(!0===To&&(To=!1,null===Eo&&!0===_o.get("logging_enabled")&&Ro(!0)),Eo){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=Io.apply(null,t);Eo(r)}},Ao=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Po(e,...n)}},Do=function(){const e="FIREBASE INTERNAL ERROR: "+Io(...arguments);xo.error(e)},Oo=function(){const e="FIREBASE FATAL ERROR: ".concat(Io(...arguments));throw xo.error(e),new Error(e)},No=function(){const e="FIREBASE WARNING: "+Io(...arguments);xo.warn(e)},Mo=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Lo="[MIN_NAME]",Fo="[MAX_NAME]",Bo=function(e,t){if(e===t)return 0;if(e===Lo||t===Fo)return-1;if(t===Lo||e===Fo)return 1;{const n=Go(e),r=Go(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},jo=function(e,t){return e===t?0:e<t?-1:1},zo=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+tn(t))},Vo=function(e){if("object"!==typeof e||null===e)return tn(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=tn(t[r]),n+=":",n+=Vo(e[t[r]]);return n+="}",n},Uo=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let o=0;o<n;o+=t)o+t>n?r.push(e.substring(o,n)):r.push(e.substring(o,o+t));return r};function Ho(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const qo=function(e){It(!Mo(e),"Invalid JSON number");const t=1023;let n,r,o,i,a;0===e?(r=0,o=0,n=1/e===-1/0?1:0):(n=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(i=Math.min(Math.floor(Math.log(e)/Math.LN2),t),r=i+t,o=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(r=0,o=Math.round(e/Math.pow(2,-1074))));const s=[];for(a=52;a;a-=1)s.push(o%2?1:0),o=Math.floor(o/2);for(a=11;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);s.push(n?1:0),s.reverse();const l=s.join("");let c="";for(a=0;a<64;a+=8){let e=parseInt(l.substr(a,8),2).toString(16);1===e.length&&(e="0"+e),c+=e}return c.toLowerCase()};const Wo=new RegExp("^-?(0*)\\d{1,10}$"),Go=function(e){if(Wo.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},Ko=function(e){try{e()}catch(D9){setTimeout((()=>{const t=D9.stack||"";throw No("Exception was thrown by user callback.",t),D9}),Math.floor(0))}},Qo=function(e,t){const n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n};class Yo{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then((e=>this.appCheck=e))}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise(((t,n)=>{setTimeout((()=>{this.appCheck?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((t=>t.addTokenListener(e)))}notifyForInvalidToken(){No('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}class Xo{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((e=>this.auth_=e))}getToken(e){return this.auth_?this.auth_.getToken(e).catch((e=>e&&"auth/token-not-initialized"===e.code?(Po("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e))):new Promise(((t,n)=>{setTimeout((()=>{this.auth_?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((t=>t.addAuthTokenListener(e)))}removeTokenChangeListener(e){this.authProvider_.get().then((t=>t.removeAuthTokenListener(e)))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',No(e)}}class $o{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}$o.OWNER="owner";const Jo="5",Zo=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ei="ac",ti="websocket",ni="long_polling";class ri{constructor(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=i,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=s,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Co.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Co.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}function oi(e,t,n){let r;if(It("string"===typeof t,"typeof type must == string"),It("object"===typeof n,"typeof params must == object"),t===ti)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==ni)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const o=[];return Ho(n,((e,t)=>{o.push(e+"="+t)})),r+o.join("&")}class ii{constructor(){this.counters_={}}incrementCounter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;rn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return Nt(void 0,this.counters_)}}const ai={},si={};function li(e){const t=e.toString();return ai[t]||(ai[t]=new ii),ai[t]}class ci{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&Ko((()=>{this.onMessage_(e[t])}));if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const ui="start";class di{constructor(e,t,n,r,o,i,a){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=o,this.transportSessionId=i,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ao(e),this.stats_=li(t),this.urlFn=e=>(this.appCheckToken&&(e[ei]=this.appCheckToken),oi(t,ni,e))}open(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new ci(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(Qt()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(()=>{"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((()=>{if(this.isClosed_)return;this.scriptTagHolder=new hi((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[o,i,a,s,l]=t;if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,o===ui)n.id=i,n.password=a;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);i?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(i,(()=>{n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[o,i]=t;n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(o,i)}),(()=>{this.onClosed_()}),this.urlFn);const e={};e[ui]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v=Jo,this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[ei]=this.appCheckToken),"undefined"!==typeof location&&location.hostname&&Zo.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,(()=>{}))}))}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){di.forceAllow_=!0}static forceDisallow(){di.forceDisallow_=!0}static isAvailable(){return!Qt()&&(!!di.forceAllow_||!di.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=tn(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=At(t),r=Uo(n,1840);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(Qt())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=tn(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class hi{constructor(e,t,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Qt())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=So(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=hi.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)){n='<script>document.domain="'+document.domain+'";<\/script>'}const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(D9){Po("frame writing exception"),D9.stack&&Po(D9.stack),Po(D9)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Po("No IE domain setting required")}catch(D9){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)}),Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;{const e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,(()=>{clearTimeout(r),n()}))}addTag(e,t){Qt()?this.doNodeLongPoll(e,t):setTimeout((()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{Po("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(D9){}}),Math.floor(1))}}let pi=null;"undefined"!==typeof MozWebSocket?pi=MozWebSocket:"undefined"!==typeof WebSocket&&(pi=WebSocket);class fi{constructor(e,t,n,r,o,i,a){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ao(this.connId),this.stats_=li(t),this.connURL=fi.connectionURL_(t,i,a,r,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r,o){const i={};return i.v=Jo,!Qt()&&"undefined"!==typeof location&&location.hostname&&Zo.test(location.hostname)&&(i.r="f"),t&&(i.s=t),n&&(i.ls=n),r&&(i[ei]=r),o&&(i.p=o),oi(e,ti,i)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Co.set("previous_websocket_failure",!0);try{let e;if(Qt()){const t=this.nodeAdmin?"AdminNode":"Node";e={headers:{"User-Agent":"Firebase/".concat(Jo,"/").concat(go,"/").concat(process.platform,"/").concat(t),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(e.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(e.headers["X-Firebase-AppCheck"]=this.appCheckToken);const n={NODE_ENV:"production",PUBLIC_URL:"/fiber-fix-web",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyC3Vv0qYdu4xbwtj6UNDEoFOmrcLxNfhXw",REACT_APP_FIREBASE_PROJECT_ID:"fiber-fix-web",REACT_APP_FIREBASE_SENDER_ID:"119794000149",REACT_APP_FIREBASE_APP_ID:"1:119794000149:web:89b9b5e94b9f9b6f0b491c",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-NE31YVTRYQ"},r=0===this.connURL.indexOf("wss://")?n.HTTPS_PROXY||n.https_proxy:n.HTTP_PROXY||n.http_proxy;r&&(e.proxy={origin:r})}this.mySock=new pi(this.connURL,[],e)}catch(D9){this.log_("Error instantiating WebSocket.");const t=D9.message||D9.data;return t&&this.log_(t),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){fi.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==pi&&!fi.forceDisallow_}static previouslyFailed(){return Co.isInMemoryStorage||!0===Co.get("previous_websocket_failure")}markConnectionHealthy(){Co.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=en(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(It(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=tn(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=Uo(t,16384);n.length>1&&this.sendString_(String(n.length));for(let r=0;r<n.length;r++)this.sendString_(n[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()}),Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(D9){this.log_("Exception thrown from WebSocket.send():",D9.message||D9.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}fi.responsesRequiredToBeHealthy=2,fi.healthyTimeout=3e4;class mi{static get ALL_TRANSPORTS(){return[di,fi]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=fi&&fi.isAvailable();let n=t&&!fi.previouslyFailed();if(e.webSocketOnly&&(t||No("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[fi];else{const e=this.transports_=[];for(const t of mi.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);mi.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}mi.globalTransportInitialized_=!1;class gi{constructor(e,t,n,r,o,i,a,s,l,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=i,this.onReady_=a,this.onDisconnect_=s,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ao("c:"+this.id+":"),this.transportManager_=new mi(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((()=>{this.conn_&&this.conn_.open(t,n)}),Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Qo((()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))}),Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=zo("t",e),n=zo("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=zo("t",e),n=zo("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=zo("t",e);if("d"in e){const n=e.d;if("h"===t){const e=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?Do("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Do("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),Jo!==n&&No("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),Qo((()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())}),Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Qo((()=>{this.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Co.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class vi{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class yi{constructor(e){this.allowedEvents_=e,this.listeners_={},It(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e){if(Array.isArray(this.listeners_[e])){const o=[...this.listeners_[e]];for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(let e=0;e<o.length;e++)o[e].callback.apply(o[e].context,n)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let o=0;o<r.length;o++)if(r[o].callback===t&&(!n||n===r[o].context))return void r.splice(o,1)}validateEventType_(e){It(this.allowedEvents_.find((t=>t===e)),"Unknown event: "+e)}}class bi extends yi{static getInstance(){return new bi}constructor(){super(["online"]),this.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||Ut()||(window.addEventListener("online",(()=>{this.online_||(this.online_=!0,this.trigger("online",!0))}),!1),window.addEventListener("offline",(()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))}),!1))}getInitialEvent(e){return It("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class wi{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Ci(){return new wi("")}function _i(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function xi(e){return e.pieces_.length-e.pieceNum_}function Si(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new wi(e.pieces_,t)}function ki(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Ii(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function Ei(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new wi(t,0)}function Ti(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof wi)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new wi(n,0)}function Ri(e){return e.pieceNum_>=e.pieces_.length}function Pi(e,t){const n=_i(e),r=_i(t);if(null===n)return t;if(n===r)return Pi(Si(e),Si(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Ai(e,t){const n=Ii(e,0),r=Ii(t,0);for(let o=0;o<n.length&&o<r.length;o++){const e=Bo(n[o],r[o]);if(0!==e)return e}return n.length===r.length?0:n.length<r.length?-1:1}function Di(e,t){if(xi(e)!==xi(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Oi(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(xi(e)>xi(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class Ni{constructor(e,t){this.errorPrefix_=t,this.parts_=Ii(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=Cn(this.parts_[n]);Mi(this)}}function Mi(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Li(e))}function Li(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class Fi extends yi{static getInstance(){return new Fi}constructor(){let e,t;super(["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(t="visibilitychange",e="hidden"):"undefined"!==typeof document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document.msHidden?(t="msvisibilitychange",e="msHidden"):"undefined"!==typeof document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,(()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))}),!1)}getInitialEvent(e){return It("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Bi=1e3;class ji extends vi{constructor(e,t,n,r,o,i,a,s){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=o,this.authTokenProvider_=i,this.appCheckTokenProvider_=a,this.authOverride_=s,this.id=ji.nextPersistentConnectionId_++,this.log_=Ao("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Bi,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,s&&!Qt())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Fi.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&bi.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const r=++this.requestNumber_,o={r:r,a:e,b:t};this.log_(tn(o)),It(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const t=new jt,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,n,r){this.initConnection_();const o=e._queryIdentifier,i=e._path.toString();this.log_("Listen called for "+i+" "+o),this.listens.has(i)||this.listens.set(i,new Map),It(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),It(!this.listens.get(i).has(o),"listen() called twice for same path/queryId.");const a={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(i).set(o,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,(n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)}))}sendListen_(e){const t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);const o={p:n};e.tag&&(o.q=t._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,(o=>{const i=o.d,a=o.s;ji.warnOnListenWarnings_(i,t);(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",o),"ok"!==a&&this.removeListen_(n,r),e.onComplete&&e.onComplete(a,i))}))}static warnOnListenWarnings_(e,t){if(e&&"object"===typeof e&&rn(e,"w")){const n=on(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();No("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(e," at ")+"".concat(n," to your security rules for better performance."))}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(()=>{})),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(e){const t=nn(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(()=>{}))}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=function(e){const t=nn(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"===typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,(t=>{const n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))}))}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)}))}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),It(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const o={p:e};r&&(o.q=n,o.t=r),this.sendRequest("n",o)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){const o={p:t,d:n};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,(e=>{r&&setTimeout((()=>{r(e.s,e.d)}),Math.floor(0))}))}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,o){this.initConnection_();const i={p:t,d:n};void 0!==o&&(i.h=o),this.outstandingPuts_.push({action:e,request:i,onComplete:r}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,(n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)}))}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,(e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}}))}}onDataMessage_(e){if("r"in e){this.log_("from server: "+tn(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):Do("Unrecognized action received from server: "+tn(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){It(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((()=>{this.establishConnectionTimer_=null,this.establishConnection_()}),Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Bi,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Bi,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Bi),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+ji.nextConnectionId_++,o=this.lastSessionId;let i=!1,a=null;const s=function(){a?a.close():(i=!0,n())},l=function(e){It(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(e)};this.realtime_={close:s,sendRequest:l};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[s,l]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);i?Po("getToken() completed but was canceled"):(Po("getToken() completed. Creating connection."),this.authToken_=s&&s.accessToken,this.appCheckToken_=l&&l.token,a=new gi(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,(e=>{No(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")}),o))}catch(Do){this.log_("Failed to get token: "+Do),i||(this.repoInfo_.nodeAdmin&&No(Do),s())}}}interrupt(e){Po("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Po("Resuming connection for reason: "+e),delete this.interruptReasons_[e],an(this.interruptReasons_)&&(this.reconnectDelay_=Bi,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map((e=>Vo(e))).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new wi(e).toString();let r;if(this.listens.has(n)){const e=this.listens.get(n);r=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){Po("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){Po("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";Qt()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+go.replace(/\./g,"-")]=1,Ut()?e["framework.cordova"]=1:Gt()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=bi.getInstance().currentlyOnline();return an(this.interruptReasons_)&&e}}ji.nextPersistentConnectionId_=0,ji.nextConnectionId_=0;class zi{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new zi(e,t)}}class Vi{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new zi(Lo,e),r=new zi(Lo,t);return 0!==this.compare(n,r)}minPost(){return zi.MIN}}let Ui;class Hi extends Vi{static get __EMPTY_NODE(){return Ui}static set __EMPTY_NODE(e){Ui=e}compare(e,t){return Bo(e.name,t.name)}isDefinedOn(e){throw Et("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return zi.MIN}maxPost(){return new zi(Fo,Ui)}makePost(e,t){return It("string"===typeof e,"KeyIndex indexValue must always be a string."),new zi(e,Ui)}toString(){return".key"}}const qi=new Hi;class Wi{constructor(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse_?e.left:e.right;else{if(0===i){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Gi{constructor(e,t,n,r,o){this.key=e,this.value=t,this.color=null!=n?n:Gi.RED,this.left=null!=r?r:Ki.EMPTY_NODE,this.right=null!=o?o:Ki.EMPTY_NODE}copy(e,t,n,r,o){return new Gi(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=o?o:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const o=n(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===o?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ki.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Ki.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Gi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Gi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Gi.RED=!0,Gi.BLACK=!1;class Ki{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ki.EMPTY_NODE;this.comparator_=e,this.root_=t}insert(e,t){return new Ki(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Gi.BLACK,null,null))}remove(e){return new Ki(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Gi.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Wi(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Wi(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Wi(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Wi(this.root_,null,this.comparator_,!0,e)}}function Qi(e,t){return Bo(e.name,t.name)}function Yi(e,t){return Bo(e,t)}let Xi;Ki.EMPTY_NODE=new class{copy(e,t,n,r,o){return this}insert(e,t,n){return new Gi(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const $i=function(e){return"number"===typeof e?"number:"+qo(e):"string:"+e},Ji=function(e){if(e.isLeafNode()){const t=e.val();It("string"===typeof t||"number"===typeof t||"object"===typeof t&&rn(t,".sv"),"Priority must be a string or number.")}else It(e===Xi||e.isEmpty(),"priority of unexpected type.");It(e===Xi||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Zi,ea,ta;class na{static set __childrenNodeConstructor(e){Zi=e}static get __childrenNodeConstructor(){return Zi}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:na.__childrenNodeConstructor.EMPTY_NODE;this.value_=e,this.priorityNode_=t,this.lazyHash_=null,It(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Ji(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new na(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:na.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Ri(e)?this:".priority"===_i(e)?this.priorityNode_:na.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:na.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=_i(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(It(".priority"!==n||1===xi(e),".priority must be the last token in a path"),this.updateImmediateChild(n,na.__childrenNodeConstructor.EMPTY_NODE.updateChild(Si(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+$i(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?qo(this.value_):this.value_,this.lazyHash_=ko(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===na.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof na.__childrenNodeConstructor?-1:(It(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,r=na.VALUE_TYPE_ORDER.indexOf(t),o=na.VALUE_TYPE_ORDER.indexOf(n);return It(r>=0,"Unknown leaf type: "+t),It(o>=0,"Unknown leaf type: "+n),r===o?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}na.VALUE_TYPE_ORDER=["object","boolean","number","string"];const ra=new class extends Vi{compare(e,t){const n=e.node.getPriority(),r=t.node.getPriority(),o=n.compareTo(r);return 0===o?Bo(e.name,t.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return zi.MIN}maxPost(){return new zi(Fo,new na("[PRIORITY-POST]",ta))}makePost(e,t){const n=ea(e);return new zi(t,new na("[PRIORITY-POST]",n))}toString(){return".priority"}},oa=Math.log(2);class ia{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/oa,10)),this.current_=this.count-1;const n=(r=this.count,parseInt(Array(r+1).join("1"),2));var r;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const aa=function(e,t,n,r){e.sort(t);const o=function(t,r){const i=r-t;let a,s;if(0===i)return null;if(1===i)return a=e[t],s=n?n(a):a,new Gi(s,a.node,Gi.BLACK,null,null);{const l=parseInt(i/2,10)+t,c=o(t,l),u=o(l+1,r);return a=e[l],s=n?n(a):a,new Gi(s,a.node,Gi.BLACK,c,u)}},i=function(t){let r=null,i=null,a=e.length;const s=function(t,r){const i=a-t,s=a;a-=t;const c=o(i+1,s),u=e[i],d=n?n(u):u;l(new Gi(d,u.node,r,null,c))},l=function(e){r?(r.left=e,r=e):(i=e,r=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?s(r,Gi.BLACK):(s(r,Gi.BLACK),s(r,Gi.RED))}return i}(new ia(e.length));return new Ki(r||t,i)};let sa;const la={};class ca{static get Default(){return It(la&&ra,"ChildrenNode.ts has not been loaded"),sa=sa||new ca({".priority":la},{".priority":ra}),sa}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=on(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Ki?t:null}hasIndex(e){return rn(this.indexSet_,e.toString())}addIndex(e,t){It(e!==qi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const o=t.getIterator(zi.Wrap);let i,a=o.getNext();for(;a;)r=r||e.isDefinedOn(a.node),n.push(a),a=o.getNext();i=r?aa(n,e.getCompare()):la;const s=e.toString(),l=Object.assign({},this.indexSet_);l[s]=e;const c=Object.assign({},this.indexes_);return c[s]=i,new ca(c,l)}addToIndexes(e,t){const n=sn(this.indexes_,((n,r)=>{const o=on(this.indexSet_,r);if(It(o,"Missing index implementation for "+r),n===la){if(o.isDefinedOn(e.node)){const n=[],r=t.getIterator(zi.Wrap);let i=r.getNext();for(;i;)i.name!==e.name&&n.push(i),i=r.getNext();return n.push(e),aa(n,o.getCompare())}return la}{const r=t.get(e.name);let o=n;return r&&(o=o.remove(new zi(e.name,r))),o.insert(e,e.node)}}));return new ca(n,this.indexSet_)}removeFromIndexes(e,t){const n=sn(this.indexes_,(n=>{if(n===la)return n;{const r=t.get(e.name);return r?n.remove(new zi(e.name,r)):n}}));return new ca(n,this.indexSet_)}}let ua;class da{static get EMPTY_NODE(){return ua||(ua=new da(new Ki(Yi),null,ca.Default))}constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Ji(this.priorityNode_),this.children_.isEmpty()&&It(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ua}updatePriority(e){return this.children_.isEmpty()?this:new da(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?ua:t}}getChild(e){const t=_i(e);return null===t?this:this.getImmediateChild(t).getChild(Si(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(It(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new zi(e,t);let r,o;t.isEmpty()?(r=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),o=this.indexMap_.addToIndexes(n,this.children_));const i=r.isEmpty()?ua:this.priorityNode_;return new da(r,i,o)}}updateChild(e,t){const n=_i(e);if(null===n)return t;{It(".priority"!==_i(e)||1===xi(e),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(Si(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,r=0,o=!0;if(this.forEachChild(ra,((i,a)=>{t[i]=a.val(e),n++,o&&da.INTEGER_REGEXP_.test(i)?r=Math.max(r,Number(i)):o=!1})),!e&&o&&r<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+$i(this.getPriority().val())+":"),this.forEachChild(ra,((t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":ko(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new zi(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new zi(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new zi(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal((e=>t(e.name,e.node))):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(e=>e));{const n=this.children_.getIteratorFrom(e.name,zi.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(e=>e));{const n=this.children_.getReverseIteratorFrom(e.name,zi.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ha?-1:0}withIndex(e){if(e===qi||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new da(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===qi||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(ra),n=t.getIterator(ra);let r=e.getNext(),o=n.getNext();for(;r&&o;){if(r.name!==o.name||!r.node.equals(o.node))return!1;r=e.getNext(),o=n.getNext()}return null===r&&null===o}return!1}return!1}}resolveIndex_(e){return e===qi?null:this.indexMap_.get(e.toString())}}da.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const ha=new class extends da{constructor(){super(new Ki(Yi),da.EMPTY_NODE,ca.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return da.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(zi,{MIN:{value:new zi(Lo,da.EMPTY_NODE)},MAX:{value:new zi(Fo,ha)}}),Hi.__EMPTY_NODE=da.EMPTY_NODE,na.__childrenNodeConstructor=da,Xi=ha,function(e){ta=e}(ha);function pa(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return da.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),It(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){return new na(e,pa(t))}if(e instanceof Array){let n=da.EMPTY_NODE;return Ho(e,((t,r)=>{if(rn(e,t)&&"."!==t.substring(0,1)){const e=pa(r);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}})),n.updatePriority(pa(t))}{const n=[];let r=!1;if(Ho(e,((e,t)=>{if("."!==e.substring(0,1)){const o=pa(t);o.isEmpty()||(r=r||!o.getPriority().isEmpty(),n.push(new zi(e,o)))}})),0===n.length)return da.EMPTY_NODE;const o=aa(n,Qi,(e=>e.name),Yi);if(r){const e=aa(n,ra.getCompare());return new da(o,pa(t),new ca({".priority":e},{".priority":ra}))}return new da(o,pa(t),ca.Default)}}!function(e){ea=e}(pa);class fa extends Vi{constructor(e){super(),this.indexPath_=e,It(!Ri(e)&&".priority"!==_i(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),r=this.extractChild(t.node),o=n.compareTo(r);return 0===o?Bo(e.name,t.name):o}makePost(e,t){const n=pa(e),r=da.EMPTY_NODE.updateChild(this.indexPath_,n);return new zi(t,r)}maxPost(){const e=da.EMPTY_NODE.updateChild(this.indexPath_,ha);return new zi(Fo,e)}toString(){return Ii(this.indexPath_,0).join("/")}}const ma=new class extends Vi{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?Bo(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return zi.MIN}maxPost(){return zi.MAX}makePost(e,t){const n=pa(e);return new zi(t,n)}toString(){return".value"}};function ga(e){return{type:"value",snapshotNode:e}}function va(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function ya(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function ba(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class wa{constructor(e){this.index_=e}updateChild(e,t,n,r,o,i){It(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(t);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?e:(null!=i&&(n.isEmpty()?e.hasChild(t)?i.trackChildChange(ya(t,a)):It(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?i.trackChildChange(va(t,n)):i.trackChildChange(ba(t,n,a))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(ra,((e,r)=>{t.hasChild(e)||n.trackChildChange(ya(e,r))})),t.isLeafNode()||t.forEachChild(ra,((t,r)=>{if(e.hasChild(t)){const o=e.getImmediateChild(t);o.equals(r)||n.trackChildChange(ba(t,r,o))}else n.trackChildChange(va(t,r))}))),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?da.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Ca{constructor(e){this.indexedFilter_=new wa(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Ca.getStartPost_(e),this.endPost_=Ca.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}updateChild(e,t,n,r,o,i){return this.matches(new zi(t,n))||(n=da.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,o,i)}updateFullNode(e,t,n){t.isLeafNode()&&(t=da.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(da.EMPTY_NODE);const o=this;return t.forEachChild(ra,((e,t)=>{o.matches(new zi(e,t))||(r=r.updateImmediateChild(e,da.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class _a{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{const t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new Ca(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,n,r,o,i){return this.rangedFilter_.matches(new zi(t,n))||(n=da.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,o,i):this.fullLimitUpdateChild_(e,t,n,o,i)}updateFullNode(e,t,n){let r;if(t.isLeafNode()||t.isEmpty())r=da.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;r=da.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){const t=e.getNext();if(this.withinDirectionalStart(t)){if(!this.withinDirectionalEnd(t))break;r=r.updateImmediateChild(t.name,t.node),n++}}}else{let e;r=t.withIndex(this.index_),r=r.updatePriority(da.EMPTY_NODE),e=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let n=0;for(;e.hasNext();){const t=e.getNext();n<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t)?n++:r=r.updateImmediateChild(t.name,da.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,r,o){let i;if(this.reverse_){const e=this.index_.getCompare();i=(t,n)=>e(n,t)}else i=this.index_.getCompare();const a=e;It(a.numChildren()===this.limit_,"");const s=new zi(t,n),l=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),c=this.rangedFilter_.matches(s);if(a.hasChild(t)){const e=a.getImmediateChild(t);let u=r.getChildAfterChild(this.index_,l,this.reverse_);for(;null!=u&&(u.name===t||a.hasChild(u.name));)u=r.getChildAfterChild(this.index_,u,this.reverse_);const d=null==u?1:i(u,s);if(c&&!n.isEmpty()&&d>=0)return null!=o&&o.trackChildChange(ba(t,n,e)),a.updateImmediateChild(t,n);{null!=o&&o.trackChildChange(ya(t,e));const n=a.updateImmediateChild(t,da.EMPTY_NODE);return null!=u&&this.rangedFilter_.matches(u)?(null!=o&&o.trackChildChange(va(u.name,u.node)),n.updateImmediateChild(u.name,u.node)):n}}return n.isEmpty()?e:c&&i(l,s)>=0?(null!=o&&(o.trackChildChange(ya(l.name,l.node)),o.trackChildChange(va(t,n))),a.updateImmediateChild(t,n).updateImmediateChild(l.name,da.EMPTY_NODE)):e}}class xa{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ra}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return It(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return It(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Lo}hasEnd(){return this.endSet_}getIndexEndValue(){return It(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return It(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Fo}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return It(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ra}copy(){const e=new xa;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Sa(e,t,n){const r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function ka(e,t,n){const r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Ia(e,t){const n=e.copy();return n.index_=t,n}function Ea(e){const t={};if(e.isDefault())return t;let n;if(e.index_===ra?n="$priority":e.index_===ma?n="$value":e.index_===qi?n="$key":(It(e.index_ instanceof fa,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=tn(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=tn(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+tn(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=tn(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+tn(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function Ta(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==ra&&(t.i=e.index_.toString()),t}class Ra extends vi{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(It(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=Ao("p:rest:"),this.listens_={}}listen(e,t,n,r){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const i=Ra.getListenId_(e,n),a={};this.listens_[i]=a;const s=Ea(e._queryParams);this.restRequest_(o+".json",s,((e,t)=>{let s=t;if(404===e&&(s=null,e=null),null===e&&this.onDataUpdate_(o,s,!1,n),on(this.listens_,i)===a){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}}))}unlisten(e,t){const n=Ra.getListenId_(e,t);delete this.listens_[n]}get(e){const t=Ea(e._queryParams),n=e._path.toString(),r=new jt;return this.restRequest_(n+".json",t,((e,t)=>{let o=t;404===e&&(o=null,e=null),null===e?(this.onDataUpdate_(n,o,!1,null),r.resolve(o)):r.reject(new Error(o))})),r.promise}refreshAuthToken(e){}restRequest_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((r=>{let[o,i]=r;o&&o.accessToken&&(t.auth=o.accessToken),i&&i.token&&(t.ac=i.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+un(t);this.log_("Sending REST request for "+a);const s=new XMLHttpRequest;s.onreadystatechange=()=>{if(n&&4===s.readyState){this.log_("REST Response for "+a+" received. status:",s.status,"response:",s.responseText);let e=null;if(s.status>=200&&s.status<300){try{e=en(s.responseText)}catch(D9){No("Failed to parse JSON response for "+a+": "+s.responseText)}n(null,e)}else 401!==s.status&&404!==s.status&&No("Got unsuccessful REST response for "+a+" Status: "+s.status),n(s.status);n=null}},s.open("GET",a,!0),s.send()}))}}class Pa{constructor(){this.rootNode_=da.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function Aa(){return{value:null,children:new Map}}function Da(e,t,n){if(Ri(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=_i(t);e.children.has(r)||e.children.set(r,Aa());Da(e.children.get(r),t=Si(t),n)}}function Oa(e,t){if(Ri(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;{const n=e.value;return e.value=null,n.forEachChild(ra,((t,n)=>{Da(e,new wi(t),n)})),Oa(e,t)}}if(e.children.size>0){const n=_i(t);if(t=Si(t),e.children.has(n)){Oa(e.children.get(n),t)&&e.children.delete(n)}return 0===e.children.size}return!0}function Na(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach(((e,n)=>{t(n,e)}))}(e,((e,r)=>{Na(r,new wi(t.toString()+"/"+e),n)}))}class Ma{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Ho(this.last_,((e,n)=>{t[e]=t[e]-n})),this.last_=e,t}}class La{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Ma(e);const n=1e4+2e4*Math.random();Qo(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;Ho(e,((e,r)=>{r>0&&rn(this.statsToReport_,e)&&(t[e]=r,n=!0)})),n&&this.server_.reportStats(t),Qo(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Fa;function Ba(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Fa||(Fa={}));class ja{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=Fa.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Ri(this.path)){if(null!=this.affectedTree.value)return It(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new wi(e));return new ja(Ci(),t,this.revert)}}return It(_i(this.path)===e,"operationForChild called for unrelated child."),new ja(Si(this.path),this.affectedTree,this.revert)}}class za{constructor(e,t){this.source=e,this.path=t,this.type=Fa.LISTEN_COMPLETE}operationForChild(e){return Ri(this.path)?new za(this.source,Ci()):new za(this.source,Si(this.path))}}class Va{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=Fa.OVERWRITE}operationForChild(e){return Ri(this.path)?new Va(this.source,Ci(),this.snap.getImmediateChild(e)):new Va(this.source,Si(this.path),this.snap)}}class Ua{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=Fa.MERGE}operationForChild(e){if(Ri(this.path)){const t=this.children.subtree(new wi(e));return t.isEmpty()?null:t.value?new Va(this.source,Ci(),t.value):new Ua(this.source,Ci(),t)}return It(_i(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Ua(this.source,Si(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Ha{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Ri(e))return this.isFullyInitialized()&&!this.filtered_;const t=_i(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class qa{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Wa(e,t,n,r,o,i){const a=r.filter((e=>e.type===n));a.sort(((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw Et("Should only compare child_ events.");const r=new zi(t.childName,t.snapshotNode),o=new zi(n.childName,n.snapshotNode);return e.index_.compare(r,o)}(e,t,n))),a.forEach((n=>{const r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,i);o.forEach((o=>{o.respondsTo(n.type)&&t.push(o.createEvent(r,e.query_))}))}))}function Ga(e,t){return{eventCache:e,serverCache:t}}function Ka(e,t,n,r){return Ga(new Ha(t,n,r),e.serverCache)}function Qa(e,t,n,r){return Ga(e.eventCache,new Ha(t,n,r))}function Ya(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Xa(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let $a;class Ja{static fromObject(e){let t=new Ja(null);return Ho(e,((e,n)=>{t=t.set(new wi(e),n)})),t}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:($a||($a=new Ki(jo)),$a);this.value=e,this.children=t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Ci(),value:this.value};if(Ri(e))return null;{const n=_i(e),r=this.children.get(n);if(null!==r){const o=r.findRootMostMatchingPathAndValue(Si(e),t);if(null!=o){return{path:Ti(new wi(n),o.path),value:o.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,(()=>!0))}subtree(e){if(Ri(e))return this;{const t=_i(e),n=this.children.get(t);return null!==n?n.subtree(Si(e)):new Ja(null)}}set(e,t){if(Ri(e))return new Ja(t,this.children);{const n=_i(e),r=(this.children.get(n)||new Ja(null)).set(Si(e),t),o=this.children.insert(n,r);return new Ja(this.value,o)}}remove(e){if(Ri(e))return this.children.isEmpty()?new Ja(null):new Ja(null,this.children);{const t=_i(e),n=this.children.get(t);if(n){const r=n.remove(Si(e));let o;return o=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&o.isEmpty()?new Ja(null):new Ja(this.value,o)}return this}}get(e){if(Ri(e))return this.value;{const t=_i(e),n=this.children.get(t);return n?n.get(Si(e)):null}}setTree(e,t){if(Ri(e))return t;{const n=_i(e),r=(this.children.get(n)||new Ja(null)).setTree(Si(e),t);let o;return o=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new Ja(this.value,o)}}fold(e){return this.fold_(Ci(),e)}fold_(e,t){const n={};return this.children.inorderTraversal(((r,o)=>{n[r]=o.fold_(Ti(e,r),t)})),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,Ci(),t)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if(Ri(e))return null;{const r=_i(e),o=this.children.get(r);return o?o.findOnPath_(Si(e),Ti(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Ci(),t)}foreachOnPath_(e,t,n){if(Ri(e))return this;{this.value&&n(t,this.value);const r=_i(e),o=this.children.get(r);return o?o.foreachOnPath_(Si(e),Ti(t,r),n):new Ja(null)}}foreach(e){this.foreach_(Ci(),e)}foreach_(e,t){this.children.inorderTraversal(((n,r)=>{r.foreach_(Ti(e,n),t)})),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal(((t,n)=>{n.value&&e(t,n.value)}))}}class Za{constructor(e){this.writeTree_=e}static empty(){return new Za(new Ja(null))}}function es(e,t,n){if(Ri(t))return new Za(new Ja(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const o=r.path;let i=r.value;const a=Pi(o,t);return i=i.updateChild(a,n),new Za(e.writeTree_.set(o,i))}{const r=new Ja(n),o=e.writeTree_.setTree(t,r);return new Za(o)}}}function ts(e,t,n){let r=e;return Ho(n,((e,n)=>{r=es(r,Ti(t,e),n)})),r}function ns(e,t){if(Ri(t))return Za.empty();{const n=e.writeTree_.setTree(t,new Ja(null));return new Za(n)}}function rs(e,t){return null!=os(e,t)}function os(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Pi(n.path,t)):null}function is(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(ra,((e,n)=>{t.push(new zi(e,n))})):e.writeTree_.children.inorderTraversal(((e,n)=>{null!=n.value&&t.push(new zi(e,n.value))})),t}function as(e,t){if(Ri(t))return e;{const n=os(e,t);return new Za(null!=n?new Ja(n):e.writeTree_.subtree(t))}}function ss(e){return e.writeTree_.isEmpty()}function ls(e,t){return cs(Ci(),e.writeTree_,t)}function cs(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal(((t,o)=>{".priority"===t?(It(null!==o.value,"Priority writes must always be leaf nodes"),r=o.value):n=cs(Ti(e,t),o,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(Ti(e,".priority"),r)),n}}function us(e,t){return xs(t,e)}function ds(e,t){const n=e.allWrites.findIndex((e=>e.writeId===t));It(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let o=r.visible,i=!1,a=e.allWrites.length-1;for(;o&&a>=0;){const t=e.allWrites[a];t.visible&&(a>=n&&hs(t,r.path)?o=!1:Oi(r.path,t.path)&&(i=!0)),a--}if(o){if(i)return function(e){e.visibleWrites=fs(e.allWrites,ps,Ci()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;if(r.snap)e.visibleWrites=ns(e.visibleWrites,r.path);else{Ho(r.children,(t=>{e.visibleWrites=ns(e.visibleWrites,Ti(r.path,t))}))}return!0}return!1}function hs(e,t){if(e.snap)return Oi(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Oi(Ti(e.path,n),t))return!0;return!1}function ps(e){return e.visible}function fs(e,t,n){let r=Za.empty();for(let o=0;o<e.length;++o){const i=e[o];if(t(i)){const e=i.path;let t;if(i.snap)Oi(n,e)?(t=Pi(n,e),r=es(r,t,i.snap)):Oi(e,n)&&(t=Pi(e,n),r=es(r,Ci(),i.snap.getChild(t)));else{if(!i.children)throw Et("WriteRecord should have .snap or .children");if(Oi(n,e))t=Pi(n,e),r=ts(r,t,i.children);else if(Oi(e,n))if(t=Pi(e,n),Ri(t))r=ts(r,Ci(),i.children);else{const e=on(i.children,_i(t));if(e){const n=e.getChild(Si(t));r=es(r,Ci(),n)}}}}}return r}function ms(e,t,n,r,o){if(r||o){const i=as(e.visibleWrites,t);if(!o&&ss(i))return n;if(o||null!=n||rs(i,Ci())){const i=function(e){return(e.visible||o)&&(!r||!~r.indexOf(e.writeId))&&(Oi(e.path,t)||Oi(t,e.path))};return ls(fs(e.allWrites,i,t),n||da.EMPTY_NODE)}return null}{const r=os(e.visibleWrites,t);if(null!=r)return r;{const r=as(e.visibleWrites,t);if(ss(r))return n;if(null!=n||rs(r,Ci())){return ls(r,n||da.EMPTY_NODE)}return null}}}function gs(e,t,n,r){return ms(e.writeTree,e.treePath,t,n,r)}function vs(e,t){return function(e,t,n){let r=da.EMPTY_NODE;const o=os(e.visibleWrites,t);if(o)return o.isLeafNode()||o.forEachChild(ra,((e,t)=>{r=r.updateImmediateChild(e,t)})),r;if(n){const o=as(e.visibleWrites,t);return n.forEachChild(ra,((e,t)=>{const n=ls(as(o,new wi(e)),t);r=r.updateImmediateChild(e,n)})),is(o).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}return is(as(e.visibleWrites,t)).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function ys(e,t,n,r){return function(e,t,n,r,o){It(r||o,"Either existingEventSnap or existingServerSnap must exist");const i=Ti(t,n);if(rs(e.visibleWrites,i))return null;{const t=as(e.visibleWrites,i);return ss(t)?o.getChild(n):ls(t,o.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function bs(e,t){return function(e,t){return os(e.visibleWrites,t)}(e.writeTree,Ti(e.treePath,t))}function ws(e,t,n,r,o,i){return function(e,t,n,r,o,i,a){let s;const l=as(e.visibleWrites,t),c=os(l,Ci());if(null!=c)s=c;else{if(null==n)return[];s=ls(l,n)}if(s=s.withIndex(a),s.isEmpty()||s.isLeafNode())return[];{const e=[],t=a.getCompare(),n=i?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a);let l=n.getNext();for(;l&&e.length<o;)0!==t(l,r)&&e.push(l),l=n.getNext();return e}}(e.writeTree,e.treePath,t,n,r,o,i)}function Cs(e,t,n){return function(e,t,n,r){const o=Ti(t,n),i=os(e.visibleWrites,o);if(null!=i)return i;if(r.isCompleteForChild(n))return ls(as(e.visibleWrites,o),r.getNode().getImmediateChild(n));return null}(e.writeTree,e.treePath,t,n)}function _s(e,t){return xs(Ti(e.treePath,t),e.writeTree)}function xs(e,t){return{treePath:e,writeTree:t}}class Ss{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;It("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),It(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const o=r.type;if("child_added"===t&&"child_removed"===o)this.changeMap.set(n,ba(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===o)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===o)this.changeMap.set(n,ya(n,r.oldSnap));else if("child_changed"===t&&"child_added"===o)this.changeMap.set(n,va(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==o)throw Et("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,ba(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const ks=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class Is{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new Ha(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Cs(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Xa(this.viewCache_),o=ws(this.writes_,r,t,1,n,e);return 0===o.length?null:o[0]}}function Es(e,t,n,r,o){const i=new Ss;let a,s;if(n.type===Fa.OVERWRITE){const l=n;l.source.fromUser?a=Ps(e,t,l.path,l.snap,r,o,i):(It(l.source.fromServer,"Unknown source."),s=l.source.tagged||t.serverCache.isFiltered()&&!Ri(l.path),a=Rs(e,t,l.path,l.snap,r,o,s,i))}else if(n.type===Fa.MERGE){const l=n;l.source.fromUser?a=function(e,t,n,r,o,i,a){let s=t;return r.foreach(((r,l)=>{const c=Ti(n,r);As(t,_i(c))&&(s=Ps(e,s,c,l,o,i,a))})),r.foreach(((r,l)=>{const c=Ti(n,r);As(t,_i(c))||(s=Ps(e,s,c,l,o,i,a))})),s}(e,t,l.path,l.children,r,o,i):(It(l.source.fromServer,"Unknown source."),s=l.source.tagged||t.serverCache.isFiltered(),a=Os(e,t,l.path,l.children,r,o,s,i))}else if(n.type===Fa.ACK_USER_WRITE){const s=n;a=s.revert?function(e,t,n,r,o,i){let a;if(null!=bs(r,n))return t;{const s=new Is(r,t,o),l=t.eventCache.getNode();let c;if(Ri(n)||".priority"===_i(n)){let n;if(t.serverCache.isFullyInitialized())n=gs(r,Xa(t));else{const e=t.serverCache.getNode();It(e instanceof da,"serverChildren would be complete if leaf node"),n=vs(r,e)}c=e.filter.updateFullNode(l,n,i)}else{const o=_i(n);let u=Cs(r,o,t.serverCache);null==u&&t.serverCache.isCompleteForChild(o)&&(u=l.getImmediateChild(o)),c=null!=u?e.filter.updateChild(l,o,u,Si(n),s,i):t.eventCache.getNode().hasChild(o)?e.filter.updateChild(l,o,da.EMPTY_NODE,Si(n),s,i):l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=gs(r,Xa(t)),a.isLeafNode()&&(c=e.filter.updateFullNode(c,a,i)))}return a=t.serverCache.isFullyInitialized()||null!=bs(r,Ci()),Ka(t,c,a,e.filter.filtersNodes())}}(e,t,s.path,r,o,i):function(e,t,n,r,o,i,a){if(null!=bs(o,n))return t;const s=t.serverCache.isFiltered(),l=t.serverCache;if(null!=r.value){if(Ri(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Rs(e,t,n,l.getNode().getChild(n),o,i,s,a);if(Ri(n)){let r=new Ja(null);return l.getNode().forEachChild(qi,((e,t)=>{r=r.set(new wi(e),t)})),Os(e,t,n,r,o,i,s,a)}return t}{let c=new Ja(null);return r.foreach(((e,t)=>{const r=Ti(n,e);l.isCompleteForPath(r)&&(c=c.set(e,l.getNode().getChild(r)))})),Os(e,t,n,c,o,i,s,a)}}(e,t,s.path,s.affectedTree,r,o,i)}else{if(n.type!==Fa.LISTEN_COMPLETE)throw Et("Unknown operation type: "+n.type);a=function(e,t,n,r,o){const i=t.serverCache,a=Qa(t,i.getNode(),i.isFullyInitialized()||Ri(n),i.isFiltered());return Ts(e,a,n,r,ks,o)}(e,t,n.path,r,i)}const l=i.getChanges();return function(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const o=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=Ya(e);(n.length>0||!e.eventCache.isFullyInitialized()||o&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(ga(Ya(t)))}}(t,a,l),{viewCache:a,changes:l}}function Ts(e,t,n,r,o,i){const a=t.eventCache;if(null!=bs(r,n))return t;{let s,l;if(Ri(n))if(It(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=Xa(t),o=vs(r,n instanceof da?n:da.EMPTY_NODE);s=e.filter.updateFullNode(t.eventCache.getNode(),o,i)}else{const n=gs(r,Xa(t));s=e.filter.updateFullNode(t.eventCache.getNode(),n,i)}else{const c=_i(n);if(".priority"===c){It(1===xi(n),"Can't have a priority with additional path components");const o=a.getNode();l=t.serverCache.getNode();const i=ys(r,n,o,l);s=null!=i?e.filter.updatePriority(o,i):a.getNode()}else{const u=Si(n);let d;if(a.isCompleteForChild(c)){l=t.serverCache.getNode();const e=ys(r,n,a.getNode(),l);d=null!=e?a.getNode().getImmediateChild(c).updateChild(u,e):a.getNode().getImmediateChild(c)}else d=Cs(r,c,t.serverCache);s=null!=d?e.filter.updateChild(a.getNode(),c,d,u,o,i):a.getNode()}}return Ka(t,s,a.isFullyInitialized()||Ri(n),e.filter.filtersNodes())}}function Rs(e,t,n,r,o,i,a,s){const l=t.serverCache;let c;const u=a?e.filter:e.filter.getIndexedFilter();if(Ri(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),e,null)}else{const e=_i(n);if(!l.isCompleteForPath(n)&&xi(n)>1)return t;const o=Si(n),i=l.getNode().getImmediateChild(e).updateChild(o,r);c=".priority"===e?u.updatePriority(l.getNode(),i):u.updateChild(l.getNode(),e,i,o,ks,null)}const d=Qa(t,c,l.isFullyInitialized()||Ri(n),u.filtersNodes());return Ts(e,d,n,o,new Is(o,d,i),s)}function Ps(e,t,n,r,o,i,a){const s=t.eventCache;let l,c;const u=new Is(o,t,i);if(Ri(n))c=e.filter.updateFullNode(t.eventCache.getNode(),r,a),l=Ka(t,c,!0,e.filter.filtersNodes());else{const o=_i(n);if(".priority"===o)c=e.filter.updatePriority(t.eventCache.getNode(),r),l=Ka(t,c,s.isFullyInitialized(),s.isFiltered());else{const i=Si(n),c=s.getNode().getImmediateChild(o);let d;if(Ri(i))d=r;else{const e=u.getCompleteChild(o);d=null!=e?".priority"===ki(i)&&e.getChild(Ei(i)).isEmpty()?e:e.updateChild(i,r):da.EMPTY_NODE}if(c.equals(d))l=t;else{l=Ka(t,e.filter.updateChild(s.getNode(),o,d,i,u,a),s.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function As(e,t){return e.eventCache.isCompleteForChild(t)}function Ds(e,t,n){return n.foreach(((e,n)=>{t=t.updateChild(e,n)})),t}function Os(e,t,n,r,o,i,a,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,c=t;l=Ri(n)?r:new Ja(null).setTree(n,r);const u=t.serverCache.getNode();return l.children.inorderTraversal(((n,r)=>{if(u.hasChild(n)){const l=Ds(0,t.serverCache.getNode().getImmediateChild(n),r);c=Rs(e,c,new wi(n),l,o,i,a,s)}})),l.children.inorderTraversal(((n,r)=>{const l=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!u.hasChild(n)&&!l){const l=Ds(0,t.serverCache.getNode().getImmediateChild(n),r);c=Rs(e,c,new wi(n),l,o,i,a,s)}})),c}class Ns{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,r=new wa(n.getIndex()),o=(i=n).loadsAllData()?new wa(i.getIndex()):i.hasLimit()?new _a(i):new Ca(i);var i;this.processor_=function(e){return{filter:e}}(o);const a=t.serverCache,s=t.eventCache,l=r.updateFullNode(da.EMPTY_NODE,a.getNode(),null),c=o.updateFullNode(da.EMPTY_NODE,s.getNode(),null),u=new Ha(l,a.isFullyInitialized(),r.filtersNodes()),d=new Ha(c,s.isFullyInitialized(),o.filtersNodes());this.viewCache_=Ga(d,u),this.eventGenerator_=new qa(this.query_)}get query(){return this.query_}}function Ms(e,t){const n=Xa(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Ri(t)&&!n.getImmediateChild(_i(t)).isEmpty())?n.getChild(t):null}function Ls(e){return 0===e.eventRegistrations_.length}function Fs(e,t,n){const r=[];if(n){It(null==t,"A cancel should cancel all event registrations.");const o=e.query._path;e.eventRegistrations_.forEach((e=>{const t=e.createCancelEvent(n,o);t&&r.push(t)}))}if(t){let n=[];for(let r=0;r<e.eventRegistrations_.length;++r){const o=e.eventRegistrations_[r];if(o.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(r+1));break}}else n.push(o)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return r}function Bs(e,t,n,r){t.type===Fa.MERGE&&null!==t.source.queryId&&(It(Xa(e.viewCache_),"We should always have a full cache before handling merges"),It(Ya(e.viewCache_),"Missing event cache, even though we have a server cache"));const o=e.viewCache_,i=Es(e.processor_,o,t,n,r);var a,s;return a=e.processor_,s=i.viewCache,It(s.eventCache.getNode().isIndexed(a.filter.getIndex()),"Event snap not indexed"),It(s.serverCache.getNode().isIndexed(a.filter.getIndex()),"Server snap not indexed"),It(i.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=i.viewCache,js(e,i.changes,i.viewCache.eventCache.getNode(),null)}function js(e,t,n,r){const o=r?[r]:e.eventRegistrations_;return function(e,t,n,r){const o=[],i=[];return t.forEach((t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&i.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),Wa(e,o,"child_removed",t,r,n),Wa(e,o,"child_added",t,r,n),Wa(e,o,"child_moved",i,r,n),Wa(e,o,"child_changed",t,r,n),Wa(e,o,"value",t,r,n),o}(e.eventGenerator_,t,n,o)}let zs,Vs;class Us{constructor(){this.views=new Map}}function Hs(e,t,n,r){const o=t.source.queryId;if(null!==o){const i=e.views.get(o);return It(null!=i,"SyncTree gave us an op for an invalid query."),Bs(i,t,n,r)}{let o=[];for(const i of e.views.values())o=o.concat(Bs(i,t,n,r));return o}}function qs(e,t,n,r,o){const i=t._queryIdentifier,a=e.views.get(i);if(!a){let e=gs(n,o?r:null),i=!1;e?i=!0:r instanceof da?(e=vs(n,r),i=!1):(e=da.EMPTY_NODE,i=!1);const a=Ga(new Ha(e,i,!1),new Ha(r,o,!1));return new Ns(t,a)}return a}function Ws(e,t,n,r,o,i){const a=qs(e,t,r,o,i);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),function(e,t){e.eventRegistrations_.push(t)}(a,n),function(e,t){const n=e.viewCache_.eventCache,r=[];n.getNode().isLeafNode()||n.getNode().forEachChild(ra,((e,t)=>{r.push(va(e,t))}));return n.isFullyInitialized()&&r.push(ga(n.getNode())),js(e,r,n.getNode(),t)}(a,n)}function Gs(e,t,n,r){const o=t._queryIdentifier,i=[];let a=[];const s=$s(e);if("default"===o)for(const[l,c]of e.views.entries())a=a.concat(Fs(c,n,r)),Ls(c)&&(e.views.delete(l),c.query._queryParams.loadsAllData()||i.push(c.query));else{const t=e.views.get(o);t&&(a=a.concat(Fs(t,n,r)),Ls(t)&&(e.views.delete(o),t.query._queryParams.loadsAllData()||i.push(t.query)))}return s&&!$s(e)&&i.push(new(It(zs,"Reference.ts has not been loaded"),zs)(t._repo,t._path)),{removed:i,events:a}}function Ks(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Qs(e,t){let n=null;for(const r of e.views.values())n=n||Ms(r,t);return n}function Ys(e,t){if(t._queryParams.loadsAllData())return Js(e);{const n=t._queryIdentifier;return e.views.get(n)}}function Xs(e,t){return null!=Ys(e,t)}function $s(e){return null!=Js(e)}function Js(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let Zs=1;class el{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ja(null),this.pendingWriteTree_={visibleWrites:Za.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function tl(e,t,n,r,o){return function(e,t,n,r,o){It(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===o&&(o=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:o}),o&&(e.visibleWrites=es(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,o),o?ul(e,new Va({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function nl(e,t,n,r){!function(e,t,n,r){It(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=ts(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);const o=Ja.fromObject(n);return ul(e,new Ua({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,o))}function rl(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(ds(e.pendingWriteTree_,t)){let t=new Ja(null);return null!=r.snap?t=t.set(Ci(),!0):Ho(r.children,(e=>{t=t.set(new wi(e),!0)})),ul(e,new ja(r.path,t,n))}return[]}function ol(e,t,n){return ul(e,new Va({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function il(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const i=t._path,a=e.syncPointTree_.get(i);let s=[];if(a&&("default"===t._queryIdentifier||Xs(a,t))){const l=Gs(a,t,n,r);0===a.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(i));const c=l.removed;if(s=l.events,!o){const n=-1!==c.findIndex((e=>e._queryParams.loadsAllData())),o=e.syncPointTree_.findOnPath(i,((e,t)=>$s(t)));if(n&&!o){const t=e.syncPointTree_.subtree(i);if(!t.isEmpty()){const n=function(e){return e.fold(((e,t,n)=>{if(t&&$s(t)){return[Js(t)]}{let e=[];return t&&(e=Ks(t)),Ho(n,((t,n)=>{e=e.concat(n)})),e}}))}(t);for(let t=0;t<n.length;++t){const r=n[t],o=r.query,i=pl(e,r);e.listenProvider_.startListening(bl(o),fl(e,o),i.hashFn,i.onComplete)}}}if(!o&&c.length>0&&!r)if(n){const n=null;e.listenProvider_.stopListening(bl(t),n)}else c.forEach((t=>{const n=e.queryToTagMap.get(ml(t));e.listenProvider_.stopListening(bl(t),n)}))}!function(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const t=ml(r),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}(e,c)}return s}function al(e,t,n,r){const o=gl(e,r);if(null!=o){const r=vl(o),i=r.path,a=r.queryId,s=Pi(i,t);return yl(e,i,new Va(Ba(a),s,n))}return[]}function sl(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=t._path;let i=null,a=!1;e.syncPointTree_.foreachOnPath(o,((e,t)=>{const n=Pi(e,o);i=i||Qs(t,n),a=a||$s(t)}));let s,l=e.syncPointTree_.get(o);if(l?(a=a||$s(l),i=i||Qs(l,Ci())):(l=new Us,e.syncPointTree_=e.syncPointTree_.set(o,l)),null!=i)s=!0;else{s=!1,i=da.EMPTY_NODE;e.syncPointTree_.subtree(o).foreachChild(((e,t)=>{const n=Qs(t,Ci());n&&(i=i.updateImmediateChild(e,n))}))}const c=Xs(l,t);if(!c&&!t._queryParams.loadsAllData()){const n=ml(t);It(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");const r=Zs++;e.queryToTagMap.set(n,r),e.tagToQueryMap.set(r,n)}let u=Ws(l,t,n,us(e.pendingWriteTree_,o),i,s);if(!c&&!a&&!r){const n=Ys(l,t);u=u.concat(function(e,t,n){const r=t._path,o=fl(e,t),i=pl(e,n),a=e.listenProvider_.startListening(bl(t),o,i.hashFn,i.onComplete),s=e.syncPointTree_.subtree(r);if(o)It(!$s(s.value),"If we're adding a query, it shouldn't be shadowed");else{const t=s.fold(((e,t,n)=>{if(!Ri(e)&&t&&$s(t))return[Js(t).query];{let e=[];return t&&(e=e.concat(Ks(t).map((e=>e.query)))),Ho(n,((t,n)=>{e=e.concat(n)})),e}}));for(let n=0;n<t.length;++n){const r=t[n];e.listenProvider_.stopListening(bl(r),fl(e,r))}}return a}(e,t,n))}return u}function ll(e,t,n){const r=e.pendingWriteTree_,o=e.syncPointTree_.findOnPath(t,((e,n)=>{const r=Qs(n,Pi(e,t));if(r)return r}));return ms(r,t,o,n,!0)}function cl(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,((e,t)=>{const o=Pi(e,n);r=r||Qs(t,o)}));let o=e.syncPointTree_.get(n);o?r=r||Qs(o,Ci()):(o=new Us,e.syncPointTree_=e.syncPointTree_.set(n,o));const i=null!=r,a=i?new Ha(r,!0,!1):null;return function(e){return Ya(e.viewCache_)}(qs(o,t,us(e.pendingWriteTree_,t._path),i?a.getNode():da.EMPTY_NODE,i))}function ul(e,t){return dl(t,e.syncPointTree_,null,us(e.pendingWriteTree_,Ci()))}function dl(e,t,n,r){if(Ri(e.path))return hl(e,t,n,r);{const o=t.get(Ci());null==n&&null!=o&&(n=Qs(o,Ci()));let i=[];const a=_i(e.path),s=e.operationForChild(a),l=t.children.get(a);if(l&&s){const e=n?n.getImmediateChild(a):null,t=_s(r,a);i=i.concat(dl(s,l,e,t))}return o&&(i=i.concat(Hs(o,e,r,n))),i}}function hl(e,t,n,r){const o=t.get(Ci());null==n&&null!=o&&(n=Qs(o,Ci()));let i=[];return t.children.inorderTraversal(((t,o)=>{const a=n?n.getImmediateChild(t):null,s=_s(r,t),l=e.operationForChild(t);l&&(i=i.concat(hl(l,o,a,s)))})),o&&(i=i.concat(Hs(o,e,r,n))),i}function pl(e,t){const n=t.query,r=fl(e,n);return{hashFn:()=>{const e=function(e){return e.viewCache_.serverCache.getNode()}(t)||da.EMPTY_NODE;return e.hash()},onComplete:t=>{if("ok"===t)return r?function(e,t,n){const r=gl(e,n);if(r){const n=vl(r),o=n.path,i=n.queryId,a=Pi(o,t);return yl(e,o,new za(Ba(i),a))}return[]}(e,n._path,r):function(e,t){return ul(e,new za({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const r=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return il(e,n,null,r)}}}}function fl(e,t){const n=ml(t);return e.queryToTagMap.get(n)}function ml(e){return e._path.toString()+"$"+e._queryIdentifier}function gl(e,t){return e.tagToQueryMap.get(t)}function vl(e){const t=e.indexOf("$");return It(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new wi(e.substr(0,t))}}function yl(e,t,n){const r=e.syncPointTree_.get(t);It(r,"Missing sync point for query tag that we're tracking");return Hs(r,n,us(e.pendingWriteTree_,t),null)}function bl(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(It(Vs,"Reference.ts has not been loaded"),Vs)(e._repo,e._path):e}class wl{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new wl(t)}node(){return this.node_}}class Cl{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Ti(this.path_,e);return new Cl(this.syncTree_,t)}node(){return ll(this.syncTree_,this.path_)}}const _l=function(e,t,n){return e&&"object"===typeof e?(It(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?xl(e[".sv"],t,n):"object"===typeof e[".sv"]?Sl(e[".sv"],t):void It(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},xl=function(e,t,n){if("timestamp"===e)return n.timestamp;It(!1,"Unexpected server value: "+e)},Sl=function(e,t,n){e.hasOwnProperty("increment")||It(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!==typeof r&&It(!1,"Unexpected increment value: "+r);const o=t.node();if(It(null!==o&&"undefined"!==typeof o,"Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;const i=o.getValue();return"number"!==typeof i?r:i+r},kl=function(e,t,n,r){return El(t,new Cl(n,e),r)},Il=function(e,t,n){return El(e,new wl(t),n)};function El(e,t,n){const r=e.getPriority().val(),o=_l(r,t.getImmediateChild(".priority"),n);let i;if(e.isLeafNode()){const r=e,i=_l(r.getValue(),t,n);return i!==r.getValue()||o!==r.getPriority().val()?new na(i,pa(o)):e}{const r=e;return i=r,o!==r.getPriority().val()&&(i=i.updatePriority(new na(o))),r.forEachChild(ra,((e,r)=>{const o=El(r,t.getImmediateChild(e),n);o!==r&&(i=i.updateImmediateChild(e,o))})),i}}class Tl{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};this.name=e,this.parent=t,this.node=n}}function Rl(e,t){let n=t instanceof wi?t:new wi(t),r=e,o=_i(n);for(;null!==o;){const e=on(r.node.children,o)||{children:{},childCount:0};r=new Tl(o,r,e),n=Si(n),o=_i(n)}return r}function Pl(e){return e.node.value}function Al(e,t){e.node.value=t,Ll(e)}function Dl(e){return e.node.childCount>0}function Ol(e,t){Ho(e.node.children,((n,r)=>{t(new Tl(n,e,r))}))}function Nl(e,t,n,r){n&&!r&&t(e),Ol(e,(e=>{Nl(e,t,!0,r)})),n&&r&&t(e)}function Ml(e){return new wi(null===e.parent?e.name:Ml(e.parent)+"/"+e.name)}function Ll(e){null!==e.parent&&function(e,t,n){const r=function(e){return void 0===Pl(e)&&!Dl(e)}(n),o=rn(e.node.children,t);r&&o?(delete e.node.children[t],e.node.childCount--,Ll(e)):r||o||(e.node.children[t]=n.node,e.node.childCount++,Ll(e))}(e.parent,e.name,e)}const Fl=/[\[\].#$\/\u0000-\u001F\u007F]/,Bl=/[\[\].#$\u0000-\u001F\u007F]/,jl=10485760,zl=function(e){return"string"===typeof e&&0!==e.length&&!Fl.test(e)},Vl=function(e){return"string"===typeof e&&0!==e.length&&!Bl.test(e)},Ul=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!Mo(e)||e&&"object"===typeof e&&rn(e,".sv")},Hl=function(e,t,n,r){r&&void 0===t||ql(yn(e,"value"),t,n)},ql=function(e,t,n){const r=n instanceof wi?new Ni(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+Li(r));if("function"===typeof t)throw new Error(e+"contains a function "+Li(r)+" with contents = "+t.toString());if(Mo(t))throw new Error(e+"contains "+t.toString()+" "+Li(r));if("string"===typeof t&&t.length>jl/3&&Cn(t)>jl)throw new Error(e+"contains a string greater than "+jl+" utf8 bytes "+Li(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"===typeof t){let n=!1,o=!1;if(Ho(t,((t,i)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(o=!0,!zl(t)))throw new Error(e+" contains an invalid key ("+t+") "+Li(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Cn(t),Mi(e)}(r,t),ql(e,i,r),function(e){const t=e.parts_.pop();e.byteLength_-=Cn(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)})),n&&o)throw new Error(e+' contains ".value" child '+Li(r)+" in addition to actual children.")}},Wl=function(e,t,n,r){if(r&&void 0===t)return;const o=yn(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(o+" must be an object containing the children to replace.");const i=[];Ho(t,((e,t)=>{const r=new wi(e);if(ql(o,t,Ti(n,r)),".priority"===ki(r)&&!Ul(t))throw new Error(o+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");i.push(r)})),function(e,t){let n,r;for(n=0;n<t.length;n++){r=t[n];const o=Ii(r);for(let t=0;t<o.length;t++)if(".priority"===o[t]&&t===o.length-1);else if(!zl(o[t]))throw new Error(e+"contains an invalid key ("+o[t]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(Ai);let o=null;for(n=0;n<t.length;n++){if(r=t[n],null!==o&&Oi(o,r))throw new Error(e+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}}(o,i)},Gl=function(e,t,n){if(!n||void 0!==t){if(Mo(t))throw new Error(yn(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Ul(t))throw new Error(yn(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Kl=function(e,t,n,r){if((!r||void 0!==n)&&!zl(n))throw new Error(yn(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Ql=function(e,t,n,r){if((!r||void 0!==n)&&!Vl(n))throw new Error(yn(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Yl=function(e,t){if(".info"===_i(t))throw new Error(e+" failed = Can't modify data under /.info/")},Xl=function(e,t){const n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!zl(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Vl(e)}(n))throw new Error(yn(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class $l{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Jl(e,t){let n=null;for(let r=0;r<t.length;r++){const o=t[r],i=o.getPath();null===n||Di(i,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:i}),n.events.push(o)}n&&e.eventLists_.push(n)}function Zl(e,t,n){Jl(e,n),tc(e,(e=>Di(e,t)))}function ec(e,t,n){Jl(e,n),tc(e,(e=>Oi(e,t)||Oi(t,e)))}function tc(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const o=e.eventLists_[r];if(o){t(o.path)?(nc(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function nc(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();Eo&&Po("event: "+n.toString()),Ko(r)}}}const rc="repo_interrupt";class oc{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new $l,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Aa(),this.transactionQueueTree_=new Tl,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function ic(e,t,n){if(e.stats_=li(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Ra(e.repoInfo_,((t,n,r,o)=>{lc(e,t,n,r,o)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((()=>cc(e,!0)),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{tn(n)}catch(D9){throw new Error("Invalid authOverride provided: "+D9)}}e.persistentConnection_=new ji(e.repoInfo_,t,((t,n,r,o)=>{lc(e,t,n,r,o)}),(t=>{cc(e,t)}),(t=>{!function(e,t){Ho(t,((t,n)=>{uc(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((t=>{e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((t=>{e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){const n=e.toString();return si[n]||(si[n]=t()),si[n]}(e.repoInfo_,(()=>new La(e.stats_,e.server_))),e.infoData_=new Pa,e.infoSyncTree_=new el({startListening:(t,n,r,o)=>{let i=[];const a=e.infoData_.getNode(t._path);return a.isEmpty()||(i=ol(e.infoSyncTree_,t._path,a),setTimeout((()=>{o("ok")}),0)),i},stopListening:()=>{}}),uc(e,"connected",!1),e.serverSyncTree_=new el({startListening:(t,n,r,o)=>(e.server_.listen(t,r,n,((n,r)=>{const i=o(n,r);ec(e.eventQueue_,t._path,i)})),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function ac(e){const t=e.infoData_.getNode(new wi(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function sc(e){return function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e}({timestamp:ac(e)})}function lc(e,t,n,r,o){e.dataUpdateCount++;const i=new wi(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let a=[];if(o)if(r){const t=sn(n,(e=>pa(e)));a=function(e,t,n,r){const o=gl(e,r);if(o){const r=vl(o),i=r.path,a=r.queryId,s=Pi(i,t),l=Ja.fromObject(n);return yl(e,i,new Ua(Ba(a),s,l))}return[]}(e.serverSyncTree_,i,t,o)}else{const t=pa(n);a=al(e.serverSyncTree_,i,t,o)}else if(r){const t=sn(n,(e=>pa(e)));a=function(e,t,n){const r=Ja.fromObject(n);return ul(e,new Ua({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,i,t)}else{const t=pa(n);a=ol(e.serverSyncTree_,i,t)}let s=i;a.length>0&&(s=Cc(e,i)),ec(e.eventQueue_,s,a)}function cc(e,t){uc(e,"connected",t),!1===t&&function(e){vc(e,"onDisconnectEvents");const t=sc(e),n=Aa();Na(e.onDisconnect_,Ci(),((r,o)=>{const i=kl(r,o,e.serverSyncTree_,t);Da(n,r,i)}));let r=[];Na(n,Ci(),((t,n)=>{r=r.concat(ol(e.serverSyncTree_,t,n));const o=Ic(e,t);Cc(e,o)})),e.onDisconnect_=Aa(),ec(e.eventQueue_,Ci(),r)}(e)}function uc(e,t,n){const r=new wi("/.info/"+t),o=pa(n);e.infoData_.updateSnapshot(r,o);const i=ol(e.infoSyncTree_,r,o);ec(e.eventQueue_,r,i)}function dc(e){return e.nextWriteId_++}function hc(e,t,n,r,o){vc(e,"set",{path:t.toString(),value:n,priority:r});const i=sc(e),a=pa(n,r),s=ll(e.serverSyncTree_,t),l=Il(a,s,i),c=dc(e),u=tl(e.serverSyncTree_,t,l,c,!0);Jl(e.eventQueue_,u),e.server_.put(t.toString(),a.val(!0),((n,r)=>{const i="ok"===n;i||No("set at "+t+" failed: "+n);const a=rl(e.serverSyncTree_,c,!i);ec(e.eventQueue_,t,a),yc(e,o,n,r)}));const d=Ic(e,t);Cc(e,d),ec(e.eventQueue_,d,[])}function pc(e,t,n){e.server_.onDisconnectCancel(t.toString(),((r,o)=>{"ok"===r&&Oa(e.onDisconnect_,t),yc(e,n,r,o)}))}function fc(e,t,n,r){const o=pa(n);e.server_.onDisconnectPut(t.toString(),o.val(!0),((n,i)=>{"ok"===n&&Da(e.onDisconnect_,t,o),yc(e,r,n,i)}))}function mc(e,t,n){let r;r=".info"===_i(t._path)?il(e.infoSyncTree_,t,n):il(e.serverSyncTree_,t,n),Zl(e.eventQueue_,t._path,r)}function gc(e){e.persistentConnection_&&e.persistentConnection_.interrupt(rc)}function vc(e){let t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];Po(t,...r)}function yc(e,t,n,r){t&&Ko((()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let o=e;r&&(o+=": "+r);const i=new Error(o);i.code=e,t(i)}}))}function bc(e,t,n){return ll(e.serverSyncTree_,t,n)||da.EMPTY_NODE}function wc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||kc(e,t),Pl(t)){const n=xc(e,t);It(n.length>0,"Sending zero length transaction queue");n.every((e=>0===e.status))&&function(e,t,n){const r=n.map((e=>e.currentWriteId)),o=bc(e,t,r);let i=o;const a=o.hash();for(let c=0;c<n.length;c++){const e=n[c];It(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const r=Pi(t,e.path);i=i.updateChild(r,e.currentOutputSnapshotRaw)}const s=i.val(!0),l=t;e.server_.put(l.toString(),s,(r=>{vc(e,"transaction put response",{path:l.toString(),status:r});let o=[];if("ok"===r){const r=[];for(let t=0;t<n.length;t++)n[t].status=2,o=o.concat(rl(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push((()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved))),n[t].unwatcher();kc(e,Rl(e.transactionQueueTree_,t)),wc(e,e.transactionQueueTree_),ec(e.eventQueue_,t,o);for(let e=0;e<r.length;e++)Ko(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{No("transaction at "+l.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}Cc(e,t)}}),a)}(e,Ml(t),n)}else Dl(t)&&Ol(t,(t=>{wc(e,t)}))}function Cc(e,t){const n=_c(e,t),r=Ml(n);return function(e,t,n){if(0===t.length)return;const r=[];let o=[];const i=t.filter((e=>0===e.status)),a=i.map((e=>e.currentWriteId));for(let l=0;l<t.length;l++){const i=t[l],c=Pi(n,i.path);let u,d=!1;if(It(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===i.status)d=!0,u=i.abortReason,o=o.concat(rl(e.serverSyncTree_,i.currentWriteId,!0));else if(0===i.status)if(i.retryCount>=25)d=!0,u="maxretry",o=o.concat(rl(e.serverSyncTree_,i.currentWriteId,!0));else{const n=bc(e,i.path,a);i.currentInputSnapshot=n;const r=t[l].update(n.val());if(void 0!==r){ql("transaction failed: Data returned ",r,i.path);let t=pa(r);"object"===typeof r&&null!=r&&rn(r,".priority")||(t=t.updatePriority(n.getPriority()));const s=i.currentWriteId,l=sc(e),c=Il(t,n,l);i.currentOutputSnapshotRaw=t,i.currentOutputSnapshotResolved=c,i.currentWriteId=dc(e),a.splice(a.indexOf(s),1),o=o.concat(tl(e.serverSyncTree_,i.path,c,i.currentWriteId,i.applyLocally)),o=o.concat(rl(e.serverSyncTree_,s,!0))}else d=!0,u="nodata",o=o.concat(rl(e.serverSyncTree_,i.currentWriteId,!0))}ec(e.eventQueue_,n,o),o=[],d&&(t[l].status=2,s=t[l].unwatcher,setTimeout(s,Math.floor(0)),t[l].onComplete&&("nodata"===u?r.push((()=>t[l].onComplete(null,!1,t[l].currentInputSnapshot))):r.push((()=>t[l].onComplete(new Error(u),!1,null)))))}var s;kc(e,e.transactionQueueTree_);for(let l=0;l<r.length;l++)Ko(r[l]);wc(e,e.transactionQueueTree_)}(e,xc(e,n),r),r}function _c(e,t){let n,r=e.transactionQueueTree_;for(n=_i(t);null!==n&&void 0===Pl(r);)r=Rl(r,n),n=_i(t=Si(t));return r}function xc(e,t){const n=[];return Sc(e,t,n),n.sort(((e,t)=>e.order-t.order)),n}function Sc(e,t,n){const r=Pl(t);if(r)for(let o=0;o<r.length;o++)n.push(r[o]);Ol(t,(t=>{Sc(e,t,n)}))}function kc(e,t){const n=Pl(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,Al(t,n.length>0?n:void 0)}Ol(t,(t=>{kc(e,t)}))}function Ic(e,t){const n=Ml(_c(e,t)),r=Rl(e.transactionQueueTree_,t);return function(e,t,n){let r=n?e:e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,(t=>{Ec(e,t)})),Ec(e,r),Nl(r,(t=>{Ec(e,t)})),n}function Ec(e,t){const n=Pl(t);if(n){const r=[];let o=[],i=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(It(i===t-1,"All SENT items should be at beginning of queue."),i=t,n[t].status=3,n[t].abortReason="set"):(It(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),o=o.concat(rl(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===i?Al(t,void 0):n.length=i+1,ec(e.eventQueue_,Ml(t),o);for(let e=0;e<r.length;e++)Ko(r[e])}}const Tc=function(e,t){const n=Rc(e),r=n.namespace;"firebase.com"===n.domain&&Oo(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||Oo("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&No("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const o="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new ri(n.host,n.secure,r,o,t,"",r!==n.subdomain),path:new wi(n.pathString)}},Rc=function(e){let t="",n="",r="",o="",i="",a=!0,s="https",l=443;if("string"===typeof e){let c=e.indexOf("//");c>=0&&(s=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");-1===u&&(u=e.length);let d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(o=function(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let e=n[r];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(D9){}t+="/"+e}return t}(e.substring(u,d)));const h=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):No("Invalid query segment '".concat(n,"' in query '").concat(e,"'"))}return t}(e.substring(Math.min(e.length,d)));c=t.indexOf(":"),c>=0?(a="https"===s||"wss"===s,l=parseInt(t.substring(c+1),10)):c=t.length;const p=t.slice(0,c);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),i=r}"ns"in h&&(i=h.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:a,scheme:s,pathString:o,namespace:i}},Pc="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Ac=function(){let e=0;const t=[];return function(n){const r=n===e;let o;e=n;const i=new Array(8);for(o=7;o>=0;o--)i[o]=Pc.charAt(n%64),n=Math.floor(n/64);It(0===n,"Cannot push at time == 0");let a=i.join("");if(r){for(o=11;o>=0&&63===t[o];o--)t[o]=0;t[o]++}else for(o=0;o<12;o++)t[o]=Math.floor(64*Math.random());for(o=0;o<12;o++)a+=Pc.charAt(t[o]);return It(20===a.length,"nextPushId: Length should be 20."),a}}();class Dc{constructor(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+tn(this.snapshot.exportVal())}}class Oc{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Nc{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return It(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class Mc{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new jt;return pc(this._repo,this._path,e.wrapCallback((()=>{}))),e.promise}remove(){Yl("OnDisconnect.remove",this._path);const e=new jt;return fc(this._repo,this._path,null,e.wrapCallback((()=>{}))),e.promise}set(e){Yl("OnDisconnect.set",this._path),Hl("OnDisconnect.set",e,this._path,!1);const t=new jt;return fc(this._repo,this._path,e,t.wrapCallback((()=>{}))),t.promise}setWithPriority(e,t){Yl("OnDisconnect.setWithPriority",this._path),Hl("OnDisconnect.setWithPriority",e,this._path,!1),Gl("OnDisconnect.setWithPriority",t,!1);const n=new jt;return function(e,t,n,r,o){const i=pa(n,r);e.server_.onDisconnectPut(t.toString(),i.val(!0),((n,r)=>{"ok"===n&&Da(e.onDisconnect_,t,i),yc(0,o,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((()=>{}))),n.promise}update(e){Yl("OnDisconnect.update",this._path),Wl("OnDisconnect.update",e,this._path,!1);const t=new jt;return function(e,t,n,r){if(an(n))return Po("onDisconnect().update() called with empty data.  Don't do anything."),void yc(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,((o,i)=>{"ok"===o&&Ho(n,((n,r)=>{const o=pa(r);Da(e.onDisconnect_,Ti(t,n),o)})),yc(0,r,o,i)}))}(this._repo,this._path,e,t.wrapCallback((()=>{}))),t.promise}}class Lc{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return Ri(this._path)?null:ki(this._path)}get ref(){return new zc(this._repo,this._path)}get _queryIdentifier(){const e=Ta(this._queryParams),t=Vo(e);return"{}"===t?"default":t}get _queryObject(){return Ta(this._queryParams)}isEqual(e){if(!((e=_n(e))instanceof Lc))return!1;const t=this._repo===e._repo,n=Di(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}function Fc(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Bc(e){let t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===qi){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",o="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==Lo)throw new Error(r);if("string"!==typeof t)throw new Error(o)}if(e.hasEnd()){if(e.getIndexEndName()!==Fo)throw new Error(r);if("string"!==typeof n)throw new Error(o)}}else if(e.getIndex()===ra){if(null!=t&&!Ul(t)||null!=n&&!Ul(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(It(e.getIndex()instanceof fa||e.getIndex()===ma,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function jc(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class zc extends Lc{constructor(e,t){super(e,t,new xa,!1)}get parent(){const e=Ei(this._path);return null===e?null:new zc(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class Vc{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new wi(e),n=qc(this.ref,e);return new Vc(this._node.getChild(t),n,ra)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){if(this._node.isLeafNode())return!1;return!!this._node.forEachChild(this._index,((t,n)=>e(new Vc(n,qc(this.ref,t),ra))))}hasChild(e){const t=new wi(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Uc(e,t){return(e=_n(e))._checkNotDeleted("ref"),void 0!==t?qc(e._root,t):e._root}function Hc(e,t){(e=_n(e))._checkNotDeleted("refFromURL");const n=Tc(t,e._repo.repoInfo_.nodeAdmin);Xl("refFromURL",n);const r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||Oo("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),Uc(e,n.path.toString())}function qc(e,t){var n,r,o,i;return null===_i((e=_n(e))._path)?(n="child",r="path",i=!1,(o=t)&&(o=o.replace(/^\/*\.info(\/|$)/,"/")),Ql(n,r,o,i)):Ql("child","path",t,!1),new zc(e._repo,Ti(e._path,t))}function Wc(e,t){e=_n(e),Yl("set",e._path),Hl("set",t,e._path,!1);const n=new jt;return hc(e._repo,e._path,t,null,n.wrapCallback((()=>{}))),n.promise}function Gc(e,t){Wl("update",t,e._path,!1);const n=new jt;return function(e,t,n,r){vc(e,"update",{path:t.toString(),value:n});let o=!0;const i=sc(e),a={};if(Ho(n,((n,r)=>{o=!1,a[n]=kl(Ti(t,n),pa(r),e.serverSyncTree_,i)})),o)Po("update() called with empty data.  Don't do anything."),yc(0,r,"ok",void 0);else{const o=dc(e),i=nl(e.serverSyncTree_,t,a,o);Jl(e.eventQueue_,i),e.server_.merge(t.toString(),n,((n,i)=>{const a="ok"===n;a||No("update at "+t+" failed: "+n);const s=rl(e.serverSyncTree_,o,!a),l=s.length>0?Cc(e,t):t;ec(e.eventQueue_,l,s),yc(0,r,n,i)})),Ho(n,(n=>{const r=Ic(e,Ti(t,n));Cc(e,r)})),ec(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((()=>{}))),n.promise}function Kc(e){e=_n(e);const t=new Nc((()=>{})),n=new Qc(t);return function(e,t,n){const r=cl(e.serverSyncTree_,t);return null!=r?Promise.resolve(r):e.server_.get(t).then((r=>{const o=pa(r).withIndex(t._queryParams.getIndex());let i;if(sl(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())i=ol(e.serverSyncTree_,t._path,o);else{const n=fl(e.serverSyncTree_,t);i=al(e.serverSyncTree_,t._path,o,n)}return ec(e.eventQueue_,t._path,i),il(e.serverSyncTree_,t,n,null,!0),o}),(n=>(vc(e,"get for query "+tn(t)+" failed: "+n),Promise.reject(new Error(n)))))}(e._repo,e,n).then((t=>new Vc(t,new zc(e._repo,e._path),e._queryParams.getIndex())))}class Qc{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new Dc("value",this,new Vc(e.snapshotNode,new zc(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Oc(this,e,t):null}matches(e){return e instanceof Qc&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Yc{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Oc(this,e,t):null}createEvent(e,t){It(null!=e.childName,"Child events should have a childName.");const n=qc(new zc(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Dc(e.type,this,new Vc(e.snapshotNode,n,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Yc&&(this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)))}hasAnyCallback(){return!!this.callbackContext}}function Xc(e,t,n,r,o){let i;if("object"===typeof r&&(i=void 0,o=r),"function"===typeof r&&(i=r),o&&o.onlyOnce){const t=n,r=(n,r)=>{mc(e._repo,e,s),t(n,r)};r.userCallback=n.userCallback,r.context=n.context,n=r}const a=new Nc(n,i||void 0),s="value"===t?new Qc(a):new Yc(t,a);return function(e,t,n){let r;r=".info"===_i(t._path)?sl(e.infoSyncTree_,t,n):sl(e.serverSyncTree_,t,n),Zl(e.eventQueue_,t._path,r)}(e._repo,e,s),()=>mc(e._repo,e,s)}function $c(e,t,n,r){return Xc(e,"value",t,n,r)}function Jc(e,t,n,r){return Xc(e,"child_added",t,n,r)}function Zc(e,t,n,r){return Xc(e,"child_changed",t,n,r)}function eu(e,t,n,r){return Xc(e,"child_moved",t,n,r)}function tu(e,t,n,r){return Xc(e,"child_removed",t,n,r)}function nu(e,t,n){let r=null;const o=n?new Nc(n):null;"value"===t?r=new Qc(o):t&&(r=new Yc(t,o)),mc(e._repo,e,r)}class ru{}class ou extends ru{constructor(e,t){super(),this._value=e,this._key=t,this.type="endAt"}_apply(e){Hl("endAt",this._value,e._path,!0);const t=ka(e._queryParams,this._value,this._key);if(jc(t),Bc(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Lc(e._repo,e._path,t,e._orderByCalled)}}class iu extends ru{constructor(e,t){super(),this._value=e,this._key=t,this.type="endBefore"}_apply(e){Hl("endBefore",this._value,e._path,!1);const t=function(e,t,n){let r;return r=e.index_===qi||n?ka(e,t,n):ka(e,t,Lo),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(jc(t),Bc(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Lc(e._repo,e._path,t,e._orderByCalled)}}class au extends ru{constructor(e,t){super(),this._value=e,this._key=t,this.type="startAt"}_apply(e){Hl("startAt",this._value,e._path,!0);const t=Sa(e._queryParams,this._value,this._key);if(jc(t),Bc(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Lc(e._repo,e._path,t,e._orderByCalled)}}class su extends ru{constructor(e,t){super(),this._value=e,this._key=t,this.type="startAfter"}_apply(e){Hl("startAfter",this._value,e._path,!1);const t=function(e,t,n){let r;return r=e.index_===qi||n?Sa(e,t,n):Sa(e,t,Fo),r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(jc(t),Bc(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Lc(e._repo,e._path,t,e._orderByCalled)}}class lu extends ru{constructor(e){super(),this._limit=e,this.type="limitToFirst"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Lc(e._repo,e._path,function(e,t){const n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)}}class cu extends ru{constructor(e){super(),this._limit=e,this.type="limitToLast"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Lc(e._repo,e._path,function(e,t){const n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)}}class uu extends ru{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){Fc(e,"orderByChild");const t=new wi(this._path);if(Ri(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const n=new fa(t),r=Ia(e._queryParams,n);return Bc(r),new Lc(e._repo,e._path,r,!0)}}class du extends ru{constructor(){super(...arguments),this.type="orderByKey"}_apply(e){Fc(e,"orderByKey");const t=Ia(e._queryParams,qi);return Bc(t),new Lc(e._repo,e._path,t,!0)}}class hu extends ru{constructor(){super(...arguments),this.type="orderByPriority"}_apply(e){Fc(e,"orderByPriority");const t=Ia(e._queryParams,ra);return Bc(t),new Lc(e._repo,e._path,t,!0)}}class pu extends ru{constructor(){super(...arguments),this.type="orderByValue"}_apply(e){Fc(e,"orderByValue");const t=Ia(e._queryParams,ma);return Bc(t),new Lc(e._repo,e._path,t,!0)}}class fu extends ru{constructor(e,t){super(),this._value=e,this._key=t,this.type="equalTo"}_apply(e){if(Hl("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new ou(this._value,this._key)._apply(new au(this._value,this._key)._apply(e))}}function mu(e){let t=_n(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];for(const i of r)t=i._apply(t);return t}!function(e){It(!zs,"__referenceConstructor has already been defined"),zs=e}(zc),function(e){It(!Vs,"__referenceConstructor has already been defined"),Vs=e}(zc);const gu={};let vu=!1;function yu(e,t,n,r,o){let i=r||e.options.databaseURL;void 0===i&&(e.options.projectId||Oo("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Po("Using default host for project ",e.options.projectId),i="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));let a,s,l=Tc(i,o),c=l.repoInfo;"undefined"!==typeof process&&(s={NODE_ENV:"production",PUBLIC_URL:"/fiber-fix-web",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyC3Vv0qYdu4xbwtj6UNDEoFOmrcLxNfhXw",REACT_APP_FIREBASE_PROJECT_ID:"fiber-fix-web",REACT_APP_FIREBASE_SENDER_ID:"119794000149",REACT_APP_FIREBASE_APP_ID:"1:119794000149:web:89b9b5e94b9f9b6f0b491c",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-NE31YVTRYQ"}.FIREBASE_DATABASE_EMULATOR_HOST),s?(a=!0,i="http://".concat(s,"?ns=").concat(c.namespace),l=Tc(i,o),c=l.repoInfo):a=!l.repoInfo.secure;const u=o&&a?new $o($o.OWNER):new Xo(e.name,e.options,t);Xl("Invalid Firebase Database URL",l),Ri(l.path)||Oo("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function(e,t,n,r){let o=gu[t.name];o||(o={},gu[t.name]=o);let i=o[e.toURLString()];i&&Oo("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return i=new oc(e,vu,n,r),o[e.toURLString()]=i,i}(c,e,u,new Yo(e.name,n));return new bu(d,e)}class bu{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(ic(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new zc(this._repo,Ci())),this._rootInternal}_delete(){return null!==this._rootInternal&&(!function(e,t){const n=gu[t];n&&n[e.key]===e||Oo("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),gc(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Oo("Cannot call "+e+" on a deleted database.")}}function wu(){mi.IS_TRANSPORT_INITIALIZED&&No("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Cu(){wu(),di.forceDisallow()}function _u(){wu(),fi.forceDisallow(),di.forceAllow()}function xu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(e=_n(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&Oo("Cannot call useEmulator() after instance has already been initialized.");const o=e._repoInternal;let i;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&Oo('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),i=new $o($o.OWNER);else if(r.mockUserToken){const t="string"===typeof r.mockUserToken?r.mockUserToken:zt(r.mockUserToken,e.app.options.projectId);i=new $o(t)}!function(e,t,n,r){e.repoInfo_=new ri("".concat(t,":").concat(n),!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}(o,t,n,i)}function Su(e){var t;(e=_n(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume(rc)}function ku(e,t){Ro(e,t)}const Iu={".sv":"timestamp"};class Eu{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}function Tu(e,t,n){var r;if(e=_n(e),Yl("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";const o=null===(r=null===n||void 0===n?void 0:n.applyLocally)||void 0===r||r,i=new jt,a=$c(e,(()=>{}));return function(e,t,n,r,o,i){vc(e,"transaction on "+t);const a={path:t,update:n,onComplete:r,status:null,order:So(),applyLocally:i,retryCount:0,unwatcher:o,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},s=bc(e,t,void 0);a.currentInputSnapshot=s;const l=a.update(s.val());if(void 0===l)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{ql("transaction failed: Data returned ",l,a.path),a.status=0;const n=Rl(e.transactionQueueTree_,t),r=Pl(n)||[];let o;r.push(a),Al(n,r),"object"===typeof l&&null!==l&&rn(l,".priority")?(o=on(l,".priority"),It(Ul(o),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):o=(ll(e.serverSyncTree_,t)||da.EMPTY_NODE).getPriority().val();const i=sc(e),c=pa(l,o),u=Il(c,s,i);a.currentOutputSnapshotRaw=c,a.currentOutputSnapshotResolved=u,a.currentWriteId=dc(e);const d=tl(e.serverSyncTree_,t,u,a.currentWriteId,a.applyLocally);ec(e.eventQueue_,t,d),wc(e,e.transactionQueueTree_)}}(e._repo,e._path,t,((t,n,r)=>{let o=null;t?i.reject(t):(o=new Vc(r,new zc(e._repo,e._path),ra),i.resolve(new Eu(n,o)))}),a,o),i.promise}ji.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},ji.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){vo(Hr),Nr(new xn("database",((e,t)=>{let{instanceIdentifier:n}=t;return yu(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),Yr(fo,mo,e),Yr(fo,mo,"esm2017")}();const Ru=new Nn("@firebase/database-compat"),Pu=function(e){const t="FIREBASE WARNING: "+e;Ru.warn(t)};class Au{constructor(e){this._delegate=e}cancel(e){vn("OnDisconnect.cancel",0,1,arguments.length),bn("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then((()=>e(null)),(t=>e(t))),t}remove(e){vn("OnDisconnect.remove",0,1,arguments.length),bn("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then((()=>e(null)),(t=>e(t))),t}set(e,t){vn("OnDisconnect.set",1,2,arguments.length),bn("OnDisconnect.set","onComplete",t,!0);const n=this._delegate.set(e);return t&&n.then((()=>t(null)),(e=>t(e))),n}setWithPriority(e,t,n){vn("OnDisconnect.setWithPriority",2,3,arguments.length),bn("OnDisconnect.setWithPriority","onComplete",n,!0);const r=this._delegate.setWithPriority(e,t);return n&&r.then((()=>n(null)),(e=>n(e))),r}update(e,t){if(vn("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const t={};for(let n=0;n<e.length;++n)t[""+n]=e[n];e=t,Pu("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}bn("OnDisconnect.update","onComplete",t,!0);const n=this._delegate.update(e);return t&&n.then((()=>t(null)),(e=>t(e))),n}}class Du{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return vn("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Ou{constructor(e,t){this._database=e,this._delegate=t}val(){return vn("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return vn("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return vn("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return vn("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return vn("DataSnapshot.child",0,1,arguments.length),e=String(e),Ql("DataSnapshot.child","path",e,!1),new Ou(this._database,this._delegate.child(e))}hasChild(e){return vn("DataSnapshot.hasChild",1,1,arguments.length),Ql("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return vn("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return vn("DataSnapshot.forEach",1,1,arguments.length),bn("DataSnapshot.forEach","action",e,!1),this._delegate.forEach((t=>e(new Ou(this._database,t))))}hasChildren(){return vn("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return vn("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return vn("DataSnapshot.ref",0,0,arguments.length),new Mu(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Nu{constructor(e,t){this.database=e,this._delegate=t}on(e,t,n,r){var o;vn("Query.on",2,4,arguments.length),bn("Query.on","callback",t,!1);const i=Nu.getCancelAndContextArgs_("Query.on",n,r),a=(e,n)=>{t.call(i.context,new Ou(this.database,e),n)};a.userCallback=t,a.context=i.context;const s=null===(o=i.cancel)||void 0===o?void 0:o.bind(i.context);switch(e){case"value":return $c(this._delegate,a,s),t;case"child_added":return Jc(this._delegate,a,s),t;case"child_removed":return tu(this._delegate,a,s),t;case"child_changed":return Zc(this._delegate,a,s),t;case"child_moved":return eu(this._delegate,a,s),t;default:throw new Error(yn("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,n){if(vn("Query.off",0,3,arguments.length),function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(yn(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}("Query.off",e,!0),bn("Query.off","callback",t,!0),wn("Query.off","context",n,!0),t){const r=()=>{};r.userCallback=t,r.context=n,nu(this._delegate,e,r)}else nu(this._delegate,e)}get(){return Kc(this._delegate).then((e=>new Ou(this.database,e)))}once(e,t,n,r){vn("Query.once",1,4,arguments.length),bn("Query.once","callback",t,!0);const o=Nu.getCancelAndContextArgs_("Query.once",n,r),i=new jt,a=(e,n)=>{const r=new Ou(this.database,e);t&&t.call(o.context,r,n),i.resolve(r)};a.userCallback=t,a.context=o.context;const s=e=>{o.cancel&&o.cancel.call(o.context,e),i.reject(e)};switch(e){case"value":$c(this._delegate,a,s,{onlyOnce:!0});break;case"child_added":Jc(this._delegate,a,s,{onlyOnce:!0});break;case"child_removed":tu(this._delegate,a,s,{onlyOnce:!0});break;case"child_changed":Zc(this._delegate,a,s,{onlyOnce:!0});break;case"child_moved":eu(this._delegate,a,s,{onlyOnce:!0});break;default:throw new Error(yn("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return i.promise}limitToFirst(e){return vn("Query.limitToFirst",1,1,arguments.length),new Nu(this.database,mu(this._delegate,function(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new lu(e)}(e)))}limitToLast(e){return vn("Query.limitToLast",1,1,arguments.length),new Nu(this.database,mu(this._delegate,function(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new cu(e)}(e)))}orderByChild(e){return vn("Query.orderByChild",1,1,arguments.length),new Nu(this.database,mu(this._delegate,function(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Ql("orderByChild","path",e,!1),new uu(e)}(e)))}orderByKey(){return vn("Query.orderByKey",0,0,arguments.length),new Nu(this.database,mu(this._delegate,new du))}orderByPriority(){return vn("Query.orderByPriority",0,0,arguments.length),new Nu(this.database,mu(this._delegate,new hu))}orderByValue(){return vn("Query.orderByValue",0,0,arguments.length),new Nu(this.database,mu(this._delegate,new pu))}startAt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return vn("Query.startAt",0,2,arguments.length),new Nu(this.database,mu(this._delegate,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return Kl("startAt","key",t,!0),new au(e,t)}(e,t)))}startAfter(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return vn("Query.startAfter",0,2,arguments.length),new Nu(this.database,mu(this._delegate,function(e,t){return Kl("startAfter","key",t,!0),new su(e,t)}(e,t)))}endAt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return vn("Query.endAt",0,2,arguments.length),new Nu(this.database,mu(this._delegate,function(e,t){return Kl("endAt","key",t,!0),new ou(e,t)}(e,t)))}endBefore(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return vn("Query.endBefore",0,2,arguments.length),new Nu(this.database,mu(this._delegate,function(e,t){return Kl("endBefore","key",t,!0),new iu(e,t)}(e,t)))}equalTo(e,t){return vn("Query.equalTo",1,2,arguments.length),new Nu(this.database,mu(this._delegate,function(e,t){return Kl("equalTo","key",t,!0),new fu(e,t)}(e,t)))}toString(){return vn("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return vn("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if(vn("Query.isEqual",1,1,arguments.length),!(e instanceof Nu)){throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.")}return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,n){const r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,bn(e,"cancel",r.cancel,!0),r.context=n,wn(e,"context",r.context,!0);else if(t)if("object"===typeof t&&null!==t)r.context=t;else{if("function"!==typeof t)throw new Error(yn(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}get ref(){return new Mu(this.database,new zc(this._delegate._repo,this._delegate._path))}}class Mu extends Nu{constructor(e,t){super(e,new Lc(t._repo,t._path,new xa,!1)),this.database=e,this._delegate=t}getKey(){return vn("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return vn("Reference.child",1,1,arguments.length),"number"===typeof e&&(e=String(e)),new Mu(this.database,qc(this._delegate,e))}getParent(){vn("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new Mu(this.database,e):null}getRoot(){return vn("Reference.root",0,0,arguments.length),new Mu(this.database,this._delegate.root)}set(e,t){vn("Reference.set",1,2,arguments.length),bn("Reference.set","onComplete",t,!0);const n=Wc(this._delegate,e);return t&&n.then((()=>t(null)),(e=>t(e))),n}update(e,t){if(vn("Reference.update",1,2,arguments.length),Array.isArray(e)){const t={};for(let n=0;n<e.length;++n)t[""+n]=e[n];e=t,Pu("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Yl("Reference.update",this._delegate._path),bn("Reference.update","onComplete",t,!0);const n=Gc(this._delegate,e);return t&&n.then((()=>t(null)),(e=>t(e))),n}setWithPriority(e,t,n){vn("Reference.setWithPriority",2,3,arguments.length),bn("Reference.setWithPriority","onComplete",n,!0);const r=function(e,t,n){if(Yl("setWithPriority",e._path),Hl("setWithPriority",t,e._path,!1),Gl("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";const r=new jt;return hc(e._repo,e._path,t,n,r.wrapCallback((()=>{}))),r.promise}(this._delegate,e,t);return n&&r.then((()=>n(null)),(e=>n(e))),r}remove(e){vn("Reference.remove",0,1,arguments.length),bn("Reference.remove","onComplete",e,!0);const t=function(e){return Yl("remove",e._path),Wc(e,null)}(this._delegate);return e&&t.then((()=>e(null)),(t=>e(t))),t}transaction(e,t,n){vn("Reference.transaction",1,3,arguments.length),bn("Reference.transaction","transactionUpdate",e,!1),bn("Reference.transaction","onComplete",t,!0),function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error(yn(e,t)+"must be a boolean.")}("Reference.transaction","applyLocally",n,!0);const r=Tu(this._delegate,e,{applyLocally:n}).then((e=>new Du(e.committed,new Ou(this.database,e.snapshot))));return t&&r.then((e=>t(null,e.committed,e.snapshot)),(e=>t(e,!1,null))),r}setPriority(e,t){vn("Reference.setPriority",1,2,arguments.length),bn("Reference.setPriority","onComplete",t,!0);const n=function(e,t){e=_n(e),Yl("setPriority",e._path),Gl("setPriority",t,!1);const n=new jt;return hc(e._repo,Ti(e._path,".priority"),t,null,n.wrapCallback((()=>{}))),n.promise}(this._delegate,e);return t&&n.then((()=>t(null)),(e=>t(e))),n}push(e,t){vn("Reference.push",0,2,arguments.length),bn("Reference.push","onComplete",t,!0);const n=function(e,t){e=_n(e),Yl("push",e._path),Hl("push",t,e._path,!0);const n=ac(e._repo),r=Ac(n),o=qc(e,r),i=qc(e,r);let a;return a=null!=t?Wc(i,t).then((()=>i)):Promise.resolve(i),o.then=a.then.bind(a),o.catch=a.then.bind(a,void 0),o}(this._delegate,e),r=n.then((e=>new Mu(this.database,e)));t&&r.then((()=>t(null)),(e=>t(e)));const o=new Mu(this.database,n);return o.then=r.then.bind(r),o.catch=r.catch.bind(r,void 0),o}onDisconnect(){return Yl("Reference.onDisconnect",this._delegate._path),new Au(new Mc(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Lu{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Cu,forceLongPolling:_u}}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};xu(this._delegate,e,t,n)}ref(e){if(vn("database.ref",0,1,arguments.length),e instanceof Mu){const t=Hc(this._delegate,e.toString());return new Mu(this,t)}{const t=Uc(this._delegate,e);return new Mu(this,t)}}refFromURL(e){vn("database.refFromURL",1,1,arguments.length);const t=Hc(this._delegate,e);return new Mu(this,t)}goOffline(){return vn("database.goOffline",0,0,arguments.length),function(e){(e=_n(e))._checkNotDeleted("goOffline"),gc(e._repo)}(this._delegate)}goOnline(){return vn("database.goOnline",0,0,arguments.length),Su(this._delegate)}}Lu.ServerValue={TIMESTAMP:Iu,increment:e=>function(e){return{".sv":{increment:e}}}(e)};var Fu=Object.freeze({__proto__:null,initStandalone:function(e){let{app:t,url:n,version:r,customAuthImpl:o,customAppCheckImpl:i,namespace:a,nodeAdmin:s=!1}=e;vo(r);const l=new En("database-standalone"),c=new kn("auth-internal",l);let u;return c.setComponent(new xn("auth-internal",(()=>o),"PRIVATE")),i&&(u=new kn("app-check-internal",l),u.setComponent(new xn("app-check-internal",(()=>i),"PRIVATE"))),{instance:new Lu(yu(t,c,u,n,s),t),namespace:a}}});const Bu=Lu.ServerValue;var ju;(ju=po).INTERNAL.registerComponent(new xn("database-compat",((e,t)=>{let{instanceIdentifier:n}=t;const r=e.getProvider("app-compat").getImmediate(),o=e.getProvider("database").getImmediate({identifier:n});return new Lu(o,r)}),"PUBLIC").setServiceProps({Reference:Mu,Query:Nu,Database:Lu,DataSnapshot:Ou,enableLogging:ku,INTERNAL:Fu,ServerValue:Bu}).setMultipleInstances(!0)),ju.registerVersion("@firebase/database-compat","2.0.2");po.registerVersion("firebase","11.2.0","app-compat");function zu(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;const Vu="facebook.com",Uu="github.com",Hu="google.com",qu="password",Wu="twitter.com",Gu="EMAIL_SIGNIN",Ku="PASSWORD_RESET",Qu="RECOVER_EMAIL",Yu="REVERT_SECOND_FACTOR_ADDITION",Xu="VERIFY_AND_CHANGE_EMAIL",$u="VERIFY_EMAIL";function Ju(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Zu=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},ed=Ju,td=new Jt("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),nd=new Nn("@firebase/auth");function rd(e){if(nd.logLevel<=Rn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];nd.error("Auth (".concat(Hr,"): ").concat(e),...n)}}function od(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw cd(e,...n)}function id(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return cd(e,...n)}function ad(e,t,n){const r=Object.assign(Object.assign({},ed()),{[t]:n});return new Jt("auth","Firebase",r).create(t,{appName:e.name})}function sd(e){return ad(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ld(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&od(e,"argument-error"),ad(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function cd(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return td.create(e,...n)}function ud(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];throw cd(t,...r)}}function dd(e){const t="INTERNAL ASSERTION FAILED: "+e;throw rd(t),new Error(t)}function hd(e,t){e||dd(t)}function pd(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function fd(){return"http:"===md()||"https:"===md()}function md(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class gd{constructor(e,t){this.shortDelay=e,this.longDelay=t,hd(t>e,"Short delay should be less than long delay!"),this.isMobile=Ut()||Gt()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(fd()||Wt()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function vd(e,t){hd(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class yd{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void dd("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void dd("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void dd("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const bd={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},wd=new gd(3e4,6e4);function Cd(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function _d(e,t,n,r){return xd(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let o={},i={};r&&("GET"===t?i=r:o={body:JSON.stringify(r)});const a=un(Object.assign({key:e.config.apiKey},i)).slice(1),s=await e._getAdditionalHeaders();s["Content-Type"]="application/json",e.languageCode&&(s["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:s},o);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),yd.fetch()(kd(e,e.config.apiHost,n,a),l)}))}async function xd(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},bd),t);try{const t=new Ed(e),o=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const i=await o.json();if("needConfirmation"in i)throw Td(e,"account-exists-with-different-credential",i);if(o.ok&&!("errorMessage"in i))return i;{const t=o.ok?i.errorMessage:i.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Td(e,"credential-already-in-use",i);if("EMAIL_EXISTS"===n)throw Td(e,"email-already-in-use",i);if("USER_DISABLED"===n)throw Td(e,"user-disabled",i);const s=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw ad(e,s,a);od(e,s)}}catch(D9){if(D9 instanceof $t)throw D9;od(e,"network-request-failed",{message:String(D9)})}}async function Sd(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const i=await _d(e,t,n,r,o);return"mfaPendingCredential"in i&&od(e,"multi-factor-auth-required",{_serverResponse:i}),i}function kd(e,t,n,r){const o="".concat(t).concat(n,"?").concat(r);return e.config.emulator?vd(e.config,o):"".concat(e.config.apiScheme,"://").concat(o)}function Id(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ed{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(id(this.auth,"network-request-failed"))),wd.get())}))}}function Td(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=id(e,t,r);return o.customData._tokenResponse=n,o}function Rd(e){return void 0!==e&&void 0!==e.getResponse}function Pd(e){return void 0!==e&&void 0!==e.enterprise}class Ad{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Id(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Dd(e,t){return _d(e,"GET","/v2/recaptchaConfig",Cd(e,t))}async function Od(e,t){return _d(e,"POST","/v1/accounts:lookup",t)}function Nd(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(D9){}}function Md(e){return 1e3*Number(e)}function Ld(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return rd("JWT malformed, contained fewer than 3 sections"),null;try{const e=Ot(n);return e?JSON.parse(e):(rd("Failed to decode base64 JWT payload"),null)}catch(D9){return rd("Caught error parsing JWT payload as JSON",null===D9||void 0===D9?void 0:D9.toString()),null}}function Fd(e){const t=Ld(e);return ud(t,"internal-error"),ud("undefined"!==typeof t.exp,"internal-error"),ud("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Bd(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(D9){throw D9 instanceof $t&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(D9)&&e.auth.currentUser===e&&await e.auth.signOut(),D9}}class jd{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(D9){return void((null===D9||void 0===D9?void 0:D9.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class zd{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nd(this.lastLoginAt),this.creationTime=Nd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Vd(e){var t;const n=e.auth,r=await e.getIdToken(),o=await Bd(e,Od(n,{idToken:r}));ud(null===o||void 0===o?void 0:o.users.length,n,"internal-error");const i=o.users[0];e._notifyReloadListener(i);const a=(null===(t=i.providerUserInfo)||void 0===t?void 0:t.length)?Ud(i.providerUserInfo):[],s=(l=e.providerData,c=a,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&i.passwordHash)&&!(null===s||void 0===s?void 0:s.length),h=!!u&&d,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new zd(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(e,p)}function Ud(e){return e.map((e=>{var{providerId:t}=e,n=zu(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class Hd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ud(e.idToken,"internal-error"),ud("undefined"!==typeof e.idToken,"internal-error"),ud("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Fd(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ud(0!==e.length,"internal-error");const t=Fd(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(ud(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:o}=await async function(e,t){const n=await xd(e,{},(async()=>{const n=un({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=e.config,i=kd(e,r,"/v1/token","key=".concat(o)),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",yd.fetch()(i,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(o))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:o}=t,i=new Hd;return n&&(ud("string"===typeof n,"internal-error",{appName:e}),i.refreshToken=n),r&&(ud("string"===typeof r,"internal-error",{appName:e}),i.accessToken=r),o&&(ud("number"===typeof o,"internal-error",{appName:e}),i.expirationTime=o),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Hd,this.toJSON())}_performRefresh(){return dd("not implemented")}}function qd(e,t){ud("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Wd{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,o=zu(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new jd(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new zd(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Bd(this,this.stsTokenManager.getToken(this.auth,e));return ud(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=_n(e),r=await n.getIdToken(t),o=Ld(r);ud(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const i="object"===typeof o.firebase?o.firebase:void 0,a=null===i||void 0===i?void 0:i.sign_in_provider;return{claims:o,token:r,authTime:Nd(Md(o.auth_time)),issuedAtTime:Nd(Md(o.iat)),expirationTime:Nd(Md(o.exp)),signInProvider:a||null,signInSecondFactor:(null===i||void 0===i?void 0:i.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=_n(e);await Vd(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(ud(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Wd(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ud(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Vd(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Br(this.auth.app))return Promise.reject(sd(this.auth));const e=await this.getIdToken();return await Bd(this,async function(e,t){return _d(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,o,i,a,s,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(o=t.phoneNumber)&&void 0!==o?o:void 0,p=null!==(i=t.photoURL)&&void 0!==i?i:void 0,f=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(s=t._redirectEventId)&&void 0!==s?s:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:C,stsTokenManager:_}=t;ud(y&&_,e,"internal-error");const x=Hd.fromJSON(this.name,_);ud("string"===typeof y,e,"internal-error"),qd(u,e.name),qd(d,e.name),ud("boolean"===typeof b,e,"internal-error"),ud("boolean"===typeof w,e,"internal-error"),qd(h,e.name),qd(p,e.name),qd(f,e.name),qd(m,e.name),qd(g,e.name),qd(v,e.name);const S=new Wd({uid:y,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:w,photoURL:p,phoneNumber:h,tenantId:f,stsTokenManager:x,createdAt:g,lastLoginAt:v});return C&&Array.isArray(C)&&(S.providerData=C.map((e=>Object.assign({},e)))),m&&(S._redirectEventId=m),S}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Hd;r.updateFromServerResponse(t);const o=new Wd({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Vd(o),o}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];ud(void 0!==r.localId,"internal-error");const o=void 0!==r.providerUserInfo?Ud(r.providerUserInfo):[],i=!(r.email&&r.passwordHash)&&!(null===o||void 0===o?void 0:o.length),a=new Hd;a.updateFromIdToken(n);const s=new Wd({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:i}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new zd(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===o||void 0===o?void 0:o.length)};return Object.assign(s,l),s}}const Gd=new Map;function Kd(e){hd(e instanceof Function,"Expected a class definition");let t=Gd.get(e);return t?(hd(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Gd.set(e,t),t)}class Qd{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Qd.type="NONE";const Yd=Qd;function Xd(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class $d{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:o}=this.auth;this.fullUserKey=Xd(this.userKey,r.apiKey,o),this.fullPersistenceKey=Xd("persistence",r.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Wd._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new $d(Kd(Yd),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let o=r[0]||Kd(Yd);const i=Xd(n,e.config.apiKey,e.name);let a=null;for(const l of t)try{const t=await l._get(i);if(t){const n=Wd._fromJSON(e,t);l!==o&&(a=n),o=l;break}}catch(O9){}const s=r.filter((e=>e._shouldAllowMigration));return o._shouldAllowMigration&&s.length?(o=s[0],a&&await o._set(i,a.toJSON()),await Promise.all(t.map((async e=>{if(e!==o)try{await e._remove(i)}catch(O9){}}))),new $d(o,e,n)):new $d(o,e,n)}}function Jd(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(nh(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Zd(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(oh(t))return"Blackberry";if(ih(t))return"Webos";if(eh(t))return"Safari";if((t.includes("chrome/")||th(t))&&!t.includes("edge/"))return"Chrome";if(rh(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Zd(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt();return/firefox\//i.test(e)}function eh(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function th(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt();return/crios\//i.test(e)}function nh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt();return/iemobile/i.test(e)}function rh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt();return/android/i.test(e)}function oh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt();return/blackberry/i.test(e)}function ih(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt();return/webos/i.test(e)}function ah(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function sh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt();return ah(e)||rh(e)||ih(e)||oh(e)||/windows phone/i.test(e)||nh(e)}function lh(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Jd(Vt());break;case"Worker":t="".concat(Jd(Vt()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Hr,"/").concat(r)}class ch{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(D9){r(D9)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(D9){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===D9||void 0===D9?void 0:D9.message})}}}class uh{constructor(e){var t,n,r,o;const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=i.minPasswordLength)&&void 0!==t?t:6,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),void 0!==i.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),void 0!==i.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),void 0!==i.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),void 0!==i.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(o=e.forceUpgradeOnSignin)&&void 0!==o&&o,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,o,i,a;const s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=null===(t=s.meetsMinPasswordLength)||void 0===t||t),s.isValid&&(s.isValid=null===(n=s.meetsMaxPasswordLength)||void 0===n||n),s.isValid&&(s.isValid=null===(r=s.containsLowercaseLetter)||void 0===r||r),s.isValid&&(s.isValid=null===(o=s.containsUppercaseLetter)||void 0===o||o),s.isValid&&(s.isValid=null===(i=s.containsNumericCharacter)||void 0===i||i),s.isValid&&(s.isValid=null===(a=s.containsNonAlphanumericCharacter)||void 0===a||a),s}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class dh{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ph(this),this.idTokenSubscription=new ph(this),this.beforeStateQueue=new ch(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=td,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Kd(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await $d.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(D9){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Od(this,{idToken:e}),n=await Wd._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Br(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,i=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==i||!(null===a||void 0===a?void 0:a.user)||(r=a.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(D9){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(D9)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ud(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(D9){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Vd(e)}catch(D9){if((null===D9||void 0===D9?void 0:D9.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Br(this.app))return Promise.reject(sd(this));const t=e?_n(e):null;return t&&ud(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&ud(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return Br(this.app)?Promise.reject(sd(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Br(this.app)?Promise.reject(sd(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(Kd(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return _d(e,"GET","/v2/passwordPolicy",Cd(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new uh(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Jt("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return _d(e,"POST","/v2/accounts:revokeToken",Cd(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Kd(e)||this._popupRedirectResolver;ud(t,this,"argument-error"),this.redirectPersistenceManager=await $d.create(this,[Kd(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const o="function"===typeof t?t:t.next.bind(t);let i=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ud(a,this,"internal-error"),a.then((()=>{i||o(this.currentUser)})),"function"===typeof t){const o=e.addObserver(t,n,r);return()=>{i=!0,o()}}{const n=e.addObserver(t);return()=>{i=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ud(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lh(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(nd.logLevel<=Rn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];nd.warn("Auth (".concat(Hr,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function hh(e){return _n(e)}class ph{constructor(e){this.auth=e,this.observer=null,this.addObserver=fn((e=>this.observer=e))}get next(){return ud(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let fh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mh(e){return fh.loadJS(e)}function gh(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}const vh=1e12;class yh{constructor(e){this.auth=e,this.counter=vh,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new Ch(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||vh;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||vh;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||vh;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class bh{constructor(){this.enterprise=new wh}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class wh{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Ch{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"===typeof e?document.getElementById(e):e;ud(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(D9){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(D9){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const _h="NO_RECAPTCHA";class xh{constructor(e){this.type="recaptcha-enterprise",this.auth=hh(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const o=window.grecaptcha;Pd(o)?o.enterprise.ready((()=>{o.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n(_h)}))})):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new bh).execute("siteKey",{action:"verify"})}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Dd(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Ad(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((o=>{if(!t&&Pd(window.grecaptcha))n(o,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=fh.recaptchaEnterpriseScript;0!==t.length&&(t+=o),mh(t).then((()=>{n(o,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Sh(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const i=new xh(e);let a;if(o)a=_h;else try{a=await i.verify(n)}catch(Do){a=await i.verify(n,!0)}const s=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in s){const e=s.phoneEnrollmentInfo.phoneNumber,t=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in s){const e=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return s}return r?Object.assign(s,{captchaResp:a}):Object.assign(s,{captchaResponse:a}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function kh(e,t,n,r,o){var i,a;if("EMAIL_PASSWORD_PROVIDER"===o){if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Sh(e,t,n,"getOobCode"===n);return r(e,o)}return r(e,t).catch((async o=>{if(o.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const o=await Sh(e,t,n,"getOobCode"===n);return r(e,o)}return Promise.reject(o)}))}if("PHONE_PROVIDER"===o){if(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.isProviderEnabled("PHONE_PROVIDER")){const o=await Sh(e,t,n);return r(e,o).catch((async o=>{var i;if("AUDIT"===(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.getProviderEnforcementState("PHONE_PROVIDER"))&&(o.code==="auth/".concat("missing-recaptcha-token")||o.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const o=await Sh(e,t,n,!1,!0);return r(e,o)}return Promise.reject(o)}))}{const o=await Sh(e,t,n,!1,!0);return r(e,o)}}return Promise.reject(o+" provider is not supported.")}async function Ih(e){const t=hh(e),n=await Dd(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Ad(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new xh(t).verify()}}function Eh(e,t,n){const r=hh(e);ud(r._canInitEmulator,r,"emulator-config-failed"),ud(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!!(null===n||void 0===n?void 0:n.disableWarnings),i=Th(t),{host:a,port:s}=function(e){const t=Th(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const e=o[1];return{host:e,port:Rh(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Rh(t)}}}(t),l=null===s?"":":".concat(s);r.config.emulator={url:"".concat(i,"//").concat(a).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:s,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:o})}),o||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Th(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Rh(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Ph{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return dd("not implemented")}_getIdTokenResponse(e){return dd("not implemented")}_linkToIdToken(e,t){return dd("not implemented")}_getReauthenticationResolver(e){return dd("not implemented")}}async function Ah(e,t){return _d(e,"POST","/v1/accounts:resetPassword",Cd(e,t))}async function Dh(e,t){return _d(e,"POST","/v1/accounts:signUp",t)}async function Oh(e,t){return Sd(e,"POST","/v1/accounts:signInWithPassword",Cd(e,t))}async function Nh(e,t){return _d(e,"POST","/v1/accounts:sendOobCode",Cd(e,t))}async function Mh(e,t){return Nh(e,t)}async function Lh(e,t){return Nh(e,t)}class Fh extends Ph{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Fh(e,t,"password")}static _fromEmailAndCode(e,t){return new Fh(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return kh(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Oh,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Sd(e,"POST","/v1/accounts:signInWithEmailLink",Cd(e,t))}(e,{email:this._email,oobCode:this._password});default:od(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return kh(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Dh,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Sd(e,"POST","/v1/accounts:signInWithEmailLink",Cd(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:od(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Bh(e,t){return Sd(e,"POST","/v1/accounts:signInWithIdp",Cd(e,t))}class jh extends Ph{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new jh(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):od("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,o=zu(t,["providerId","signInMethod"]);if(!n||!r)return null;const i=new jh(n,r);return i.idToken=o.idToken||void 0,i.accessToken=o.accessToken||void 0,i.secret=o.secret,i.nonce=o.nonce,i.pendingToken=o.pendingToken||null,i}_getIdTokenResponse(e){return Bh(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Bh(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Bh(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=un(t)}return e}}async function zh(e,t){return _d(e,"POST","/v1/accounts:sendVerificationCode",Cd(e,t))}const Vh={USER_NOT_FOUND:"user-not-found"};class Uh extends Ph{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Uh({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Uh({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Sd(e,"POST","/v1/accounts:signInWithPhoneNumber",Cd(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Sd(e,"POST","/v1/accounts:signInWithPhoneNumber",Cd(e,t));if(n.temporaryProof)throw Td(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Sd(e,"POST","/v1/accounts:signInWithPhoneNumber",Cd(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Vh)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:o}=e;return n||t||r||o?new Uh({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:o}):null}}class Hh{constructor(e){var t,n,r,o,i,a;const s=dn(hn(e)),l=null!==(t=s.apiKey)&&void 0!==t?t:null,c=null!==(n=s.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=s.mode)&&void 0!==r?r:null);ud(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(o=s.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(i=s.languageCode)&&void 0!==i?i:null,this.tenantId=null!==(a=s.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=dn(hn(e)).link,n=t?dn(hn(t)).deep_link_id:null,r=dn(hn(e)).deep_link_id;return(r?dn(hn(r)).link:null)||r||n||t||e}(e);try{return new Hh(t)}catch(O9){return null}}}class qh{constructor(){this.providerId=qh.PROVIDER_ID}static credential(e,t){return Fh._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Hh.parseLink(t);return ud(n,"argument-error"),Fh._fromEmailAndCode(e,n.code,n.tenantId)}}qh.PROVIDER_ID="password",qh.EMAIL_PASSWORD_SIGN_IN_METHOD="password",qh.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Wh{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Gh extends Wh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Kh extends Gh{static credentialFromJSON(e){const t="string"===typeof e?JSON.parse(e):e;return ud("providerId"in t&&"signInMethod"in t,"argument-error"),jh._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return ud(e.idToken||e.accessToken,"argument-error"),jh._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Kh.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Kh.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:o,pendingToken:i,nonce:a,providerId:s}=t;if(!r&&!o&&!n&&!i)return null;if(!s)return null;try{return new Kh(s)._credential({idToken:n,accessToken:r,nonce:a,pendingToken:i})}catch(D9){return null}}}class Qh extends Gh{constructor(){super("facebook.com")}static credential(e){return jh._fromParams({providerId:Qh.PROVIDER_ID,signInMethod:Qh.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qh.credentialFromTaggedObject(e)}static credentialFromError(e){return Qh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Qh.credential(t.oauthAccessToken)}catch(O9){return null}}}Qh.FACEBOOK_SIGN_IN_METHOD="facebook.com",Qh.PROVIDER_ID="facebook.com";class Yh extends Gh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return jh._fromParams({providerId:Yh.PROVIDER_ID,signInMethod:Yh.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Yh.credentialFromTaggedObject(e)}static credentialFromError(e){return Yh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Yh.credential(n,r)}catch(O9){return null}}}Yh.GOOGLE_SIGN_IN_METHOD="google.com",Yh.PROVIDER_ID="google.com";class Xh extends Gh{constructor(){super("github.com")}static credential(e){return jh._fromParams({providerId:Xh.PROVIDER_ID,signInMethod:Xh.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xh.credentialFromTaggedObject(e)}static credentialFromError(e){return Xh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Xh.credential(t.oauthAccessToken)}catch(O9){return null}}}Xh.GITHUB_SIGN_IN_METHOD="github.com",Xh.PROVIDER_ID="github.com";class $h extends Ph{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return Bh(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Bh(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Bh(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:o}=t;return n&&r&&o&&n===r?new $h(n,o):null}static _create(e,t){return new $h(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Jh extends Wh{constructor(e){ud(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return Jh.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Jh.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=$h.fromJSON(e);return ud(t,"argument-error"),t}static samlCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{pendingToken:n,providerId:r}=t;if(!n||!r)return null;try{return $h._create(r,n)}catch(D9){return null}}}class Zh extends Gh{constructor(){super("twitter.com")}static credential(e,t){return jh._fromParams({providerId:Zh.PROVIDER_ID,signInMethod:Zh.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Zh.credentialFromTaggedObject(e)}static credentialFromError(e){return Zh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Zh.credential(n,r)}catch(O9){return null}}}async function ep(e,t){return Sd(e,"POST","/v1/accounts:signUp",Cd(e,t))}Zh.TWITTER_SIGN_IN_METHOD="twitter.com",Zh.PROVIDER_ID="twitter.com";class tp{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=await Wd._fromIdTokenResponse(e,n,r),i=np(n);return new tp({user:o,providerId:i,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=np(n);return new tp({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function np(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class rp extends $t{constructor(e,t,n,r){var o;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,rp.prototype),this.customData={appName:e.name,tenantId:null!==(o=e.tenantId)&&void 0!==o?o:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new rp(e,t,n,r)}}function op(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw rp._fromErrorAndOperation(e,n,t,r);throw n}))}function ip(e){return new Set(e.map((e=>{let{providerId:t}=e;return t})).filter((e=>!!e)))}async function ap(e,t){const n=_n(e);await lp(!0,n,t);const{providerUserInfo:r}=await async function(e,t){return _d(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),o=ip(r||[]);return n.providerData=n.providerData.filter((e=>o.has(e.providerId))),o.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function sp(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Bd(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return tp._forOperation(e,"link",r)}async function lp(e,t,n){await Vd(t);const r=!1===e?"provider-already-linked":"no-such-provider";ud(ip(t.providerData).has(n)===e,t.auth,r)}async function cp(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(Br(r.app))return Promise.reject(sd(r));const o="reauthenticate";try{const i=await Bd(e,op(r,o,t,e),n);ud(i.idToken,r,"internal-error");const a=Ld(i.idToken);ud(a,r,"internal-error");const{sub:s}=a;return ud(e.uid===s,r,"user-mismatch"),tp._forOperation(e,o,i)}catch(D9){throw(null===D9||void 0===D9?void 0:D9.code)==="auth/".concat("user-not-found")&&od(r,"user-mismatch"),D9}}async function up(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Br(e.app))return Promise.reject(sd(e));const r="signIn",o=await op(e,r,t),i=await tp._fromIdTokenResponse(e,r,o);return n||await e._updateCurrentUser(i.user),i}async function dp(e,t){return up(hh(e),t)}async function hp(e,t){const n=_n(e);return await lp(!1,n,t.providerId),sp(n,t)}async function pp(e,t){return cp(_n(e),t)}async function fp(e,t){if(Br(e.app))return Promise.reject(sd(e));const n=hh(e),r=await async function(e,t){return Sd(e,"POST","/v1/accounts:signInWithCustomToken",Cd(e,t))}(n,{token:t,returnSecureToken:!0}),o=await tp._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(o.user),o}class mp{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?gp._fromServerResponse(e,t):"totpInfo"in t?vp._fromServerResponse(e,t):od(e,"internal-error")}}class gp extends mp{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new gp(t)}}class vp extends mp{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new vp(t)}}function yp(e,t,n){var r;ud((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),ud("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ud(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(ud(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function bp(e){const t=hh(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function wp(e,t,n){const r=hh(e),o={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&yp(r,o,n),await kh(r,o,"getOobCode",Mh,"EMAIL_PASSWORD_PROVIDER")}async function Cp(e,t){await async function(e,t){return _d(e,"POST","/v1/accounts:update",Cd(e,t))}(_n(e),{oobCode:t})}async function _p(e,t){const n=_n(e),r=await Ah(n,{oobCode:t}),o=r.requestType;switch(ud(o,n,"internal-error"),o){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ud(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ud(r.mfaInfo,n,"internal-error");default:ud(r.email,n,"internal-error")}let i=null;return r.mfaInfo&&(i=mp._fromServerResponse(hh(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:i},operation:o}}async function xp(e,t,n){if(Br(e.app))return Promise.reject(sd(e));const r=hh(e),o=kh(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ep,"EMAIL_PASSWORD_PROVIDER"),i=await o.catch((t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&bp(e),t})),a=await tp._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(a.user),a}function Sp(e,t,n){return Br(e.app)?Promise.reject(sd(e)):dp(_n(e),qh.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&bp(e),t}))}async function kp(e,t){const n={identifier:t,continueUri:fd()?pd():"http://localhost"},{signinMethods:r}=await async function(e,t){return _d(e,"POST","/v1/accounts:createAuthUri",Cd(e,t))}(_n(e),n);return r||[]}async function Ip(e,t){const n=_n(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&yp(n.auth,r,t);const{email:o}=await async function(e,t){return Nh(e,t)}(n.auth,r);o!==e.email&&await e.reload()}async function Ep(e,t,n){const r=_n(e),o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&yp(r.auth,o,n);const{email:i}=await async function(e,t){return Nh(e,t)}(r.auth,o);i!==e.email&&await e.reload()}async function Tp(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const o=_n(e),i={idToken:await o.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},a=await Bd(o,async function(e,t){return _d(e,"POST","/v1/accounts:update",t)}(o.auth,i));o.displayName=a.displayName||null,o.photoURL=a.photoUrl||null;const s=o.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));s&&(s.displayName=o.displayName,s.photoURL=o.photoURL),await o._updateTokensIfNecessary(a)}async function Rp(e,t,n){const{auth:r}=e,o={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(o.email=t),n&&(o.password=n);const i=await Bd(e,async function(e,t){return _d(e,"POST","/v1/accounts:update",t)}(r,o));await e._updateTokensIfNecessary(i,!0)}class Pp{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.isNewUser=e,this.providerId=t,this.profile=n}}class Ap extends Pp{constructor(e,t,n,r){super(e,t,n),this.username=r}}class Dp extends Pp{constructor(e,t){super(e,"facebook.com",t)}}class Op extends Ap{constructor(e,t){super(e,"github.com",t,"string"===typeof(null===t||void 0===t?void 0:t.login)?null===t||void 0===t?void 0:t.login:null)}}class Np extends Pp{constructor(e,t){super(e,"google.com",t)}}class Mp extends Ap{constructor(e,t,n){super(e,"twitter.com",t,n)}}function Lp(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,o=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},i=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){const r=null===(n=null===(t=Ld(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new Pp(i,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new Dp(i,o);case"github.com":return new Op(i,o);case"google.com":return new Np(i,o);case"twitter.com":return new Mp(i,o,e.screenName||null);case"custom":case"anonymous":return new Pp(i,null);default:return new Pp(i,r,o)}}(n)}class Fp{constructor(e,t,n){this.type=e,this.credential=t,this.user=n}static _fromIdtoken(e,t){return new Fp("enroll",e,t)}static _fromMfaPendingCredential(e){return new Fp("signin",e)}toJSON(){const e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:{[e]:this.credential}}}static fromJSON(e){var t,n;if(null===e||void 0===e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return Fp._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return Fp._fromIdtoken(e.multiFactorSession.idToken)}return null}}class Bp{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=hh(e),r=t.customData._serverResponse,o=(r.mfaInfo||[]).map((e=>mp._fromServerResponse(n,e)));ud(r.mfaPendingCredential,n,"internal-error");const i=Fp._fromMfaPendingCredential(r.mfaPendingCredential);return new Bp(i,o,(async e=>{const o=await e._process(n,i);delete r.mfaInfo,delete r.mfaPendingCredential;const a=Object.assign(Object.assign({},r),{idToken:o.idToken,refreshToken:o.refreshToken});switch(t.operationType){case"signIn":const e=await tp._fromIdTokenResponse(n,t.operationType,a);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return ud(t.user,n,"internal-error"),tp._forOperation(t.user,t.operationType,a);default:od(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function jp(e,t){return _d(e,"POST","/v2/accounts/mfaEnrollment:start",Cd(e,t))}class zp{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>mp._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new zp(e)}async getSession(){return Fp._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const n=e,r=await this.getSession(),o=await Bd(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(o),this.user.reload()}async unenroll(e){const t="string"===typeof e?e:e.uid,n=await this.user.getIdToken();try{const e=await Bd(this.user,function(e,t){return _d(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Cd(e,t))}(this.user.auth,{idToken:n,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter((e=>{let{uid:n}=e;return n!==t})),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(D9){throw D9}}}const Vp=new WeakMap;const Up="__sak";class Hp{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Up,"1"),this.storage.removeItem(Up),Promise.resolve(!0)):Promise.resolve(!1)}catch(O9){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class qp extends Hp{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=sh(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},o=this.storage.getItem(n);Kt()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}qp.type="LOCAL";const Wp=qp;class Gp extends Hp{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Gp.type="SESSION";const Kp=Gp;class Qp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Qp(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:o}=t.data,i=this.handlersMap[r];if(!(null===i||void 0===i?void 0:i.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(i).map((async e=>e(t.origin,o))),s=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:s})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Yp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Qp.receivers=[];class Xp{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,i;return new Promise(((a,s)=>{const l=Yp("",20);r.port1.start();const c=setTimeout((()=>{s(new Error("unsupported_event"))}),n);i={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),o=setTimeout((()=>{s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(o),a(t.data.response);break;default:clearTimeout(c),clearTimeout(o),s(new Error("invalid_response"))}}},this.handlers.add(i),r.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{i&&this.removeMessageHandler(i)}))}}function $p(){return window}function Jp(){return"undefined"!==typeof $p().WorkerGlobalScope&&"function"===typeof $p().importScripts}const Zp="firebaseLocalStorageDb",ef="firebaseLocalStorage",tf="fbase_key";class nf{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function rf(e,t){return e.transaction([ef],t?"readwrite":"readonly").objectStore(ef)}function of(){const e=indexedDB.open(Zp,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(ef,{keyPath:tf})}catch(D9){n(D9)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(ef)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Zp);return new nf(e).toPromise()}(),t(await of()))}))}))}async function af(e,t,n){const r=rf(e,!0).put({[tf]:t,value:n});return new nf(r).toPromise()}function sf(e,t){const n=rf(e,!0).delete(t);return new nf(n).toPromise()}class lf{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await of()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(D9){if(t++>3)throw D9;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Jp()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qp._getInstance(Jp()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Xp(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(O9){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await of();return await af(e,Up,"1"),await sf(e,Up),!0}catch(O9){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>af(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=rf(e,!1).get(t),r=await new nf(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>sf(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=rf(e,!1).getAll();return new nf(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:o}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}lf.type="LOCAL";const cf=lf;function uf(e,t){return _d(e,"POST","/v2/accounts/mfaSignIn:start",Cd(e,t))}const df=gh("rcb"),hf=new gd(3e4,6e4);class pf{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=$p().grecaptcha)||void 0===e?void 0:e.render)}load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return ud(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&Rd($p().grecaptcha)?Promise.resolve($p().grecaptcha):new Promise(((n,r)=>{const o=$p().setTimeout((()=>{r(id(e,"network-request-failed"))}),hf.get());$p()[df]=()=>{$p().clearTimeout(o),delete $p()[df];const i=$p().grecaptcha;if(!i||!Rd(i))return void r(id(e,"internal-error"));const a=i.render;i.render=(e,t)=>{const n=a(e,t);return this.counter++,n},this.hostLanguage=t,n(i)};mh("".concat(fh.recaptchaV2Script,"?").concat(un({onload:df,render:"explicit",hl:t}))).catch((()=>{clearTimeout(o),r(id(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=$p().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ff{async load(e){return new yh(e)}clearedOneInstance(){}}const mf="recaptcha",gf={theme:"light",type:"image"};class vf{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},gf);this.parameters=n,this.type=mf,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=hh(e),this.isInvisible="invisible"===this.parameters.size,ud("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"===typeof t?document.getElementById(t):t;ud(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ff:new pf,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise((n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(D9){return Promise.reject(D9)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){ud(!this.parameters.sitekey,this.auth,"argument-error"),ud(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ud("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"===typeof e)e(t);else if("string"===typeof e){const n=$p()[e];"function"===typeof n&&n(t)}}}assertNotDestroyed(){ud(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){ud(fd()&&!Jp(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await _d(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);ud(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return ud(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class yf{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Uh._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function bf(e,t,n){var r;if(!e._getRecaptchaConfig())try{await Ih(e)}catch(Do){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let o;if(o="string"===typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){ud("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},i=kh(e,r,"mfaSmsEnrollment",(async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===_h){ud((null===n||void 0===n?void 0:n.type)===mf,e,"argument-error");return jp(e,await wf(e,t,n))}return jp(e,t)}),"PHONE_PROVIDER"),a=await i.catch((e=>Promise.reject(e)));return a.phoneSessionInfo.sessionInfo}{ud("signin"===t.type,e,"internal-error");const i=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;ud(i,e,"missing-multi-factor-info");const a={mfaPendingCredential:t.credential,mfaEnrollmentId:i,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},s=kh(e,a,"mfaSmsSignIn",(async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===_h){ud((null===n||void 0===n?void 0:n.type)===mf,e,"argument-error");return uf(e,await wf(e,t,n))}return uf(e,t)}),"PHONE_PROVIDER"),l=await s.catch((e=>Promise.reject(e)));return l.phoneResponseInfo.sessionInfo}}{const t={phoneNumber:o.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=kh(e,t,"sendVerificationCode",(async(e,t)=>{if(t.captchaResponse===_h){ud((null===n||void 0===n?void 0:n.type)===mf,e,"argument-error");return zh(e,await wf(e,t,n))}return zh(e,t)}),"PHONE_PROVIDER"),i=await r.catch((e=>Promise.reject(e)));return i.sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function wf(e,t,n){ud(n.type===mf,e,"argument-error");const r=await n.verify();ud("string"===typeof r,e,"argument-error");const o=Object.assign({},t);if("phoneEnrollmentInfo"in o){const e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.captchaResponse,n=o.phoneEnrollmentInfo.clientType,i=o.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:i}}),o}if("phoneSignInInfo"in o){const e=o.phoneSignInInfo.captchaResponse,t=o.phoneSignInInfo.clientType,n=o.phoneSignInInfo.recaptchaVersion;return Object.assign(o,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),o}return Object.assign(o,{recaptchaToken:r}),o}class Cf{constructor(e){this.providerId=Cf.PROVIDER_ID,this.auth=hh(e)}verifyPhoneNumber(e,t){return bf(this.auth,e,_n(t))}static credential(e,t){return Uh._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Cf.credentialFromTaggedObject(t)}static credentialFromError(e){return Cf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Uh._fromTokenResponse(n,r):null}}function _f(e,t){return t?Kd(t):(ud(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Cf.PROVIDER_ID="phone",Cf.PHONE_SIGN_IN_METHOD="phone";class xf extends Ph{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Bh(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Bh(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Bh(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Sf(e){return up(e.auth,new xf(e),e.bypassAuthState)}function kf(e){const{auth:t,user:n}=e;return ud(n,t,"internal-error"),cp(n,new xf(e),e.bypassAuthState)}async function If(e){const{auth:t,user:n}=e;return ud(n,t,"internal-error"),sp(n,new xf(e),e.bypassAuthState)}class Ef{constructor(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(D9){this.reject(D9)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:o,error:i,type:a}=e;if(i)return void this.reject(i);const s={auth:this.auth,requestUri:t,sessionId:n,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(s))}catch(D9){this.reject(D9)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Sf;case"linkViaPopup":case"linkViaRedirect":return If;case"reauthViaPopup":case"reauthViaRedirect":return kf;default:od(this.auth,"internal-error")}}resolve(e){hd(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hd(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Tf=new gd(2e3,1e4);class Rf extends Ef{constructor(e,t,n,r,o){super(e,t,r,o),this.provider=n,this.authWindow=null,this.pollId=null,Rf.currentPopupAction&&Rf.currentPopupAction.cancel(),Rf.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ud(e,this.auth,"internal-error"),e}async onExecution(){hd(1===this.filter.length,"Popup operations only handle one event");const e=Yp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(id(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(id(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Rf.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(id(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Tf.get())};e()}}Rf.currentPopupAction=null;const Pf=new Map;class Af extends Ef{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Pf.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Mf(t),r=Nf(e);if(!await r._isAvailable())return!1;const o="true"===await r._get(n);return await r._remove(n),o}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(D9){e=()=>Promise.reject(D9)}Pf.set(this.auth._key(),e)}return this.bypassAuthState||Pf.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function Df(e,t){return Nf(e)._set(Mf(t),"true")}function Of(e,t){Pf.set(e._key(),t)}function Nf(e){return Kd(e._redirectPersistence)}function Mf(e){return Xd("pendingRedirect",e.config.apiKey,e.name)}function Lf(e,t,n){return async function(e,t,n){if(Br(e.app))return Promise.reject(sd(e));const r=hh(e);ld(e,t,Wh),await r._initializationPromise;const o=_f(r,n);return await Df(o,r),o._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}function Ff(e,t,n){return async function(e,t,n){const r=_n(e);if(ld(r.auth,t,Wh),Br(r.auth.app))return Promise.reject(sd(r.auth));await r.auth._initializationPromise;const o=_f(r.auth,n);await Df(o,r.auth);const i=await zf(r);return o._openRedirect(r.auth,t,"reauthViaRedirect",i)}(e,t,n)}function Bf(e,t,n){return async function(e,t,n){const r=_n(e);ld(r.auth,t,Wh),await r.auth._initializationPromise;const o=_f(r.auth,n);await lp(!1,r,t.providerId),await Df(o,r.auth);const i=await zf(r);return o._openRedirect(r.auth,t,"linkViaRedirect",i)}(e,t,n)}async function jf(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Br(e.app))return Promise.reject(sd(e));const r=hh(e),o=_f(r,t),i=new Af(r,o,n),a=await i.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}async function zf(e){const t=Yp("".concat(e.uid,":::"));return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class Vf{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Hf(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Hf(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(id(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Uf(e))}saveEventToCache(e){this.cachedEventUids.add(Uf(e)),this.lastProcessedEventTime=Date.now()}}function Uf(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Hf(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}async function qf(e){return _d(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}const Wf=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Gf=/^https?/;function Kf(e){const t=pd(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return""===o.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!Gf.test(n))return!1;if(Wf.test(e))return r===e;const o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const Qf=new gd(3e4,6e4);function Yf(){const e=$p().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Xf(e){return new Promise(((t,n)=>{var r,o,i;function a(){Yf(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Yf(),n(id(e,"network-request-failed"))},timeout:Qf.get()})}if(null===(o=null===(r=$p().gapi)||void 0===r?void 0:r.iframes)||void 0===o?void 0:o.Iframe)t(gapi.iframes.getContext());else{if(!(null===(i=$p().gapi)||void 0===i?void 0:i.load)){const t=gh("iframefcb");return $p()[t]=()=>{gapi.load?a():n(id(e,"network-request-failed"))},mh("".concat(fh.gapiScript,"?onload=").concat(t)).catch((e=>n(e)))}a()}})).catch((e=>{throw $f=null,e}))}let $f=null;const Jf=new gd(5e3,15e3),Zf={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},em=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tm(e){const t=e.config;ud(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?vd(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Hr},o=em.get(e.config.apiHost);o&&(r.eid=o);const i=e._getFrameworks();return i.length&&(r.fw=i.join(",")),"".concat(n,"?").concat(un(r).slice(1))}async function nm(e){const t=await function(e){return $f=$f||Xf(e),$f}(e),n=$p().gapi;return ud(n,e,"internal-error"),t.open({where:document.body,url:tm(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Zf,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const o=id(e,"network-request-failed"),i=$p().setTimeout((()=>{r(o)}),Jf.get());function a(){$p().clearTimeout(i),n(t)}t.ping(a).then(a,(()=>{r(o)}))}))))}const rm={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class om{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(D9){}}}function im(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const i=Math.max((window.screen.availHeight-o)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=Object.assign(Object.assign({},rm),{width:r.toString(),height:o.toString(),top:i,left:a}),c=Vt().toLowerCase();n&&(s=th(c)?"_blank":n),Zd(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return ah(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==s)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new om(null);const d=window.open(t||"",s,u);ud(d,e,"popup-blocked");try{d.focus()}catch(D9){}return new om(d)}const am="__/auth/handler",sm="emulator/auth/handler",lm=encodeURIComponent("fac");async function cm(e,t,n,r,o,i){ud(e.config.authDomain,e,"auth-domain-config-required"),ud(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Hr,eventId:o};if(t instanceof Wh){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",an(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(i||{}))a[e]=t}if(t instanceof Gh){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const s=a;for(const u of Object.keys(s))void 0===s[u]&&delete s[u];const l=await e._getAppCheckToken(),c=l?"#".concat(lm,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(am);return vd(t,sm)}(e),"?").concat(un(s).slice(1)).concat(c)}const um="webStorageSupport";const dm=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Kp,this._completeRedirectFn=jf,this._overrideRedirectResult=Of}async _openPopup(e,t,n,r){var o;hd(null===(o=this.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");return im(e,await cm(e,t,n,pd(),r),Yp())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){$p().location.href=e}(await cm(e,t,n,pd(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(hd(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await nm(e),n=new Vf(e);return t.register("authEvent",(t=>{ud(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(um,{type:um},(n=>{var r;const o=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[um];void 0!==o&&t(!!o),od(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await qf(e);for(const n of t)try{if(Kf(n))return}catch(O9){}od(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return sh()||eh()||ah()}};class hm{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return dd("unexpected MultiFactorSessionType")}}}class pm extends hm{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new pm(e)}_finalizeEnroll(e,t,n){return function(e,t){return _d(e,"POST","/v2/accounts/mfaEnrollment:finalize",Cd(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return _d(e,"POST","/v2/accounts/mfaSignIn:finalize",Cd(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class fm{constructor(){}static assertion(e){return pm._fromCredential(e)}}fm.FACTOR_ID="phone";var mm="@firebase/auth",gm="1.8.2";class vm{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ud(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(e=>{var t;null===(t=Lt())||void 0===t||t["_".concat(e)]})("authIdTokenMaxAge");var ym;function bm(){return window}!function(e){fh=e}({loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=id("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),ym="Browser",Nr(new xn("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;ud(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:s,clientPlatform:ym,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lh(ym)},c=new dh(r,o,i,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Kd);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Nr(new xn("auth-internal",(e=>(e=>new vm(e))(hh(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Yr(mm,gm,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(ym)),Yr(mm,gm,"esm2017");async function wm(e,t,n){var r;const{BuildInfo:o}=bm();hd(t.sessionId,"AuthEvent did not contain a session ID");const i=await async function(e){const t=function(e){if(hd(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(t.sessionId),a={};return ah()?a.ibi=o.packageName:rh()?a.apn=o.packageName:od(e,"operation-not-supported-in-this-environment"),o.displayName&&(a.appDisplayName=o.displayName),a.sessionId=i,cm(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,a)}function Cm(e){const{cordova:t}=bm();return new Promise((n=>{t.plugins.browsertab.isAvailable((r=>{let o=null;r?t.plugins.browsertab.openUrl(e):o=t.InAppBrowser.open(e,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(o)}))}))}class _m extends Vf{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInitialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}async function xm(e){const t=await Im()._get(Em(e));return t&&await Im()._remove(Em(e)),t}function Sm(e,t){var n,r;const o=function(e){const t=Tm(e),n=t.link?decodeURIComponent(t.link):void 0,r=Tm(n).link,o=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Tm(o).link||o||r||n||e}(t);if(o.includes("/__/auth/callback")){const t=Tm(o),i=t.firebaseError?function(e){try{return JSON.parse(e)}catch(D9){return null}}(decodeURIComponent(t.firebaseError)):null,a=null===(r=null===(n=null===i||void 0===i?void 0:i.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=a?id(a):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:o,postBody:null}}return null}function km(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<20;n++){const n=Math.floor(62*Math.random());e.push(t.charAt(n))}return e.join("")}function Im(){return Kd(Wp)}function Em(e){return Xd("authEvent",e.config.apiKey,e.name)}function Tm(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return dn(n.join("?"))}const Rm=class{constructor(){this._redirectPersistence=Kp,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=jf,this._overrideRedirectResult=Of}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new _m(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){od(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){!function(e){var t,n,r,o,i,a,s,l,c,u;const d=bm();ud("function"===typeof(null===(t=null===d||void 0===d?void 0:d.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ud("undefined"!==typeof(null===(n=null===d||void 0===d?void 0:d.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ud("function"===typeof(null===(i=null===(o=null===(r=null===d||void 0===d?void 0:d.cordova)||void 0===r?void 0:r.plugins)||void 0===o?void 0:o.browsertab)||void 0===i?void 0:i.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ud("function"===typeof(null===(l=null===(s=null===(a=null===d||void 0===d?void 0:d.cordova)||void 0===a?void 0:a.plugins)||void 0===s?void 0:s.browsertab)||void 0===l?void 0:l.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ud("function"===typeof(null===(u=null===(c=null===d||void 0===d?void 0:d.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===u?void 0:u.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const o=await this._initialize(e);await o.initialized(),o.resetRedirect(),Pf.clear(),await this._originValidation(e);const i=function(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:km(),postBody:null,tenantId:e.tenantId,error:id(e,"no-auth-event")}}(e,n,r);await function(e,t){return Im()._set(Em(e),t)}(e,i);const a=await wm(e,i,t);return async function(e,t,n){const{cordova:r}=bm();let o=()=>{};try{await new Promise(((i,a)=>{let s=null;function l(){var e;i();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"===typeof t&&t(),"function"===typeof(null===n||void 0===n?void 0:n.close)&&n.close()}function c(){s||(s=window.setTimeout((()=>{a(id(e,"redirect-cancelled-by-user"))}),2e3))}function u(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}t.addPassiveListener(l),document.addEventListener("resume",c,!1),rh()&&document.addEventListener("visibilitychange",u,!1),o=()=>{t.removePassiveListener(l),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",u,!1),s&&window.clearTimeout(s)}}))}finally{o()}}(e,o,await Cm(a))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=bm(),n={};ah()?n.iosBundleId=t.packageName:rh()?n.androidPackageName=t.packageName:od(e,"operation-not-supported-in-this-environment"),await qf(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:o}=bm(),i=setTimeout((async()=>{await xm(e),t.onEvent(Pm())}),500),a=async n=>{clearTimeout(i);const r=await xm(e);let o=null;r&&(null===n||void 0===n?void 0:n.url)&&(o=Sm(r,n.url)),t.onEvent(o||Pm())};"undefined"!==typeof n&&"function"===typeof n.subscribe&&n.subscribe(null,a);const s=r,l="".concat(o.packageName.toLowerCase(),"://");bm().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(l)&&a({url:e}),"function"===typeof s)try{s(e)}catch(D9){console.error(D9)}}}};function Pm(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:id("no-auth-event")}}function Am(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Dm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt();return!("file:"!==Am()&&"ionic:"!==Am()&&"capacitor:"!==Am()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Om(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt();return Kt()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt();return/Edge\/\d+/.test(e)}(e)}function Nm(){try{const e=self.localStorage,t=Yp();if(e)return e.setItem(t,"1"),e.removeItem(t),!Om()||Xt()}catch(D9){return Mm()&&Xt()}return!1}function Mm(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Lm(){return("http:"===Am()||"https:"===Am()||Wt()||Dm())&&!(Gt()||Ht())&&Nm()&&!Mm()}function Fm(){return Dm()&&"undefined"!==typeof document}const Bm={LOCAL:"local",NONE:"none",SESSION:"session"},jm=ud,zm="persistence";async function Vm(e){await e._initializationPromise;const t=Um(),n=Xd(zm,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function Um(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(D9){return null}}const Hm=ud;class qm{constructor(){this.browserResolver=Kd(dm),this.cordovaResolver=Kd(Rm),this.underlyingResolver=null,this._redirectPersistence=Kp,this._completeRedirectFn=jf,this._overrideRedirectResult=Of}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return Fm()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Hm(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!Fm()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),1e3);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function Wm(e){return e.unwrap()}function Gm(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code)){t.resolver=new Xm(e,function(e,t){var n;const r=_n(e),o=t;return ud(t.customData.operationType,r,"argument-error"),ud(null===(n=o.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Bp._fromError(r,o)}(e,t))}else if(r){const e=Km(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}function Km(e){const{_tokenResponse:t}=e instanceof $t?e.customData:e;if(!t)return null;if(!(e instanceof $t)&&"temporaryProof"in t&&"phoneNumber"in t)return Cf.credentialFromResult(e);const n=t.providerId;if(!n||n===qu)return null;let r;switch(n){case Hu:r=Yh;break;case Vu:r=Qh;break;case Uu:r=Xh;break;case Wu:r=Zh;break;default:const{oauthIdToken:e,oauthAccessToken:o,oauthTokenSecret:i,pendingToken:a,nonce:s}=t;return o||i||e||a?a?n.startsWith("saml.")?$h._create(n,a):jh._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:e,accessToken:o}):new Kh(n).credential({idToken:e,accessToken:o,rawNonce:s}):null}return e instanceof $t?r.credentialFromError(e):r.credentialFromResult(e)}function Qm(e,t){return t.catch((t=>{throw t instanceof $t&&Gm(e,t),t})).then((e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(r=e,Km(r)),additionalUserInfo:Lp(e),user:$m.getOrCreate(n)};var r}))}async function Ym(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>Qm(e,n.confirm(t))}}class Xm{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Qm(Wm(this.auth),this.resolver.resolveSignIn(e))}}class $m{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=_n(e);return Vp.has(t)||Vp.set(t,zp._fromUser(t)),Vp.get(t)}(e)}static getOrCreate(e){return $m.USER_MAP.has(e)||$m.USER_MAP.set(e,new $m(e)),$m.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Qm(this.auth,hp(this._delegate,e))}async linkWithPhoneNumber(e,t){return Ym(this.auth,async function(e,t,n){const r=_n(e);await lp(!1,r,"phone");const o=await bf(r.auth,t,_n(n));return new yf(o,(e=>hp(r,e)))}(this._delegate,e,t))}async linkWithPopup(e){return Qm(this.auth,async function(e,t,n){const r=_n(e);ld(r.auth,t,Wh);const o=_f(r.auth,n);return new Rf(r.auth,"linkViaPopup",t,o,r).executeNotNull()}(this._delegate,e,qm))}async linkWithRedirect(e){return await Vm(hh(this.auth)),Bf(this._delegate,e,qm)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Qm(this.auth,pp(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return Ym(this.auth,async function(e,t,n){const r=_n(e);if(Br(r.auth.app))return Promise.reject(sd(r.auth));const o=await bf(r.auth,t,_n(n));return new yf(o,(e=>pp(r,e)))}(this._delegate,e,t))}reauthenticateWithPopup(e){return Qm(this.auth,async function(e,t,n){const r=_n(e);if(Br(r.auth.app))return Promise.reject(id(r.auth,"operation-not-supported-in-this-environment"));ld(r.auth,t,Wh);const o=_f(r.auth,n);return new Rf(r.auth,"reauthViaPopup",t,o,r).executeNotNull()}(this._delegate,e,qm))}async reauthenticateWithRedirect(e){return await Vm(hh(this.auth)),Ff(this._delegate,e,qm)}sendEmailVerification(e){return Ip(this._delegate,e)}async unlink(e){return await ap(this._delegate,e),this}updateEmail(e){return function(e,t){const n=_n(e);return Br(n.auth.app)?Promise.reject(sd(n.auth)):Rp(n,t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return Rp(_n(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){const n=_n(e);if(Br(n.auth.app))return Promise.reject(sd(n.auth));await sp(n,t)}(this._delegate,e)}updateProfile(e){return Tp(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return Ep(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}$m.USER_MAP=new WeakMap;const Jm=ud;class Zm{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;Jm(n,"invalid-api-key",{appName:e.name}),Jm(n,"invalid-api-key",{appName:e.name});const r="undefined"!==typeof window?qm:void 0;this._delegate=t.initialize({options:{persistence:tg(n,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(Zu),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?$m.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){Eh(this._delegate,e,t)}applyActionCode(e){return Cp(this._delegate,e)}checkActionCode(e){return _p(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await Ah(_n(e),{oobCode:t,newPassword:n}).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&bp(e),t}))}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return Qm(this._delegate,xp(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return kp(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=Hh.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}async getRedirectResult(){Jm(Lm(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await hh(e)._initializationPromise,jf(e,t,!1)}(this._delegate,qm);return e?Qm(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){hh(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:o,complete:i}=eg(e,t,n);return this._delegate.onAuthStateChanged(r,o,i)}onIdTokenChanged(e,t,n){const{next:r,error:o,complete:i}=eg(e,t,n);return this._delegate.onIdTokenChanged(r,o,i)}sendSignInLinkToEmail(e,t){return async function(e,t,n){const r=hh(e),o={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};!function(e,t){ud(t.handleCodeInApp,r,"argument-error"),t&&yp(r,e,t)}(o,n),await kh(r,o,"getOobCode",Lh,"EMAIL_PASSWORD_PROVIDER")}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return wp(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){jm(Object.values(Bm).includes(t),e,"invalid-persistence-type"),Gt()?jm(t!==Bm.SESSION,e,"unsupported-persistence-type"):Ht()?jm(t===Bm.NONE,e,"unsupported-persistence-type"):Mm()?jm(t===Bm.NONE||t===Bm.LOCAL&&Xt(),e,"unsupported-persistence-type"):jm(t===Bm.NONE||Nm(),e,"unsupported-persistence-type")}(this._delegate,e),e){case Bm.SESSION:t=Kp;break;case Bm.LOCAL:t=await Kd(cf)._isAvailable()?cf:Wp;break;case Bm.NONE:t=Yd;break;default:return od("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Qm(this._delegate,async function(e){var t;if(Br(e.app))return Promise.reject(sd(e));const n=hh(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new tp({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await ep(n,{returnSecureToken:!0}),o=await tp._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(o.user),o}(this._delegate))}signInWithCredential(e){return Qm(this._delegate,dp(this._delegate,e))}signInWithCustomToken(e){return Qm(this._delegate,fp(this._delegate,e))}signInWithEmailAndPassword(e,t){return Qm(this._delegate,Sp(this._delegate,e,t))}signInWithEmailLink(e,t){return Qm(this._delegate,async function(e,t,n){if(Br(e.app))return Promise.reject(sd(e));const r=_n(e),o=qh.credentialWithLink(t,n||pd());return ud(o._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),dp(r,o)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return Ym(this._delegate,async function(e,t,n){if(Br(e.app))return Promise.reject(sd(e));const r=hh(e),o=await bf(r,t,_n(n));return new yf(o,(e=>dp(r,e)))}(this._delegate,e,t))}async signInWithPopup(e){return Jm(Lm(),this._delegate,"operation-not-supported-in-this-environment"),Qm(this._delegate,async function(e,t,n){if(Br(e.app))return Promise.reject(id(e,"operation-not-supported-in-this-environment"));const r=hh(e);ld(e,t,Wh);const o=_f(r,n);return new Rf(r,"signInViaPopup",t,o).executeNotNull()}(this._delegate,e,qm))}async signInWithRedirect(e){return Jm(Lm(),this._delegate,"operation-not-supported-in-this-environment"),await Vm(this._delegate),Lf(this._delegate,e,qm)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await _p(_n(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function eg(e,t,n){let r=e;"function"!==typeof e&&({next:r,error:t,complete:n}=e);const o=r;return{next:e=>o(e&&$m.getOrCreate(e)),error:t,complete:n}}function tg(e,t){const n=function(e,t){const n=Um();if(!n)return[];const r=Xd(zm,e,t);switch(n.getItem(r)){case Bm.NONE:return[Yd];case Bm.LOCAL:return[cf,Kp];case Bm.SESSION:return[Kp];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(cf)||n.push(cf),"undefined"!==typeof window)for(const r of[Wp,Kp])n.includes(r)||n.push(r);return n.includes(Yd)||n.push(Yd),n}Zm.Persistence=Bm;class ng{static credential(e,t){return Cf.credential(e,t)}constructor(){this.providerId="phone",this._delegate=new Cf(Wm(po.auth()))}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}ng.PHONE_SIGN_IN_METHOD=Cf.PHONE_SIGN_IN_METHOD,ng.PROVIDER_ID=Cf.PROVIDER_ID;const rg=ud;class og{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:po.app();var r;rg(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new vf(n.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(e){e.INTERNAL.registerComponent(new xn("auth-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Zm(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Gu,PASSWORD_RESET:Ku,RECOVER_EMAIL:Qu,REVERT_SECOND_FACTOR_ADDITION:Yu,VERIFY_AND_CHANGE_EMAIL:Xu,VERIFY_EMAIL:$u}},EmailAuthProvider:qh,FacebookAuthProvider:Qh,GithubAuthProvider:Xh,GoogleAuthProvider:Yh,OAuthProvider:Kh,SAMLAuthProvider:Jh,PhoneAuthProvider:ng,PhoneMultiFactorGenerator:fm,RecaptchaVerifier:og,TwitterAuthProvider:Zh,Auth:Zm,AuthCredential:Ph,Error:$t}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.5.17")}(po);var ig,ag,sg="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},lg={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var o=0;16>o;++o)r[o]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(o=0;16>o;++o)r[o]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],o=e.g[2];var i=e.g[3],a=t+(i^n&(o^i))+r[0]+3614090360&4294967295;a=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=n+(a<<7&4294967295|a>>>25))+((a=i+(o^t&(n^o))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=o+(n^i&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^o&(i^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^n&(o^i))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=i+(o^t&(n^o))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=o+(n^i&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^o&(i^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^n&(o^i))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=i+(o^t&(n^o))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=o+(n^i&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^o&(i^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^n&(o^i))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=i+(o^t&(n^o))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=o+(n^i&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^o&(i^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^i&(n^o))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^o&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=o+(t^n&(i^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(o^i))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(o^i&(n^o))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^o&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=o+(t^n&(i^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(o^i))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(o^i&(n^o))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^o&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=o+(t^n&(i^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(o^i))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(o^i&(n^o))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^o&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=o+(t^n&(i^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(o^i))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^o^i)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^o)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=o+(i^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(o^i^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^o^i)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^o)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=o+(i^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(o^i^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^o^i)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^o)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=o+(i^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(o^i^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^o^i)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^o)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=o+(i^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(o^i^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(o^(n|~i))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~o))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=o+(t^(i|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(i^(o|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(o^(n|~i))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~o))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=o+(t^(i|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(i^(o|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(o^(n|~i))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~o))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=o+(t^(i|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(i^(o|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((i=(t=n+((a=t+(o^(n|~i))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~o))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((o=i+((a=o+(t^(i|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(o+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+o&4294967295,e.g[3]=e.g[3]+i&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,o=e.length-1;0<=o;o--){var i=0|e[o];r&&i==t||(n[o]=i,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var o=Array(arguments.length-2),i=2;i<arguments.length;i++)o[i-2]=arguments[i];return t.prototype[n].apply(e,o)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,o=this.B,i=this.h,a=0;a<t;){if(0==i)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(o[i++]=e.charCodeAt(a++),i==this.blockSize){n(this,o),i=0;break}}else for(;a<t;)if(o[i++]=e[a++],i==this.blockSize){n(this,o),i=0;break}}this.h=i,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var o={};function i(e){return-128<=e&&128>e?function(e,t){var n=o;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return s;if(0>e)return h(a(-e));for(var t=[],n=1,o=0;e>=n;o++)t[o]=e/n|0,n*=4294967296;return new r(t,0)}var s=i(0),l=i(1),c=i(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],o=0;o<t;o++)n[o]=~e.g[o];return new r(n,~e.h).add(l)}function p(e,t){return e.add(h(t))}function f(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(s,s);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=v(n),r=v(r);var o=y(n,1),i=y(r,1);for(r=y(r,2),n=y(n,2);!u(r);){var c=i.add(r);0>=c.l(e)&&(o=o.add(n),i=c),r=y(r,1),n=y(n,1)}return t=p(e,o.j(t)),new m(o,t)}for(o=s;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(i=a(n)).j(t);d(c)||0<c.l(e);)c=(i=a(n-=r)).j(t);u(i)&&(i=l),o=o.add(i),e=p(e,c)}return new m(o,e)}function v(e){for(var t=e.g.length+1,n=[],o=0;o<t;o++)n[o]=e.i(o)<<1|e.i(o-1)>>>31;return new r(n,e.h)}function y(e,t){var n=t>>5;t%=32;for(var o=e.g.length-n,i=[],a=0;a<o;a++)i[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new r(i,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=a(Math.pow(e,6)),n=this,r="";;){var o=g(n,t).g,i=((0<(n=p(n,o.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=o))return i+r;for(;6>i.length;)i="0"+i;r=i+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=p(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],o=0,i=0;i<=t;i++){var a=o+(65535&this.i(i))+(65535&e.i(i)),s=(a>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);o=s>>>16,a&=65535,s&=65535,n[i]=s<<16|a}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return s;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],o=0;o<2*t;o++)n[o]=0;for(o=0;o<this.g.length;o++)for(var i=0;i<e.g.length;i++){var l=this.i(o)>>>16,p=65535&this.i(o),m=e.i(i)>>>16,g=65535&e.i(i);n[2*o+2*i]+=p*g,f(n,2*o+2*i),n[2*o+2*i+1]+=l*g,f(n,2*o+2*i+1),n[2*o+2*i+1]+=p*m,f(n,2*o+2*i+1),n[2*o+2*i+2]+=l*m,f(n,2*o+2*i+2)}for(o=0;o<t;o++)n[o]=n[2*o+1]<<16|n[2*o];for(o=t;o<2*t;o++)n[o]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],o=0;o<t;o++)n[o]=this.i(o)&e.i(o);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],o=0;o<t;o++)n[o]=this.i(o)|e.i(o);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],o=0;o<t;o++)n[o]=this.i(o)^e.i(o);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,ag=lg.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=a(Math.pow(n,8)),o=s,i=0;i<t.length;i+=8){var l=Math.min(8,t.length-i),c=parseInt(t.substring(i,i+l),n);8>l?(l=a(Math.pow(n,l)),o=o.j(l).add(a(c))):o=(o=o.j(r)).add(a(c))}return o},ig=lg.Integer=r}).apply("undefined"!==typeof sg?sg:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var cg,ug,dg,hg,pg,fg,mg,gg,vg="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},yg={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof vg&&vg];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var o=n;e=e.split(".");for(var i=0;i<e.length-1;i++){var a=e[i];if(!(a in o))break e;o=o[a]}(r=r(i=o[e=e[e.length-1]]))!=i&&null!=r&&t(o,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,o={next:function(){if(!r&&n<e.length){var o=n++;return{value:t(o,e[o]),done:!1}}return r=!0,{done:!0,value:void 0}}};return o[Symbol.iterator]=function(){return o},o}(this,(function(e,t){return t}))}}));var r=r||{},o=this||self;function i(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function s(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?s:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var o=Array(arguments.length-2),i=2;i<arguments.length;i++)o[i-2]=arguments[i];return t.prototype[n].apply(e,o)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function p(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(i(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let o=0;o<r;o++)e[n+o]=t[o]}else e.push(t)}}function f(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=o.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var v=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function y(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(e,t){let n,r;for(let o=1;o<arguments.length;o++){for(n in r=arguments[o],r)e[n]=r[n];for(let t=0;t<w.length;t++)n=w[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function _(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function x(e){o.setTimeout((()=>{throw e}),0)}function S(){var e=R;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var k=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new I),(e=>e.reset()));class I{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let E,T=!1,R=new class{constructor(){this.h=this.g=null}add(e,t){const n=k.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},P=()=>{const e=o.Promise.resolve(void 0);E=()=>{e.then(A)}};var A=()=>{for(var e;e=S();){try{e.h.call(e.g)}catch(o3){x(o3)}var t=k;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}T=!1};function D(){this.s=this.s,this.C=this.C}function O(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}D.prototype.s=!1,D.prototype.ma=function(){this.s||(this.s=!0,this.N())},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},O.prototype.h=function(){this.defaultPrevented=!0};var N=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};o.addEventListener("test",e,t),o.removeEventListener("test",e,t)}catch(o3){}return e}();function M(e,t){if(O.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(v){e:{try{g(t.nodeName);var o=!0;break e}catch(s3){}o=!1}o||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:L[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&M.aa.h.call(this)}}d(M,O);var L={2:"touch",3:"pen",4:"mouse"};M.prototype.h=function(){M.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var F="closure_listenable_"+(1e6*Math.random()|0),B=0;function j(e,t,n,r,o){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=o,this.key=++B,this.da=this.fa=!1}function z(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function V(e){this.src=e,this.g={},this.h=0}function U(e,t){var n=t.type;if(n in e.g){var r,o=e.g[n],i=Array.prototype.indexOf.call(o,t,void 0);(r=0<=i)&&Array.prototype.splice.call(o,i,1),r&&(z(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function H(e,t,n,r){for(var o=0;o<e.length;++o){var i=e[o];if(!i.da&&i.listener==t&&i.capture==!!n&&i.ha==r)return o}return-1}V.prototype.add=function(e,t,n,r,o){var i=e.toString();(e=this.g[i])||(e=this.g[i]=[],this.h++);var a=H(e,t,r,o);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new j(t,this.src,i,!!r,o)).fa=n,e.push(t)),t};var q="closure_lm_"+(1e6*Math.random()|0),W={};function G(e,t,n,r,o){if(r&&r.once)return Q(e,t,n,r,o);if(Array.isArray(t)){for(var i=0;i<t.length;i++)G(e,t[i],n,r,o);return null}return n=te(n),e&&e[F]?e.K(t,n,a(r)?!!r.capture:!!r,o):K(e,t,n,!1,r,o)}function K(e,t,n,r,o,i){if(!t)throw Error("Invalid event type");var s=a(o)?!!o.capture:!!o,l=Z(e);if(l||(e[q]=l=new V(e)),(n=l.add(t,n,r,s,i)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=J;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)N||(o=s),void 0===o&&(o=!1),e.addEventListener(t.toString(),r,o);else if(e.attachEvent)e.attachEvent($(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Q(e,t,n,r,o){if(Array.isArray(t)){for(var i=0;i<t.length;i++)Q(e,t[i],n,r,o);return null}return n=te(n),e&&e[F]?e.L(t,n,a(r)?!!r.capture:!!r,o):K(e,t,n,!0,r,o)}function Y(e,t,n,r,o){if(Array.isArray(t))for(var i=0;i<t.length;i++)Y(e,t[i],n,r,o);else r=a(r)?!!r.capture:!!r,n=te(n),e&&e[F]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=H(i=e.g[t],n,r,o))&&(z(i[n]),Array.prototype.splice.call(i,n,1),0==i.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=H(t,n,r,o)),(n=-1<e?t[e]:null)&&X(n))}function X(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[F])U(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent($(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(U(n,e),0==n.h&&(n.src=null,t[q]=null)):z(e)}}}function $(e){return e in W?W[e]:W[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new M(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&X(e),e=n.call(r,t)}return e}function Z(e){return(e=e[q])instanceof V?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){D.call(this),this.i=new V(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new O(t,e);else if(t instanceof O)t.target=t.target||e;else{var o=t;C(t=new O(r,e),o)}if(o=!0,n)for(var i=n.length-1;0<=i;i--){var a=t.g=n[i];o=oe(a,r,!0,t)&&o}if(o=oe(a=t.g=e,r,!0,t)&&o,o=oe(a,r,!1,t)&&o,n)for(i=0;i<n.length;i++)o=oe(a=t.g=n[i],r,!1,t)&&o}function oe(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var o=!0,i=0;i<t.length;++i){var a=t[i];if(a&&!a.da&&a.capture==n){var s=a.listener,l=a.ha||a.src;a.fa&&U(e.i,a),o=!1!==s.call(l,r)&&o}}return o&&!r.defaultPrevented}function ie(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:o.setTimeout(e,t||0)}function ae(e){e.g=ie((()=>{e.g=null,e.i&&(e.i=!1,ae(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,D),ne.prototype[F]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Y(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)z(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class se extends D{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ae(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){D.call(this),this.h=e,this.g={}}d(le,D);var ce=[];function ue(e){y(e.g,(function(e,t){this.g.hasOwnProperty(t)&&X(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=o.JSON.stringify,he=o.JSON.parse,pe=class{stringify(e){return o.JSON.stringify(e,void 0)}parse(e){return o.JSON.parse(e,void 0)}};function fe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}fe.prototype.h=null;var ve={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ye(){O.call(this,"d")}function be(){O.call(this,"c")}d(ye,O),d(be,O);var we={},Ce=null;function _e(){return Ce=Ce||new ne}function xe(e){O.call(this,we.La,e)}function Se(e){const t=_e();re(t,new xe(t))}function ke(e,t){O.call(this,we.STAT_EVENT,e),this.stat=t}function Ie(e){const t=_e();re(t,new ke(t,e))}function Ee(e,t){O.call(this,we.Ma,e),this.size=t}function Te(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return o.setTimeout((function(){e()}),t)}function Re(){this.g=!0}function Pe(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var i=o[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(var a=1;a<o.length;a++)o[a]=""}}}return de(n)}catch(d3){return t}}(e,n)+(r?" "+r:"")}))}we.La="serverreachability",d(xe,O),we.STAT_EVENT="statevent",d(ke,O),we.Ma="timingevent",d(Ee,O),Re.prototype.xa=function(){this.g=!1},Re.prototype.info=function(){};var Ae,De={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Oe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Ne(){}function Me(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Le}function Le(){this.i=null,this.g="",this.h=!1}d(Ne,fe),Ne.prototype.g=function(){return new XMLHttpRequest},Ne.prototype.i=function(){return{}},Ae=new Ne;var Fe={},Be={};function je(e,t,n){e.L=1,e.v=dt(at(t)),e.m=n,e.P=!0,ze(e,null)}function ze(e,t){e.F=Date.now(),He(e),e.A=at(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),St(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Le,e.g=hn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new se(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var o="readystatechange";Array.isArray(o)||(o&&(ce[0]=o.toString()),o=ce);for(var i=0;i<o.length;i++){var a=G(n,o[i],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Se(),function(e,t,n,r,o,i){e.info((function(){if(e.g)if(i)for(var a="",s=i.split("&"),l=0;l<s.length;l++){var c=s[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");a=2<=d.length&&"type"==d[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=i;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+t+"\n"+n+"\n"+a}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function Ve(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Ue(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Be:(n=Number(t.substring(n,r)),isNaN(n)?Fe:(r+=1)+n>t.length?Be:(t=t.slice(r,r+n),e.C=r+n,t))}function He(e){e.S=Date.now()+e.I,qe(e,e.I)}function qe(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Te(c(e.ba,e),t)}function We(e){e.B&&(o.clearTimeout(e.B),e.B=null)}function Ge(e){0==e.j.G||e.J||sn(e.j,e)}function Ke(e){We(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Qe(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;an(n),Yt(n)}nn(n),Ie(18)}}else n.za=o[1],0<n.za-n.T&&37500>o[2]&&n.F&&0==n.v&&!n.C&&(n.C=Te(c(n.Za,n),6e3));if(1>=Je(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else cn(n,11)}else if((e.K||n.g==e)&&an(n),!f(t))for(o=n.Da.g.parse(t),t=0;t<o.length;t++){let c=o[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const o=c[4];null!=o&&(n.Aa=o,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var i=r.h;i.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(i.j=i.l,i.g=new Set,i.h&&(et(i,i.h),i.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((r=n).qa=dn(r,r.J?r.ia:null,r.W),a.K){tt(r.h,a);var s=a,l=r.L;l&&(s.I=l),s.B&&(We(s),He(s)),r.g=a}else tn(r);0<n.i.length&&$t(n)}else"stop"!=c[0]&&"close"!=c[0]||cn(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?cn(n,7):Qt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Se()}catch(u){}}Me.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==qt(e)?t.j():this.Y(e)},Me.prototype.Y=function(e){try{if(e==this.g)e:{const h=qt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Wt(this.g)))){this.J||4!=h||7==t||Se(),We(this);var n=this.g.Z();this.X=n;t:if(Ve(this)){var r=Wt(this.g);e="";var i=r.length,a=4==qt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ke(this),Ge(this);var s="";break t}this.h.i=new o.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==i-1)});r.length=0,this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.oa();if(this.o=200==n,function(e,t,n,r,o,i,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+t+"\n"+n+"\n"+i+" "+a}))}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!f(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Ie(12),Ke(this),Ge(this);break e}Pe(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qe(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<s.length;){if(e=Ue(this,s),e==Be){4==h&&(this.s=4,Ie(14),n=!1),Pe(this.i,this.l,null,"[Incomplete Response]");break}if(e==Fe){this.s=4,Ie(15),Pe(this.i,this.l,s,"[Invalid Chunk]"),n=!1;break}Pe(this.i,this.l,e,null),Qe(this,e)}if(Ve(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=s.length||this.h.h||(this.s=1,Ie(16),n=!1),this.o=this.o&&n,n){if(0<s.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+s.length),rn(d),d.M=!0,Ie(11))}}else Pe(this.i,this.l,s,"[Invalid Chunked Response]"),Ke(this),Ge(this)}else Pe(this.i,this.l,s,null),Qe(this,s);4==h&&Ke(this),this.o&&!this.J&&(4==h?sn(this.j,this):(this.o=!1,He(this)))}else(function(e){const t={};e=(e.g&&2<=qt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(f(e[r]))continue;var n=_(e[r]);const o=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const i=t[o]||[];t[o]=i,i.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,Ie(12)):(this.s=0,Ie(13)),Ke(this),Ge(this)}}}catch(bg){}},Me.prototype.cancel=function(){this.J=!0,Ke(this)},Me.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(Se(),Ie(17)),Ke(this),this.s=2,Ge(this)):qe(this,this.S-e)};var Ye=class{constructor(e,t){this.g=e,this.map=t}};function Xe(e){this.l=e||10,o.PerformanceNavigationTiming?e=0<(e=o.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $e(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Je(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(i(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(i(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(i(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),o=r.length,a=0;a<o;a++)t.call(void 0,r[a],n&&n[a],e)}Xe.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var ot=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function it(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof it){this.h=e.h,st(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new wt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(ot))?(this.h=!1,st(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new wt(null,this.h))}function at(e){return new it(e)}function st(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof wt?(e.i=t,function(e,t){t&&!e.j&&(Ct(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(_t(this,t),St(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=pt(t,yt)),e.i=new wt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function pt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,ft),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ft(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}it.prototype.toString=function(){var e=[],t=this.j;t&&e.push(pt(t,mt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(pt(t,mt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(pt(n,"/"==n.charAt(0)?vt:gt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",pt(n,bt)),e.join("")};var mt=/[#\/\?@]/g,gt=/[#\?:]/g,vt=/[#\?]/g,yt=/[#\?@]/g,bt=/#/g;function wt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Ct(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),o=null;if(0<=r){var i=e[n].substring(0,r);o=e[n].substring(r+1)}else i=e[n];t(i,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function _t(e,t){Ct(e),t=kt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function xt(e,t){return Ct(e),t=kt(e,t),e.g.has(t)}function St(e,t,n){_t(e,t),0<n.length&&(e.i=null,e.g.set(kt(e,t),h(n)),e.h+=n.length)}function kt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function It(e,t,n,r,o){try{o&&(o.onload=null,o.onerror=null,o.onabort=null,o.ontimeout=null),r(n)}catch(s3){}}function Et(){this.g=new pe}function Tt(e,t,n){const r=n||"";try{rt(e,(function(e,n){let o=e;a(e)&&(o=de(e)),t.push(r+n+"="+encodeURIComponent(o))}))}catch(D9){throw t.push(r+"type="+encodeURIComponent("_badmap")),D9}}function Rt(e){this.l=e.Ub||null,this.j=e.eb||!1}function Pt(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function At(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Dt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Ot(e)}function Ot(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Nt(e){let t="";return y(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Mt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Nt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Lt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=wt.prototype).add=function(e,t){Ct(this),this.i=null,e=kt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){Ct(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){Ct(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const o=e[r];for(let e=0;e<o.length;e++)n.push(t[r])}return n},e.V=function(e){Ct(this);let t=[];if("string"===typeof e)xt(this,e)&&(t=t.concat(this.g.get(kt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return Ct(this),this.i=null,xt(this,e=kt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const i=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")},d(Rt,fe),Rt.prototype.g=function(){return new Pt(this.l,this.j)},Rt.prototype.i=function(e){return function(){return e}}({}),d(Pt,ne),(e=Pt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Ot(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||o).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Dt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ot(this)),this.g&&(this.readyState=3,Ot(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof o.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;At(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Dt(this):Ot(this),3==this.readyState&&At(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Dt(this))},e.Qa=function(e){this.g&&(this.response=e,Dt(this))},e.ga=function(){this.g&&Dt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Pt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Lt,ne);var Ft=/^https?$/i,Bt=["POST","PUT"];function jt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,zt(e),Ut(e)}function zt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Vt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=qt(e)||2!=e.Z()))if(e.u&&4==qt(e))ie(e.Ea,0,e);else if(re(e,"readystatechange"),4==qt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var i;if(i=0===r){var a=String(e.D).match(ot)[1]||null;!a&&o.self&&o.self.location&&(a=o.self.location.protocol.slice(0,-1)),i=!Ft.test(a?a.toLowerCase():"")}n=i}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var s=2<qt(e)?e.g.statusText:""}catch(d3){s=""}e.l=s+" ["+e.Z()+"]",zt(e)}}finally{Ut(e)}}}function Ut(e,t){if(e.g){Ht(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(D9){}}}function Ht(e){e.I&&(o.clearTimeout(e.I),e.I=null)}function qt(e){return e.g?e.g.readyState:0}function Wt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(_g){return null}}function Gt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Kt(e){this.Aa=0,this.i=[],this.j=new Re,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gt("baseRetryDelayMs",5e3,e),this.cb=Gt("retryDelaySeedMs",1e4,e),this.Wa=Gt("forwardChannelMaxRetries",2,e),this.wa=Gt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Xe(e&&e.concurrentRequestLimit),this.Da=new Et,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Qt(e){if(Xt(e),3==e.G){var t=e.U++,n=at(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),Zt(e,n),(t=new Me(e,e.j,t)).L=2,t.v=dt(at(n)),n=!1,o.navigator&&o.navigator.sendBeacon)try{n=o.navigator.sendBeacon(t.v.toString(),"")}catch(c3){}!n&&o.Image&&((new Image).src=t.v,n=!0),n||(t.g=hn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),He(t)}un(e)}function Yt(e){e.g&&(rn(e),e.g.cancel(),e.g=null)}function Xt(e){Yt(e),e.u&&(o.clearTimeout(e.u),e.u=null),an(e),e.h.cancel(),e.s&&("number"===typeof e.s&&o.clearTimeout(e.s),e.s=null)}function $t(e){if(!$e(e.h)&&!e.s){e.s=!0;var t=e.Ga;E||P(),T||(E(),T=!0),R.add(t,e),e.B=0}}function Jt(e,t){var n;n=t?t.l:e.U++;const r=at(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),Zt(e,r),e.m&&e.o&&Mt(r,e.m,e.o),n=new Me(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=en(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),je(n,r,t)}function Zt(e,t){e.H&&y(e.H,(function(e,n){ut(t,n,e)})),e.l&&rt({},(function(e,n){ut(t,n,e)}))}function en(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var o=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=o[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let i=!0;for(let a=0;a<n;a++){let n=o[a].g;const s=o[a].map;if(n-=t,0>n)t=Math.max(0,o[a].g-100),i=!1;else try{Tt(s,e,"req"+n+"_")}catch(bg){r&&r(s)}}if(i){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function tn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;E||P(),T||(E(),T=!0),R.add(t,e),e.v=0}}function nn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Te(c(e.Fa,e),ln(e,e.v)),e.v++,!0)}function rn(e){null!=e.A&&(o.clearTimeout(e.A),e.A=null)}function on(e){e.g=new Me(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=at(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),Zt(e,t),e.m&&e.o&&Mt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(at(t)),n.m=null,n.P=!0,ze(n,e)}function an(e){null!=e.C&&(o.clearTimeout(e.C),e.C=null)}function sn(e,t){var n=null;if(e.g==t){an(e),rn(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var o=e.B;re(r=_e(),new Ee(r,n)),$t(e)}else tn(e);else if(3==(o=t.s)||0==o&&0<t.X||!(1==r&&function(e,t){return!(Je(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Te(c(e.Ga,e,t),ln(e,e.B)),e.B++,!0))}(e,t)||2==r&&nn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),o){case 1:cn(e,5);break;case 4:cn(e,10);break;case 3:cn(e,6);break;default:cn(e,2)}}function ln(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function cn(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new it(r||"//www.google.com/images/cleardot.gif"),o.location&&"http"==o.location.protocol||st(r,"https"),dt(r),t?function(e,t){const n=new Re;if(o.Image){const r=new Image;r.onload=u(It,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(It,n,"TestLoadImage: error",!1,t,r),r.onabort=u(It,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(It,n,"TestLoadImage: timeout",!1,t,r),o.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Re;const n=new AbortController,r=setTimeout((()=>{n.abort(),It(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?It(0,0,!0,t):It(0,0,!1,t)})).catch((()=>{clearTimeout(r),It(0,0,!1,t)}))}(r.toString(),n)}else Ie(2);e.G=0,e.l&&e.l.sa(t),un(e),Xt(e)}function un(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(p(e.ka,t),p(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function dn(e,t,n){var r=n instanceof it?at(n):new it(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var i=o.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new it(null);r&&st(a,r),t&&(a.g=t),i&&lt(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),Zt(e,r),r}function hn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Lt(new Rt({eb:n})):new Lt(e.pa)).Ha(e.J),t}function pn(){}function fn(){}function mn(e,t){ne.call(this),this.g=new Kt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!f(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!f(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new yn(this)}function gn(e){ye.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function vn(){be.call(this),this.status=1}function yn(e){this.g=e}(e=Lt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ae.g(),this.v=this.o?me(this.o):me(Ae),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(s3){return void jt(this,s3)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=o.FormData&&e instanceof o.FormData,!(0<=Array.prototype.indexOf.call(Bt,t,void 0))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,a]of n)this.g.setRequestHeader(o,a);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ht(this),this.u=!0,this.g.send(e),this.u=!1}catch(s3){jt(this,s3)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),Ut(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ut(this,!0)),Lt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Vt(this):this.bb())},e.bb=function(){Vt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<qt(this)?this.g.status:-1}catch(e){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Kt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Ie(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=dn(this,null,this.W),$t(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const o=new Me(this,this.j,e);let i=this.o;if(this.S&&(i?(i=b(i),C(i,this.S)):i=this.S),null!==this.m||this.O||(o.H=i,i=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=en(this,o,t),ut(n=at(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),Zt(this,n),i&&(this.O?t="headers="+encodeURIComponent(String(Nt(i)))+"&"+t:this.m&&Mt(n,this.m,i)),et(this.h,o),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),o.T=!0,je(o,n,null)):je(o,n,t),this.G=2}}else 3==this.G&&(e?Jt(this,e):0==this.i.length||$e(this.h)||Jt(this))},e.Fa=function(){if(this.u=null,on(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Te(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ie(10),Yt(this),on(this))},e.Za=function(){null!=this.C&&(this.C=null,Yt(this),nn(this),Ie(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Ie(2)):(this.j.info("Failed to ping google.com"),Ie(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=pn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},fn.prototype.g=function(e,t){return new mn(e,t)},d(mn,ne),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Qt(this.g)},mn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Ye(t.Ya++,e)),3==t.G&&$t(t)},mn.prototype.N=function(){this.g.l=null,delete this.j,Qt(this.g),delete this.g,mn.aa.N.call(this)},d(gn,ye),d(vn,be),d(yn,pn),yn.prototype.ua=function(){re(this.g,"a")},yn.prototype.ta=function(e){re(this.g,new gn(e))},yn.prototype.sa=function(e){re(this.g,new vn)},yn.prototype.ra=function(){re(this.g,"b")},fn.prototype.createWebChannel=fn.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,gg=yg.createWebChannelTransport=function(){return new fn},mg=yg.getStatEventTarget=function(){return _e()},fg=yg.Event=we,pg=yg.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},De.NO_ERROR=0,De.TIMEOUT=8,De.HTTP_ERROR=6,hg=yg.ErrorCode=De,Oe.COMPLETE="complete",dg=yg.EventType=Oe,ge.EventType=ve,ve.OPEN="a",ve.CLOSE="b",ve.ERROR="c",ve.MESSAGE="d",ne.prototype.listen=ne.prototype.K,ug=yg.WebChannel=ge,yg.FetchXmlHttpFactory=Rt,Lt.prototype.listenOnce=Lt.prototype.L,Lt.prototype.getLastError=Lt.prototype.Ka,Lt.prototype.getLastErrorCode=Lt.prototype.Ba,Lt.prototype.getStatus=Lt.prototype.Z,Lt.prototype.getResponseJson=Lt.prototype.Oa,Lt.prototype.getResponseText=Lt.prototype.oa,Lt.prototype.send=Lt.prototype.ea,Lt.prototype.setWithCredentials=Lt.prototype.Ha,cg=yg.XhrIo=Lt}).apply("undefined"!==typeof vg?vg:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const bg="@firebase/firestore";class wg{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}wg.UNAUTHENTICATED=new wg(null),wg.GOOGLE_CREDENTIALS=new wg("google-credentials-uid"),wg.FIRST_PARTY=new wg("first-party-uid"),wg.MOCK_USER=new wg("mock-user");let Cg="11.2.0";const _g=new Nn("@firebase/firestore");function xg(){return _g.logLevel}function Sg(e){if(_g.logLevel<=Rn.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const o=n.map(Eg);_g.debug("Firestore (".concat(Cg,"): ").concat(e),...o)}}function kg(e){if(_g.logLevel<=Rn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const o=n.map(Eg);_g.error("Firestore (".concat(Cg,"): ").concat(e),...o)}}function Ig(e){if(_g.logLevel<=Rn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const o=n.map(Eg);_g.warn("Firestore (".concat(Cg,"): ").concat(e),...o)}}function Eg(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Tg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(Cg,") INTERNAL ASSERTION FAILED: ")+e;throw kg(t),new Error(t)}function Rg(e,t){e||Tg()}function Pg(e,t){return e}const Ag={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Dg extends $t{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Og{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Ng{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Mg{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(wg.UNAUTHENTICATED)))}shutdown(){}}class Lg{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Fg{constructor(e){this.t=e,this.currentUser=wg.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Rg(void 0===this.o);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let o=new Og;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Og,e.enqueueRetryable((()=>r(this.currentUser)))};const i=()=>{const t=o;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},a=e=>{Sg("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),i())};this.t.onInit((e=>a(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(Sg("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Og)}}),0),i()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Sg("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Rg("string"==typeof t.accessToken),new Ng(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Rg(null===e||"string"==typeof e),new wg(e)}}class Bg{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=wg.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class jg{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new Bg(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(wg.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class zg{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Vg{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Rg(void 0===this.o);const n=e=>{null!=e.error&&Sg("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,Sg("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Sg("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):Sg("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Rg("string"==typeof e.token),this.R=e.token,new zg(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Ug(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Hg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Ug(40);for(let o=0;o<r.length;++o)n.length<20&&r[o]<t&&(n+=e.charAt(r[o]%62))}return n}}function qg(e,t){return e<t?-1:e>t?1:0}function Wg(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function Gg(e){return e+"\0"}class Kg{static now(){return Kg.fromMillis(Date.now())}static fromDate(e){return Kg.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Kg(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Dg(Ag.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Dg(Ag.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Dg(Ag.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Dg(Ag.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?qg(this.nanoseconds,e.nanoseconds):qg(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Qg{static fromTimestamp(e){return new Qg(e)}static min(){return new Qg(new Kg(0,0))}static max(){return new Qg(new Kg(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Yg{constructor(e,t,n){void 0===t?t=0:t>e.length&&Tg(),void 0===n?n=e.length-t:n>e.length-t&&Tg(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Yg.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Yg?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=Yg.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return Math.sign(e.length-t.length)}static compareSegments(e,t){const n=Yg.isNumericId(e),r=Yg.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?Yg.extractNumericId(e).compare(Yg.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ig.fromString(e.substring(4,e.length-2))}}class Xg extends Yg{construct(e,t,n){return new Xg(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const o of n){if(o.indexOf("//")>=0)throw new Dg(Ag.INVALID_ARGUMENT,"Invalid segment (".concat(o,"). Paths must not contain // in them."));e.push(...o.split("/").filter((e=>e.length>0)))}return new Xg(e)}static emptyPath(){return new Xg([])}}const $g=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jg extends Yg{construct(e,t,n){return new Jg(e,t,n)}static isValidIdentifier(e){return $g.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jg.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Jg(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const o=()=>{if(0===n.length)throw new Dg(Ag.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let i=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Dg(Ag.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Dg(Ag.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(i=!i,r++):"."!==t||i?(n+=t,r++):(o(),r++)}if(o(),i)throw new Dg(Ag.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jg(t)}static emptyPath(){return new Jg([])}}class Zg{constructor(e){this.path=e}static fromPath(e){return new Zg(Xg.fromString(e))}static fromName(e){return new Zg(Xg.fromString(e).popFirst(5))}static empty(){return new Zg(Xg.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Xg.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Xg.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Zg(new Xg(e.slice()))}}class ev{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function tv(e){return e.fields.find((e=>2===e.kind))}function nv(e){return e.fields.filter((e=>2!==e.kind))}ev.UNKNOWN_ID=-1;class rv{constructor(e,t){this.fieldPath=e,this.kind=t}}class ov{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new ov(0,sv.min())}}function iv(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,o=Qg.fromTimestamp(1e9===r?new Kg(n+1,0):new Kg(n,r));return new sv(o,Zg.empty(),t)}function av(e){return new sv(e.readTime,e.key,-1)}class sv{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new sv(Qg.min(),Zg.empty(),-1)}static max(){return new sv(Qg.max(),Zg.empty(),-1)}}function lv(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Zg.comparator(e.documentKey,t.documentKey),0!==n?n:qg(e.largestBatchId,t.largestBatchId))}const cv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uv{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function dv(e){if(e.code!==Ag.FAILED_PRECONDITION||e.message!==cv)throw e;Sg("LocalStore","Unexpectedly lost primary lease")}class hv{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Tg(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new hv(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof hv?t:hv.resolve(t)}catch(e){return hv.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):hv.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):hv.reject(t)}static resolve(e){return new hv(((t,n)=>{t(e)}))}static reject(e){return new hv(((t,n)=>{n(e)}))}static waitFor(e){return new hv(((t,n)=>{let r=0,o=0,i=!1;e.forEach((e=>{++r,e.next((()=>{++o,i&&o===r&&t()}),(e=>n(e)))})),i=!0,o===r&&t()}))}static or(e){let t=hv.resolve(!1);for(const n of e)t=t.next((e=>e?hv.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new hv(((n,r)=>{const o=e.length,i=new Array(o);let a=0;for(let s=0;s<o;s++){const l=s;t(e[l]).next((e=>{i[l]=e,++a,a===o&&n(i)}),(e=>r(e)))}}))}static doWhile(e,t){return new hv(((n,r)=>{const o=()=>{!0===e()?t().next((()=>{o()}),r):n()};o()}))}}class pv{static open(e,t,n,r){try{return new pv(t,e.transaction(r,n))}catch(e){throw new vv(t,e)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new Og,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new vv(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{const n=_v(t.target.error);this.V.reject(new vv(e,n))}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Sg("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new bv(t)}}class fv{static delete(e){return Sg("SimpleDb","Removing database:",e),wv(window.indexedDB.deleteDatabase(e)).toPromise()}static p(){if(!Xt())return!1;if(fv.S())return!0;const e=Vt(),t=fv.D(e),n=0<t&&t<10,r=mv(e),o=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||o)}static S(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.v)}static C(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}constructor(e,t,n){this.name=e,this.version=t,this.F=n,12.2===fv.D(Vt())&&kg("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async M(e){return this.db||(Sg("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new vv(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new Dg(Ag.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new Dg(Ag.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new vv(e,r))},r.onupgradeneeded=e=>{Sg("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.F.O(t,r.transaction,e.oldVersion,this.version).next((()=>{Sg("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.N&&(this.db.onversionchange=e=>this.N(e)),this.db}B(e){this.N=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const o="readonly"===t;let i=0;for(;;){++i;try{this.db=await this.M(e);const t=pv.open(this.db,e,o?"readonly":"readwrite",n),i=r(t).next((e=>(t.g(),e))).catch((e=>(t.abort(e),hv.reject(e)))).toPromise();return i.catch((()=>{})),await t.m,i}catch(e){const t=e,n="FirebaseError"!==t.name&&i<3;if(Sg("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}function mv(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class gv{constructor(e){this.L=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.L=e}done(){this.k=!0}$(e){this.q=e}delete(){return wv(this.L.delete())}}class vv extends Dg{constructor(e,t){super(Ag.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function yv(e){return"IndexedDbTransactionError"===e.name}class bv{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(Sg("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Sg("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),wv(n)}add(e){return Sg("SimpleDb","ADD",this.store.name,e,e),wv(this.store.add(e))}get(e){return wv(this.store.get(e)).next((t=>(void 0===t&&(t=null),Sg("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return Sg("SimpleDb","DELETE",this.store.name,e),wv(this.store.delete(e))}count(){return Sg("SimpleDb","COUNT",this.store.name),wv(this.store.count())}U(e,t){const n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const e=r.getAll(n.range);return new hv(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}{const e=this.cursor(n),t=[];return this.W(e,((e,n)=>{t.push(n)})).next((()=>t))}}G(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new hv(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}j(e,t){Sg("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.H=!1;const r=this.cursor(n);return this.W(r,((e,t,n)=>n.delete()))}J(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.W(r,t)}Y(e){const t=this.cursor({});return new hv(((n,r)=>{t.onerror=e=>{const t=_v(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}W(e,t){const n=[];return new hv(((r,o)=>{e.onerror=e=>{o(e.target.error)},e.onsuccess=e=>{const o=e.target.result;if(!o)return void r();const i=new gv(o),a=t(o.primaryKey,o.value,i);if(a instanceof hv){const e=a.catch((e=>(i.done(),hv.reject(e))));n.push(e)}i.isDone?r():null===i.K?o.continue():o.continue(i.K)}})).next((()=>hv.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.H?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function wv(e){return new hv(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=_v(e.target.error);n(t)}}))}let Cv=!1;function _v(e){const t=fv.D(Vt());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new Dg("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Cv||(Cv=!0,setTimeout((()=>{throw e}),0)),e}}return e}class xv{constructor(e,t){this.asyncQueue=e,this.Z=t,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){Sg("IndexBackfiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{Sg("IndexBackfiller","Documents written: ".concat(await this.Z.ee()))}catch(e){yv(e)?Sg("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",e):await dv(e)}await this.X(6e4)}))}}class Sv{constructor(e,t){this.localStore=e,this.persistence=t}async ee(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.te(t,e)))}te(e,t){const n=new Set;let r=t,o=!0;return hv.doWhile((()=>!0===o&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return Sg("IndexBackfiller","Processing collection: ".concat(t)),this.ne(e,t,r).next((e=>{r-=e,n.add(t)}));o=!1})))).next((()=>t-r))}ne(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const o=n.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next((()=>this.re(r,n))).next((n=>(Sg("IndexBackfiller","Updating offset: ".concat(n)),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>o.size))}))))}re(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=av(t);lv(r,n)>0&&(n=r)})),new sv(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class kv{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function Iv(e){return null==e}function Ev(e){return 0===e&&1/e==-1/0}function Tv(e){return"number"==typeof e&&Number.isInteger(e)&&!Ev(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function Rv(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Av(t)),t=Pv(e.get(n),t);return Av(t)}function Pv(e,t){let n=t;const r=e.length;for(let o=0;o<r;o++){const t=e.charAt(o);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function Av(e){return e+"\x01\x01"}function Dv(e){const t=e.length;if(Rg(t>=2),2===t)return Rg("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Xg.emptyPath();const n=t-2,r=[];let o="";for(let i=0;i<t;){const t=e.indexOf("\x01",i);switch((t<0||t>n)&&Tg(),e.charAt(t+1)){case"\x01":const n=e.substring(i,t);let a;0===o.length?a=n:(o+=n,a=o,o=""),r.push(a);break;case"\x10":o+=e.substring(i,t),o+="\0";break;case"\x11":o+=e.substring(i,t+1);break;default:Tg()}i=t+2}return new Xg(r)}kv.oe=-1;const Ov=["userId","batchId"];function Nv(e,t){return[e,Rv(t)]}function Mv(e,t,n){return[e,Rv(t),n]}const Lv={},Fv=["prefixPath","collectionGroup","readTime","documentId"],Bv=["prefixPath","collectionGroup","documentId"],jv=["collectionGroup","readTime","prefixPath","documentId"],zv=["canonicalId","targetId"],Vv=["targetId","path"],Uv=["path","targetId"],Hv=["collectionId","parent"],qv=["indexId","uid"],Wv=["uid","sequenceNumber"],Gv=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Kv=["indexId","uid","orderedDocumentKey"],Qv=["userId","collectionPath","documentId"],Yv=["userId","collectionPath","largestBatchId"],Xv=["userId","collectionGroup","largestBatchId"],$v=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Jv=[...$v,"documentOverlays"],Zv=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ey=Zv,ty=[...ey,"indexConfiguration","indexState","indexEntries"],ny=ty,ry=[...ty,"globals"];class oy extends uv{constructor(e,t){super(),this._e=e,this.currentSequenceNumber=t}}function iy(e,t){const n=Pg(e);return fv.C(n._e,t)}function ay(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function sy(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ly(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class cy{constructor(e,t){this.comparator=e,this.root=t||dy.EMPTY}insert(e,t){return new cy(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,dy.BLACK,null,null))}remove(e){return new cy(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dy.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new uy(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new uy(this.root,e,this.comparator,!1)}getReverseIterator(){return new uy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new uy(this.root,e,this.comparator,!0)}}class uy{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dy{constructor(e,t,n,r,o){this.key=e,this.value=t,this.color=null!=n?n:dy.RED,this.left=null!=r?r:dy.EMPTY,this.right=null!=o?o:dy.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,o){return new dy(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=o?o:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const o=n(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===o?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return dy.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return dy.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dy.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dy.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Tg();if(this.right.isRed())throw Tg();const e=this.left.check();if(e!==this.right.check())throw Tg();return e+(this.isRed()?0:1)}}dy.EMPTY=null,dy.RED=!0,dy.BLACK=!1,dy.EMPTY=new class{constructor(){this.size=0}get key(){throw Tg()}get value(){throw Tg()}get color(){throw Tg()}get left(){throw Tg()}get right(){throw Tg()}copy(e,t,n,r,o){return this}insert(e,t,n){return new dy(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class hy{constructor(e){this.comparator=e,this.data=new cy(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new py(this.data.getIterator())}getIteratorFrom(e){return new py(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof hy))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new hy(this.comparator);return t.data=e,t}}class py{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function fy(e){return e.hasNext()?e.getNext():void 0}class my{constructor(e){this.fields=e,e.sort(Jg.comparator)}static empty(){return new my([])}unionWith(e){let t=new hy(Jg.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new my(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Wg(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class gy extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class vy{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new gy("Invalid base64 string: "+e):e}}(e);return new vy(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new vy(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qg(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vy.EMPTY_BYTE_STRING=new vy("");const yy=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function by(e){if(Rg(!!e),"string"==typeof e){let t=0;const n=yy.exec(e);if(Rg(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:wy(e.seconds),nanos:wy(e.nanos)}}function wy(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Cy(e){return"string"==typeof e?vy.fromBase64String(e):vy.fromUint8Array(e)}function _y(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function xy(e){const t=e.mapValue.fields.__previous_value__;return _y(t)?xy(t):t}function Sy(e){const t=by(e.mapValue.fields.__local_write_time__.timestampValue);return new Kg(t.seconds,t.nanos)}class ky{constructor(e,t,n,r,o,i,a,s,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=o,this.forceLongPolling=i,this.autoDetectLongPolling=a,this.longPollingOptions=s,this.useFetchStreams=l}}class Iy{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Iy("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Iy&&e.projectId===this.projectId&&e.database===this.database}}const Ey={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ty={nullValue:"NULL_VALUE"};function Ry(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?_y(e)?4:Gy(e)?9007199254740991:qy(e)?10:11:Tg()}function Py(e,t){if(e===t)return!0;const n=Ry(e);if(n!==Ry(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Sy(e).isEqual(Sy(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=by(e.timestampValue),r=by(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Cy(e.bytesValue).isEqual(Cy(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return wy(e.geoPointValue.latitude)===wy(t.geoPointValue.latitude)&&wy(e.geoPointValue.longitude)===wy(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return wy(e.integerValue)===wy(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=wy(e.doubleValue),r=wy(t.doubleValue);return n===r?Ev(n)===Ev(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Wg(e.arrayValue.values||[],t.arrayValue.values||[],Py);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ay(n)!==ay(r))return!1;for(const o in n)if(n.hasOwnProperty(o)&&(void 0===r[o]||!Py(n[o],r[o])))return!1;return!0}(e,t);default:return Tg()}}function Ay(e,t){return void 0!==(e.values||[]).find((e=>Py(e,t)))}function Dy(e,t){if(e===t)return 0;const n=Ry(e),r=Ry(t);if(n!==r)return qg(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return qg(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=wy(e.integerValue||e.doubleValue),r=wy(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Oy(e.timestampValue,t.timestampValue);case 4:return Oy(Sy(e),Sy(t));case 5:return qg(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Cy(e),r=Cy(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let o=0;o<n.length&&o<r.length;o++){const e=qg(n[o],r[o]);if(0!==e)return e}return qg(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=qg(wy(e.latitude),wy(t.latitude));return 0!==n?n:qg(wy(e.longitude),wy(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Ny(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,o,i;const a=e.fields||{},s=t.fields||{},l=null===(n=a.value)||void 0===n?void 0:n.arrayValue,c=null===(r=s.value)||void 0===r?void 0:r.arrayValue,u=qg((null===(o=null==l?void 0:l.values)||void 0===o?void 0:o.length)||0,(null===(i=null==c?void 0:c.values)||void 0===i?void 0:i.length)||0);return 0!==u?u:Ny(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Ey.mapValue&&t===Ey.mapValue)return 0;if(e===Ey.mapValue)return 1;if(t===Ey.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),o=t.fields||{},i=Object.keys(o);r.sort(),i.sort();for(let a=0;a<r.length&&a<i.length;++a){const e=qg(r[a],i[a]);if(0!==e)return e;const t=Dy(n[r[a]],o[i[a]]);if(0!==t)return t}return qg(r.length,i.length)}(e.mapValue,t.mapValue);default:throw Tg()}}function Oy(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return qg(e,t);const n=by(e),r=by(t),o=qg(n.seconds,r.seconds);return 0!==o?o:qg(n.nanos,r.nanos)}function Ny(e,t){const n=e.values||[],r=t.values||[];for(let o=0;o<n.length&&o<r.length;++o){const e=Dy(n[o],r[o]);if(e)return e}return qg(n.length,r.length)}function My(e){return Ly(e)}function Ly(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=by(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Cy(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Zg.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Ly(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const o of t)r?r=!1:n+=",",n+="".concat(o,":").concat(Ly(e.fields[o]));return n+"}"}(e.mapValue):Tg()}function Fy(e){switch(Ry(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=xy(e);return t?16+Fy(t):16;case 5:return 2*e.stringValue.length;case 6:return Cy(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+Fy(t)),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return sy(e.fields,((e,n)=>{t+=e.length+Fy(n)})),t}(e.mapValue);default:throw Tg()}}function By(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function jy(e){return!!e&&"integerValue"in e}function zy(e){return!!e&&"arrayValue"in e}function Vy(e){return!!e&&"nullValue"in e}function Uy(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Hy(e){return!!e&&"mapValue"in e}function qy(e){var t,n;return"__vector__"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Wy(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return sy(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Wy(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Wy(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Gy(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}const Ky={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function Qy(e){return"nullValue"in e?Ty:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?By(Iy.empty(),Zg.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?qy(e)?Ky:{mapValue:{}}:Tg()}function Yy(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?By(Iy.empty(),Zg.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?Ky:"mapValue"in e?qy(e)?{mapValue:{}}:Ey:Tg()}function Xy(e,t){const n=Dy(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function $y(e,t){const n=Dy(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class Jy{constructor(e){this.value=e}static empty(){return new Jy({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Hy(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wy(t)}setAll(e){let t=Jg.emptyPath(),n={},r=[];e.forEach(((e,o)=>{if(!t.isImmediateParentOf(o)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=o.popLast()}e?n[o.lastSegment()]=Wy(e):r.push(o.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,n,r)}delete(e){const t=this.field(e.popLast());Hy(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Py(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Hy(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){sy(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Jy(Wy(this.value))}}function Zy(e){const t=[];return sy(e.fields,((e,n)=>{const r=new Jg([e]);if(Hy(n)){const e=Zy(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new my(t)}class eb{constructor(e,t,n,r,o,i,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=o,this.data=i,this.documentState=a}static newInvalidDocument(e){return new eb(e,0,Qg.min(),Qg.min(),Qg.min(),Jy.empty(),0)}static newFoundDocument(e,t,n,r){return new eb(e,1,t,Qg.min(),n,r,0)}static newNoDocument(e,t){return new eb(e,2,t,Qg.min(),Qg.min(),Jy.empty(),0)}static newUnknownDocument(e,t){return new eb(e,3,t,Qg.min(),Qg.min(),Jy.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Qg.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jy.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jy.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Qg.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof eb&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new eb(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class tb{constructor(e,t){this.position=e,this.inclusive=t}}function nb(e,t,n){let r=0;for(let o=0;o<e.position.length;o++){const i=t[o],a=e.position[o];if(r=i.field.isKeyField()?Zg.comparator(Zg.fromName(a.referenceValue),n.key):Dy(a,n.data.field(i.field)),"desc"===i.dir&&(r*=-1),0!==r)break}return r}function rb(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Py(e.position[n],t.position[n]))return!1;return!0}class ob{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function ib(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class ab{}class sb extends ab{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new vb(e,t,n):"array-contains"===t?new Cb(e,n):"in"===t?new _b(e,n):"not-in"===t?new xb(e,n):"array-contains-any"===t?new Sb(e,n):new sb(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new yb(e,n):new bb(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Dy(t,this.value)):null!==t&&Ry(this.value)===Ry(t)&&this.matchesComparison(Dy(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Tg()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class lb extends ab{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new lb(e,t)}matches(e){return cb(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function cb(e){return"and"===e.op}function ub(e){return"or"===e.op}function db(e){return hb(e)&&cb(e)}function hb(e){for(const t of e.filters)if(t instanceof lb)return!1;return!0}function pb(e){if(e instanceof sb)return e.field.canonicalString()+e.op.toString()+My(e.value);if(db(e))return e.filters.map((e=>pb(e))).join(",");{const t=e.filters.map((e=>pb(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function fb(e,t){return e instanceof sb?function(e,t){return t instanceof sb&&e.op===t.op&&e.field.isEqual(t.field)&&Py(e.value,t.value)}(e,t):e instanceof lb?function(e,t){return t instanceof lb&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&fb(n,t.filters[r])),!0)}(e,t):void Tg()}function mb(e,t){const n=e.filters.concat(t);return lb.create(n,e.op)}function gb(e){return e instanceof sb?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(My(e.value))}(e):e instanceof lb?function(e){return e.op.toString()+" {"+e.getFilters().map(gb).join(" ,")+"}"}(e):"Filter"}class vb extends sb{constructor(e,t,n){super(e,t,n),this.key=Zg.fromName(n.referenceValue)}matches(e){const t=Zg.comparator(e.key,this.key);return this.matchesComparison(t)}}class yb extends sb{constructor(e,t){super(e,"in",t),this.keys=wb("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class bb extends sb{constructor(e,t){super(e,"not-in",t),this.keys=wb("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function wb(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Zg.fromName(e.referenceValue)))}class Cb extends sb{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return zy(t)&&Ay(t.arrayValue,this.value)}}class _b extends sb{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ay(this.value.arrayValue,t)}}class xb extends sb{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ay(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ay(this.value.arrayValue,t)}}class Sb extends sb{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!zy(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Ay(this.value.arrayValue,e)))}}class kb{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=o,this.startAt=i,this.endAt=a,this.ue=null}}function Ib(e){return new kb(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Eb(e){const t=Pg(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>pb(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Iv(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>My(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>My(e))).join(",")),t.ue=e}return t.ue}function Tb(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!ib(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!fb(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!rb(e.startAt,t.startAt)&&rb(e.endAt,t.endAt)}function Rb(e){return Zg.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Pb(e,t){return e.filters.filter((e=>e instanceof sb&&e.field.isEqual(t)))}function Ab(e,t,n){let r=Ty,o=!0;for(const i of Pb(e,t)){let e=Ty,t=!0;switch(i.op){case"<":case"<=":e=Qy(i.value);break;case"==":case"in":case">=":e=i.value;break;case">":e=i.value,t=!1;break;case"!=":case"not-in":e=Ty}Xy({value:r,inclusive:o},{value:e,inclusive:t})<0&&(r=e,o=t)}if(null!==n)for(let i=0;i<e.orderBy.length;++i)if(e.orderBy[i].field.isEqual(t)){const e=n.position[i];Xy({value:r,inclusive:o},{value:e,inclusive:n.inclusive})<0&&(r=e,o=n.inclusive);break}return{value:r,inclusive:o}}function Db(e,t,n){let r=Ey,o=!0;for(const i of Pb(e,t)){let e=Ey,t=!0;switch(i.op){case">=":case">":e=Yy(i.value),t=!1;break;case"==":case"in":case"<=":e=i.value;break;case"<":e=i.value,t=!1;break;case"!=":case"not-in":e=Ey}$y({value:r,inclusive:o},{value:e,inclusive:t})>0&&(r=e,o=t)}if(null!==n)for(let i=0;i<e.orderBy.length;++i)if(e.orderBy[i].field.isEqual(t)){const e=n.position[i];$y({value:r,inclusive:o},{value:e,inclusive:n.inclusive})>0&&(r=e,o=n.inclusive);break}return{value:r,inclusive:o}}class Ob{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=o,this.limitType=i,this.startAt=a,this.endAt=s,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Nb(e,t,n,r,o,i,a,s){return new Ob(e,t,n,r,o,i,a,s)}function Mb(e){return new Ob(e)}function Lb(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Fb(e){return null!==e.collectionGroup}function Bb(e){const t=Pg(e);if(null===t.ce){t.ce=[];const e=new Set;for(const o of t.explicitOrderBy)t.ce.push(o),e.add(o.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new hy(Jg.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new ob(r,n))})),e.has(Jg.keyField().canonicalString())||t.ce.push(new ob(Jg.keyField(),n))}return t.ce}function jb(e){const t=Pg(e);return t.le||(t.le=zb(t,Bb(e))),t.le}function zb(e,t){if("F"===e.limitType)return Ib(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new ob(e.field,t)}));const n=e.endAt?new tb(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new tb(e.startAt.position,e.startAt.inclusive):null;return Ib(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Vb(e,t){const n=e.filters.concat([t]);return new Ob(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Ub(e,t,n){return new Ob(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Hb(e,t){return Tb(jb(e),jb(t))&&e.limitType===t.limitType}function qb(e){return"".concat(Eb(jb(e)),"|lt:").concat(e.limitType)}function Wb(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>gb(e))).join(", "),"]")),Iv(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>My(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>My(e))).join(",")),"Target(".concat(t,")")}(jb(e)),"; limitType=").concat(e.limitType,")")}function Gb(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Zg.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Bb(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=nb(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Bb(e),t))&&!(e.endAt&&!function(e,t,n){const r=nb(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Bb(e),t))}(e,t)}function Kb(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Qb(e){return(t,n)=>{let r=!1;for(const o of Bb(e)){const e=Yb(o,t,n);if(0!==e)return e;r=r||o.field.isKeyField()}return 0}}function Yb(e,t,n){const r=e.field.isKeyField()?Zg.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),o=n.data.field(e);return null!==r&&null!==o?Dy(r,o):Tg()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Tg()}}class Xb{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,o]of n)if(this.equalsFn(r,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){sy(this.inner,((t,n)=>{for(const[r,o]of n)e(r,o)}))}isEmpty(){return ly(this.inner)}size(){return this.innerSize}}const $b=new cy(Zg.comparator);function Jb(){return $b}const Zb=new cy(Zg.comparator);function ew(){let e=Zb;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const o of n)e=e.insert(o.key,o);return e}function tw(e){let t=Zb;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function nw(){return ow()}function rw(){return ow()}function ow(){return new Xb((e=>e.toString()),((e,t)=>e.isEqual(t)))}const iw=new cy(Zg.comparator),aw=new hy(Zg.comparator);function sw(){let e=aw;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const o of n)e=e.add(o);return e}const lw=new hy(qg);function cw(){return lw}function uw(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ev(t)?"-0":t}}function dw(e){return{integerValue:""+e}}function hw(e,t){return Tv(t)?dw(t):uw(e,t)}class pw{constructor(){this._=void 0}}function fw(e,t,n){return e instanceof vw?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&_y(t)&&(t=xy(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof yw?bw(e,t):e instanceof ww?Cw(e,t):function(e,t){const n=gw(e,t),r=xw(n)+xw(e.Pe);return jy(n)&&jy(e.Pe)?dw(r):uw(e.serializer,r)}(e,t)}function mw(e,t,n){return e instanceof yw?bw(e,t):e instanceof ww?Cw(e,t):n}function gw(e,t){return e instanceof _w?function(e){return jy(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class vw extends pw{}class yw extends pw{constructor(e){super(),this.elements=e}}function bw(e,t){const n=Sw(t);for(const r of e.elements)n.some((e=>Py(e,r)))||n.push(r);return{arrayValue:{values:n}}}class ww extends pw{constructor(e){super(),this.elements=e}}function Cw(e,t){let n=Sw(t);for(const r of e.elements)n=n.filter((e=>!Py(e,r)));return{arrayValue:{values:n}}}class _w extends pw{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function xw(e){return wy(e.integerValue||e.doubleValue)}function Sw(e){return zy(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class kw{constructor(e,t){this.field=e,this.transform=t}}class Iw{constructor(e,t){this.version=e,this.transformResults=t}}class Ew{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ew}static exists(e){return new Ew(void 0,e)}static updateTime(e){return new Ew(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Tw(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Rw{}function Pw(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new zw(e.key,Ew.none()):new Mw(e.key,e.data,Ew.none());{const n=e.data,r=Jy.empty();let o=new hy(Jg.comparator);for(let e of t.fields)if(!o.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),o=o.add(e)}return new Lw(e.key,r,new my(o.toArray()),Ew.none())}}function Aw(e,t,n){e instanceof Mw?function(e,t,n){const r=e.value.clone(),o=Bw(e.fieldTransforms,t,n.transformResults);r.setAll(o),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Lw?function(e,t,n){if(!Tw(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Bw(e.fieldTransforms,t,n.transformResults),o=t.data;o.setAll(Fw(e)),o.setAll(r),t.convertToFoundDocument(n.version,o).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Dw(e,t,n,r){return e instanceof Mw?function(e,t,n,r){if(!Tw(e.precondition,t))return n;const o=e.value.clone(),i=jw(e.fieldTransforms,r,t);return o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null}(e,t,n,r):e instanceof Lw?function(e,t,n,r){if(!Tw(e.precondition,t))return n;const o=jw(e.fieldTransforms,r,t),i=t.data;return i.setAll(Fw(e)),i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return Tw(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Ow(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),o=gw(r.transform,e||null);null!=o&&(null===n&&(n=Jy.empty()),n.set(r.field,o))}return n||null}function Nw(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Wg(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof yw&&t instanceof yw||e instanceof ww&&t instanceof ww?Wg(e.elements,t.elements,Py):e instanceof _w&&t instanceof _w?Py(e.Pe,t.Pe):e instanceof vw&&t instanceof vw}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Mw extends Rw{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Lw extends Rw{constructor(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Fw(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Bw(e,t,n){const r=new Map;Rg(e.length===n.length);for(let o=0;o<n.length;o++){const i=e[o],a=i.transform,s=t.data.field(i.field);r.set(i.field,mw(a,s,n[o]))}return r}function jw(e,t,n){const r=new Map;for(const o of e){const e=o.transform,i=n.data.field(o.field);r.set(o.field,fw(e,i,t))}return r}class zw extends Rw{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Vw extends Rw{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Uw{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Aw(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Dw(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Dw(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=rw();return this.mutations.forEach((r=>{const o=e.get(r.key),i=o.overlayedDocument;let a=this.applyToLocalView(i,o.mutatedFields);a=t.has(r.key)?null:a;const s=Pw(i,a);null!==s&&n.set(r.key,s),i.isValidDocument()||i.convertToNoDocument(Qg.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),sw())}isEqual(e){return this.batchId===e.batchId&&Wg(this.mutations,e.mutations,((e,t)=>Nw(e,t)))&&Wg(this.baseMutations,e.baseMutations,((e,t)=>Nw(e,t)))}}class Hw{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Rg(e.mutations.length===n.length);let r=iw;const o=e.mutations;for(let i=0;i<o.length;i++)r=r.insert(o[i].key,n[i].version);return new Hw(e,t,n,r)}}class qw{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Ww{constructor(e,t){this.count=e,this.unchangedNames=t}}var Gw,Kw;function Qw(e){switch(e){default:return Tg();case Ag.CANCELLED:case Ag.UNKNOWN:case Ag.DEADLINE_EXCEEDED:case Ag.RESOURCE_EXHAUSTED:case Ag.INTERNAL:case Ag.UNAVAILABLE:case Ag.UNAUTHENTICATED:return!1;case Ag.INVALID_ARGUMENT:case Ag.NOT_FOUND:case Ag.ALREADY_EXISTS:case Ag.PERMISSION_DENIED:case Ag.FAILED_PRECONDITION:case Ag.ABORTED:case Ag.OUT_OF_RANGE:case Ag.UNIMPLEMENTED:case Ag.DATA_LOSS:return!0}}function Yw(e){if(void 0===e)return kg("GRPC error has no .code"),Ag.UNKNOWN;switch(e){case Gw.OK:return Ag.OK;case Gw.CANCELLED:return Ag.CANCELLED;case Gw.UNKNOWN:return Ag.UNKNOWN;case Gw.DEADLINE_EXCEEDED:return Ag.DEADLINE_EXCEEDED;case Gw.RESOURCE_EXHAUSTED:return Ag.RESOURCE_EXHAUSTED;case Gw.INTERNAL:return Ag.INTERNAL;case Gw.UNAVAILABLE:return Ag.UNAVAILABLE;case Gw.UNAUTHENTICATED:return Ag.UNAUTHENTICATED;case Gw.INVALID_ARGUMENT:return Ag.INVALID_ARGUMENT;case Gw.NOT_FOUND:return Ag.NOT_FOUND;case Gw.ALREADY_EXISTS:return Ag.ALREADY_EXISTS;case Gw.PERMISSION_DENIED:return Ag.PERMISSION_DENIED;case Gw.FAILED_PRECONDITION:return Ag.FAILED_PRECONDITION;case Gw.ABORTED:return Ag.ABORTED;case Gw.OUT_OF_RANGE:return Ag.OUT_OF_RANGE;case Gw.UNIMPLEMENTED:return Ag.UNIMPLEMENTED;case Gw.DATA_LOSS:return Ag.DATA_LOSS;default:return Tg()}}(Kw=Gw||(Gw={}))[Kw.OK=0]="OK",Kw[Kw.CANCELLED=1]="CANCELLED",Kw[Kw.UNKNOWN=2]="UNKNOWN",Kw[Kw.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Kw[Kw.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Kw[Kw.NOT_FOUND=5]="NOT_FOUND",Kw[Kw.ALREADY_EXISTS=6]="ALREADY_EXISTS",Kw[Kw.PERMISSION_DENIED=7]="PERMISSION_DENIED",Kw[Kw.UNAUTHENTICATED=16]="UNAUTHENTICATED",Kw[Kw.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Kw[Kw.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Kw[Kw.ABORTED=10]="ABORTED",Kw[Kw.OUT_OF_RANGE=11]="OUT_OF_RANGE",Kw[Kw.UNIMPLEMENTED=12]="UNIMPLEMENTED",Kw[Kw.INTERNAL=13]="INTERNAL",Kw[Kw.UNAVAILABLE=14]="UNAVAILABLE",Kw[Kw.DATA_LOSS=15]="DATA_LOSS";let Xw=null;function $w(){return new TextEncoder}const Jw=new ig([4294967295,4294967295],0);function Zw(e){const t=$w().encode(e),n=new ag;return n.update(t),new Uint8Array(n.digest())}function eC(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new ig([n,r],0),new ig([o,i],0)]}class tC{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new nC("Invalid padding: ".concat(t));if(n<0)throw new nC("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new nC("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new nC("Invalid padding when bitmap length is 0: ".concat(t));this.Te=8*e.length-t,this.Ie=ig.fromNumber(this.Te)}de(e,t,n){let r=e.add(t.multiply(ig.fromNumber(n)));return 1===r.compare(Jw)&&(r=new ig([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ie).toNumber()}Ee(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=Zw(e),[n,r]=eC(t);for(let o=0;o<this.hashCount;o++){const e=this.de(n,r,o);if(!this.Ee(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),i=new tC(o,r,t);return n.forEach((e=>i.insert(e))),i}insert(e){if(0===this.Te)return;const t=Zw(e),[n,r]=eC(t);for(let o=0;o<this.hashCount;o++){const e=this.de(n,r,o);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class nC extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class rC{constructor(e,t,n,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,oC.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new rC(Qg.min(),r,new cy(qg),Jb(),sw())}}class oC{constructor(e,t,n,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new oC(n,t,sw(),sw(),sw())}}class iC{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class aC{constructor(e,t){this.targetId=e,this.me=t}}class sC{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:vy.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class lC{constructor(){this.fe=0,this.ge=dC(),this.pe=vy.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=sw(),t=sw(),n=sw();return this.ge.forEach(((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Tg()}})),new oC(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=dC()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Rg(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class cC{constructor(e){this.Be=e,this.Le=new Map,this.ke=Jb(),this.qe=uC(),this.Qe=uC(),this.Ke=new cy(qg)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,(t=>{const n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.je(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.De(e.resumeToken));break;default:Tg()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Le.forEach(((e,n)=>{this.je(n)&&t(n)}))}Je(e){const t=e.targetId,n=e.me.count,r=this.Ye(t);if(r){const o=r.target;if(Rb(o))if(0===n){const e=new Zg(o.path);this.We(t,e,eb.newNoDocument(e,Qg.min()))}else Rg(1===n);else{const r=this.Ze(t);if(r!==n){const n=this.Xe(e),o=n?this.et(n,e,r):1;if(0!==o){this.He(t);const e=2===o?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==Xw||Xw.tt(function(e,t,n,r,o){var i,a,s,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===o,hashCount:null!==(i=null==h?void 0:h.hashCount)&&void 0!==i?i:0,bitmapLength:null!==(l=null===(s=null===(a=null==h?void 0:h.bits)||void 0===a?void 0:a.bitmap)||void 0===s?void 0:s.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.me,this.Be.nt(),n,o))}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:o=0}=t;let i,a;try{i=Cy(n).toUint8Array()}catch(e){if(e instanceof gy)return Ig("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new tC(i,r,o)}catch(e){return Ig(e instanceof nC?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.Te?null:a}et(e,t,n){return t.me.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){const n=this.Be.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const o=this.Be.nt(),i="projects/".concat(o.projectId,"/databases/").concat(o.database,"/documents/").concat(n.path.canonicalString());e.mightContain(i)||(this.We(t,n,null),r++)})),r}it(e){const t=new Map;this.Le.forEach(((n,r)=>{const o=this.Ye(r);if(o){if(n.current&&Rb(o.target)){const t=new Zg(o.target.path);this.st(t).has(r)||this.ot(r,t)||this.We(r,t,eb.newNoDocument(t,e))}n.be&&(t.set(r,n.ve()),n.Ce())}}));let n=sw();this.Qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Ye(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.ke.forEach(((t,n)=>n.setReadTime(e)));const r=new rC(e,t,this.Ke,this.ke,n);return this.ke=Jb(),this.qe=uC(),this.Qe=uC(),this.Ke=new cy(qg),r}Ue(e,t){if(!this.je(e))return;const n=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,n){if(!this.je(e))return;const r=this.ze(e);this.ot(e,t)?r.Fe(t,1):r.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Le.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Le.get(e);return t||(t=new lC,this.Le.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new hy(qg),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new hy(qg),this.qe=this.qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||Sg("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Le.get(e);return t&&t.Se?null:this.Be.ut(e)}He(e){this.Le.set(e,new lC),this.Be.getRemoteKeysForTarget(e).forEach((t=>{this.We(e,t,null)}))}ot(e,t){return this.Be.getRemoteKeysForTarget(e).has(t)}}function uC(){return new cy(Zg.comparator)}function dC(){return new cy(Zg.comparator)}const hC={asc:"ASCENDING",desc:"DESCENDING"},pC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fC={and:"AND",or:"OR"};class mC{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function gC(e,t){return e.useProto3Json||Iv(t)?t:{value:t}}function vC(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function yC(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function bC(e,t){return vC(e,t.toTimestamp())}function wC(e){return Rg(!!e),Qg.fromTimestamp(function(e){const t=by(e);return new Kg(t.seconds,t.nanos)}(e))}function CC(e,t){return _C(e,t).canonicalString()}function _C(e,t){const n=function(e){return new Xg(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function xC(e){const t=Xg.fromString(e);return Rg(WC(t)),t}function SC(e,t){return CC(e.databaseId,t.path)}function kC(e,t){const n=xC(t);if(n.get(1)!==e.databaseId.projectId)throw new Dg(Ag.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Dg(Ag.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Zg(RC(n))}function IC(e,t){return CC(e.databaseId,t)}function EC(e){const t=xC(e);return 4===t.length?Xg.emptyPath():RC(t)}function TC(e){return new Xg(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function RC(e){return Rg(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function PC(e,t,n){return{name:SC(e,t),fields:n.value.mapValue.fields}}function AC(e,t,n){const r=kC(e,t.name),o=wC(t.updateTime),i=t.createTime?wC(t.createTime):Qg.min(),a=new Jy({mapValue:{fields:t.fields}}),s=eb.newFoundDocument(r,o,i,a);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function DC(e,t){let n;if(t instanceof Mw)n={update:PC(e,t.key,t.value)};else if(t instanceof zw)n={delete:SC(e,t.key)};else if(t instanceof Lw)n={update:PC(e,t.key,t.data),updateMask:qC(t.fieldMask)};else{if(!(t instanceof Vw))return Tg();n={verify:SC(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof vw)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof yw)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof ww)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof _w)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw Tg()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:bC(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Tg()}(e,t.precondition)),n}function OC(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?Ew.updateTime(wC(e.updateTime)):void 0!==e.exists?Ew.exists(e.exists):Ew.none()}(t.currentDocument):Ew.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)Rg("REQUEST_TIME"===t.setToServerValue),n=new vw;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new yw(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new ww(e)}else"increment"in t?n=new _w(e,t.increment):Tg();const r=Jg.fromServerFormat(t.fieldPath);return new kw(r,n)}(e,t))):[];if(t.update){t.update.name;const o=kC(e,t.update.name),i=new Jy({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new my(t.map((e=>Jg.fromServerFormat(e))))}(t.updateMask);return new Lw(o,i,e,n,r)}return new Mw(o,i,n,r)}if(t.delete){const r=kC(e,t.delete);return new zw(r,n)}if(t.verify){const r=kC(e,t.verify);return new Vw(r,n)}return Tg()}function NC(e,t){return{documents:[IC(e,t.path)]}}function MC(e,t){const n={structuredQuery:{}},r=t.path;let o;null!==t.collectionGroup?(o=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=IC(e,o);const i=function(e){if(0!==e.length)return HC(lb.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const a=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:VC(e.field),direction:BC(e.dir)}}(e)))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const s=gC(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ct:n,parent:o}}function LC(e){let t=EC(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){Rg(1===r);const e=n.from[0];e.allDescendants?o=e.collectionId:t=t.child(e.collectionId)}let i=[];n.where&&(i=function(e){const t=FC(e);return t instanceof lb&&db(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map((e=>function(e){return new ob(UC(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let s=null;n.limit&&(s=function(e){let t;return t="object"==typeof e?e.value:e,Iv(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new tb(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new tb(n,t)}(n.endAt)),Nb(t,o,a,i,s,"F",l,c)}function FC(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=UC(e.unaryFilter.field);return sb.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=UC(e.unaryFilter.field);return sb.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=UC(e.unaryFilter.field);return sb.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=UC(e.unaryFilter.field);return sb.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Tg()}}(e):void 0!==e.fieldFilter?function(e){return sb.create(UC(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Tg()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return lb.create(e.compositeFilter.filters.map((e=>FC(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Tg()}}(e.compositeFilter.op))}(e):Tg()}function BC(e){return hC[e]}function jC(e){return pC[e]}function zC(e){return fC[e]}function VC(e){return{fieldPath:e.canonicalString()}}function UC(e){return Jg.fromServerFormat(e.fieldPath)}function HC(e){return e instanceof sb?function(e){if("=="===e.op){if(Uy(e.value))return{unaryFilter:{field:VC(e.field),op:"IS_NAN"}};if(Vy(e.value))return{unaryFilter:{field:VC(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Uy(e.value))return{unaryFilter:{field:VC(e.field),op:"IS_NOT_NAN"}};if(Vy(e.value))return{unaryFilter:{field:VC(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:VC(e.field),op:jC(e.op),value:e.value}}}(e):e instanceof lb?function(e){const t=e.getFilters().map((e=>HC(e)));return 1===t.length?t[0]:{compositeFilter:{op:zC(e.op),filters:t}}}(e):Tg()}function qC(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function WC(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class GC{constructor(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Qg.min(),i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Qg.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:vy.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=a,this.expectedCount=s}withSequenceNumber(e){return new GC(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new GC(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new GC(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new GC(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class KC{constructor(e){this.ht=e}}function QC(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:YC(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:SC(e,t.key),fields:t.data.value.mapValue.fields,updateTime:vC(e,t.version.toTimestamp()),createTime:vC(e,t.createTime.toTimestamp())}}(e.ht,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:XC(t.version)};else{if(!t.isUnknownDocument())return Tg();r.unknownDocument={path:n.path.toArray(),version:XC(t.version)}}return r}function YC(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function XC(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function $C(e){const t=new Kg(e.seconds,e.nanoseconds);return Qg.fromTimestamp(t)}function JC(e,t){const n=(t.baseMutations||[]).map((t=>OC(e.ht,t)));for(let i=0;i<t.mutations.length-1;++i){const e=t.mutations[i];if(i+1<t.mutations.length&&void 0!==t.mutations[i+1].transform){const n=t.mutations[i+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(i+1,1),++i}}const r=t.mutations.map((t=>OC(e.ht,t))),o=Kg.fromMillis(t.localWriteTimeMs);return new Uw(t.batchId,o,n,r)}function ZC(e){const t=$C(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?$C(e.lastLimboFreeSnapshotVersion):Qg.min();let r;return r=function(e){return void 0!==e.documents}(e.query)?function(e){return Rg(1===e.documents.length),jb(Mb(EC(e.documents[0])))}(e.query):function(e){return jb(LC(e))}(e.query),new GC(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,vy.fromBase64String(e.resumeToken))}function e_(e,t){const n=XC(t.snapshotVersion),r=XC(t.lastLimboFreeSnapshotVersion);let o;o=Rb(t.target)?NC(e.ht,t.target):MC(e.ht,t.target).ct;const i=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Eb(t.target),readTime:n,resumeToken:i,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:o}}function t_(e){const t=LC({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Ub(t,t.limit,"L"):t}function n_(e,t){return new qw(t.largestBatchId,OC(e.ht,t.overlayMutation))}function r_(e,t){const n=t.path.lastSegment();return[e,Rv(t.path.popLast()),n]}function o_(e,t,n,r){return{indexId:e,uid:t,sequenceNumber:n,readTime:XC(r.readTime),documentKey:Rv(r.documentKey.path),largestBatchId:r.largestBatchId}}class i_{getBundleMetadata(e,t){return a_(e).get(t).next((e=>{if(e)return function(e){return{id:e.bundleId,createTime:$C(e.createTime),version:e.version}}(e)}))}saveBundleMetadata(e,t){return a_(e).put(function(e){return{bundleId:e.id,createTime:XC(wC(e.createTime)),version:e.version}}(t))}getNamedQuery(e,t){return s_(e).get(t).next((e=>{if(e)return function(e){return{name:e.name,query:t_(e.bundledQuery),readTime:$C(e.readTime)}}(e)}))}saveNamedQuery(e,t){return s_(e).put(function(e){return{name:e.name,readTime:XC(wC(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function a_(e){return iy(e,"bundles")}function s_(e){return iy(e,"namedQueries")}class l_{constructor(e,t){this.serializer=e,this.userId=t}static Pt(e,t){const n=t.uid||"";return new l_(e,n)}getOverlay(e,t){return c_(e).get(r_(this.userId,t)).next((e=>e?n_(this.serializer,e):null))}getOverlays(e,t){const n=nw();return hv.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,o)=>{const i=new qw(t,o);r.push(this.Tt(e,i))})),hv.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(Rv(e.getCollectionPath()))));const o=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);o.push(c_(e).j("collectionPathOverlayIndex",r))})),hv.waitFor(o)}getOverlaysForCollection(e,t,n){const r=nw(),o=Rv(t),i=IDBKeyRange.bound([this.userId,o,n],[this.userId,o,Number.POSITIVE_INFINITY],!0);return c_(e).U("collectionPathOverlayIndex",i).next((e=>{for(const t of e){const e=n_(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const o=nw();let i;const a=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return c_(e).J({index:"collectionGroupOverlayIndex",range:a},((e,t,n)=>{const a=n_(this.serializer,t);o.size()<r||a.largestBatchId===i?(o.set(a.getKey(),a),i=a.largestBatchId):n.done()})).next((()=>o))}Tt(e,t){return c_(e).put(function(e,t,n){const[r,o,i]=r_(t,n.mutation.key);return{userId:t,collectionPath:o,documentId:i,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:DC(e.ht,n.mutation)}}(this.serializer,this.userId,t))}}function c_(e){return iy(e,"documentOverlays")}class u_{It(e){return iy(e,"globals")}getSessionToken(e){return this.It(e).get("sessionToken").next((e=>{const t=null==e?void 0:e.value;return t?vy.fromUint8Array(t):vy.EMPTY_BYTE_STRING}))}setSessionToken(e,t){return this.It(e).put({name:"sessionToken",value:t.toUint8Array()})}}class d_{constructor(){}dt(e,t){this.Et(e,t),t.At()}Et(e,t){if("nullValue"in e)this.Rt(t,5);else if("booleanValue"in e)this.Rt(t,10),t.Vt(e.booleanValue?1:0);else if("integerValue"in e)this.Rt(t,15),t.Vt(wy(e.integerValue));else if("doubleValue"in e){const n=wy(e.doubleValue);isNaN(n)?this.Rt(t,13):(this.Rt(t,15),Ev(n)?t.Vt(0):t.Vt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Rt(t,20),"string"==typeof n&&(n=by(n)),t.ft("".concat(n.seconds||"")),t.Vt(n.nanos||0)}else if("stringValue"in e)this.gt(e.stringValue,t),this.yt(t);else if("bytesValue"in e)this.Rt(t,30),t.wt(Cy(e.bytesValue)),this.yt(t);else if("referenceValue"in e)this.St(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Rt(t,45),t.Vt(n.latitude||0),t.Vt(n.longitude||0)}else"mapValue"in e?Gy(e)?this.Rt(t,Number.MAX_SAFE_INTEGER):qy(e)?this.bt(e.mapValue,t):(this.Dt(e.mapValue,t),this.yt(t)):"arrayValue"in e?(this.vt(e.arrayValue,t),this.yt(t)):Tg()}gt(e,t){this.Rt(t,25),this.Ct(e,t)}Ct(e,t){t.ft(e)}Dt(e,t){const n=e.fields||{};this.Rt(t,55);for(const r of Object.keys(n))this.gt(r,t),this.Et(n[r],t)}bt(e,t){var n,r;const o=e.fields||{};this.Rt(t,53);const i="value",a=(null===(r=null===(n=o[i].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.Rt(t,15),t.Vt(wy(a)),this.gt(i,t),this.Et(o[i],t)}vt(e,t){const n=e.values||[];this.Rt(t,50);for(const r of n)this.Et(r,t)}St(e,t){this.Rt(t,37),Zg.fromName(e).path.forEach((e=>{this.Rt(t,60),this.Ct(e,t)}))}Rt(e,t){e.Vt(t)}yt(e){e.Vt(2)}}function h_(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function p_(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=h_(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}d_.Ft=new d_;class f_{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Mt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.xt(n.value),n=t.next();this.Ot()}Nt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Bt(n.value),n=t.next();this.Lt()}kt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.xt(e);else if(e<2048)this.xt(960|e>>>6),this.xt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.xt(480|e>>>12),this.xt(128|63&e>>>6),this.xt(128|63&e);else{const e=t.codePointAt(0);this.xt(240|e>>>18),this.xt(128|63&e>>>12),this.xt(128|63&e>>>6),this.xt(128|63&e)}}this.Ot()}qt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Bt(e);else if(e<2048)this.Bt(960|e>>>6),this.Bt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Bt(480|e>>>12),this.Bt(128|63&e>>>6),this.Bt(128|63&e);else{const e=t.codePointAt(0);this.Bt(240|e>>>18),this.Bt(128|63&e>>>12),this.Bt(128|63&e>>>6),this.Bt(128|63&e)}}this.Lt()}Qt(e){const t=this.Kt(e),n=p_(t);this.$t(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Ut(e){const t=this.Kt(e),n=p_(t);this.$t(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}Wt(){this.Gt(255),this.Gt(255)}zt(){this.jt(255),this.jt(255)}reset(){this.position=0}seed(e){this.$t(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ht(){return this.buffer.slice(0,this.position)}Kt(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}xt(e){const t=255&e;0===t?(this.Gt(0),this.Gt(255)):255===t?(this.Gt(255),this.Gt(0)):this.Gt(t)}Bt(e){const t=255&e;0===t?(this.jt(0),this.jt(255)):255===t?(this.jt(255),this.jt(0)):this.jt(e)}Ot(){this.Gt(0),this.Gt(1)}Lt(){this.jt(0),this.jt(1)}Gt(e){this.$t(1),this.buffer[this.position++]=e}jt(e){this.$t(1),this.buffer[this.position++]=~e}$t(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class m_{constructor(e){this.Jt=e}wt(e){this.Jt.Mt(e)}ft(e){this.Jt.kt(e)}Vt(e){this.Jt.Qt(e)}At(){this.Jt.Wt()}}class g_{constructor(e){this.Jt=e}wt(e){this.Jt.Nt(e)}ft(e){this.Jt.qt(e)}Vt(e){this.Jt.Ut(e)}At(){this.Jt.zt()}}class v_{constructor(){this.Jt=new f_,this.Yt=new m_(this.Jt),this.Zt=new g_(this.Jt)}seed(e){this.Jt.seed(e)}Xt(e){return 0===e?this.Yt:this.Zt}Ht(){return this.Jt.Ht()}reset(){this.Jt.reset()}}class y_{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}en(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new y_(this.indexId,this.documentKey,this.arrayValue,n)}}function b_(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=w_(e.arrayValue,t.arrayValue),0!==n?n:(n=w_(e.directionalValue,t.directionalValue),0!==n?n:Zg.comparator(e.documentKey,t.documentKey)))}function w_(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class C_{constructor(e){this.tn=new hy(((e,t)=>Jg.comparator(e.field,t.field))),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.nn=e.orderBy,this.rn=[];for(const t of e.filters){const e=t;e.isInequality()?this.tn=this.tn.add(e):this.rn.push(e)}}get sn(){return this.tn.size>1}on(e){if(Rg(e.collectionGroup===this.collectionId),this.sn)return!1;const t=tv(e);if(void 0!==t&&!this._n(t))return!1;const n=nv(e);let r=new Set,o=0,i=0;for(;o<n.length&&this._n(n[o]);++o)r=r.add(n[o].fieldPath.canonicalString());if(o===n.length)return!0;if(this.tn.size>0){const e=this.tn.getIterator().getNext();if(!r.has(e.field.canonicalString())){const t=n[o];if(!this.an(e,t)||!this.un(this.nn[i++],t))return!1}++o}for(;o<n.length;++o){const e=n[o];if(i>=this.nn.length||!this.un(this.nn[i++],e))return!1}return!0}cn(){if(this.sn)return null;let e=new hy(Jg.comparator);const t=[];for(const n of this.rn)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new rv(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new rv(n.field,0))}for(const n of this.nn)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new rv(n.field,"asc"===n.dir?0:1)));return new ev(ev.UNKNOWN_ID,this.collectionId,t,ov.empty())}_n(e){for(const t of this.rn)if(this.an(t,e))return!0;return!1}an(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}un(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function __(e){var t,n;if(Rg(e instanceof sb||e instanceof lb),e instanceof sb){if(e instanceof _b){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>sb.create(e.field,"==",t))))||[];return lb.create(r,"or")}return e}const r=e.filters.map((e=>__(e)));return lb.create(r,e.op)}function x_(e){if(0===e.getFilters().length)return[];const t=E_(__(e));return Rg(I_(t)),S_(t)||k_(t)?[t]:t.getFilters()}function S_(e){return e instanceof sb}function k_(e){return e instanceof lb&&db(e)}function I_(e){return S_(e)||k_(e)||function(e){if(e instanceof lb&&ub(e)){for(const t of e.getFilters())if(!S_(t)&&!k_(t))return!1;return!0}return!1}(e)}function E_(e){if(Rg(e instanceof sb||e instanceof lb),e instanceof sb)return e;if(1===e.filters.length)return E_(e.filters[0]);const t=e.filters.map((e=>E_(e)));let n=lb.create(t,e.op);return n=P_(n),I_(n)?n:(Rg(n instanceof lb),Rg(cb(n)),Rg(n.filters.length>1),n.filters.reduce(((e,t)=>T_(e,t))))}function T_(e,t){let n;return Rg(e instanceof sb||e instanceof lb),Rg(t instanceof sb||t instanceof lb),n=e instanceof sb?t instanceof sb?function(e,t){return lb.create([e,t],"and")}(e,t):R_(e,t):t instanceof sb?R_(t,e):function(e,t){if(Rg(e.filters.length>0&&t.filters.length>0),cb(e)&&cb(t))return mb(e,t.getFilters());const n=ub(e)?e:t,r=ub(e)?t:e,o=n.filters.map((e=>T_(e,r)));return lb.create(o,"or")}(e,t),P_(n)}function R_(e,t){if(cb(t))return mb(t,e.getFilters());{const n=t.filters.map((t=>T_(e,t)));return lb.create(n,"or")}}function P_(e){if(Rg(e instanceof sb||e instanceof lb),e instanceof sb)return e;const t=e.getFilters();if(1===t.length)return P_(t[0]);if(hb(e))return e;const n=t.map((e=>P_(e))),r=[];return n.forEach((t=>{t instanceof sb?r.push(t):t instanceof lb&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:lb.create(r,e.op)}class A_{constructor(){this.ln=new D_}addToCollectionParentIndex(e,t){return this.ln.add(t),hv.resolve()}getCollectionParents(e,t){return hv.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return hv.resolve()}deleteFieldIndex(e,t){return hv.resolve()}deleteAllFieldIndexes(e){return hv.resolve()}createTargetIndexes(e,t){return hv.resolve()}getDocumentsMatchingTarget(e,t){return hv.resolve(null)}getIndexType(e,t){return hv.resolve(0)}getFieldIndexes(e,t){return hv.resolve([])}getNextCollectionGroupToUpdate(e){return hv.resolve(null)}getMinOffset(e,t){return hv.resolve(sv.min())}getMinOffsetFromCollectionGroup(e,t){return hv.resolve(sv.min())}updateCollectionGroup(e,t,n){return hv.resolve()}updateIndexEntries(e,t){return hv.resolve()}}class D_{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new hy(Xg.comparator),o=!r.has(n);return this.index[t]=r.add(n),o}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new hy(Xg.comparator)).toArray()}}const O_=new Uint8Array(0);class N_{constructor(e,t){this.databaseId=t,this.hn=new D_,this.Pn=new Xb((e=>Eb(e)),((e,t)=>Tb(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.hn.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this.hn.add(t)}));const o={collectionId:n,parent:Rv(r)};return M_(e).put(o)}return hv.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[Gg(t),""],!1,!0);return M_(e).U(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(Dv(r.parent))}return n}))}addFieldIndex(e,t){const n=F_(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const o=n.add(r);if(t.indexState){const n=B_(e);return o.next((e=>{n.put(o_(e,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return o.next()}deleteFieldIndex(e,t){const n=F_(e),r=B_(e),o=L_(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=F_(e),n=L_(e),r=B_(e);return t.j().next((()=>n.j())).next((()=>r.j()))}createTargetIndexes(e,t){return hv.forEach(this.Tn(t),(t=>this.getIndexType(e,t).next((n=>{if(0===n||1===n){const n=new C_(t).cn();if(null!=n)return this.addFieldIndex(e,n)}}))))}getDocumentsMatchingTarget(e,t){const n=L_(e);let r=!0;const o=new Map;return hv.forEach(this.Tn(t),(t=>this.In(e,t).next((e=>{r&&(r=!!e),o.set(t,e)})))).next((()=>{if(r){let e=sw();const r=[];return hv.forEach(o,((o,i)=>{Sg("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((e=>"".concat(e.fieldPath,":").concat(e.kind))).join(","))}(o)," to execute ").concat(Eb(t)));const a=function(e,t){const n=tv(t);if(void 0===n)return null;for(const r of Pb(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(i,o),s=function(e,t){const n=new Map;for(const r of nv(t))for(const t of Pb(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(i,o),l=function(e,t){const n=[];let r=!0;for(const o of nv(t)){const t=0===o.kind?Ab(e,o.fieldPath,e.startAt):Db(e,o.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new tb(n,r)}(i,o),c=function(e,t){const n=[];let r=!0;for(const o of nv(t)){const t=0===o.kind?Db(e,o.fieldPath,e.endAt):Ab(e,o.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new tb(n,r)}(i,o),u=this.dn(o,i,l),d=this.dn(o,i,c),h=this.En(o,i,s),p=this.An(o.indexId,a,u,l.inclusive,d,c.inclusive,h);return hv.forEach(p,(o=>n.G(o,t.limit).next((t=>{t.forEach((t=>{const n=Zg.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return hv.resolve(null)}))}Tn(e){let t=this.Pn.get(e);return t||(t=0===e.filters.length?[e]:x_(lb.create(e.filters,"and")).map((t=>Ib(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.Pn.set(e,t),t)}An(e,t,n,r,o,i,a){const s=(null!=t?t.length:1)*Math.max(n.length,o.length),l=s/(null!=t?t.length:1),c=[];for(let u=0;u<s;++u){const s=t?this.Rn(t[u/l]):O_,d=this.Vn(e,s,n[u%l],r),h=this.mn(e,s,o[u%l],i),p=a.map((t=>this.Vn(e,s,t,!0)));c.push(...this.createRange(d,h,p))}return c}Vn(e,t,n,r){const o=new y_(e,Zg.empty(),t,n);return r?o:o.en()}mn(e,t,n,r){const o=new y_(e,Zg.empty(),t,n);return r?o.en():o}In(e,t){const n=new C_(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.on(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.Tn(t);return hv.forEach(r,(t=>this.In(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new hy(Jg.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}fn(e,t){const n=new v_;for(const r of nv(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const o=n.Xt(r.kind);d_.Ft.dt(e,o)}return n.Ht()}Rn(e){const t=new v_;return d_.Ft.dt(e,t.Xt(0)),t.Ht()}gn(e,t){const n=new v_;return d_.Ft.dt(By(this.databaseId,t),n.Xt(function(e){const t=nv(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Ht()}En(e,t,n){if(null===n)return[];let r=[];r.push(new v_);let o=0;for(const i of nv(e)){const e=n[o++];for(const n of r)if(this.pn(t,i.fieldPath)&&zy(e))r=this.yn(r,i,e);else{const t=n.Xt(i.kind);d_.Ft.dt(e,t)}}return this.wn(r)}dn(e,t,n){return this.En(e,t,n.position)}wn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Ht();return t}yn(e,t,n){const r=[...e],o=[];for(const i of n.arrayValue.values||[])for(const e of r){const n=new v_;n.seed(e.Ht()),d_.Ft.dt(i,n.Xt(t.kind)),o.push(n)}return o}pn(e,t){return!!e.filters.find((e=>e instanceof sb&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=F_(e),r=B_(e);return(t?n.U("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.U()).next((e=>{const t=[];return hv.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new ov(t.sequenceNumber,new sv($C(t.readTime),new Zg(Dv(t.documentKey)),t.largestBatchId)):ov.empty(),r=e.fields.map((e=>{let[t,n]=e;return new rv(Jg.fromServerFormat(t),n)}));return new ev(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:qg(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=F_(e),o=B_(e);return this.Sn(e).next((e=>r.U("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>hv.forEach(t,(t=>o.put(o_(t.indexId,this.uid,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return hv.forEach(t,((t,r)=>{const o=n.get(t.collectionGroup);return(o?hv.resolve(o):this.getFieldIndexes(e,t.collectionGroup)).next((o=>(n.set(t.collectionGroup,o),hv.forEach(o,(n=>this.bn(e,t,n).next((t=>{const o=this.Dn(r,n);return t.isEqual(o)?hv.resolve():this.vn(e,r,n,t,o)})))))))}))}Cn(e,t,n,r){return L_(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(n,t.key),documentKey:t.key.path.toArray()})}Fn(e,t,n,r){return L_(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(n,t.key),t.key.path.toArray()])}bn(e,t,n){const r=L_(e);let o=new hy(b_);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.gn(n,t)])},((e,r)=>{o=o.add(new y_(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>o))}Dn(e,t){let n=new hy(b_);const r=this.fn(t,e);if(null==r)return n;const o=tv(t);if(null!=o){const i=e.data.field(o.fieldPath);if(zy(i))for(const o of i.arrayValue.values||[])n=n.add(new y_(t.indexId,e.key,this.Rn(o),r))}else n=n.add(new y_(t.indexId,e.key,O_,r));return n}vn(e,t,n,r,o){Sg("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const i=[];return function(e,t,n,r,o){const i=e.getIterator(),a=t.getIterator();let s=fy(i),l=fy(a);for(;s||l;){let e=!1,t=!1;if(s&&l){const r=n(s,l);r<0?t=!0:r>0&&(e=!0)}else null!=s?t=!0:e=!0;e?(r(l),l=fy(a)):t?(o(s),s=fy(i)):(s=fy(i),l=fy(a))}}(r,o,b_,(r=>{i.push(this.Cn(e,t,n,r))}),(r=>{i.push(this.Fn(e,t,n,r))})),hv.waitFor(i)}Sn(e){let t=1;return B_(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>b_(e,t))).filter(((e,t,n)=>!t||0!==b_(e,n[t-1])));const r=[];r.push(e);for(const i of n){const n=b_(i,e),o=b_(i,t);if(0===n)r[0]=e.en();else if(n>0&&o<0)r.push(i),r.push(i.en());else if(o>0)break}r.push(t);const o=[];for(let i=0;i<r.length;i+=2){if(this.Mn(r[i],r[i+1]))return[];const e=[r[i].indexId,this.uid,r[i].arrayValue,r[i].directionalValue,O_,[]],t=[r[i+1].indexId,this.uid,r[i+1].arrayValue,r[i+1].directionalValue,O_,[]];o.push(IDBKeyRange.bound(e,t))}return o}Mn(e,t){return b_(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(j_)}getMinOffset(e,t){return hv.mapArray(this.Tn(t),(t=>this.In(e,t).next((e=>e||Tg())))).next(j_)}}function M_(e){return iy(e,"collectionParents")}function L_(e){return iy(e,"indexEntries")}function F_(e){return iy(e,"indexConfiguration")}function B_(e){return iy(e,"indexState")}function j_(e){Rg(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const o=e[r].indexState.offset;lv(o,t)<0&&(t=o),n<o.largestBatchId&&(n=o.largestBatchId)}return new sv(t.readTime,t.documentKey,n)}const z_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class V_{static withCacheSize(e){return new V_(e,V_.DEFAULT_COLLECTION_PERCENTILE,V_.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}function U_(e,t,n){const r=e.store("mutations"),o=e.store("documentMutations"),i=[],a=IDBKeyRange.only(n.batchId);let s=0;const l=r.J({range:a},((e,t,n)=>(s++,n.delete())));i.push(l.next((()=>{Rg(1===s)})));const c=[];for(const u of n.mutations){const e=Mv(t,u.key.path,n.batchId);i.push(o.delete(e)),c.push(u.key)}return hv.waitFor(i).next((()=>c))}function H_(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Tg();t=e.noDocument}return JSON.stringify(t).length}V_.DEFAULT_COLLECTION_PERCENTILE=10,V_.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,V_.DEFAULT=new V_(41943040,V_.DEFAULT_COLLECTION_PERCENTILE,V_.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),V_.DISABLED=new V_(-1,0,0);class q_{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.xn={}}static Pt(e,t,n,r){Rg(""!==e.uid);const o=e.isAuthenticated()?e.uid:"";return new q_(o,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return G_(e).J({index:"userMutationsIndex",range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const o=K_(e),i=G_(e);return i.add({}).next((a=>{Rg("number"==typeof a);const s=new Uw(a,t,n,r),l=function(e,t,n){const r=n.baseMutations.map((t=>DC(e.ht,t))),o=n.mutations.map((t=>DC(e.ht,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:o}}(this.serializer,this.userId,s),c=[];let u=new hy(((e,t)=>qg(e.canonicalString(),t.canonicalString())));for(const e of r){const t=Mv(this.userId,e.key.path,a);u=u.add(e.key.path.popLast()),c.push(i.put(l)),c.push(o.put(t,Lv))}return u.forEach((t=>{c.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.xn[a]=s.keys()})),hv.waitFor(c).next((()=>s))}))}lookupMutationBatch(e,t){return G_(e).get(t).next((e=>e?(Rg(e.userId===this.userId),JC(this.serializer,e)):null))}On(e,t){return this.xn[t]?hv.resolve(this.xn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.xn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let o=null;return G_(e).J({index:"userMutationsIndex",range:r},((e,t,r)=>{t.userId===this.userId&&(Rg(t.batchId>=n),o=JC(this.serializer,t)),r.done()})).next((()=>o))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return G_(e).J({index:"userMutationsIndex",range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return G_(e).U("userMutationsIndex",t).next((e=>e.map((e=>JC(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=Nv(this.userId,t.path),r=IDBKeyRange.lowerBound(n),o=[];return K_(e).J({range:r},((n,r,i)=>{const[a,s,l]=n,c=Dv(s);if(a===this.userId&&t.path.isEqual(c))return G_(e).get(l).next((e=>{if(!e)throw Tg();Rg(e.userId===this.userId),o.push(JC(this.serializer,e))}));i.done()})).next((()=>o))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new hy(qg);const r=[];return t.forEach((t=>{const o=Nv(this.userId,t.path),i=IDBKeyRange.lowerBound(o),a=K_(e).J({range:i},((e,r,o)=>{const[i,a,s]=e,l=Dv(a);i===this.userId&&t.path.isEqual(l)?n=n.add(s):o.done()}));r.push(a)})),hv.waitFor(r).next((()=>this.Nn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,o=Nv(this.userId,n),i=IDBKeyRange.lowerBound(o);let a=new hy(qg);return K_(e).J({range:i},((e,t,o)=>{const[i,s,l]=e,c=Dv(s);i===this.userId&&n.isPrefixOf(c)?c.length===r&&(a=a.add(l)):o.done()})).next((()=>this.Nn(e,a)))}Nn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(G_(e).get(t).next((e=>{if(null===e)throw Tg();Rg(e.userId===this.userId),n.push(JC(this.serializer,e))})))})),hv.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return U_(e._e,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.Bn(t.batchId)})),hv.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}Bn(e){delete this.xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return hv.resolve();const n=IDBKeyRange.lowerBound(function(e){return[e]}(this.userId)),r=[];return K_(e).J({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=Dv(e[1]);r.push(t)}else n.done()})).next((()=>{Rg(0===r.length)}))}))}containsKey(e,t){return W_(e,this.userId,t)}Ln(e){return Q_(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function W_(e,t,n){const r=Nv(t,n.path),o=r[1],i=IDBKeyRange.lowerBound(r);let a=!1;return K_(e).J({range:i,H:!0},((e,n,r)=>{const[i,s,l]=e;i===t&&s===o&&(a=!0),r.done()})).next((()=>a))}function G_(e){return iy(e,"mutations")}function K_(e){return iy(e,"documentMutations")}function Q_(e){return iy(e,"mutationQueues")}class Y_{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Y_(0)}static Qn(){return new Y_(-1)}}class X_{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Kn(e).next((t=>{const n=new Y_(t.highestTargetId);return t.highestTargetId=n.next(),this.$n(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.Kn(e).next((e=>Qg.fromTimestamp(new Kg(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.Kn(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.Kn(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.$n(e,r))))}addTargetData(e,t){return this.Un(e,t).next((()=>this.Kn(e).next((n=>(n.targetCount+=1,this.Wn(t,n),this.$n(e,n))))))}updateTargetData(e,t){return this.Un(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>$_(e).delete(t.targetId))).next((()=>this.Kn(e))).next((t=>(Rg(t.targetCount>0),t.targetCount-=1,this.$n(e,t))))}removeTargets(e,t,n){let r=0;const o=[];return $_(e).J(((i,a)=>{const s=ZC(a);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r++,o.push(this.removeTargetData(e,s)))})).next((()=>hv.waitFor(o))).next((()=>r))}forEachTarget(e,t){return $_(e).J(((e,n)=>{const r=ZC(n);t(r)}))}Kn(e){return J_(e).get("targetGlobalKey").next((e=>(Rg(null!==e),e)))}$n(e,t){return J_(e).put("targetGlobalKey",t)}Un(e,t){return $_(e).put(e_(this.serializer,t))}Wn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Kn(e).next((e=>e.targetCount))}getTargetData(e,t){const n=Eb(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let o=null;return $_(e).J({range:r,index:"queryTargetsIndex"},((e,n,r)=>{const i=ZC(n);Tb(t,i.target)&&(o=i,r.done())})).next((()=>o))}addMatchingKeys(e,t,n){const r=[],o=Z_(e);return t.forEach((t=>{const i=Rv(t.path);r.push(o.put({targetId:n,path:i})),r.push(this.referenceDelegate.addReference(e,n,t))})),hv.waitFor(r)}removeMatchingKeys(e,t,n){const r=Z_(e);return hv.forEach(t,(t=>{const o=Rv(t.path);return hv.waitFor([r.delete([n,o]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=Z_(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Z_(e);let o=sw();return r.J({range:n,H:!0},((e,t,n)=>{const r=Dv(e[1]),i=new Zg(r);o=o.add(i)})).next((()=>o))}containsKey(e,t){const n=Rv(t.path),r=IDBKeyRange.bound([n],[Gg(n)],!1,!0);let o=0;return Z_(e).J({index:"documentTargetsIndex",H:!0,range:r},((e,t,n)=>{let[r,i]=e;0!==r&&(o++,n.done())})).next((()=>o>0))}ut(e,t){return $_(e).get(t).next((e=>e?ZC(e):null))}}function $_(e){return iy(e,"targets")}function J_(e){return iy(e,"targetGlobal")}function Z_(e){return iy(e,"targetDocuments")}function ex(e,t){let[n,r]=e,[o,i]=t;const a=qg(n,o);return 0===a?qg(r,i):a}class tx{constructor(e){this.Gn=e,this.buffer=new hy(ex),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();ex(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class nx{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return null!==this.Jn}Yn(e){Sg("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){yv(e)?Sg("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await dv(e)}await this.Yn(3e5)}))}}class rx{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return hv.resolve(kv.oe);const n=new tx(t);return this.Zn.forEachTarget(e,(e=>n.Hn(e.sequenceNumber))).next((()=>this.Zn.er(e,(e=>n.Hn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.Zn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Sg("LruGarbageCollector","Garbage collection skipped; disabled"),hv.resolve(z_)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Sg("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),z_):this.tr(e,t)))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let n,r,o,i,a,s,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(Sg("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,i=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,a=Date.now(),this.removeTargets(e,n,t)))).next((t=>(o=t,s=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),xg()<=Rn.DEBUG&&Sg("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(i-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(a-i)+"ms\n"+"\tRemoved ".concat(o," targets in ")+(s-a)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-s)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),hv.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:e}))))}}function ox(e,t){return new rx(e,t)}class ix{constructor(e,t){this.db=e,this.garbageCollector=ox(this,t)}Xn(e){const t=this.nr(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}nr(e){let t=0;return this.er(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}er(e,t){return this.rr(e,((e,n)=>t(n)))}addReference(e,t,n){return ax(e,n)}removeReference(e,t,n){return ax(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return ax(e,t)}ir(e,t){return function(e,t){let n=!1;return Q_(e).Y((r=>W_(e,r,t).next((e=>(e&&(n=!0),hv.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.rr(e,((i,a)=>{if(a<=t){const t=this.ir(e,i).next((t=>{if(!t)return o++,n.getEntry(e,i).next((()=>(n.removeEntry(i,Qg.min()),Z_(e).delete(function(e){return[0,Rv(e.path)]}(i)))))}));r.push(t)}})).next((()=>hv.waitFor(r))).next((()=>n.apply(e))).next((()=>o))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return ax(e,t)}rr(e,t){const n=Z_(e);let r,o=kv.oe;return n.J({index:"documentTargetsIndex"},((e,n)=>{let[i,a]=e,{path:s,sequenceNumber:l}=n;0===i?(o!==kv.oe&&t(new Zg(Dv(r)),o),o=l,r=s):o=kv.oe})).next((()=>{o!==kv.oe&&t(new Zg(Dv(r)),o)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function ax(e,t){return Z_(e).put(function(e,t){return{targetId:0,path:Rv(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class sx{constructor(){this.changes=new Xb((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,eb.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?hv.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class lx{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return hx(e).put(n)}removeEntry(e,t,n){return hx(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],YC(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.sr(e,n))))}getEntry(e,t){let n=eb.newInvalidDocument(t);return hx(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(px(t))},((e,r)=>{n=this._r(t,r)})).next((()=>n))}ar(e,t){let n={size:0,document:eb.newInvalidDocument(t)};return hx(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(px(t))},((e,r)=>{n={document:this._r(t,r),size:H_(r)}})).next((()=>n))}getEntries(e,t){let n=Jb();return this.ur(e,t,((e,t)=>{const r=this._r(e,t);n=n.insert(e,r)})).next((()=>n))}cr(e,t){let n=Jb(),r=new cy(Zg.comparator);return this.ur(e,t,((e,t)=>{const o=this._r(e,t);n=n.insert(e,o),r=r.insert(e,H_(t))})).next((()=>({documents:n,lr:r})))}ur(e,t,n){if(t.isEmpty())return hv.resolve();let r=new hy(mx);t.forEach((e=>r=r.add(e)));const o=IDBKeyRange.bound(px(r.first()),px(r.last())),i=r.getIterator();let a=i.getNext();return hx(e).J({index:"documentKeyIndex",range:o},((e,t,r)=>{const o=Zg.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;a&&mx(a,o)<0;)n(a,null),a=i.getNext();a&&a.isEqual(o)&&(n(a,t),a=i.hasNext()?i.getNext():null),a?r.$(px(a)):r.done()})).next((()=>{for(;a;)n(a,null),a=i.hasNext()?i.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r,o){const i=t.path,a=[i.popLast().toArray(),i.lastSegment(),YC(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],s=[i.popLast().toArray(),i.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return hx(e).U(IDBKeyRange.bound(a,s,!0)).next((e=>{null==o||o.incrementDocumentReadCount(e.length);let n=Jb();for(const o of e){const e=this._r(Zg.fromSegments(o.prefixPath.concat(o.collectionGroup,o.documentId)),o);e.isFoundDocument()&&(Gb(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let o=Jb();const i=fx(t,n),a=fx(t,sv.max());return hx(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(i,a,!0)},((e,t,n)=>{const i=this._r(Zg.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);o=o.insert(i.key,i),o.size===r&&n.done()})).next((()=>o))}newChangeBuffer(e){return new ux(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return dx(e).get("remoteDocumentGlobalKey").next((e=>(Rg(!!e),e)))}sr(e,t){return dx(e).put("remoteDocumentGlobalKey",t)}_r(e,t){if(t){const e=function(e,t){let n;if(t.document)n=AC(e.ht,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=Zg.fromSegments(t.noDocument.path),r=$C(t.noDocument.readTime);n=eb.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Tg();{const e=Zg.fromSegments(t.unknownDocument.path),r=$C(t.unknownDocument.version);n=eb.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new Kg(e[0],e[1]);return Qg.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(Qg.min()))return e}return eb.newInvalidDocument(e)}}function cx(e){return new lx(e)}class ux extends sx{constructor(e,t){super(),this.hr=e,this.trackRemovals=t,this.Pr=new Xb((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new hy(((e,t)=>qg(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((o,i)=>{const a=this.Pr.get(o);if(t.push(this.hr.removeEntry(e,o,a.readTime)),i.isValidDocument()){const s=QC(this.hr.serializer,i);r=r.add(o.path.popLast());const l=H_(s);n+=l-a.size,t.push(this.hr.addEntry(e,o,s))}else if(n-=a.size,this.trackRemovals){const n=QC(this.hr.serializer,i.convertToNoDocument(Qg.min()));t.push(this.hr.addEntry(e,o,n))}})),r.forEach((n=>{t.push(this.hr.indexManager.addToCollectionParentIndex(e,n))})),t.push(this.hr.updateMetadata(e,n)),hv.waitFor(t)}getFromCache(e,t){return this.hr.ar(e,t).next((e=>(this.Pr.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this.hr.cr(e,t).next((e=>{let{documents:t,lr:n}=e;return n.forEach(((e,n)=>{this.Pr.set(e,{size:n,readTime:t.get(e).readTime})})),t}))}}function dx(e){return iy(e,"remoteDocumentGlobal")}function hx(e){return iy(e,"remoteDocumentsV14")}function px(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function fx(e,t){const n=t.documentKey.path.toArray();return[e,YC(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function mx(e,t){const n=e.path.toArray(),r=t.path.toArray();let o=0;for(let i=0;i<n.length-2&&i<r.length-2;++i)if(o=qg(n[i],r[i]),o)return o;return o=qg(n.length,r.length),o||(o=qg(n[n.length-2],r[r.length-2]),o||qg(n[n.length-1],r[r.length-1]))}class gx{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class vx{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Dw(n.mutation,e,my.empty(),Kg.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,sw()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:sw();const r=nw();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=ew();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=nw();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,sw())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let o=Jb();const i=ow(),a=ow();return t.forEach(((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof Lw)?o=o.insert(t.key,t):void 0!==a?(i.set(t.key,a.mutation.getFieldMask()),Dw(a.mutation,t,a.mutation.getFieldMask(),Kg.now())):i.set(t.key,my.empty())})),this.recalculateAndSaveOverlays(e,o).next((e=>(e.forEach(((e,t)=>i.set(e,t))),t.forEach(((e,t)=>{var n;return a.set(e,new gx(t,null!==(n=i.get(e))&&void 0!==n?n:null))})),a)))}recalculateAndSaveOverlays(e,t){const n=ow();let r=new cy(((e,t)=>e-t)),o=sw();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const o of e)o.keys().forEach((e=>{const i=t.get(e);if(null===i)return;let a=n.get(e)||my.empty();a=o.applyToLocalView(i,a),n.set(e,a);const s=(r.get(o.batchId)||sw()).add(e);r=r.insert(o.batchId,s)}))})).next((()=>{const i=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),s=r.key,l=r.value,c=rw();l.forEach((e=>{if(!o.has(e)){const r=Pw(t.get(e),n.get(e));null!==r&&c.set(e,r),o=o.add(e)}})),i.push(this.documentOverlayCache.saveOverlays(e,s,c))}return hv.waitFor(i)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Zg.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Fb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((o=>{const i=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-o.size):hv.resolve(nw());let a=-1,s=o;return i.next((t=>hv.forEach(t,((t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),o.get(t)?hv.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{s=s.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,o))).next((()=>this.computeViews(e,s,t,sw()))).next((e=>({batchId:a,changes:tw(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Zg(t)).next((e=>{let t=ew();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const o=t.collectionGroup;let i=ew();return this.indexManager.getCollectionParents(e,o).next((a=>hv.forEach(a,(a=>{const s=function(e,t){return new Ob(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(o));return this.getDocumentsMatchingCollectionQuery(e,s,n,r).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((i=>(o=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,o,r)))).next((e=>{o.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,eb.newInvalidDocument(r)))}));let n=ew();return e.forEach(((e,r)=>{const i=o.get(e);void 0!==i&&Dw(i.mutation,r,my.empty(),Kg.now()),Gb(t,r)&&(n=n.insert(e,r))})),n}))}}class yx{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return hv.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:wC(e.createTime)}}(t)),hv.resolve()}getNamedQuery(e,t){return hv.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(e){return{name:e.name,query:t_(e.bundledQuery),readTime:wC(e.readTime)}}(t)),hv.resolve()}}class bx{constructor(){this.overlays=new cy(Zg.comparator),this.dr=new Map}getOverlay(e,t){return hv.resolve(this.overlays.get(t))}getOverlays(e,t){const n=nw();return hv.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.Tt(e,t,r)})),hv.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.dr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.dr.delete(n)),hv.resolve()}getOverlaysForCollection(e,t,n){const r=nw(),o=t.length+1,i=new Zg(t.child("")),a=this.overlays.getIteratorFrom(i);for(;a.hasNext();){const e=a.getNext().value,i=e.getKey();if(!t.isPrefixOf(i.path))break;i.path.length===o&&e.largestBatchId>n&&r.set(e.getKey(),e)}return hv.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let o=new cy(((e,t)=>e-t));const i=this.overlays.getIterator();for(;i.hasNext();){const e=i.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=o.get(e.largestBatchId);null===t&&(t=nw(),o=o.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=nw(),s=o.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach(((e,t)=>a.set(e,t))),!(a.size()>=r)););return hv.resolve(a)}Tt(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.dr.get(r.largestBatchId).delete(n.key);this.dr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new qw(t,n));let o=this.dr.get(t);void 0===o&&(o=sw(),this.dr.set(t,o)),this.dr.set(t,o.add(n.key))}}class wx{constructor(){this.sessionToken=vy.EMPTY_BYTE_STRING}getSessionToken(e){return hv.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,hv.resolve()}}class Cx{constructor(){this.Er=new hy(_x.Ar),this.Rr=new hy(_x.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(e,t){const n=new _x(e,t);this.Er=this.Er.add(n),this.Rr=this.Rr.add(n)}mr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.gr(new _x(e,t))}pr(e,t){e.forEach((e=>this.removeReference(e,t)))}yr(e){const t=new Zg(new Xg([])),n=new _x(t,e),r=new _x(t,e+1),o=[];return this.Rr.forEachInRange([n,r],(e=>{this.gr(e),o.push(e.key)})),o}wr(){this.Er.forEach((e=>this.gr(e)))}gr(e){this.Er=this.Er.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new Zg(new Xg([])),n=new _x(t,e),r=new _x(t,e+1);let o=sw();return this.Rr.forEachInRange([n,r],(e=>{o=o.add(e.key)})),o}containsKey(e){const t=new _x(e,0),n=this.Er.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class _x{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return Zg.comparator(e.key,t.key)||qg(e.br,t.br)}static Vr(e,t){return qg(e.br,t.br)||Zg.comparator(e.key,t.key)}}class xx{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new hy(_x.Ar)}checkEmpty(e){return hv.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const o=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new Uw(o,t,n,r);this.mutationQueue.push(i);for(const a of r)this.vr=this.vr.add(new _x(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return hv.resolve(i)}lookupMutationBatch(e,t){return hv.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Fr(n),o=r<0?0:r;return hv.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return hv.resolve(0===this.mutationQueue.length?-1:this.Dr-1)}getAllMutationBatches(e){return hv.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new _x(t,0),r=new _x(t,Number.POSITIVE_INFINITY),o=[];return this.vr.forEachInRange([n,r],(e=>{const t=this.Cr(e.br);o.push(t)})),hv.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new hy(qg);return t.forEach((e=>{const t=new _x(e,0),r=new _x(e,Number.POSITIVE_INFINITY);this.vr.forEachInRange([t,r],(e=>{n=n.add(e.br)}))})),hv.resolve(this.Mr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let o=n;Zg.isDocumentKey(o)||(o=o.child(""));const i=new _x(new Zg(o),0);let a=new hy(qg);return this.vr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.br)),!0)}),i),hv.resolve(this.Mr(a))}Mr(e){const t=[];return e.forEach((e=>{const n=this.Cr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Rg(0===this.Or(t.batchId,"removed")),this.mutationQueue.shift();let n=this.vr;return hv.forEach(t.mutations,(r=>{const o=new _x(r.key,t.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.vr=n}))}Bn(e){}containsKey(e,t){const n=new _x(t,0),r=this.vr.firstAfterOrEqual(n);return hv.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,hv.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Sx{constructor(e){this.Nr=e,this.docs=new cy(Zg.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),o=r?r.size:0,i=this.Nr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:i}),this.size+=i-o,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return hv.resolve(n?n.document.mutableCopy():eb.newInvalidDocument(t))}getEntries(e,t){let n=Jb();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():eb.newInvalidDocument(e))})),hv.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let o=Jb();const i=t.path,a=new Zg(i.child("__id-9223372036854775808__")),s=this.docs.getIteratorFrom(a);for(;s.hasNext();){const{key:e,value:{document:a}}=s.getNext();if(!i.isPrefixOf(e.path))break;e.path.length>i.length+1||lv(av(a),n)<=0||(r.has(a.key)||Gb(t,a))&&(o=o.insert(a.key,a.mutableCopy()))}return hv.resolve(o)}getAllFromCollectionGroup(e,t,n,r){Tg()}Br(e,t){return hv.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new kx(this)}getSize(e){return hv.resolve(this.size)}}class kx extends sx{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.hr.addEntry(e,r)):this.hr.removeEntry(n)})),hv.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}class Ix{constructor(e){this.persistence=e,this.Lr=new Xb((e=>Eb(e)),Tb),this.lastRemoteSnapshotVersion=Qg.min(),this.highestTargetId=0,this.kr=0,this.qr=new Cx,this.targetCount=0,this.Qr=Y_.qn()}forEachTarget(e,t){return this.Lr.forEach(((e,n)=>t(n))),hv.resolve()}getLastRemoteSnapshotVersion(e){return hv.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return hv.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),hv.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.kr&&(this.kr=t),hv.resolve()}Un(e){this.Lr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new Y_(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,hv.resolve()}updateTargetData(e,t){return this.Un(t),hv.resolve()}removeTargetData(e,t){return this.Lr.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,hv.resolve()}removeTargets(e,t,n){let r=0;const o=[];return this.Lr.forEach(((i,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.Lr.delete(i),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)})),hv.waitFor(o).next((()=>r))}getTargetCount(e){return hv.resolve(this.targetCount)}getTargetData(e,t){const n=this.Lr.get(t)||null;return hv.resolve(n)}addMatchingKeys(e,t,n){return this.qr.mr(t,n),hv.resolve()}removeMatchingKeys(e,t,n){this.qr.pr(t,n);const r=this.persistence.referenceDelegate,o=[];return r&&t.forEach((t=>{o.push(r.markPotentiallyOrphaned(e,t))})),hv.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),hv.resolve()}getMatchingKeysForTargetId(e,t){const n=this.qr.Sr(t);return hv.resolve(n)}containsKey(e,t){return hv.resolve(this.qr.containsKey(t))}}class Ex{constructor(e,t){this.Kr={},this.overlays={},this.$r=new kv(0),this.Ur=!1,this.Ur=!0,this.Wr=new wx,this.referenceDelegate=e(this),this.Gr=new Ix(this),this.indexManager=new A_,this.remoteDocumentCache=function(e){return new Sx(e)}((e=>this.referenceDelegate.zr(e))),this.serializer=new KC(t),this.jr=new yx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new bx,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Kr[e.toKey()];return n||(n=new xx(t,this.referenceDelegate),this.Kr[e.toKey()]=n),n}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,n){Sg("MemoryPersistence","Starting transaction:",e);const r=new Tx(this.$r.next());return this.referenceDelegate.Hr(),n(r).next((e=>this.referenceDelegate.Jr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Yr(e,t){return hv.or(Object.values(this.Kr).map((n=>()=>n.containsKey(e,t))))}}class Tx extends uv{constructor(e){super(),this.currentSequenceNumber=e}}class Rx{constructor(e){this.persistence=e,this.Zr=new Cx,this.Xr=null}static ei(e){return new Rx(e)}get ti(){if(this.Xr)return this.Xr;throw Tg()}addReference(e,t,n){return this.Zr.addReference(n,t),this.ti.delete(n.toString()),hv.resolve()}removeReference(e,t,n){return this.Zr.removeReference(n,t),this.ti.add(n.toString()),hv.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),hv.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach((e=>this.ti.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.ti.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return hv.forEach(this.ti,(n=>{const r=Zg.fromPath(n);return this.ni(e,r).next((e=>{e||t.removeEntry(r,Qg.min())}))})).next((()=>(this.Xr=null,t.apply(e))))}updateLimboDocument(e,t){return this.ni(e,t).next((e=>{e?this.ti.delete(t.toString()):this.ti.add(t.toString())}))}zr(e){return 0}ni(e,t){return hv.or([()=>hv.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class Px{constructor(e,t){this.persistence=e,this.ri=new Xb((e=>Rv(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=ox(this,t)}static ei(e,t){return new Px(e,t)}Hr(){}Jr(e){return hv.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}nr(e){let t=0;return this.er(e,(e=>{t++})).next((()=>t))}er(e,t){return hv.forEach(this.ri,((n,r)=>this.ir(e,n,r).next((e=>e?hv.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.Br(e,(r=>this.ir(e,r,t).next((e=>{e||(n++,o.removeEntry(r,Qg.min()))})))).next((()=>o.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),hv.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.ri.set(n,e.currentSequenceNumber),hv.resolve()}removeReference(e,t,n){return this.ri.set(n,e.currentSequenceNumber),hv.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),hv.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Fy(e.data.value)),t}ir(e,t,n){return hv.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.ri.get(t);return hv.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Ax{constructor(e){this.serializer=e}O(e,t,n,r){const o=new pv("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ov,{unique:!0}),e.createObjectStore("documentMutations")}(e),Dx(e),function(e){e.createObjectStore("remoteDocuments")}(e));let i=hv.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Dx(e)),i=i.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Qg.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(o)))),n<4&&r>=4&&(0!==n&&(i=i.next((()=>function(e,t){return t.store("mutations").U().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ov,{unique:!0});const r=t.store("mutations"),o=n.map((e=>r.put(e)));return hv.waitFor(o)}))}(e,o)))),i=i.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(i=i.next((()=>this.ii(o)))),n<6&&r>=6&&(i=i.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.si(o))))),n<7&&r>=7&&(i=i.next((()=>this.oi(o)))),n<8&&r>=8&&(i=i.next((()=>this._i(e,o)))),n<9&&r>=9&&(i=i.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(i=i.next((()=>this.ai(o)))),n<11&&r>=11&&(i=i.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(i=i.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:Qv});t.createIndex("collectionPathOverlayIndex",Yv,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Xv,{unique:!1})}(e)}))),n<13&&r>=13&&(i=i.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:Fv});t.createIndex("documentKeyIndex",Bv),t.createIndex("collectionGroupIndex",jv)}(e))).next((()=>this.ui(e,o))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(i=i.next((()=>this.ci(e,o)))),n<15&&r>=15&&(i=i.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:qv}).createIndex("sequenceNumberIndex",Wv,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Gv}).createIndex("documentKeyIndex",Kv,{unique:!1})}(e)))),n<16&&r>=16&&(i=i.next((()=>{t.objectStore("indexState").clear()})).next((()=>{t.objectStore("indexEntries").clear()}))),n<17&&r>=17&&(i=i.next((()=>{!function(e){e.createObjectStore("globals",{keyPath:"name"})}(e)}))),i}si(e){let t=0;return e.store("remoteDocuments").J(((e,n)=>{t+=H_(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}ii(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.U().next((t=>hv.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.U("userMutationsIndex",r).next((n=>hv.forEach(n,(n=>{Rg(n.userId===t.userId);const r=JC(this.serializer,n);return U_(e,t.userId,r).next((()=>{}))}))))}))))}oi(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const r=[];return n.J(((n,o)=>{const i=new Xg(n),a=function(e){return[0,Rv(e)]}(i);r.push(t.get(a).next((n=>n?hv.resolve():(n=>t.put({targetId:0,path:Rv(n),sequenceNumber:e.highestListenSequenceNumber}))(i))))})).next((()=>hv.waitFor(r)))}))}_i(e,t){e.createObjectStore("collectionParents",{keyPath:Hv});const n=t.store("collectionParents"),r=new D_,o=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:Rv(r)})}};return t.store("remoteDocuments").J({H:!0},((e,t)=>{const n=new Xg(e);return o(n.popLast())})).next((()=>t.store("documentMutations").J({H:!0},((e,t)=>{let[n,r,i]=e;const a=Dv(r);return o(a.popLast())}))))}ai(e){const t=e.store("targets");return t.J(((e,n)=>{const r=ZC(n),o=e_(this.serializer,r);return t.put(o)}))}ui(e,t){const n=t.store("remoteDocuments"),r=[];return n.J(((e,n)=>{const o=t.store("remoteDocumentsV14"),i=function(e){return e.document?new Zg(Xg.fromString(e.document.name).popFirst(5)):e.noDocument?Zg.fromSegments(e.noDocument.path):e.unknownDocument?Zg.fromSegments(e.unknownDocument.path):Tg()}(n).path.toArray(),a={prefixPath:i.slice(0,i.length-2),collectionGroup:i[i.length-2],documentId:i[i.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(o.put(a))})).next((()=>hv.waitFor(r)))}ci(e,t){const n=t.store("mutations"),r=cx(this.serializer),o=new Ex(Rx.ei,this.serializer.ht);return n.U().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:sw();JC(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),hv.forEach(n,((e,n)=>{const i=new wg(n),a=l_.Pt(this.serializer,i),s=o.getIndexManager(i),l=q_.Pt(i,this.serializer,s,o.referenceDelegate);return new vx(r,l,a,s).recalculateAndSaveOverlaysForDocumentKeys(new oy(t,kv.oe),e).next()}))}))}}function Dx(e){e.createObjectStore("targetDocuments",{keyPath:Vv}).createIndex("documentTargetsIndex",Uv,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",zv,{unique:!0}),e.createObjectStore("targetGlobal")}const Ox="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Nx{constructor(e,t,n,r,o,i,a,s,l,c){let u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:17;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.li=o,this.window=i,this.document=a,this.hi=l,this.Pi=c,this.Ti=u,this.$r=null,this.Ur=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ii=null,this.inForeground=!1,this.di=null,this.Ei=null,this.Ai=Number.NEGATIVE_INFINITY,this.Ri=e=>Promise.resolve(),!Nx.p())throw new Dg(Ag.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ix(this,r),this.Vi=t+"main",this.serializer=new KC(s),this.mi=new fv(this.Vi,this.Ti,new Ax(this.serializer)),this.Wr=new u_,this.Gr=new X_(this.referenceDelegate,this.serializer),this.remoteDocumentCache=cx(this.serializer),this.jr=new i_,this.window&&this.window.localStorage?this.fi=this.window.localStorage:(this.fi=null,!1===c&&kg("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Dg(Ag.FAILED_PRECONDITION,Ox);return this.pi(),this.yi(),this.wi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Gr.getHighestSequenceNumber(e)))})).then((e=>{this.$r=new kv(e,this.hi)})).then((()=>{this.Ur=!0})).catch((e=>(this.mi&&this.mi.close(),Promise.reject(e))))}Si(e){return this.Ri=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.mi.B((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.li.enqueueAndForget((async()=>{this.started&&await this.gi()})))}gi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Lx(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.bi(e).next((e=>{e||(this.isPrimary=!1,this.li.enqueueRetryable((()=>this.Ri(!1))))}))})).next((()=>this.Di(e))).next((t=>this.isPrimary&&!t?this.vi(e).next((()=>!1)):!!t&&this.Ci(e).next((()=>!0)))))).catch((e=>{if(yv(e))return Sg("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Sg("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.li.enqueueRetryable((()=>this.Ri(e))),this.isPrimary=e}))}bi(e){return Mx(e).get("owner").next((e=>hv.resolve(this.Fi(e))))}Mi(e){return Lx(e).delete(this.clientId)}async xi(){if(this.isPrimary&&!this.Oi(this.Ai,18e5)){this.Ai=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=iy(e,"clientMetadata");return t.U().next((e=>{const n=this.Ni(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return hv.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.fi)for(const t of e)this.fi.removeItem(this.Bi(t.clientId))}}wi(){this.Ei=this.li.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.gi().then((()=>this.xi())).then((()=>this.wi()))))}Fi(e){return!!e&&e.ownerId===this.clientId}Di(e){return this.Pi?hv.resolve(!0):Mx(e).get("owner").next((t=>{if(null!==t&&this.Oi(t.leaseTimestampMs,5e3)&&!this.Li(t.ownerId)){if(this.Fi(t)&&this.networkEnabled)return!0;if(!this.Fi(t)){if(!t.allowTabSynchronization)throw new Dg(Ag.FAILED_PRECONDITION,Ox);return!1}}return!(!this.networkEnabled||!this.inForeground)||Lx(e).U().next((e=>void 0===this.Ni(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&Sg("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e)))}async shutdown(){this.Ur=!1,this.ki(),this.Ei&&(this.Ei.cancel(),this.Ei=null),this.qi(),this.Qi(),await this.mi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new oy(e,kv.oe);return this.vi(t).next((()=>this.Mi(t)))})),this.mi.close(),this.Ki()}Ni(e,t){return e.filter((e=>this.Oi(e.updateTimeMs,t)&&!this.Li(e.clientId)))}$i(){return this.runTransaction("getActiveClients","readonly",(e=>Lx(e).U().next((e=>this.Ni(e,18e5).map((e=>e.clientId))))))}get started(){return this.Ur}getGlobalsCache(){return this.Wr}getMutationQueue(e,t){return q_.Pt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new N_(e,this.serializer.ht.databaseId)}getDocumentOverlayCache(e){return l_.Pt(this.serializer,e)}getBundleCache(){return this.jr}runTransaction(e,t,n){Sg("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",o=function(e){return 17===e?ry:16===e?ny:15===e?ty:14===e?ey:13===e?Zv:12===e?Jv:11===e?$v:void Tg()}(this.Ti);let i;return this.mi.runTransaction(e,r,o,(r=>(i=new oy(r,this.$r?this.$r.next():kv.oe),"readwrite-primary"===t?this.bi(i).next((e=>!!e||this.Di(i))).next((t=>{if(!t)throw kg("Failed to obtain primary lease for action '".concat(e,"'.")),this.isPrimary=!1,this.li.enqueueRetryable((()=>this.Ri(!1))),new Dg(Ag.FAILED_PRECONDITION,cv);return n(i)})).next((e=>this.Ci(i).next((()=>e)))):this.Ui(i).next((()=>n(i)))))).then((e=>(i.raiseOnCommittedEvent(),e)))}Ui(e){return Mx(e).get("owner").next((e=>{if(null!==e&&this.Oi(e.leaseTimestampMs,5e3)&&!this.Li(e.ownerId)&&!this.Fi(e)&&!(this.Pi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Dg(Ag.FAILED_PRECONDITION,Ox)}))}Ci(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Mx(e).put("owner",t)}static p(){return fv.p()}vi(e){const t=Mx(e);return t.get("owner").next((e=>this.Fi(e)?(Sg("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):hv.resolve()))}Oi(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(kg("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}pi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.di=()=>{this.li.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.gi())))},this.document.addEventListener("visibilitychange",this.di),this.inForeground="visible"===this.document.visibilityState)}qi(){this.di&&(this.document.removeEventListener("visibilitychange",this.di),this.di=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Ii=()=>{this.ki();const e=/(?:Version|Mobile)\/1[456]/;Yt()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.li.enterRestrictedMode(!0),this.li.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Ii))}Qi(){this.Ii&&(this.window.removeEventListener("pagehide",this.Ii),this.Ii=null)}Li(e){var t;try{const n=null!==(null===(t=this.fi)||void 0===t?void 0:t.getItem(this.Bi(e)));return Sg("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return kg("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}ki(){if(this.fi)try{this.fi.setItem(this.Bi(this.clientId),String(Date.now()))}catch(D9){kg("Failed to set zombie client id.",D9)}}Ki(){if(this.fi)try{this.fi.removeItem(this.Bi(this.clientId))}catch(D9){}}Bi(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}function Mx(e){return iy(e,"owner")}function Lx(e){return iy(e,"clientMetadata")}function Fx(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class Bx{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Wi=n,this.Gi=r}static zi(e,t){let n=sw(),r=sw();for(const o of t.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new Bx(e,t.fromCache,n,r)}}class jx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class zx{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=Yt()?8:mv(Vt())>0?6:4}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,n,r){const o={result:null};return this.Xi(e,t).next((e=>{o.result=e})).next((()=>{if(!o.result)return this.es(e,t,r,n).next((e=>{o.result=e}))})).next((()=>{if(o.result)return;const n=new jx;return this.ts(e,t,n).next((r=>{if(o.result=r,this.Hi)return this.ns(e,t,n,r.size)}))})).next((()=>o.result))}ns(e,t,n,r){return n.documentReadCount<this.Ji?(xg()<=Rn.DEBUG&&Sg("QueryEngine","SDK will not create cache indexes for query:",Wb(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),hv.resolve()):(xg()<=Rn.DEBUG&&Sg("QueryEngine","Query:",Wb(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Yi*r?(xg()<=Rn.DEBUG&&Sg("QueryEngine","The SDK decides to create cache indexes for query:",Wb(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,jb(t))):hv.resolve())}Xi(e,t){if(Lb(t))return hv.resolve(null);let n=jb(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Ub(t,null,"F"),n=jb(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const o=sw(...r);return this.Zi.getDocuments(e,o).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const i=this.rs(t,r);return this.ss(t,i,o,n.readTime)?this.Xi(e,Ub(t,null,"F")):this.os(e,i,t,n)}))))})))))}es(e,t,n,r){return Lb(t)||r.isEqual(Qg.min())?hv.resolve(null):this.Zi.getDocuments(e,n).next((o=>{const i=this.rs(t,o);return this.ss(t,i,n,r)?hv.resolve(null):(xg()<=Rn.DEBUG&&Sg("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Wb(t)),this.os(e,i,t,iv(r,-1)).next((e=>e)))}))}rs(e,t){let n=new hy(Qb(e));return t.forEach(((t,r)=>{Gb(e,r)&&(n=n.add(r))})),n}ss(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}ts(e,t,n){return xg()<=Rn.DEBUG&&Sg("QueryEngine","Using full collection scan to execute query:",Wb(t)),this.Zi.getDocumentsMatchingQuery(e,t,sv.min(),n)}os(e,t,n,r){return this.Zi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class Vx{constructor(e,t,n,r){this.persistence=e,this._s=t,this.serializer=r,this.us=new cy(qg),this.cs=new Xb((e=>Eb(e)),Tb),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(n)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vx(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.us)))}}function Ux(e,t,n,r){return new Vx(e,t,n,r)}async function Hx(e,t){const n=Pg(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((o=>(r=o,n.Ps(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const o=[],i=[];let a=sw();for(const e of r){o.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next((e=>({Ts:e,removedBatchIds:o,addedBatchIds:i})))}))}))}function qx(e){const t=Pg(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Gr.getLastRemoteSnapshotVersion(e)))}function Wx(e,t,n){let r=sw(),o=sw();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Jb();return n.forEach(((n,i)=>{const a=e.get(n);i.isFoundDocument()!==a.isFoundDocument()&&(o=o.add(n)),i.isNoDocument()&&i.version.isEqual(Qg.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):Sg("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),{Is:r,ds:o}}))}function Gx(e,t){const n=Pg(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Kx(e,t){const n=Pg(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Gr.getTargetData(e,t).next((o=>o?(r=o,hv.resolve(r)):n.Gr.allocateTargetId(e).next((o=>(r=new GC(t,o,"TargetPurposeListen",e.currentSequenceNumber),n.Gr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.us.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.us=n.us.insert(e.targetId,e),n.cs.set(t,e.targetId)),e}))}async function Qx(e,t,n){const r=Pg(e),o=r.us.get(t),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,(e=>r.persistence.referenceDelegate.removeTarget(e,o)))}catch(e){if(!yv(e))throw e;Sg("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.us=r.us.remove(t),r.cs.delete(o.target)}function Yx(e,t,n){const r=Pg(e);let o=Qg.min(),i=sw();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=Pg(e),o=r.cs.get(n);return void 0!==o?hv.resolve(r.us.get(o)):r.Gr.getTargetData(t,n)}(r,e,jb(t)).next((t=>{if(t)return o=t.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{i=e}))})).next((()=>r._s.getDocumentsMatchingQuery(e,t,n?o:Qg.min(),n?i:sw()))).next((e=>(Jx(r,Kb(t),e),{documents:e,Es:i})))))}function Xx(e,t){const n=Pg(e),r=Pg(n.Gr),o=n.us.get(t);return o?Promise.resolve(o.target):n.persistence.runTransaction("Get target data","readonly",(e=>r.ut(e,t).next((e=>e?e.target:null))))}function $x(e,t){const n=Pg(e),r=n.ls.get(t)||Qg.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.hs.getAllFromCollectionGroup(e,t,iv(r,-1),Number.MAX_SAFE_INTEGER))).then((e=>(Jx(n,t,e),e)))}function Jx(e,t,n){let r=e.ls.get(t)||Qg.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ls.set(t,r)}async function Zx(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:sw();const r=await Kx(e,jb(t_(t.bundledQuery))),o=Pg(e);return o.persistence.runTransaction("Save named query","readwrite",(e=>{const i=wC(t.readTime);if(r.snapshotVersion.compareTo(i)>=0)return o.jr.saveNamedQuery(e,t);const a=r.withResumeToken(vy.EMPTY_BYTE_STRING,i);return o.us=o.us.insert(a.targetId,a),o.Gr.updateTargetData(e,a).next((()=>o.Gr.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>o.Gr.addMatchingKeys(e,n,r.targetId))).next((()=>o.jr.saveNamedQuery(e,t)))}))}function eS(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function tS(e,t,n){let r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function nS(e,t){return"firestore_targets_".concat(e,"_").concat(t)}class rS{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static fs(e,t,n){const r=JSON.parse(n);let o,i="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code,i&&(o=new Dg(r.error.code,r.error.message))),i?new rS(e,t,r.state,o):(kg("SharedClientState","Failed to parse mutation state for ID '".concat(t,"': ").concat(n)),null)}gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class oS{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static fs(e,t){const n=JSON.parse(t);let r,o="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return o&&n.error&&(o="string"==typeof n.error.message&&"string"==typeof n.error.code,o&&(r=new Dg(n.error.code,n.error.message))),o?new oS(e,n.state,r):(kg("SharedClientState","Failed to parse target state for ID '".concat(e,"': ").concat(t)),null)}gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class iS{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static fs(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,o=cw();for(let i=0;r&&i<n.activeTargetIds.length;++i)r=Tv(n.activeTargetIds[i]),o=o.add(n.activeTargetIds[i]);return r?new iS(e,o):(kg("SharedClientState","Failed to parse client data for instance '".concat(e,"': ").concat(t)),null)}}class aS{constructor(e,t){this.clientId=e,this.onlineState=t}static fs(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new aS(t.clientId,t.onlineState):(kg("SharedClientState","Failed to parse online state: ".concat(e)),null)}}class sS{constructor(){this.activeTargetIds=cw()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lS{constructor(e,t,n,r,o){this.window=e,this.li=t,this.persistenceKey=n,this.ws=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Ss=this.bs.bind(this),this.Ds=new cy(qg),this.started=!1,this.vs=[];const i=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Cs=eS(this.persistenceKey,this.ws),this.Fs=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.Ds=this.Ds.insert(this.ws,new sS),this.Ms=new RegExp("^firestore_clients_".concat(i,"_([^_]*)$")),this.xs=new RegExp("^firestore_mutations_".concat(i,"_(\\d+)(?:_(.*))?$")),this.Os=new RegExp("^firestore_targets_".concat(i,"_(\\d+)$")),this.Ns=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Bs=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Ss)}static p(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.$i();for(const n of e){if(n===this.ws)continue;const e=this.getItem(eS(this.persistenceKey,n));if(e){const t=iS.fs(n,e);t&&(this.Ds=this.Ds.insert(t.clientId,t))}}this.Ls();const t=this.storage.getItem(this.Ns);if(t){const e=this.ks(t);e&&this.qs(e)}for(const n of this.vs)this.bs(n);this.vs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Fs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Qs(this.Ds)}isActiveQueryTarget(e){let t=!1;return this.Ds.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Ks(e,"pending")}updateMutationState(e,t,n){this.Ks(e,t,n),this.$s(e)}addLocalQueryTarget(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n="not-current";if(this.isActiveQueryTarget(e)){const t=this.storage.getItem(nS(this.persistenceKey,e));if(t){const r=oS.fs(e,t);r&&(n=r.state)}}return t&&this.Us.ps(e),this.Ls(),n}removeLocalQueryTarget(e){this.Us.ys(e),this.Ls()}isLocalQueryTarget(e){return this.Us.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(nS(this.persistenceKey,e))}updateQueryState(e,t,n){this.Ws(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.$s(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.Gs(e)}notifyBundleLoaded(e){this.zs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Ss),this.removeItem(this.Cs),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Sg("SharedClientState","READ",e,t),t}setItem(e,t){Sg("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Sg("SharedClientState","REMOVE",e),this.storage.removeItem(e)}bs(e){const t=e;if(t.storageArea===this.storage){if(Sg("SharedClientState","EVENT",t.key,t.newValue),t.key===this.Cs)return void kg("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.li.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.Ms.test(t.key)){if(null==t.newValue){const e=this.js(t.key);return this.Hs(e,null)}{const e=this.Js(t.key,t.newValue);if(e)return this.Hs(e.clientId,e)}}else if(this.xs.test(t.key)){if(null!==t.newValue){const e=this.Ys(t.key,t.newValue);if(e)return this.Zs(e)}}else if(this.Os.test(t.key)){if(null!==t.newValue){const e=this.Xs(t.key,t.newValue);if(e)return this.eo(e)}}else if(t.key===this.Ns){if(null!==t.newValue){const e=this.ks(t.newValue);if(e)return this.qs(e)}}else if(t.key===this.Fs){const e=function(e){let t=kv.oe;if(null!=e)try{const n=JSON.parse(e);Rg("number"==typeof n),t=n}catch(e){kg("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==kv.oe&&this.sequenceNumberHandler(e)}else if(t.key===this.Bs){const e=this.no(t.newValue);await Promise.all(e.map((e=>this.syncEngine.ro(e))))}}else this.vs.push(t)}))}}get Us(){return this.Ds.get(this.ws)}Ls(){this.setItem(this.Cs,this.Us.gs())}Ks(e,t,n){const r=new rS(this.currentUser,e,t,n),o=tS(this.persistenceKey,this.currentUser,e);this.setItem(o,r.gs())}$s(e){const t=tS(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Gs(e){const t={clientId:this.ws,onlineState:e};this.storage.setItem(this.Ns,JSON.stringify(t))}Ws(e,t,n){const r=nS(this.persistenceKey,e),o=new oS(e,t,n);this.setItem(r,o.gs())}zs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Bs,t)}js(e){const t=this.Ms.exec(e);return t?t[1]:null}Js(e,t){const n=this.js(e);return iS.fs(n,t)}Ys(e,t){const n=this.xs.exec(e),r=Number(n[1]),o=void 0!==n[2]?n[2]:null;return rS.fs(new wg(o),r,t)}Xs(e,t){const n=this.Os.exec(e),r=Number(n[1]);return oS.fs(r,t)}ks(e){return aS.fs(e)}no(e){return JSON.parse(e)}async Zs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.io(e.batchId,e.state,e.error);Sg("SharedClientState","Ignoring mutation for non-active user ".concat(e.user.uid))}eo(e){return this.syncEngine.so(e.targetId,e.state,e.error)}Hs(e,t){const n=t?this.Ds.insert(e,t):this.Ds.remove(e),r=this.Qs(this.Ds),o=this.Qs(n),i=[],a=[];return o.forEach((e=>{r.has(e)||i.push(e)})),r.forEach((e=>{o.has(e)||a.push(e)})),this.syncEngine.oo(i,a).then((()=>{this.Ds=n}))}qs(e){this.Ds.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Qs(e){let t=cw();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class cS{constructor(){this._o=new sS,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,n){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new sS,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class uS{uo(e){}shutdown(){}}class dS{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){Sg("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){Sg("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let hS=null;function pS(){return null===hS?hS=268435456+Math.round(2147483648*Math.random()):hS++,"0x"+hS.toString(16)}const fS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class mS{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}const gS="WebChannelConnection";class vS extends class{get Co(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Fo=t+"://"+e.host,this.Mo="projects/".concat(n,"/databases/").concat(r),this.xo="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}Oo(e,t,n,r,o){const i=pS(),a=this.No(e,t.toUriEncodedString());Sg("RestConnection","Sending RPC '".concat(e,"' ").concat(i,":"),a,n);const s={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(s,r,o),this.Lo(e,a,s,n).then((t=>(Sg("RestConnection","Received RPC '".concat(e,"' ").concat(i,": "),t),t)),(t=>{throw Ig("RestConnection","RPC '".concat(e,"' ").concat(i," failed with error: "),t,"url: ",a,"request:",n),t}))}ko(e,t,n,r,o,i){return this.Oo(e,t,n,r,o)}Bo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Cg,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}No(e,t){const n=fS[e];return"".concat(this.Fo,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Lo(e,t,n,r){const o=pS();return new Promise(((i,a)=>{const s=new cg;s.setWithCredentials(!0),s.listenOnce(dg.COMPLETE,(()=>{try{switch(s.getLastErrorCode()){case hg.NO_ERROR:const t=s.getResponseJson();Sg(gS,"XHR for RPC '".concat(e,"' ").concat(o," received:"),JSON.stringify(t)),i(t);break;case hg.TIMEOUT:Sg(gS,"RPC '".concat(e,"' ").concat(o," timed out")),a(new Dg(Ag.DEADLINE_EXCEEDED,"Request time out"));break;case hg.HTTP_ERROR:const n=s.getStatus();if(Sg(gS,"RPC '".concat(e,"' ").concat(o," failed with status:"),n,"response text:",s.getResponseText()),n>0){let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Ag).indexOf(t)>=0?t:Ag.UNKNOWN}(t.status);a(new Dg(e,t.message))}else a(new Dg(Ag.UNKNOWN,"Server responded with status "+s.getStatus()))}else a(new Dg(Ag.UNAVAILABLE,"Connection failed."));break;default:Tg()}}finally{Sg(gS,"RPC '".concat(e,"' ").concat(o," completed."))}}));const l=JSON.stringify(r);Sg(gS,"RPC '".concat(e,"' ").concat(o," sending request:"),r),s.send(t,"POST",l,n,15)}))}qo(e,t,n){const r=pS(),o=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=gg(),a=mg(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(s.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(s.useFetchStreams=!0),this.Bo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;const c=o.join("");Sg(gS,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),s);const u=i.createWebChannel(c,s);let d=!1,h=!1;const p=new mS({Eo:t=>{h?Sg(gS,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(Sg(gS,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),Sg(gS,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},Ao:()=>u.close()}),f=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return f(u,ug.EventType.OPEN,(()=>{h||(Sg(gS,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),p.So())})),f(u,ug.EventType.CLOSE,(()=>{h||(h=!0,Sg(gS,"RPC '".concat(e,"' stream ").concat(r," transport closed")),p.Do())})),f(u,ug.EventType.ERROR,(t=>{h||(h=!0,Ig(gS,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),p.Do(new Dg(Ag.UNAVAILABLE,"The operation could not be completed")))})),f(u,ug.EventType.MESSAGE,(t=>{var n;if(!h){const o=t.data[0];Rg(!!o);const i=o,a=(null==i?void 0:i.error)||(null===(n=i[0])||void 0===n?void 0:n.error);if(a){Sg(gS,"RPC '".concat(e,"' stream ").concat(r," received error:"),a);const t=a.status;let n=function(e){const t=Gw[e];if(void 0!==t)return Yw(t)}(t),o=a.message;void 0===n&&(n=Ag.INTERNAL,o="Unknown error status: "+t+" with message "+a.message),h=!0,p.Do(new Dg(n,o)),u.close()}else Sg(gS,"RPC '".concat(e,"' stream ").concat(r," received:"),o),p.vo(o)}})),f(a,fg.STAT_EVENT,(t=>{t.stat===pg.PROXY?Sg(gS,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===pg.NOPROXY&&Sg(gS,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{p.bo()}),0),p}}function yS(){return"undefined"!=typeof window?window:null}function bS(){return"undefined"!=typeof document?document:null}function wS(e){return new mC(e,!0)}class CS{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.li=e,this.timerId=t,this.Qo=n,this.Ko=r,this.$o=o,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),n=Math.max(0,Date.now()-this.Go),r=Math.max(0,t-n);r>0&&Sg("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.Uo," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Wo=this.li.enqueueAfterDelay(this.timerId,r,(()=>(this.Go=Date.now(),e()))),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){null!==this.Wo&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){null!==this.Wo&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}class _S{constructor(e,t,n,r,o,i,a,s){this.li=e,this.Yo=n,this.Zo=r,this.connection=o,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=a,this.listener=s,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new CS(e,t)}i_(){return 1===this.state||5===this.state||this.s_()}s_(){return 2===this.state||3===this.state}start(){this.n_=0,4!==this.state?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&null===this.e_&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,(()=>this.u_())))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,4!==e?this.r_.reset():t&&t.code===Ag.RESOURCE_EXHAUSTED?(kg(t.toString()),kg("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===Ag.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Xo===t&&this.I_(n,r)}),(t=>{e((()=>{const e=new Dg(Ag.UNKNOWN,"Fetching auth token failed: "+t.message);return this.d_(e)}))}))}I_(e,t){const n=this.T_(this.Xo);this.stream=this.E_(e,t),this.stream.Ro((()=>{n((()=>this.listener.Ro()))})),this.stream.mo((()=>{n((()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,(()=>(this.s_()&&(this.state=3),Promise.resolve()))),this.listener.mo())))})),this.stream.po((e=>{n((()=>this.d_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.n_?this.A_(e):this.onNext(e)))}))}o_(){this.state=5,this.r_.jo((async()=>{this.state=0,this.start()}))}d_(e){return Sg("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget((()=>this.Xo===e?t():(Sg("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class xS extends _S{constructor(e,t,n,r,o,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,i),this.serializer=o}E_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Tg()}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],i=function(e,t){return e.useProto3Json?(Rg(void 0===t||"string"==typeof t),vy.fromBase64String(t||"")):(Rg(void 0===t||t instanceof Buffer||t instanceof Uint8Array),vy.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,s=a&&function(e){const t=void 0===e.code?Ag.UNKNOWN:Yw(e.code);return new Dg(t,e.message||"")}(a);n=new sC(r,o,i,s||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=kC(e,r.document.name),i=wC(r.document.updateTime),a=r.document.createTime?wC(r.document.createTime):Qg.min(),s=new Jy({mapValue:{fields:r.document.fields}}),l=eb.newFoundDocument(o,i,a,s),c=r.targetIds||[],u=r.removedTargetIds||[];n=new iC(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=kC(e,r.document),i=r.readTime?wC(r.readTime):Qg.min(),a=eb.newNoDocument(o,i),s=r.removedTargetIds||[];n=new iC([],s,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=kC(e,r.document),i=r.removedTargetIds||[];n=new iC([],i,o,null)}else{if(!("filter"in t))return Tg();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:o}=e,i=new Ww(r,o),a=e.targetId;n=new aC(a,i)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Qg.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Qg.min():t.readTime?wC(t.readTime):Qg.min()}(e);return this.listener.R_(t,n)}V_(e){const t={};t.database=TC(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Rb(r)?{documents:NC(e,r)}:{query:MC(e,r).ct},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=yC(e,t.resumeToken);const r=gC(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Qg.min())>0){n.readTime=vC(e,t.snapshotVersion.toTimestamp());const r=gC(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tg()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.c_(t)}m_(e){const t={};t.database=TC(this.serializer),t.removeTarget=e,this.c_(t)}}class SS extends _S{constructor(e,t,n,r,o,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,i),this.serializer=o}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}E_(e,t){return this.connection.qo("Write",e,t)}A_(e){return Rg(!!e.streamToken),this.lastStreamToken=e.streamToken,Rg(!e.writeResults||0===e.writeResults.length),this.listener.p_()}onNext(e){Rg(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=function(e,t){return e&&e.length>0?(Rg(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?wC(e.updateTime):wC(t);return n.isEqual(Qg.min())&&(n=wC(t)),new Iw(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=wC(e.commitTime);return this.listener.y_(n,t)}w_(){const e={};e.database=TC(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>DC(this.serializer,e)))};this.c_(t)}}class kS extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.S_=!1}b_(){if(this.S_)throw new Dg(Ag.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,n,r){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((o=>{let[i,a]=o;return this.connection.Oo(e,_C(t,n),r,i,a)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Ag.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Dg(Ag.UNKNOWN,e.toString())}))}ko(e,t,n,r,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[a,s]=i;return this.connection.ko(e,_C(t,n),r,a,s,o)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Ag.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Dg(Ag.UNKNOWN,e.toString())}))}terminate(){this.S_=!0,this.connection.terminate()}}class IS{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){0===this.D_&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve()))))}O_(e){"Online"===this.state?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.M_("Offline")))}set(e){this.N_(),this.D_=0,"Online"===e&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.C_?(kg(t),this.C_=!1):Sg("OnlineStateTracker",t)}N_(){null!==this.v_&&(this.v_.cancel(),this.v_=null)}}class ES{constructor(e,t,n,r,o){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=o,this.Q_.uo((e=>{n.enqueueAndForget((async()=>{LS(this)&&(Sg("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Pg(e);t.k_.add(4),await RS(t),t.K_.set("Unknown"),t.k_.delete(4),await TS(t)}(this))}))})),this.K_=new IS(n,r)}}async function TS(e){if(LS(e))for(const t of e.q_)await t(!0)}async function RS(e){for(const t of e.q_)await t(!1)}function PS(e,t){const n=Pg(e);n.L_.has(t.targetId)||(n.L_.set(t.targetId,t),MS(n)?NS(n):tk(n).s_()&&DS(n,t))}function AS(e,t){const n=Pg(e),r=tk(n);n.L_.delete(t),r.s_()&&OS(n,t),0===n.L_.size&&(r.s_()?r.a_():LS(n)&&n.K_.set("Unknown"))}function DS(e,t){if(e.U_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Qg.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}tk(e).V_(t)}function OS(e,t){e.U_.xe(t),tk(e).m_(t)}function NS(e){e.U_=new cC({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ut:t=>e.L_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),tk(e).start(),e.K_.F_()}function MS(e){return LS(e)&&!tk(e).i_()&&e.L_.size>0}function LS(e){return 0===Pg(e).k_.size}function FS(e){e.U_=void 0}async function BS(e){e.K_.set("Online")}async function jS(e){e.L_.forEach(((t,n)=>{DS(e,t)}))}async function zS(e,t){FS(e),MS(e)?(e.K_.O_(t),NS(e)):e.K_.set("Unknown")}async function VS(e,t,n){if(e.K_.set("Online"),t instanceof sC&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.L_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.L_.delete(r),e.U_.removeTarget(r))}(e,t)}catch(n){Sg("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await US(e,n)}else if(t instanceof iC?e.U_.$e(t):t instanceof aC?e.U_.Je(t):e.U_.Ge(t),!n.isEqual(Qg.min()))try{const t=await qx(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.U_.it(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const o=e.L_.get(r);o&&e.L_.set(r,o.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.L_.get(t);if(!r)return;e.L_.set(t,r.withResumeToken(vy.EMPTY_BYTE_STRING,r.snapshotVersion)),OS(e,t);const o=new GC(r.target,t,n,r.sequenceNumber);DS(e,o)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Sg("RemoteStore","Failed to raise snapshot:",t),await US(e,t)}}async function US(e,t,n){if(!yv(t))throw t;e.k_.add(1),await RS(e),e.K_.set("Offline"),n||(n=()=>qx(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Sg("RemoteStore","Retrying IndexedDB access"),await n(),e.k_.delete(1),await TS(e)}))}function HS(e,t){return t().catch((n=>US(e,n,t)))}async function qS(e){const t=Pg(e),n=nk(t);let r=t.B_.length>0?t.B_[t.B_.length-1].batchId:-1;for(;WS(t);)try{const e=await Gx(t.localStore,r);if(null===e){0===t.B_.length&&n.a_();break}r=e.batchId,GS(t,e)}catch(e){await US(t,e)}KS(t)&&QS(t)}function WS(e){return LS(e)&&e.B_.length<10}function GS(e,t){e.B_.push(t);const n=nk(e);n.s_()&&n.f_&&n.g_(t.mutations)}function KS(e){return LS(e)&&!nk(e).i_()&&e.B_.length>0}function QS(e){nk(e).start()}async function YS(e){nk(e).w_()}async function XS(e){const t=nk(e);for(const n of e.B_)t.g_(n.mutations)}async function $S(e,t,n){const r=e.B_.shift(),o=Hw.from(r,t,n);await HS(e,(()=>e.remoteSyncer.applySuccessfulWrite(o))),await qS(e)}async function JS(e,t){t&&nk(e).f_&&await async function(e,t){if(function(e){return Qw(e)&&e!==Ag.ABORTED}(t.code)){const n=e.B_.shift();nk(e).__(),await HS(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await qS(e)}}(e,t),KS(e)&&QS(e)}async function ZS(e,t){const n=Pg(e);n.asyncQueue.verifyOperationInProgress(),Sg("RemoteStore","RemoteStore received new credentials");const r=LS(n);n.k_.add(3),await RS(n),r&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.k_.delete(3),await TS(n)}async function ek(e,t){const n=Pg(e);t?(n.k_.delete(2),await TS(n)):t||(n.k_.add(2),await RS(n),n.K_.set("Unknown"))}function tk(e){return e.W_||(e.W_=function(e,t,n){const r=Pg(e);return r.b_(),new xS(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Ro:BS.bind(null,e),mo:jS.bind(null,e),po:zS.bind(null,e),R_:VS.bind(null,e)}),e.q_.push((async t=>{t?(e.W_.__(),MS(e)?NS(e):e.K_.set("Unknown")):(await e.W_.stop(),FS(e))}))),e.W_}function nk(e){return e.G_||(e.G_=function(e,t,n){const r=Pg(e);return r.b_(),new SS(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Ro:()=>Promise.resolve(),mo:YS.bind(null,e),po:JS.bind(null,e),p_:XS.bind(null,e),y_:$S.bind(null,e)}),e.q_.push((async t=>{t?(e.G_.__(),await qS(e)):(await e.G_.stop(),e.B_.length>0&&(Sg("RemoteStore","Stopping write stream with ".concat(e.B_.length," pending writes")),e.B_=[]))}))),e.G_}class rk{constructor(e,t,n,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=o,this.deferred=new Og,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,o){const i=Date.now()+n,a=new rk(e,t,i,r,o);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Dg(Ag.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ok(e,t){if(kg("AsyncQueue","".concat(t,": ").concat(e)),yv(e))return new Dg(Ag.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class ik{static emptySet(e){return new ik(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Zg.comparator(t.key,n.key):(e,t)=>Zg.comparator(e.key,t.key),this.keyedMap=ew(),this.sortedSet=new cy(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ik))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new ik;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class ak{constructor(){this.z_=new cy(Zg.comparator)}track(e){const t=e.doc.key,n=this.z_.get(t);n?0!==e.type&&3===n.type?this.z_=this.z_.insert(t,e):3===e.type&&1!==n.type?this.z_=this.z_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.z_=this.z_.remove(t):1===e.type&&2===n.type?this.z_=this.z_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Tg():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class sk{constructor(e,t,n,r,o,i,a,s,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=o,this.fromCache=i,this.syncStateChanged=a,this.excludesMetadataChanges=s,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,o){const i=[];return t.forEach((e=>{i.push({type:0,doc:e})})),new sk(e,t,ik.emptySet(t),i,n,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hb(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class lk{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some((e=>e.Z_()))}}class ck{constructor(){this.queries=uk(),this.onlineState="Unknown",this.X_=new Set}terminate(){!function(e,t){const n=Pg(e),r=n.queries;n.queries=uk(),r.forEach(((e,n)=>{for(const r of n.J_)r.onError(t)}))}(this,new Dg(Ag.ABORTED,"Firestore shutting down"))}}function uk(){return new Xb((e=>qb(e)),Hb)}async function dk(e,t){const n=Pg(e);let r=3;const o=t.query;let i=n.queries.get(o);i?!i.Y_()&&t.Z_()&&(r=2):(i=new lk,r=t.Z_()?0:1);try{switch(r){case 0:i.H_=await n.onListen(o,!0);break;case 1:i.H_=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(e){const n=ok(e,"Initialization of query '".concat(Wb(t.query),"' failed"));return void t.onError(n)}n.queries.set(o,i),i.J_.push(t),t.ea(n.onlineState),i.H_&&t.ta(i.H_)&&mk(n)}async function hk(e,t){const n=Pg(e),r=t.query;let o=3;const i=n.queries.get(r);if(i){const e=i.J_.indexOf(t);e>=0&&(i.J_.splice(e,1),0===i.J_.length?o=t.Z_()?0:1:!i.Y_()&&t.Z_()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function pk(e,t){const n=Pg(e);let r=!1;for(const o of t){const e=o.query,t=n.queries.get(e);if(t){for(const e of t.J_)e.ta(o)&&(r=!0);t.H_=o}}r&&mk(n)}function fk(e,t,n){const r=Pg(e),o=r.queries.get(t);if(o)for(const i of o.J_)i.onError(n);r.queries.delete(t)}function mk(e){e.X_.forEach((e=>{e.next()}))}var gk,vk;(vk=gk||(gk={})).na="default",vk.Cache="cache";class yk{constructor(e,t,n){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=n||{}}ta(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new sk(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache)return!0;if(!this.Z_())return!0;const n="Offline"!==t;return(!this.options.ua||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}aa(e){e=sk.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==gk.Cache}}class bk{constructor(e,t){this.ca=e,this.byteLength=t}la(){return"metadata"in this.ca}}class wk{constructor(e){this.serializer=e}As(e){return kC(this.serializer,e)}Rs(e){return e.metadata.exists?AC(this.serializer,e.document,!1):eb.newNoDocument(this.As(e.metadata.name),this.Vs(e.metadata.readTime))}Vs(e){return wC(e)}}class Ck{constructor(e,t,n){this.ha=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=_k(e)}Pa(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ca.namedQuery)this.queries.push(e.ca.namedQuery);else if(e.ca.documentMetadata){this.documents.push({metadata:e.ca.documentMetadata}),e.ca.documentMetadata.exists||++t;const n=Xg.fromString(e.ca.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.ca.document&&(this.documents[this.documents.length-1].document=e.ca.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Ta(e){const t=new Map,n=new wk(this.serializer);for(const r of e)if(r.metadata.queries){const e=n.As(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||sw()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const o=Pg(e);let i=sw(),a=Jb();for(const c of n){const e=t.As(c.metadata.name);c.document&&(i=i.add(e));const n=t.Rs(c);n.setReadTime(t.Vs(c.metadata.readTime)),a=a.insert(e,n)}const s=o.hs.newChangeBuffer({trackRemovals:!0}),l=await Kx(o,function(e){return jb(Mb(Xg.fromString("__bundle__/docs/".concat(e))))}(r));return o.persistence.runTransaction("Apply bundle documents","readwrite",(e=>Wx(e,s,a).next((t=>(s.apply(e),t))).next((t=>o.Gr.removeMatchingKeysForTargetId(e,l.targetId).next((()=>o.Gr.addMatchingKeys(e,i,l.targetId))).next((()=>o.localDocuments.getLocalViewOfDocuments(e,t.Is,t.ds))).next((()=>t.Is))))))}(this.localStore,new wk(this.serializer),this.documents,this.ha.id),t=this.Ta(this.documents);for(const n of this.queries)await Zx(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,Ia:this.collectionGroups,da:e}}}function _k(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class xk{constructor(e){this.key=e}}class Sk{constructor(e){this.key=e}}class kk{constructor(e,t){this.query=e,this.Ea=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=sw(),this.mutatedKeys=sw(),this.Va=Qb(e),this.ma=new ik(this.Va)}get fa(){return this.Ea}ga(e,t){const n=t?t.pa:new ak,r=t?t.ma:this.ma;let o=t?t.mutatedKeys:this.mutatedKeys,i=r,a=!1;const s="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=Gb(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let p=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),p=!0):this.ya(c,u)||(n.track({type:2,doc:u}),p=!0,(s&&this.Va(u,s)>0||l&&this.Va(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),p=!0):c&&!u&&(n.track({type:1,doc:c}),p=!0,(s||l)&&(a=!0)),p&&(u?(i=i.add(u),o=h?o.add(e):o.delete(e)):(i=i.delete(e),o=o.delete(e)))})),null!==this.query.limit)for(;i.size>this.query.limit;){const e="F"===this.query.limitType?i.last():i.first();i=i.delete(e.key),o=o.delete(e.key),n.track({type:1,doc:e})}return{ma:i,pa:n,ss:a,mutatedKeys:o}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const o=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const i=e.pa.j_();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tg()}};return n(e)-n(t)}(e.type,t.type)||this.Va(e.doc,t.doc))),this.wa(n),r=null!=r&&r;const a=t&&!r?this.Sa():[],s=0===this.Ra.size&&this.current&&!r?1:0,l=s!==this.Aa;return this.Aa=s,0!==i.length||l?{snapshot:new sk(this.query,e.ma,o,i,e.mutatedKeys,0===s,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),ba:a}:{ba:a}}ea(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ma:this.ma,pa:new ak,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.Ea.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach((e=>this.Ea=this.Ea.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Ea=this.Ea.delete(e))),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=sw(),this.ma.forEach((e=>{this.Da(e.key)&&(this.Ra=this.Ra.add(e.key))}));const t=[];return e.forEach((e=>{this.Ra.has(e)||t.push(new Sk(e))})),this.Ra.forEach((n=>{e.has(n)||t.push(new xk(n))})),t}va(e){this.Ea=e.Es,this.Ra=sw();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return sk.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,0===this.Aa,this.hasCachedResults)}}class Ik{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Ek{constructor(e){this.key=e,this.Fa=!1}}class Tk{constructor(e,t,n,r,o,i){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=i,this.Ma={},this.xa=new Xb((e=>qb(e)),Hb),this.Oa=new Map,this.Na=new Set,this.Ba=new cy(Zg.comparator),this.La=new Map,this.ka=new Cx,this.qa={},this.Qa=new Map,this.Ka=Y_.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return!0===this.$a}}async function Rk(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=oI(e);let o;const i=r.xa.get(t);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),o=i.view.Ca()):o=await Ak(r,t,n,!0),o}async function Pk(e,t){const n=oI(e);await Ak(n,t,!0,!1)}async function Ak(e,t,n,r){const o=await Kx(e.localStore,jb(t)),i=o.targetId,a=e.sharedClientState.addLocalQueryTarget(i,n);let s;return r&&(s=await Dk(e,t,i,"current"===a,o.resumeToken)),e.isPrimaryClient&&n&&PS(e.remoteStore,o),s}async function Dk(e,t,n,r,o){e.Ua=(t,n,r)=>async function(e,t,n,r){let o=t.view.ga(n);o.ss&&(o=await Yx(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ga(n,o)})));const i=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),s=t.view.applyChanges(o,e.isPrimaryClient,i,a);return qk(e,t.targetId,s.ba),s.snapshot}(e,t,n,r);const i=await Yx(e.localStore,t,!0),a=new kk(t,i.Es),s=a.ga(i.documents),l=oC.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,o),c=a.applyChanges(s,e.isPrimaryClient,l);qk(e,n,c.ba);const u=new Ik(t,n,a);return e.xa.set(t,u),e.Oa.has(n)?e.Oa.get(n).push(t):e.Oa.set(n,[t]),c.snapshot}async function Ok(e,t,n){const r=Pg(e),o=r.xa.get(t),i=r.Oa.get(o.targetId);if(i.length>1)return r.Oa.set(o.targetId,i.filter((e=>!Hb(e,t)))),void r.xa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Qx(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&AS(r.remoteStore,o.targetId),Uk(r,o.targetId)})).catch(dv)):(Uk(r,o.targetId),await Qx(r.localStore,o.targetId,!0))}async function Nk(e,t){const n=Pg(e),r=n.xa.get(t),o=n.Oa.get(r.targetId);n.isPrimaryClient&&1===o.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),AS(n.remoteStore,r.targetId))}async function Mk(e,t){const n=Pg(e);try{const e=await function(e,t){const n=Pg(e),r=t.snapshotVersion;let o=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const i=n.hs.newChangeBuffer({trackRemovals:!0});o=n.us;const a=[];t.targetChanges.forEach(((i,s)=>{const l=o.get(s);if(!l)return;a.push(n.Gr.removeMatchingKeys(e,i.removedDocuments,s).next((()=>n.Gr.addMatchingKeys(e,i.addedDocuments,s))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(vy.EMPTY_BYTE_STRING,Qg.min()).withLastLimboFreeSnapshotVersion(Qg.min()):i.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(i.resumeToken,r)),o=o.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,i)&&a.push(n.Gr.updateTargetData(e,c))}));let s=Jb(),l=sw();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(Wx(e,i,t.documentUpdates).next((e=>{s=e.Is,l=e.ds}))),!r.isEqual(Qg.min())){const t=n.Gr.getLastRemoteSnapshotVersion(e).next((t=>n.Gr.setTargetsMetadata(e,e.currentSequenceNumber,r)));a.push(t)}return hv.waitFor(a).next((()=>i.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,s,l))).next((()=>s))})).then((e=>(n.us=o,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.La.get(t);r&&(Rg(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Fa=!0:e.modifiedDocuments.size>0?Rg(r.Fa):e.removedDocuments.size>0&&(Rg(r.Fa),r.Fa=!1))})),await Kk(n,e,t)}catch(e){await dv(e)}}function Lk(e,t,n){const r=Pg(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.xa.forEach(((n,r)=>{const o=r.view.ea(t);o.snapshot&&e.push(o.snapshot)})),function(e,t){const n=Pg(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const o of n.J_)o.ea(t)&&(r=!0)})),r&&mk(n)}(r.eventManager,t),e.length&&r.Ma.R_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Fk(e,t,n){const r=Pg(e);r.sharedClientState.updateQueryState(t,"rejected",n);const o=r.La.get(t),i=o&&o.key;if(i){let e=new cy(Zg.comparator);e=e.insert(i,eb.newNoDocument(i,Qg.min()));const n=sw().add(i),o=new rC(Qg.min(),new Map,new cy(qg),e,n);await Mk(r,o),r.Ba=r.Ba.remove(i),r.La.delete(t),Gk(r)}else await Qx(r.localStore,t,!1).then((()=>Uk(r,t,n))).catch(dv)}async function Bk(e,t){const n=Pg(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Pg(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),o=n.hs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const o=n.batch,i=o.keys();let a=hv.resolve();return i.forEach((e=>{a=a.next((()=>r.getEntry(t,e))).next((t=>{const i=n.docVersions.get(e);Rg(null!==i),t.version.compareTo(i)<0&&(o.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),a.next((()=>e.mutationQueue.removeMutationBatch(t,o)))}(n,e,t,o).next((()=>o.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=sw();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Vk(n,r,null),zk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Kk(n,e)}catch(e){await dv(e)}}async function jk(e,t,n){const r=Pg(e);try{const e=await function(e,t){const n=Pg(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Rg(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Vk(r,t,n),zk(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Kk(r,e)}catch(n){await dv(n)}}function zk(e,t){(e.Qa.get(t)||[]).forEach((e=>{e.resolve()})),e.Qa.delete(t)}function Vk(e,t,n){const r=Pg(e);let o=r.qa[r.currentUser.toKey()];if(o){const e=o.get(t);e&&(n?e.reject(n):e.resolve(),o=o.remove(t)),r.qa[r.currentUser.toKey()]=o}}function Uk(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Oa.get(t))e.xa.delete(r),n&&e.Ma.Wa(r,n);e.Oa.delete(t),e.isPrimaryClient&&e.ka.yr(t).forEach((t=>{e.ka.containsKey(t)||Hk(e,t)}))}function Hk(e,t){e.Na.delete(t.path.canonicalString());const n=e.Ba.get(t);null!==n&&(AS(e.remoteStore,n),e.Ba=e.Ba.remove(t),e.La.delete(n),Gk(e))}function qk(e,t,n){for(const r of n)r instanceof xk?(e.ka.addReference(r.key,t),Wk(e,r)):r instanceof Sk?(Sg("SyncEngine","Document no longer in limbo: "+r.key),e.ka.removeReference(r.key,t),e.ka.containsKey(r.key)||Hk(e,r.key)):Tg()}function Wk(e,t){const n=t.key,r=n.path.canonicalString();e.Ba.get(n)||e.Na.has(r)||(Sg("SyncEngine","New document in limbo: "+n),e.Na.add(r),Gk(e))}function Gk(e){for(;e.Na.size>0&&e.Ba.size<e.maxConcurrentLimboResolutions;){const t=e.Na.values().next().value;e.Na.delete(t);const n=new Zg(Xg.fromString(t)),r=e.Ka.next();e.La.set(r,new Ek(n)),e.Ba=e.Ba.insert(n,r),PS(e.remoteStore,new GC(jb(Mb(n.path)),r,"TargetPurposeLimboResolution",kv.oe))}}async function Kk(e,t,n){const r=Pg(e),o=[],i=[],a=[];r.xa.isEmpty()||(r.xa.forEach(((e,s)=>{a.push(r.Ua(s,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const o=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(s.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(s.targetId,o?"current":"not-current")}if(e){o.push(e);const t=Bx.zi(s.targetId,e);i.push(t)}})))})),await Promise.all(a),r.Ma.R_(o),await async function(e,t){const n=Pg(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>hv.forEach(t,(t=>hv.forEach(t.Wi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>hv.forEach(t.Gi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!yv(e))throw e;Sg("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.us.get(e),r=t.snapshotVersion,o=t.withLastLimboFreeSnapshotVersion(r);n.us=n.us.insert(e,o)}}}(r.localStore,i))}async function Qk(e,t){const n=Pg(e);if(!n.currentUser.isEqual(t)){Sg("SyncEngine","User change. New user:",t.toKey());const e=await Hx(n.localStore,t);n.currentUser=t,function(e,t){e.Qa.forEach((e=>{e.forEach((e=>{e.reject(new Dg(Ag.CANCELLED,t))}))})),e.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Kk(n,e.Ts)}}function Yk(e,t){const n=Pg(e),r=n.La.get(t);if(r&&r.Fa)return sw().add(r.key);{let e=sw();const r=n.Oa.get(t);if(!r)return e;for(const t of r){const r=n.xa.get(t);e=e.unionWith(r.view.fa)}return e}}async function Xk(e,t){const n=Pg(e),r=await Yx(n.localStore,t.query,!0),o=t.view.va(r);return n.isPrimaryClient&&qk(n,t.targetId,o.ba),o}async function $k(e,t){const n=Pg(e);return $x(n.localStore,t).then((e=>Kk(n,e)))}async function Jk(e,t,n,r){const o=Pg(e),i=await function(e,t){const n=Pg(e),r=Pg(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.On(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):hv.resolve(null)))))}(o.localStore,t);null!==i?("pending"===n?await qS(o.remoteStore):"acknowledged"===n||"rejected"===n?(Vk(o,t,r||null),zk(o,t),function(e,t){Pg(Pg(e).mutationQueue).Bn(t)}(o.localStore,t)):Tg(),await Kk(o,i)):Sg("SyncEngine","Cannot apply mutation batch with id: "+t)}async function Zk(e,t,n){const r=Pg(e),o=[],i=[];for(const a of t){let e;const t=r.Oa.get(a);if(t&&0!==t.length){e=await Kx(r.localStore,jb(t[0]));for(const e of t){const t=r.xa.get(e),n=await Xk(r,t);n.snapshot&&i.push(n.snapshot)}}else{const t=await Xx(r.localStore,a);e=await Kx(r.localStore,t),await Dk(r,eI(t),a,!1,e.resumeToken)}o.push(e)}return r.Ma.R_(i),o}function eI(e){return Nb(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function tI(e){return function(e){return Pg(Pg(e).persistence).$i()}(Pg(e).localStore)}async function nI(e,t,n,r){const o=Pg(e);if(o.$a)return void Sg("SyncEngine","Ignoring unexpected query state notification.");const i=o.Oa.get(t);if(i&&i.length>0)switch(n){case"current":case"not-current":{const e=await $x(o.localStore,Kb(i[0])),r=rC.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,vy.EMPTY_BYTE_STRING);await Kk(o,e,r);break}case"rejected":await Qx(o.localStore,t,!0),Uk(o,t,r);break;default:Tg()}}async function rI(e,t,n){const r=oI(e);if(r.$a){for(const e of t){if(r.Oa.has(e)&&r.sharedClientState.isActiveQueryTarget(e)){Sg("SyncEngine","Adding an already active target "+e);continue}const t=await Xx(r.localStore,e),n=await Kx(r.localStore,t);await Dk(r,eI(t),n.targetId,!1,n.resumeToken),PS(r.remoteStore,n)}for(const e of n)r.Oa.has(e)&&await Qx(r.localStore,e,!1).then((()=>{AS(r.remoteStore,e),Uk(r,e)})).catch(dv)}}function oI(e){const t=Pg(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Mk.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Yk.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Fk.bind(null,t),t.Ma.R_=pk.bind(null,t.eventManager),t.Ma.Wa=fk.bind(null,t.eventManager),t}function iI(e){const t=Pg(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Bk.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=jk.bind(null,t),t}class aI{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wS(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return Ux(this.persistence,new zx,e.initialUser,this.serializer)}ja(e){return new Ex(Rx.ei,this.serializer)}za(e){return new cS}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}aI.provider={build:()=>new aI};class sI extends aI{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){Rg(this.persistence.referenceDelegate instanceof Px);const n=this.persistence.referenceDelegate.garbageCollector;return new nx(n,e.asyncQueue,t)}ja(e){const t=void 0!==this.cacheSizeBytes?V_.withCacheSize(this.cacheSizeBytes):V_.DEFAULT;return new Ex((e=>Px.ei(e,t)),this.serializer)}}class lI extends aI{constructor(e,t,n){super(),this.Za=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Za.initialize(this,e),await iI(this.Za.syncEngine),await qS(this.Za.remoteStore),await this.persistence.Si((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}Ha(e){return Ux(this.persistence,new zx,e.initialUser,this.serializer)}Ja(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new nx(n,e.asyncQueue,t)}Ya(e,t){const n=new Sv(t,this.persistence);return new xv(e.asyncQueue,n)}ja(e){const t=Fx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?V_.withCacheSize(this.cacheSizeBytes):V_.DEFAULT;return new Nx(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,yS(),bS(),this.serializer,this.sharedClientState,!!this.forceOwnership)}za(e){return new cS}}class cI extends lI{constructor(e,t){super(e,t,!1),this.Za=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Za.syncEngine;this.sharedClientState instanceof lS&&(this.sharedClientState.syncEngine={io:Jk.bind(null,t),so:nI.bind(null,t),oo:rI.bind(null,t),$i:tI.bind(null,t),ro:$k.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Si((async e=>{await async function(e,t){const n=Pg(e);if(oI(n),iI(n),!0===t&&!0!==n.$a){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await Zk(n,e.toArray());n.$a=!0,await ek(n.remoteStore,!0);for(const r of t)PS(n.remoteStore,r)}else if(!1===t&&!1!==n.$a){const e=[];let t=Promise.resolve();n.Oa.forEach(((r,o)=>{n.sharedClientState.isLocalQueryTarget(o)?e.push(o):t=t.then((()=>(Uk(n,o),Qx(n.localStore,o,!0)))),AS(n.remoteStore,o)})),await t,await Zk(n,e),function(e){const t=Pg(e);t.La.forEach(((e,n)=>{AS(t.remoteStore,n)})),t.ka.wr(),t.La=new Map,t.Ba=new cy(Zg.comparator)}(n),n.$a=!1,await ek(n.remoteStore,!1)}}(this.Za.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}za(e){const t=yS();if(!lS.p(t))throw new Dg(Ag.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=Fx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new lS(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class uI{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Lk(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Qk.bind(null,this.syncEngine),await ek(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new ck}createDatastore(e){const t=wS(e.databaseInfo.databaseId),n=function(e){return new vS(e)}(e.databaseInfo);return function(e,t,n,r){return new kS(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,o){return new ES(e,t,n,r,o)}(this.localStore,this.datastore,e.asyncQueue,(e=>Lk(this.syncEngine,e,0)),dS.p()?new dS:new uS)}createSyncEngine(e,t){return function(e,t,n,r,o,i,a){const s=new Tk(e,t,n,r,o,i);return a&&(s.$a=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=Pg(e);Sg("RemoteStore","RemoteStore shutting down."),t.k_.add(5),await RS(t),t.Q_.shutdown(),t.K_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}function dI(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}uI.provider={build:()=>new uI};class hI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):kg("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}class pI{constructor(e,t){this.tu=e,this.serializer=t,this.metadata=new Og,this.buffer=new Uint8Array,this.nu=new TextDecoder("utf-8"),this.ru().then((e=>{e&&e.la()?this.metadata.resolve(e.ca.metadata):this.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.ca))))}),(e=>this.metadata.reject(e)))}close(){return this.tu.cancel()}async getMetadata(){return this.metadata.promise}async Ga(){return await this.getMetadata(),this.ru()}async ru(){const e=await this.iu();if(null===e)return null;const t=this.nu.decode(e),n=Number(t);isNaN(n)&&this.su("length string (".concat(t,") is not valid number"));const r=await this.ou(n);return new bk(JSON.parse(r),e.length+n)}_u(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async iu(){for(;this._u()<0&&!await this.au(););if(0===this.buffer.length)return null;const e=this._u();e<0&&this.su("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async ou(e){for(;this.buffer.length<e;)await this.au()&&this.su("Reached the end of bundle when more is expected.");const t=this.nu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}su(e){throw this.tu.cancel(),new Error("Invalid bundle format: ".concat(e))}async au(){const e=await this.tu.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class fI{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new Dg(Ag.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(e,t){const n=Pg(e),r={documents:t.map((e=>SC(n.serializer,e)))},o=await n.ko("BatchGetDocuments",n.serializer.databaseId,Xg.emptyPath(),r,t.length),i=new Map;o.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){Rg(!!t.found),t.found.name,t.found.updateTime;const n=kC(e,t.found.name),r=wC(t.found.updateTime),o=t.found.createTime?wC(t.found.createTime):Qg.min(),i=new Jy({mapValue:{fields:t.found.fields}});return eb.newFoundDocument(n,r,o,i)}(e,t):"missing"in t?function(e,t){Rg(!!t.missing),Rg(!!t.readTime);const n=kC(e,t.missing),r=wC(t.readTime);return eb.newNoDocument(n,r)}(e,t):Tg()}(n.serializer,e);i.set(t.key.toString(),t)}));const a=[];return t.forEach((e=>{const t=i.get(e.toString());Rg(!!t),a.push(t)})),a}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new zw(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=Zg.fromPath(t);this.mutations.push(new Vw(n,this.precondition(n)))})),await async function(e,t){const n=Pg(e),r={writes:t.map((e=>DC(n.serializer,e)))};await n.Oo("Commit",n.serializer.databaseId,Xg.emptyPath(),r)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Tg();t=Qg.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Dg(Ag.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Qg.min())?Ew.exists(!1):Ew.updateTime(t):Ew.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Qg.min()))throw new Dg(Ag.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ew.updateTime(t)}return Ew.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class mI{constructor(e,t,n,r,o){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=o,this.uu=n.maxAttempts,this.r_=new CS(this.asyncQueue,"transaction_retry")}cu(){this.uu-=1,this.lu()}lu(){this.r_.jo((async()=>{const e=new fI(this.datastore),t=this.hu(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.Pu(e)}))))})).catch((e=>{this.Pu(e)}))}))}hu(e){try{const t=this.updateFunction(e);return!Iv(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Pu(e){this.uu>0&&this.Tu(e)?(this.uu-=1,this.asyncQueue.enqueueAndForget((()=>(this.lu(),Promise.resolve())))):this.deferred.reject(e)}Tu(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Qw(t)}return!1}}class gI{constructor(e,t,n,r,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=wg.UNAUTHENTICATED,this.clientId=Hg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(n,(async e=>{Sg("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Sg("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Og;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=ok(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function vI(e,t){e.asyncQueue.verifyOperationInProgress(),Sg("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Hx(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function yI(e,t){e.asyncQueue.verifyOperationInProgress();const n=await bI(e);Sg("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>ZS(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>ZS(t.remoteStore,n))),e._onlineComponents=t}async function bI(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Sg("FirestoreClient","Using user provided OfflineComponentProvider");try{await vI(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===Ag.FAILED_PRECONDITION||e.code===Ag.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;Ig("Error using user provided cache. Falling back to memory cache: "+n),await vI(e,new aI)}}else Sg("FirestoreClient","Using default OfflineComponentProvider"),await vI(e,new sI(void 0));return e._offlineComponents}async function wI(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Sg("FirestoreClient","Using user provided OnlineComponentProvider"),await yI(e,e._uninitializedComponentsProvider._online)):(Sg("FirestoreClient","Using default OnlineComponentProvider"),await yI(e,new uI))),e._onlineComponents}function CI(e){return bI(e).then((e=>e.persistence))}function _I(e){return bI(e).then((e=>e.localStore))}function xI(e){return wI(e).then((e=>e.remoteStore))}function SI(e){return wI(e).then((e=>e.syncEngine))}function kI(e){return wI(e).then((e=>e.datastore))}async function II(e){const t=await wI(e),n=t.eventManager;return n.onListen=Rk.bind(null,t.syncEngine),n.onUnlisten=Ok.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Pk.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Nk.bind(null,t.syncEngine),n}function EI(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Og;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,o){const i=new hI({next:s=>{i.eu(),t.enqueueAndForget((()=>hk(e,a)));const l=s.docs.has(n);!l&&s.fromCache?o.reject(new Dg(Ag.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&s.fromCache&&r&&"server"===r.source?o.reject(new Dg(Ag.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):o.resolve(s)},error:e=>o.reject(e)}),a=new yk(Mb(n.path),i,{includeMetadataChanges:!0,ua:!0});return dk(e,a)}(await II(e),e.asyncQueue,t,n,r))),r.promise}function TI(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Og;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,o){const i=new hI({next:n=>{i.eu(),t.enqueueAndForget((()=>hk(e,a))),n.fromCache&&"server"===r.source?o.reject(new Dg(Ag.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):o.resolve(n)},error:e=>o.reject(e)}),a=new yk(n,i,{includeMetadataChanges:!0,ua:!0});return dk(e,a)}(await II(e),e.asyncQueue,t,n,r))),r.promise}function RI(e,t,n,r){const o=function(e,t){let n;return n="string"==typeof e?$w().encode(e):e,function(e,t){return new pI(e,t)}(function(e,t){if(e instanceof Uint8Array)return dI(e,t);if(e instanceof ArrayBuffer)return dI(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,wS(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=Pg(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=Pg(e),r=wC(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.jr.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(_k(r));const o=new Ck(r,e.localStore,t.serializer);let i=await t.Ga();for(;i;){const e=await o.Pa(i);e&&n._updateProgress(e),i=await t.Ga()}const a=await o.complete();return await Kk(e,a.da,void 0),await function(e,t){const n=Pg(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.jr.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(a.progress),Promise.resolve(a.Ia)}catch(e){return Ig("SyncEngine","Loading bundle failed with ".concat(e)),n._failWith(e),Promise.resolve(new Set)}})(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}(await SI(e),o,r)}))}function PI(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const AI=new Map;function DI(e,t,n){if(!n)throw new Dg(Ag.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function OI(e,t,n,r){if(!0===t&&!0===r)throw new Dg(Ag.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function NI(e){if(!Zg.isDocumentKey(e))throw new Dg(Ag.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function MI(e){if(Zg.isDocumentKey(e))throw new Dg(Ag.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function LI(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Tg()}function FI(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Dg(Ag.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=LI(e);throw new Dg(Ag.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function BI(e,t){if(t<=0)throw new Dg(Ag.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class jI{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Dg(Ag.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Dg(Ag.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}OI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=PI(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Dg(Ag.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Dg(Ag.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Dg(Ag.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zI{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jI({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Dg(Ag.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Dg(Ag.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jI(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Mg;switch(e.type){case"firstParty":return new jg(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Dg(Ag.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=AI.get(e);t&&(Sg("ComponentProvider","Removing Datastore"),AI.delete(e),t.terminate())}(this),Promise.resolve()}}function VI(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var o;const i=(e=FI(e,zI))._getSettings(),a="".concat(t,":").concat(n);if("firestore.googleapis.com"!==i.host&&i.host!==a&&Ig("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},i),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=wg.MOCK_USER;else{t=zt(r.mockUserToken,null===(o=e._app)||void 0===o?void 0:o.options.projectId);const i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new Dg(Ag.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new wg(i)}e._authCredentials=new Lg(new Ng(t,n))}}class UI{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new UI(this.firestore,e,this._query)}}class HI{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qI(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new HI(this.firestore,e,this._key)}}class qI extends UI{constructor(e,t,n){super(e,t,Mb(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new HI(this.firestore,null,new Zg(e))}withConverter(e){return new qI(this.firestore,e,this._path)}}function WI(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];if(e=_n(e),DI("collection","path",t),e instanceof zI){const n=Xg.fromString(t,...r);return MI(n),new qI(e,null,n)}{if(!(e instanceof HI||e instanceof qI))throw new Dg(Ag.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Xg.fromString(t,...r));return MI(n),new qI(e.firestore,null,n)}}function GI(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];if(e=_n(e),1===arguments.length&&(t=Hg.newId()),DI("doc","path",t),e instanceof zI){const n=Xg.fromString(t,...r);return NI(n),new HI(e,null,new Zg(n))}{if(!(e instanceof HI||e instanceof qI))throw new Dg(Ag.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Xg.fromString(t,...r));return NI(n),new HI(e.firestore,e instanceof qI?e.converter:null,new Zg(n))}}function KI(e,t){return e=_n(e),t=_n(t),(e instanceof HI||e instanceof qI)&&(t instanceof HI||t instanceof qI)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function QI(e,t){return e=_n(e),t=_n(t),e instanceof UI&&t instanceof UI&&e.firestore===t.firestore&&Hb(e._query,t._query)&&e.converter===t.converter}class YI{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new CS(this,"async_queue_retry"),this.fu=()=>{const e=bS();e&&Sg("AsyncQueue","Visibility state changed to "+e.visibilityState),this.r_.Jo()},this.gu=e;const t=bS();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.du){this.du=!0,this.Vu=e||!1;const t=bS();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.du)return new Promise((()=>{}));const t=new Og;return this.yu((()=>this.du&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Iu.push(e),this.wu())))}async wu(){if(0!==this.Iu.length){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(D9){if(!yv(D9))throw D9;Sg("AsyncQueue","Operation failed with retryable error: "+D9)}this.Iu.length>0&&this.r_.jo((()=>this.wu()))}}yu(e){const t=this.gu.then((()=>(this.Ru=!0,e().catch((e=>{this.Au=e,this.Ru=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw kg("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Ru=!1,e))))));return this.gu=t,t}enqueueAfterDelay(e,t,n){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const r=rk.createAndSchedule(this,e,t,n,(e=>this.Su(e)));return this.Eu.push(r),r}pu(){this.Au&&Tg()}verifyOperationInProgress(){}async bu(){let e;do{e=this.gu,await e}while(e!==this.gu)}Du(e){for(const t of this.Eu)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then((()=>{this.Eu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Eu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.bu()}))}Cu(e){this.mu.push(e)}Su(e){const t=this.Eu.indexOf(e);this.Eu.splice(t,1)}}function XI(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class $I{constructor(){this._progressObserver={},this._taskCompletionResolver=new Og,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class JI extends zI{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new YI,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new YI(e),this._firestoreClient=void 0,await e}}}function ZI(e){if(e._terminated)throw new Dg(Ag.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||eE(e),e._firestoreClient}function eE(e){var t,n,r;const o=e._freezeSettings(),i=function(e,t,n,r){return new ky(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,PI(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,o);e._componentsProvider||(null===(n=o.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=o.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),e._firestoreClient=new gI(e._authCredentials,e._appCheckCredentials,e._queue,i,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}function tE(e,t,n){if((e=FI(e,JI))._firestoreClient||e._terminated)throw new Dg(Ag.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(e._componentsProvider||e._getSettings().localCache)throw new Dg(Ag.FAILED_PRECONDITION,"SDK cache is already specified.");e._componentsProvider={_online:t,_offline:n},eE(e)}function nE(e){return function(e){const t=new Og;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=Pg(e);LS(n.remoteStore)||Sg("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=Pg(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.Qa.get(e)||[];r.push(t),n.Qa.set(e,r)}catch(e){const n=ok(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await SI(e),t))),t.promise}(ZI(e=FI(e,JI)))}function rE(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await CI(e),n=await xI(e);return t.setNetworkEnabled(!0),function(e){const t=Pg(e);return t.k_.delete(0),TS(t)}(n)}))}(ZI(e=FI(e,JI)))}function oE(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await CI(e),n=await xI(e);return t.setNetworkEnabled(!1),async function(e){const t=Pg(e);t.k_.add(0),await RS(t),t.K_.set("Offline")}(n)}))}(ZI(e=FI(e,JI)))}function iE(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=Pg(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.jr.getNamedQuery(e,t)))}(await _I(e),t)))}(ZI(e=FI(e,JI)),t).then((t=>t?new UI(e,null,t.query):null))}class aE{constructor(e){this._byteString=e}static fromBase64String(e){try{return new aE(vy.fromBase64String(e))}catch(e){throw new Dg(Ag.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new aE(vy.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class sE{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Dg(Ag.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jg(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class lE{constructor(e){this._methodName=e}}class cE{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Dg(Ag.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Dg(Ag.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qg(this._lat,e._lat)||qg(this._long,e._long)}}class uE{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const dE=/^__.*__$/;class hE{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Lw(e,this.data,this.fieldMask,t,this.fieldTransforms):new Mw(e,this.data,t,this.fieldTransforms)}}class pE{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Lw(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function fE(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tg()}}class mE{constructor(e,t,n,r,o,i){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===o&&this.Fu(),this.fieldTransforms=o||[],this.fieldMask=i||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new mE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xu({path:n,Nu:!1});return r.Bu(e),r}Lu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xu({path:n,Nu:!1});return r.Fu(),r}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return ME(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Bu(this.path.get(e))}Bu(e){if(0===e.length)throw this.qu("Document fields must not be empty");if(fE(this.Mu)&&dE.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class gE{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||wS(e)}$u(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new mE({Mu:e,methodName:t,Ku:n,path:Jg.emptyPath(),Nu:!1,Qu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vE(e){const t=e._freezeSettings(),n=wS(e._databaseId);return new gE(e._databaseId,!!t.ignoreUndefinedProperties,n)}function yE(e,t,n,r,o){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.$u(i.merge||i.mergeFields?2:0,t,n,o);AE("Data must be an object, but it was:",a,r);const s=RE(r,a);let l,c;if(i.merge)l=new my(a.fieldMask),c=a.fieldTransforms;else if(i.mergeFields){const e=[];for(const r of i.mergeFields){const o=DE(t,r,n);if(!a.contains(o))throw new Dg(Ag.INVALID_ARGUMENT,"Field '".concat(o,"' is specified in your field mask but missing from your input data."));LE(e,o)||e.push(o)}l=new my(e),c=a.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=a.fieldTransforms;return new hE(new Jy(s),l,c)}class bE extends lE{_toFieldTransform(e){if(2!==e.Mu)throw 1===e.Mu?e.qu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.qu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof bE}}function wE(e,t,n){return new mE({Mu:3,Ku:t.settings.Ku,methodName:e._methodName,Nu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class CE extends lE{_toFieldTransform(e){return new kw(e.path,new vw)}isEqual(e){return e instanceof CE}}class _E extends lE{constructor(e,t){super(e),this.Uu=t}_toFieldTransform(e){const t=wE(this,e,!0),n=this.Uu.map((e=>TE(e,t))),r=new yw(n);return new kw(e.path,r)}isEqual(e){return e instanceof _E&&ln(this.Uu,e.Uu)}}class xE extends lE{constructor(e,t){super(e),this.Uu=t}_toFieldTransform(e){const t=wE(this,e,!0),n=this.Uu.map((e=>TE(e,t))),r=new ww(n);return new kw(e.path,r)}isEqual(e){return e instanceof xE&&ln(this.Uu,e.Uu)}}class SE extends lE{constructor(e,t){super(e),this.Wu=t}_toFieldTransform(e){const t=new _w(e.serializer,hw(e.serializer,this.Wu));return new kw(e.path,t)}isEqual(e){return e instanceof SE&&this.Wu===e.Wu}}function kE(e,t,n,r){const o=e.$u(1,t,n);AE("Data must be an object, but it was:",o,r);const i=[],a=Jy.empty();sy(r,((e,r)=>{const s=NE(t,e,n);r=_n(r);const l=o.Lu(s);if(r instanceof bE)i.push(s);else{const e=TE(r,l);null!=e&&(i.push(s),a.set(s,e))}}));const s=new my(i);return new pE(a,s,o.fieldTransforms)}function IE(e,t,n,r,o,i){const a=e.$u(1,t,n),s=[DE(t,r,n)],l=[o];if(i.length%2!=0)throw new Dg(Ag.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<i.length;h+=2)s.push(DE(t,i[h])),l.push(i[h+1]);const c=[],u=Jy.empty();for(let h=s.length-1;h>=0;--h)if(!LE(c,s[h])){const e=s[h];let t=l[h];t=_n(t);const n=a.Lu(e);if(t instanceof bE)c.push(e);else{const r=TE(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new my(c);return new pE(u,d,a.fieldTransforms)}function EE(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return TE(n,e.$u(r?4:3,t))}function TE(e,t){if(PE(e=_n(e)))return AE("Unsupported field value:",t,e),RE(e,t);if(e instanceof lE)return function(e,t){if(!fE(t.Mu))throw t.qu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.qu("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Nu&&4!==t.Mu)throw t.qu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const o of e){let e=TE(o,t.ku(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=_n(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return hw(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Kg.fromDate(e);return{timestampValue:vC(t.serializer,n)}}if(e instanceof Kg){const n=new Kg(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:vC(t.serializer,n)}}if(e instanceof cE)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof aE)return{bytesValue:yC(t.serializer,e._byteString)};if(e instanceof HI){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.qu("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:CC(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof uE)return function(e,t){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.qu("VectorValues must only contain numeric values.");return uw(t.serializer,e)}))}}}}}}(e,t);throw t.qu("Unsupported field value: ".concat(LI(e)))}(e,t)}function RE(e,t){const n={};return ly(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):sy(e,((e,r)=>{const o=TE(r,t.Ou(e));null!=o&&(n[e]=o)})),{mapValue:{fields:n}}}function PE(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Kg||e instanceof cE||e instanceof aE||e instanceof HI||e instanceof lE||e instanceof uE)}function AE(e,t,n){if(!PE(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=LI(n);throw"an object"===r?t.qu(e+" a custom object"):t.qu(e+" "+r)}}function DE(e,t,n){if((t=_n(t))instanceof sE)return t._internalPath;if("string"==typeof t)return NE(e,t);throw ME("Field path arguments must be of type string or ",e,!1,void 0,n)}const OE=new RegExp("[~\\*/\\[\\]]");function NE(e,t,n){if(t.search(OE)>=0)throw ME("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new sE(...t.split("."))._internalPath}catch(r){throw ME("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function ME(e,t,n,r,o){const i=r&&!r.isEmpty(),a=void 0!==o;let s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(i||a)&&(l+=" (found",i&&(l+=" in field ".concat(r)),a&&(l+=" in document ".concat(o)),l+=")"),new Dg(Ag.INVALID_ARGUMENT,s+e+l)}function LE(e,t){return e.some((e=>e.isEqual(t)))}class FE{constructor(e,t,n,r,o){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new HI(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new BE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(jE("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class BE extends FE{data(){return super.data()}}function jE(e,t){return"string"==typeof t?NE(e,t):t instanceof sE?t._internalPath:t._delegate._internalPath}function zE(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Dg(Ag.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class VE{}class UE extends VE{}function HE(e,t){let n=[];for(var r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];t instanceof VE&&n.push(t),n=n.concat(o),function(e){const t=e.filter((e=>e instanceof WE)).length,n=e.filter((e=>e instanceof qE)).length;if(t>1||t>0&&n>0)throw new Dg(Ag.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class qE extends UE{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new qE(e,t,n)}_apply(e){const t=this._parse(e);return ZE(e._query,t),new UI(e.firestore,e.converter,Vb(e._query,t))}_parse(e){const t=vE(e.firestore),n=function(e,t,n,r,o,i,a){let s;if(o.isKeyField()){if("array-contains"===i||"array-contains-any"===i)throw new Dg(Ag.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(i,"' queries on documentId()."));if("in"===i||"not-in"===i){JE(a,i);const t=[];for(const n of a)t.push($E(r,e,n));s={arrayValue:{values:t}}}else s=$E(r,e,a)}else"in"!==i&&"not-in"!==i&&"array-contains-any"!==i||JE(a,i),s=EE(n,t,a,"in"===i||"not-in"===i);return sb.create(o,i,s)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class WE extends VE{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new WE(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:lb.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const o of r)ZE(n,o),n=Vb(n,o)}(e._query,t),new UI(e.firestore,e.converter,Vb(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class GE extends UE{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new GE(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Dg(Ag.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Dg(Ag.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ob(t,n)}(e._query,this._field,this._direction);return new UI(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Ob(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class KE extends UE{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new KE(e,t,n)}_apply(e){return new UI(e.firestore,e.converter,Ub(e._query,this._limit,this._limitType))}}class QE extends UE{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new QE(e,t,n)}_apply(e){const t=XE(e,this.type,this._docOrFields,this._inclusive);return new UI(e.firestore,e.converter,function(e,t){return new Ob(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class YE extends UE{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new YE(e,t,n)}_apply(e){const t=XE(e,this.type,this._docOrFields,this._inclusive);return new UI(e.firestore,e.converter,function(e,t){return new Ob(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function XE(e,t,n,r){if(n[0]=_n(n[0]),n[0]instanceof FE)return function(e,t,n,r,o){if(!r)throw new Dg(Ag.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));const i=[];for(const a of Bb(e))if(a.field.isKeyField())i.push(By(t,r.key));else{const e=r.data.field(a.field);if(_y(e))throw new Dg(Ag.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=a.field.canonicalString();throw new Dg(Ag.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(e,"' (used as the orderBy) does not exist."))}i.push(e)}return new tb(i,o)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const o=vE(e.firestore);return function(e,t,n,r,o,i){const a=e.explicitOrderBy;if(o.length>a.length)throw new Dg(Ag.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));const s=[];for(let l=0;l<o.length;l++){const i=o[l];if(a[l].field.isKeyField()){if("string"!=typeof i)throw new Dg(Ag.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof i));if(!Fb(e)&&-1!==i.indexOf("/"))throw new Dg(Ag.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(i,"' contains a slash."));const n=e.path.child(Xg.fromString(i));if(!Zg.isDocumentKey(n))throw new Dg(Ag.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(n,"' is not because it contains an odd number of segments."));const o=new Zg(n);s.push(By(t,o))}else{const e=EE(n,r,i);s.push(e)}}return new tb(s,i)}(e._query,e.firestore._databaseId,o,t,n,r)}}function $E(e,t,n){if("string"==typeof(n=_n(n))){if(""===n)throw new Dg(Ag.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Fb(t)&&-1!==n.indexOf("/"))throw new Dg(Ag.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(Xg.fromString(n));if(!Zg.isDocumentKey(r))throw new Dg(Ag.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return By(e,new Zg(r))}if(n instanceof HI)return By(e,n._key);throw new Dg(Ag.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(LI(n),"."))}function JE(e,t){if(!Array.isArray(e)||0===e.length)throw new Dg(Ag.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function ZE(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Dg(Ag.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Dg(Ag.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class eT{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Ry(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wy(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Cy(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Tg()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return sy(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const o=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>wy(e.doubleValue)));return new uE(o)}convertGeoPoint(e){return new cE(wy(e.latitude),wy(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=xy(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Sy(e));default:return null}}convertTimestamp(e){const t=by(e);return new Kg(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Xg.fromString(e);Rg(WC(n));const r=new Iy(n.get(1),n.get(3)),o=new Zg(n.popFirst(5));return r.isEqual(t)||kg("Document ".concat(o," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),o}}function tT(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class nT extends eT{constructor(e){super(),this.firestore=e}convertBytes(e){return new aE(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new HI(this.firestore,null,t)}}class rT{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class oT extends FE{constructor(e,t,n,r,o,i){super(e,t,n,r,i),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new iT(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(jE("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class iT extends oT{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class aT{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new rT(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new iT(this._firestore,this._userDataWriter,n.key,n,new rT(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Dg(Ag.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new iT(e._firestore,e._userDataWriter,n.doc.key,n.doc,new rT(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new iT(e._firestore,e._userDataWriter,t.doc.key,t.doc,new rT(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let o=-1,i=-1;return 0!==t.type&&(o=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),i=n.indexOf(t.doc.key)),{type:sT(t.type),doc:r,oldIndex:o,newIndex:i}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function sT(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tg()}}function lT(e,t){return e instanceof oT&&t instanceof oT?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof aT&&t instanceof aT&&e._firestore===t._firestore&&QI(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function cT(e){e=FI(e,HI);const t=FI(e.firestore,JI);return EI(ZI(t),e._key).then((n=>wT(t,e,n)))}class uT extends eT{constructor(e){super(),this.firestore=e}convertBytes(e){return new aE(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new HI(this.firestore,null,t)}}function dT(e){e=FI(e,HI);const t=FI(e.firestore,JI),n=ZI(t),r=new uT(t);return function(e,t){const n=new Og;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=Pg(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new Dg(Ag.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=ok(e,"Failed to get document '".concat(t," from cache"));n.reject(r)}}(await _I(e),t,n))),n.promise}(n,e._key).then((n=>new oT(t,r,e._key,n,new rT(null!==n&&n.hasLocalMutations,!0),e.converter)))}function hT(e){e=FI(e,UI);const t=FI(e.firestore,JI),n=ZI(t),r=new uT(t);return zE(e._query),TI(n,e._query).then((n=>new aT(t,r,e,n)))}function pT(e){e=FI(e,UI);const t=FI(e.firestore,JI),n=ZI(t),r=new uT(t);return function(e,t){const n=new Og;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await Yx(e,t,!0),o=new kk(t,r.Es),i=o.ga(r.documents),a=o.applyChanges(i,!1);n.resolve(a.snapshot)}catch(e){const r=ok(e,"Failed to execute query '".concat(t," against cache"));n.reject(r)}}(await _I(e),t,n))),n.promise}(n,e._query).then((n=>new aT(t,r,e,n)))}function fT(e,t,n){e=FI(e,HI);const r=FI(e.firestore,JI),o=tT(e.converter,t,n);return bT(r,[yE(vE(r),"setDoc",e._key,o,null!==e.converter,n).toMutation(e._key,Ew.none())])}function mT(e,t,n){e=FI(e,HI);const r=FI(e.firestore,JI),o=vE(r);let i;for(var a=arguments.length,s=new Array(a>3?a-3:0),l=3;l<a;l++)s[l-3]=arguments[l];return i="string"==typeof(t=_n(t))||t instanceof sE?IE(o,"updateDoc",e._key,t,n,s):kE(o,"updateDoc",e._key,t),bT(r,[i.toMutation(e._key,Ew.exists(!0))])}function gT(e){return bT(FI(e.firestore,JI),[new zw(e._key,Ew.none())])}function vT(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o,i,a;e=_n(e);let s={includeMetadataChanges:!1,source:"default"},l=0;"object"!=typeof n[l]||XI(n[l])||(s=n[l],l++);const c={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(XI(n[l])){const e=n[l];n[l]=null===(o=e.next)||void 0===o?void 0:o.bind(e),n[l+1]=null===(i=e.error)||void 0===i?void 0:i.bind(e),n[l+2]=null===(a=e.complete)||void 0===a?void 0:a.bind(e)}let u,d,h;if(e instanceof HI)d=FI(e.firestore,JI),h=Mb(e._key.path),u={next:t=>{n[l]&&n[l](wT(d,e,t))},error:n[l+1],complete:n[l+2]};else{const t=FI(e,UI);d=FI(t.firestore,JI),h=t._query;const r=new uT(d);u={next:e=>{n[l]&&n[l](new aT(d,r,t,e))},error:n[l+1],complete:n[l+2]},zE(e._query)}return function(e,t,n,r){const o=new hI(r),i=new yk(t,o,n);return e.asyncQueue.enqueueAndForget((async()=>dk(await II(e),i))),()=>{o.eu(),e.asyncQueue.enqueueAndForget((async()=>hk(await II(e),i)))}}(ZI(d),h,c,u)}function yT(e,t){return function(e,t){const n=new hI(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){Pg(e).X_.add(t),t.next()}(await II(e),n))),()=>{n.eu(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){Pg(e).X_.delete(t)}(await II(e),n)))}}(ZI(e=FI(e,JI)),XI(t)?t:{next:t})}function bT(e,t){return function(e,t){const n=new Og;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=iI(e);try{const e=await function(e,t){const n=Pg(e),r=Kg.now(),o=t.reduce(((e,t)=>e.add(t.key)),sw());let i,a;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let s=Jb(),l=sw();return n.hs.getEntries(e,o).next((e=>{s=e,s.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,s))).next((o=>{i=o;const a=[];for(const e of t){const t=Ow(e,i.get(e.key).overlayedDocument);null!=t&&a.push(new Lw(e.key,t,Zy(t.value.mapValue),Ew.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)})).next((t=>{a=t;const r=t.applyToLocalDocumentSet(i,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:a.batchId,changes:tw(i)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.qa[e.currentUser.toKey()];r||(r=new cy(qg)),r=r.insert(t,n),e.qa[e.currentUser.toKey()]=r}(r,e.batchId,n),await Kk(r,e.changes),await qS(r.remoteStore)}catch(e){const t=ok(e,"Failed to persist write");n.reject(t)}}(await SI(e),t,n))),n.promise}(ZI(e),t)}function wT(e,t,n){const r=n.docs.get(t._key),o=new uT(e);return new oT(e,o,t._key,r,new rT(n.hasPendingWrites,n.fromCache),t.converter)}const CT={maxAttempts:5};class _T{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=vE(e)}set(e,t,n){this._verifyNotCommitted();const r=xT(e,this._firestore),o=tT(r.converter,t,n),i=yE(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,n);return this._mutations.push(i.toMutation(r._key,Ew.none())),this}update(e,t,n){this._verifyNotCommitted();const r=xT(e,this._firestore);let o;for(var i=arguments.length,a=new Array(i>3?i-3:0),s=3;s<i;s++)a[s-3]=arguments[s];return o="string"==typeof(t=_n(t))||t instanceof sE?IE(this._dataReader,"WriteBatch.update",r._key,t,n,a):kE(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(o.toMutation(r._key,Ew.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=xT(e,this._firestore);return this._mutations=this._mutations.concat(new zw(t._key,Ew.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Dg(Ag.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function xT(e,t){if((e=_n(e)).firestore!==t)throw new Dg(Ag.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class ST extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=vE(e)}get(e){const t=xT(e,this._firestore),n=new nT(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return Tg();const r=e[0];if(r.isFoundDocument())return new FE(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new FE(this._firestore,n,t._key,null,t.converter);throw Tg()}))}set(e,t,n){const r=xT(e,this._firestore),o=tT(r.converter,t,n),i=yE(this._dataReader,"Transaction.set",r._key,o,null!==r.converter,n);return this._transaction.set(r._key,i),this}update(e,t,n){const r=xT(e,this._firestore);let o;for(var i=arguments.length,a=new Array(i>3?i-3:0),s=3;s<i;s++)a[s-3]=arguments[s];return o="string"==typeof(t=_n(t))||t instanceof sE?IE(this._dataReader,"Transaction.update",r._key,t,n,a):kE(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,o),this}delete(e){const t=xT(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=xT(e,this._firestore),n=new uT(this._firestore);return super.get(e).then((e=>new oT(this._firestore,n,t._key,e._document,new rT(!1,!1),t.converter)))}}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Cg=e}(Hr),Nr(new xn("firestore",((e,n)=>{let{instanceIdentifier:r,options:o}=n;const i=e.getProvider("app").getImmediate(),a=new JI(new Fg(e.getProvider("auth-internal")),new Vg(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Dg(Ag.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Iy(e.options.projectId,t)}(i,r),i);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a}),"PUBLIC").setMultipleInstances(!0)),Yr(bg,"4.7.6",e),Yr(bg,"4.7.6","esm2017")}();function kT(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Dg("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function IT(){if("undefined"===typeof Uint8Array)throw new Dg("unimplemented","Uint8Arrays are not available in this environment.")}function ET(){if("undefined"==typeof atob)throw new Dg("unimplemented","Blobs are unavailable in Firestore in this environment.")}class TT{constructor(e){this._delegate=e}static fromBase64String(e){return ET(),new TT(aE.fromBase64String(e))}static fromUint8Array(e){return IT(),new TT(aE.fromUint8Array(e))}toBase64(){return ET(),this._delegate.toBase64()}toUint8Array(){return IT(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function RT(e){return function(e,t){if("object"!==typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"===typeof n[r])return!0;return!1}(e,["next","error","complete"])}class PT{enableIndexedDbPersistence(e,t){return function(e,t){Ig("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings();return tE(e,uI.provider,{build:e=>new lI(e,n.cacheSizeBytes,null==t?void 0:t.forceOwnership)}),Promise.resolve()}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return async function(e){Ig("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=e._freezeSettings();tE(e,uI.provider,{build:e=>new cI(e,t.cacheSizeBytes)})}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new Dg(Ag.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Og;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!fv.p())return Promise.resolve();const t=e+"main";await fv.delete(t)}(Fx(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}(e._delegate)}}class AT{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof Iy||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||Ig("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};VI(this._delegate,e,t,n)}enableNetwork(){return rE(this._delegate)}disableNetwork(){return oE(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,OI("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return nE(this._delegate)}onSnapshotsInSync(e){return yT(this._delegate,e)}get app(){if(!this._appCompat)throw new Dg("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new WT(this,WI(this._delegate,e))}catch(D9){throw FT(D9,"collection()","Firestore.collection()")}}doc(e){try{return new LT(this,GI(this._delegate,e))}catch(D9){throw FT(D9,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new UT(this,function(e,t){if(e=FI(e,zI),DI("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Dg(Ag.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new UI(e,null,function(e){return new Ob(Xg.emptyPath(),e)}(t))}(this._delegate,e))}catch(D9){throw FT(D9,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t,n){e=FI(e,JI);const r=Object.assign(Object.assign({},CT),n);return function(e){if(e.maxAttempts<1)throw new Dg(Ag.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new Og;return e.asyncQueue.enqueueAndForget((async()=>{const o=await kI(e);new mI(e.asyncQueue,o,n,t,r).cu()})),r.promise}(ZI(e),(n=>t(new ST(e,n))),r)}(this._delegate,(t=>e(new OT(this,t))))}batch(){return ZI(this._delegate),new NT(new _T(this._delegate,(e=>bT(this._delegate,e))))}loadBundle(e){return function(e,t){const n=ZI(e=FI(e,JI)),r=new $I;return RI(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return iE(this._delegate,e).then((e=>e?new UT(this,e):null))}}class DT extends eT{constructor(e){super(),this.firestore=e}convertBytes(e){return new TT(new aE(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return LT.forKey(t,this.firestore,null)}}class OT{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new DT(e)}get(e){const t=GT(e);return this._delegate.get(t).then((e=>new zT(this._firestore,new oT(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const r=GT(e);return n?(kT("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,o=new Array(r>3?r-3:0),i=3;i<r;i++)o[i-3]=arguments[i];const a=GT(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,n,...o),this}delete(e){const t=GT(e);return this._delegate.delete(t),this}}class NT{constructor(e){this._delegate=e}set(e,t,n){const r=GT(e);return n?(kT("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,o=new Array(r>3?r-3:0),i=3;i<r;i++)o[i-3]=arguments[i];const a=GT(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,n,...o),this}delete(e){const t=GT(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class MT{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new iT(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new VT(this._firestore,n),null!==t&&void 0!==t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=MT.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let o=r.get(t);return o||(o=new MT(e,new DT(e),t),r.set(t,o)),o}}MT.INSTANCES=new WeakMap;class LT{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new DT(e)}static forPath(e,t,n){if(e.length%2!==0)throw new Dg("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(e.canonicalString()," has ").concat(e.length));return new LT(t,new HI(t._delegate,n,new Zg(e)))}static forKey(e,t,n){return new LT(t,new HI(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new WT(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new WT(this.firestore,WI(this._delegate,e))}catch(D9){throw FT(D9,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=_n(e))instanceof HI&&KI(this._delegate,e)}set(e,t){t=kT("DocumentReference.set",t);try{return t?fT(this._delegate,e,t):fT(this._delegate,e)}catch(D9){throw FT(D9,"setDoc()","DocumentReference.set()")}}update(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];try{return 1===arguments.length?mT(this._delegate,e):mT(this._delegate,e,t,...r)}catch(D9){throw FT(D9,"updateDoc()","DocumentReference.update()")}}delete(){return gT(this._delegate)}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=BT(t),o=jT(t,(e=>new zT(this.firestore,new oT(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return vT(this._delegate,r,o)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?dT(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=FI(e,HI);const t=FI(e.firestore,JI);return EI(ZI(t),e._key,{source:"server"}).then((n=>wT(t,e,n)))}(this._delegate):cT(this._delegate),t.then((e=>new zT(this.firestore,new oT(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new LT(this.firestore,e?this._delegate.withConverter(MT.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function FT(e,t,n){return e.message=e.message.replace(t,n),e}function BT(e){for(const t of e)if("object"===typeof t&&!RT(t))return t;return{}}function jT(e,t){var n,r;let o;return o=RT(e[0])?e[0]:RT(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{o.next&&o.next(t(e))},error:null===(n=o.error)||void 0===n?void 0:n.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class zT{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new LT(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return lT(this._delegate,e._delegate)}}class VT extends zT{data(e){const t=this._delegate.data(e);return this._delegate._converter||function(e){e||Tg()}(void 0!==t),t}}class UT{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new DT(e)}where(e,t,n){try{return new UT(this.firestore,HE(this._delegate,function(e,t,n){const r=t,o=jE("where",e);return qE._create(o,r,n)}(e,t,n)))}catch(D9){throw FT(D9,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new UT(this.firestore,HE(this._delegate,function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=jE("orderBy",e);return GE._create(n,t)}(e,t)))}catch(D9){throw FT(D9,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new UT(this.firestore,HE(this._delegate,function(e){return BI("limit",e),KE._create("limit",e,"F")}(e)))}catch(D9){throw FT(D9,"limit()","Query.limit()")}}limitToLast(e){try{return new UT(this.firestore,HE(this._delegate,function(e){return BI("limitToLast",e),KE._create("limitToLast",e,"L")}(e)))}catch(D9){throw FT(D9,"limitToLast()","Query.limitToLast()")}}startAt(){try{return new UT(this.firestore,HE(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return QE._create("startAt",t,!0)}(...arguments)))}catch(D9){throw FT(D9,"startAt()","Query.startAt()")}}startAfter(){try{return new UT(this.firestore,HE(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return QE._create("startAfter",t,!1)}(...arguments)))}catch(D9){throw FT(D9,"startAfter()","Query.startAfter()")}}endBefore(){try{return new UT(this.firestore,HE(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return YE._create("endBefore",t,!1)}(...arguments)))}catch(D9){throw FT(D9,"endBefore()","Query.endBefore()")}}endAt(){try{return new UT(this.firestore,HE(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return YE._create("endAt",t,!0)}(...arguments)))}catch(D9){throw FT(D9,"endAt()","Query.endAt()")}}isEqual(e){return QI(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?pT(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=FI(e,UI);const t=FI(e.firestore,JI),n=ZI(t),r=new uT(t);return TI(n,e._query,{source:"server"}).then((n=>new aT(t,r,e,n)))}(this._delegate):hT(this._delegate),t.then((e=>new qT(this.firestore,new aT(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=BT(t),o=jT(t,(e=>new qT(this.firestore,new aT(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return vT(this._delegate,r,o)}withConverter(e){return new UT(this.firestore,e?this._delegate.withConverter(MT.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class HT{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new VT(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class qT{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new UT(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new VT(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new HT(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new VT(this._firestore,n))}))}isEqual(e){return lT(this._delegate,e._delegate)}}class WT extends UT{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new LT(this.firestore,e):null}doc(e){try{return new LT(this.firestore,void 0===e?GI(this._delegate):GI(this._delegate,e))}catch(D9){throw FT(D9,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=FI(e.firestore,JI),r=GI(e),o=tT(e.converter,t);return bT(n,[yE(vE(e.firestore),"addDoc",r._key,o,null!==e.converter,{}).toMutation(r._key,Ew.exists(!1))]).then((()=>r))}(this._delegate,e).then((e=>new LT(this.firestore,e)))}isEqual(e){return KI(this._delegate,e._delegate)}withConverter(e){return new WT(this.firestore,e?this._delegate.withConverter(MT.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function GT(e){return FI(e,HI)}class KT{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._delegate=new sE(...t)}static documentId(){return new KT(Jg.keyField().canonicalString())}isEqual(e){return(e=_n(e))instanceof sE&&this._delegate._internalPath.isEqual(e._internalPath)}}class QT{static serverTimestamp(){const e=new CE("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new QT(e)}static delete(){const e=new bE("deleteField");return e._methodName="FieldValue.delete",new QT(e)}static arrayUnion(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new _E("arrayUnion",t)}(...arguments);return e._methodName="FieldValue.arrayUnion",new QT(e)}static arrayRemove(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new xE("arrayRemove",t)}(...arguments);return e._methodName="FieldValue.arrayRemove",new QT(e)}static increment(e){const t=function(e){return new SE("increment",e)}(e);return t._methodName="FieldValue.increment",new QT(t)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}const YT={Firestore:AT,GeoPoint:cE,Timestamp:Kg,Blob:TT,Transaction:OT,WriteBatch:NT,DocumentReference:LT,DocumentSnapshot:zT,Query:UT,QueryDocumentSnapshot:VT,QuerySnapshot:qT,CollectionReference:WT,FieldPath:KT,FieldValue:QT,setLogLevel:function(e){!function(e){_g.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new xn("firestore-compat",(e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},YT)))}(e,((e,t)=>new AT(e,t,new PT))),e.registerVersion("@firebase/firestore-compat","0.3.41")}(po);const XT="firebasestorage.googleapis.com",$T="storageBucket";class JT extends $t{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(tR(e),"Firebase Storage: ".concat(t," (").concat(tR(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,JT.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return tR(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var ZT,eR;function tR(e){return"storage/"+e}function nR(){return new JT(ZT.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function rR(){return new JT(ZT.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function oR(){return new JT(ZT.CANCELED,"User canceled the upload/download.")}function iR(){return new JT(ZT.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function aR(e){return new JT(ZT.INVALID_ARGUMENT,e)}function sR(){return new JT(ZT.APP_DELETED,"The Firebase app was deleted.")}function lR(e){return new JT(ZT.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function cR(e,t){return new JT(ZT.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function uR(e){throw new JT(ZT.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(ZT||(ZT={}));class dR{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=dR.makeFromUrl(e,t)}catch(D9){return new dR(e,"")}if(""===n.path)return n;throw r=e,new JT(ZT.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const o=new RegExp("^gs://"+r+"(/(.*))?$","i");function i(e){e.path_=decodeURIComponent(e.path)}const a=t.replace(/[.]/g,"\\."),s=[{regex:o,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(a,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:i},{regex:new RegExp("^https?://".concat(t===XT?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:i}];for(let l=0;l<s.length;l++){const t=s[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let o=r[t.indices.path];o||(o=""),n=new dR(e,o),t.postModify(n);break}}if(null==n)throw function(e){return new JT(ZT.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class hR{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function pR(e){return"string"===typeof e||e instanceof String}function fR(e){return mR()&&e instanceof Blob}function mR(){return"undefined"!==typeof Blob}function gR(e,t,n,r){if(r<t)throw aR("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw aR("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function vR(e,t,n){let r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function yR(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function bR(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),o=-1!==t.indexOf(e);return n||r||o}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(eR||(eR={}));class wR{constructor(e,t,n,r,o,i,a,s,l,c,u){let d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=i,this.callback_=a,this.errorCallback_=s,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new CR(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===eR.NO_ERROR,o=n.getStatus();if(!t||bR(o,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===eR.ABORT;return void e(!1,new CR(!1,null,t))}const i=-1!==this.successCodes_.indexOf(o);e(!0,new CR(i,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,o=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(o,o.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(D9){r(D9)}else if(null!==o){const e=nR();e.serverResponse=o.getErrorText(),this.errorCallback_?r(this.errorCallback_(o,e)):r(e)}else if(t.canceled){r(this.appDelete_?sR():oR())}else{r(rR())}};this.canceled_?t(0,new CR(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,o=null,i=null,a=!1,s=0;function l(){return 2===s}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function d(t){o=setTimeout((()=>{o=null,e(p,l())}),t)}function h(){i&&clearTimeout(i)}function p(e){if(c)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];if(e)return h(),void u.call(null,e,...n);if(l()||a)return h(),void u.call(null,e,...n);let i;r<64&&(r*=2),1===s?(s=2,i=0):i=1e3*(r+Math.random()),d(i)}let f=!1;function m(e){f||(f=!0,h(),c||(null!==o?(e||(s=2),clearTimeout(o),d(0)):e||(s=1)))}return d(0),i=setTimeout((()=>{a=!0,m(!0)}),n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class CR{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function _R(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function xR(){const e=_R();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(mR())return new Blob(n);throw new JT(ZT.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function SR(e){if("undefined"===typeof atob)throw t="base-64",new JT(ZT.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}const kR={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class IR{constructor(e,t){this.data=e,this.contentType=t||null}}function ER(e,t){switch(e){case kR.RAW:return new IR(TR(t));case kR.BASE64:case kR.BASE64URL:return new IR(RR(e,t));case kR.DATA_URL:return new IR(function(e){const t=new PR(e);return t.base64?RR(kR.BASE64,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(D9){throw cR(kR.DATA_URL,"Malformed data URL.")}return TR(t)}(t.rest)}(t),new PR(t).contentType)}throw nR()}function TR(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function RR(e,t){switch(e){case kR.BASE64:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw cR(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case kR.BASE64URL:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw cR(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=SR(t)}catch(D9){if(D9.message.includes("polyfill"))throw D9;throw cR(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}class PR{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw cR(kR.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){const n=e.length>=t.length;if(!n)return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class AR{constructor(e,t){let n=0,r="";fR(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(fR(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new AR(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new AR(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(mR()){const e=t.map((e=>e instanceof AR?e.data_:e));return new AR(xR.apply(null,e))}{const e=t.map((e=>pR(e)?ER(kR.RAW,e).data:e.data_));let n=0;e.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let o=0;return e.forEach((e=>{for(let t=0;t<e.length;t++)r[o++]=e[t]})),new AR(r,!0)}}uploadData(){return this.data_}}function DR(e){let t;try{t=JSON.parse(e)}catch(D9){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function OR(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function NR(e,t){return t}class MR{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||NR}}let LR=null;function FR(){if(LR)return LR;const e=[];e.push(new MR("bucket")),e.push(new MR("generation")),e.push(new MR("metageneration")),e.push(new MR("name","fullPath",!0));const t=new MR("name");t.xform=function(e,t){return function(e){return!pR(e)||e.length<2?e:OR(e)}(t)},e.push(t);const n=new MR("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new MR("timeCreated")),e.push(new MR("updated")),e.push(new MR("md5Hash",null,!0)),e.push(new MR("cacheControl",null,!0)),e.push(new MR("contentDisposition",null,!0)),e.push(new MR("contentEncoding",null,!0)),e.push(new MR("contentLanguage",null,!0)),e.push(new MR("contentType",null,!0)),e.push(new MR("metadata","customMetadata",!0)),LR=e,LR}function BR(e,t,n){const r={type:"file"},o=n.length;for(let i=0;i<o;i++){const e=n[i];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,o=new dR(n,r);return t._makeStorageReference(o)}})}(r,e),r}function jR(e,t,n){const r=DR(t);if(null===r)return null;return BR(e,r,n)}function zR(e,t){const n={},r=t.length;for(let o=0;o<r;o++){const r=t[o];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}const VR="prefixes",UR="items";function HR(e,t,n){const r=DR(n);if(null===r)return null;return function(e,t,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[VR])for(const o of n[VR]){const n=o.replace(/\/$/,""),i=e._makeStorageReference(new dR(t,n));r.prefixes.push(i)}if(n[UR])for(const o of n[UR]){const n=e._makeStorageReference(new dR(t,o.name));r.items.push(n)}return r}(e,t,r)}class qR{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function WR(e){if(!e)throw nR()}function GR(e,t){return function(n,r){const o=jR(e,r,t);return WR(null!==o),o}}function KR(e,t){return function(n,r){const o=jR(e,r,t);return WR(null!==o),function(e,t,n,r){const o=DR(t);if(null===o)return null;if(!pR(o.downloadTokens))return null;const i=o.downloadTokens;if(0===i.length)return null;const a=encodeURIComponent,s=i.split(",").map((t=>{const o=e.bucket,i=e.fullPath;return vR("/b/"+a(o)+"/o/"+a(i),n,r)+yR({alt:"media",token:t})}));return s[0]}(o,r,e.host,e._protocol)}}function QR(e){return function(t,n){let r;var o,i;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new JT(ZT.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new JT(ZT.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(i=e.bucket,r=new JT(ZT.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(o=e.path,r=new JT(ZT.UNAUTHORIZED,"User does not have permission to access '"+o+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function YR(e){const t=QR(e);return function(n,r){let o=t(n,r);var i;return 404===n.getStatus()&&(i=e.path,o=new JT(ZT.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")),o.serverResponse=r.serverResponse,o}}function XR(e,t,n){const r=vR(t.fullServerUrl(),e.host,e._protocol),o=e.maxOperationRetryTime,i=new qR(r,"GET",GR(e,n),o);return i.errorHandler=YR(t),i}function $R(e,t,n,r,o){const i={};t.isRoot?i.prefix="":i.prefix=t.path+"/",n&&n.length>0&&(i.delimiter=n),r&&(i.pageToken=r),o&&(i.maxResults=o);const a=vR(t.bucketOnlyServerUrl(),e.host,e._protocol),s=e.maxOperationRetryTime,l=new qR(a,"GET",function(e,t){return function(n,r){const o=HR(e,t,r);return WR(null!==o),o}}(e,t.bucket),s);return l.urlParams=i,l.errorHandler=QR(t),l}function JR(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function ZR(e,t,n,r,o){const i=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};const s=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+s;const l=JR(t,r,o),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+zR(l,n)+"\r\n--"+s+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",u="\r\n--"+s+"--",d=AR.getBlob(c,r,u);if(null===d)throw iR();const h={name:l.fullPath},p=vR(i,e.host,e._protocol),f=e.maxUploadRetryTime,m=new qR(p,"POST",GR(e,n),f);return m.urlParams=h,m.headers=a,m.body=d.uploadData(),m.errorHandler=QR(t),m}class eP{constructor(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null}}function tP(e,t){let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(D9){WR(!1)}return WR(!!n&&-1!==(t||["active"]).indexOf(n)),n}const nP=262144;function rP(e,t,n,r,o,i,a,s){const l=new eP(0,0);if(a?(l.current=a.current,l.total=a.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw new JT(ZT.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");const c=l.total-l.current;let u=c;o>0&&(u=Math.min(u,o));const d=l.current,h=d+u;let p="";p=0===u?"finalize":c===u?"upload, finalize":"upload";const f={"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":"".concat(l.current)},m=r.slice(d,h);if(null===m)throw iR();const g=t.maxUploadRetryTime,v=new qR(n,"POST",(function(e,n){const o=tP(e,["active","final"]),a=l.current+u,s=r.size();let c;return c="final"===o?GR(t,i)(e,n):null,new eP(a,s,"final"===o,c)}),g);return v.headers=f,v.body=m.uploadData(),v.progressCallback=s||null,v.errorHandler=QR(e),v}const oP={STATE_CHANGED:"state_changed"},iP={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function aP(e){switch(e){case"running":case"pausing":case"canceling":return iP.RUNNING;case"paused":return iP.PAUSED;case"success":return iP.SUCCESS;case"canceled":return iP.CANCELED;default:return iP.ERROR}}class sP{constructor(e,t,n){const r=function(e){return"function"===typeof e}(e)||null!=t||null!=n;if(r)this.next=e,this.error=null!==t&&void 0!==t?t:void 0,this.complete=null!==n&&void 0!==n?n:void 0;else{const t=e;this.next=t.next,this.error=t.error,this.complete=t.complete}}}function lP(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((()=>e(...n)))}}class cP{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=eR.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=eR.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=eR.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw uR("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw uR("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw uR("cannot .getStatus() before sending");try{return this.xhr_.status}catch(D9){return-1}}getResponse(){if(!this.sent_)throw uR("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw uR("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class uP extends cP{initXhr(){this.xhr_.responseType="text"}}function dP(){return new uP}class hP{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=FR(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=e=>{if(this._request=void 0,this._chunkMultiplier=1,e._codeEquals(ZT.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const t=this.isExponentialBackoffExpired();if(bR(e.status,[])){if(!t)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();e=rR()}this._error=e,this._transition("error")}},this._metadataErrorHandler=e=>{this._request=void 0,e._codeEquals(ZT.CANCELED)?this.completeTransitions_():(this._error=e,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t,this._start()})),this._promise.then(null,(()=>{}))}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((()=>{this.pendingTimeout=void 0,this._continueUpload()}),this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((t=>{let[n,r]=t;switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}}))}_createResumable(){this._resolveToken(((e,t)=>{const n=function(e,t,n,r,o){const i=t.bucketOnlyServerUrl(),a=JR(t,r,o),s={name:a.fullPath},l=vR(i,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},u=zR(a,n),d=e.maxUploadRetryTime,h=new qR(l,"POST",(function(e){let t;tP(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(D9){WR(!1)}return WR(pR(t)),t}),d);return h.urlParams=s,h.headers=c,h.body=u,h.errorHandler=QR(t),h}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,dP,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._uploadUrl=e,this._needToFetchStatus=!1,this.completeTransitions_()}),this._errorHandler)}))}_fetchStatus(){const e=this._uploadUrl;this._resolveToken(((t,n)=>{const r=function(e,t,n,r){const o=e.maxUploadRetryTime,i=new qR(n,"POST",(function(e){const t=tP(e,["active","final"]);let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(D9){WR(!1)}n||WR(!1);const o=Number(n);return WR(!isNaN(o)),new eP(o,r.size(),"final"===t)}),o);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=QR(t),i}(this._ref.storage,this._ref._location,e,this._blob),o=this._ref.storage._makeRequest(r,dP,t,n);this._request=o,o.getPromise().then((e=>{this._request=void 0,this._updateProgress(e.current),this._needToFetchStatus=!1,e.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()}),this._errorHandler)}))}_continueUpload(){const e=nP*this._chunkMultiplier,t=new eP(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken(((r,o)=>{let i;try{i=rP(this._ref._location,this._ref.storage,n,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(D9){return this._error=D9,void this._transition("error")}const a=this._ref.storage._makeRequest(i,dP,r,o,!1);this._request=a,a.getPromise().then((e=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(e.current),e.finalized?(this._metadata=e.metadata,this._transition("success")):this.completeTransitions_()}),this._errorHandler)}))}_increaseMultiplier(){2*(nP*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken(((e,t)=>{const n=XR(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(n,dP,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._transition("success")}),this._metadataErrorHandler)}))}_oneShotUpload(){this._resolveToken(((e,t)=>{const n=ZR(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,dP,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._updateProgress(this._blob.size()),this._transition("success")}),this._errorHandler)}))}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=oR(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=aP(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,n,r){const o=new sP(t||void 0,n||void 0,r||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise();this._observers.slice().forEach((e=>{this._notifyObserver(e)}))}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(aP(this._state)){case iP.SUCCESS:lP(this._resolve.bind(null,this.snapshot))();break;case iP.CANCELED:case iP.ERROR:lP(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(aP(this._state)){case iP.RUNNING:case iP.PAUSED:e.next&&lP(e.next.bind(e,this.snapshot))();break;case iP.SUCCESS:e.complete&&lP(e.complete.bind(e))();break;default:e.error&&lP(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class pP{constructor(e,t){this._service=e,this._location=t instanceof dR?t:dR.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new pP(e,t)}get root(){const e=new dR(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return OR(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new dR(this._location.bucket,e);return new pP(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw lR(e)}}function fP(e){const t={prefixes:[],items:[]};return mP(e,t).then((()=>t))}async function mP(e,t,n){const r={pageToken:n},o=await gP(e,r);t.prefixes.push(...o.prefixes),t.items.push(...o.items),null!=o.nextPageToken&&await mP(e,t,o.nextPageToken)}function gP(e,t){null!=t&&"number"===typeof t.maxResults&&gR("options.maxResults",1,1e3,t.maxResults);const n=t||{},r=$R(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,dP)}function vP(e,t){e._throwIfRoot("updateMetadata");const n=function(e,t,n,r){const o=vR(t.fullServerUrl(),e.host,e._protocol),i=zR(n,r),a=e.maxOperationRetryTime,s=new qR(o,"PATCH",GR(e,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=i,s.errorHandler=YR(t),s}(e.storage,e._location,t,FR());return e.storage.makeRequestWithTokens(n,dP)}function yP(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=vR(t.fullServerUrl(),e.host,e._protocol),o=e.maxOperationRetryTime,i=new qR(r,"GET",KR(e,n),o);return i.errorHandler=YR(t),i}(e.storage,e._location,FR());return e.storage.makeRequestWithTokens(t,dP).then((e=>{if(null===e)throw new JT(ZT.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function bP(e){e._throwIfRoot("deleteObject");const t=function(e,t){const n=vR(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,o=new qR(n,"DELETE",(function(e,t){}),r);return o.successCodes=[200,204],o.errorHandler=YR(t),o}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,dP)}function wP(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new dR(e._location.bucket,n);return new pP(e.storage,r)}function CP(e,t){if(e instanceof SP){const n=e;if(null==n._bucket)throw new JT(ZT.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+$T+"' property when initializing the app?");const r=new pP(n,n._bucket);return null!=t?CP(r,t):r}return void 0!==t?wP(e,t):e}function _P(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof SP)return new pP(e,t);throw aR("To use ref(service, url), the first argument must be a Storage instance.")}return CP(e,t)}function xP(e,t){const n=null===t||void 0===t?void 0:t[$T];return null==n?null:dR.makeFromBucketSpec(n,e)}class SP{constructor(e,t,n,r,o){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=XT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?dR.makeFromBucketSpec(r,this._host):xP(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=dR.makeFromBucketSpec(this._url,e):this._bucket=xP(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){gR("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){gR("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new pP(this,e)}_makeRequest(e,t,n,r){let o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new hR(sR());{const i=function(e,t,n,r,o,i){let a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const s=yR(e.urlParams),l=e.url+s,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,i),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new wR(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,o,a)}(e,this._appId,n,r,t,this._firebaseVersion,o);return this._requests.add(i),i.getPromise().then((()=>this._requests.delete(i)),(()=>this._requests.delete(i))),i}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const kP="@firebase/storage",IP="0.13.5",EP="storage";function TP(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new hP(e,new AR(t),n)}(e=_n(e),t,n)}function RP(e){return function(e){e._throwIfRoot("getMetadata");const t=XR(e.storage,e._location,FR());return e.storage.makeRequestWithTokens(t,dP)}(e=_n(e))}function PP(e,t){return _P(e=_n(e),t)}function AP(e,t,n){!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";const{mockUserToken:o}=r;o&&(e._overrideAuthToken="string"===typeof o?o:zt(o,e.app.options.projectId))}(e,t,n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})}function DP(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new SP(r,o,i,n,Hr)}Nr(new xn(EP,DP,"PUBLIC").setMultipleInstances(!0)),Yr(kP,IP,""),Yr(kP,IP,"esm2017");class OP{constructor(e,t,n){this._delegate=e,this.task=t,this.ref=n}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class NP{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new OP(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then((t=>{if(e)return e(new OP(t,this,this._ref))}),t)}on(e,t,n,r){let o;return t&&(o="function"===typeof t?e=>t(new OP(e,this,this._ref)):{next:t.next?e=>t.next(new OP(e,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,o,n||void 0,r||void 0)}}class MP{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map((e=>new LP(e,this._service)))}get items(){return this._delegate.items.map((e=>new LP(e,this._service)))}get nextPageToken(){return this._delegate.nextPageToken||null}}class LP{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function(e,t){return wP(e,t)}(this._delegate,e);return new LP(t,this.storage)}get root(){return new LP(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new LP(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new NP(TP(this._delegate,e,t),this)}putString(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kR.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");const r=ER(t,e),o=Object.assign({},n);return null==o.contentType&&null!=r.contentType&&(o.contentType=r.contentType),new NP(new hP(this._delegate,new AR(r.data,!0),o),this)}listAll(){return function(e){return fP(e=_n(e))}(this._delegate).then((e=>new MP(e,this.storage)))}list(e){return function(e,t){return gP(e=_n(e),t)}(this._delegate,e||void 0).then((e=>new MP(e,this.storage)))}getMetadata(){return RP(this._delegate)}updateMetadata(e){return function(e,t){return vP(e=_n(e),t)}(this._delegate,e)}getDownloadURL(){return function(e){return yP(e=_n(e))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function(e){return bP(e=_n(e))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw lR(e)}}class FP{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(BP(e))throw aR("ref() expected a child path but got a URL, use refFromURL instead.");return new LP(PP(this._delegate,e),this)}refFromURL(e){if(!BP(e))throw aR("refFromURL() expected a full URL but got a child path, use ref() instead.");try{dR.makeFromUrl(e,this._delegate.host)}catch(D9){throw aR("refFromUrl() expected a valid full URL but got an invalid one.")}return new LP(PP(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};AP(this._delegate,e,t,n)}}function BP(e){return/^[A-Za-z]+:\/\//.test(e)}function jP(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app-compat").getImmediate(),o=e.getProvider("storage").getImmediate({identifier:n});return new FP(r,o)}!function(e){const t={TaskState:iP,TaskEvent:oP,StringFormat:kR,Storage:FP,Reference:LP};e.INTERNAL.registerComponent(new xn("storage-compat",jP,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.3.15")}(po);const zP={apiKey:"".concat("AIzaSyC3Vv0qYdu4xbwtj6UNDEoFOmrcLxNfhXw"),authDomain:"".concat("fiber-fix-web",".firebaseapp.com"),projectId:"".concat("fiber-fix-web"),storageBucket:"".concat("fiber-fix-web",".appspot.com"),messagingSenderId:"".concat("119794000149"),appId:"".concat("1:119794000149:web:89b9b5e94b9f9b6f0b491c"),measurementId:"".concat("G-NE31YVTRYQ"),databaseURL:"https://".concat("fiber-fix-web","-default-rtdb.firebaseio.com")},VP=(po.initializeApp(zP),po.auth());po.storage();var UP=n(579);const HP=function(){const[e,n]=(0,t.useState)(""),[r,o]=(0,t.useState)(""),[i,a]=(0,t.useState)(""),s=he();return(0,UP.jsxs)("div",{className:"auth-container",children:[(0,UP.jsx)("h2",{children:"Login"}),i&&(0,UP.jsx)("p",{className:"error",children:i}),(0,UP.jsxs)("form",{onSubmit:async t=>{t.preventDefault();try{await Sp(VP,e,r),s("/")}catch(i){a(i.message)}},children:[(0,UP.jsxs)("div",{children:[(0,UP.jsx)("label",{children:"Email:"}),(0,UP.jsx)("input",{type:"email",value:e,onChange:e=>n(e.target.value),required:!0})]}),(0,UP.jsxs)("div",{children:[(0,UP.jsx)("label",{children:"Password:"}),(0,UP.jsx)("input",{type:"password",value:r,onChange:e=>o(e.target.value),required:!0})]}),(0,UP.jsx)("button",{type:"submit",children:"Login"})]}),(0,UP.jsxs)("div",{className:"auth-links",children:[(0,UP.jsx)(ht,{to:"/register",children:"Register"}),(0,UP.jsx)(ht,{to:"/forgot-password",children:"Forgot Password?"})]})]})};const qP=function(){const[e,n]=(0,t.useState)(""),[r,o]=(0,t.useState)(""),[i,a]=(0,t.useState)(""),s=he();return(0,UP.jsxs)("div",{className:"auth-container",children:[(0,UP.jsx)("h2",{children:"Register"}),i&&(0,UP.jsx)("p",{className:"error",children:i}),(0,UP.jsxs)("form",{onSubmit:async t=>{t.preventDefault();try{await xp(VP,e,r),s("/")}catch(i){a(i.message)}},children:[(0,UP.jsxs)("div",{children:[(0,UP.jsx)("label",{children:"Email:"}),(0,UP.jsx)("input",{type:"email",value:e,onChange:e=>n(e.target.value),required:!0})]}),(0,UP.jsxs)("div",{children:[(0,UP.jsx)("label",{children:"Password:"}),(0,UP.jsx)("input",{type:"password",value:r,onChange:e=>o(e.target.value),required:!0})]}),(0,UP.jsx)("button",{type:"submit",children:"Register"})]}),(0,UP.jsx)("div",{className:"auth-links",children:(0,UP.jsx)(ht,{to:"/login",children:"Already have an account? Login"})})]})};const WP=function(){const[e,n]=(0,t.useState)(""),[r,o]=(0,t.useState)(""),[i,a]=(0,t.useState)("");return(0,UP.jsxs)("div",{className:"auth-container",children:[(0,UP.jsx)("h2",{children:"Reset Password"}),r&&(0,UP.jsx)("p",{className:"error",children:r}),i&&(0,UP.jsx)("p",{className:"success",children:i}),(0,UP.jsxs)("form",{onSubmit:async t=>{t.preventDefault();try{await wp(VP,e),a("Password reset email sent! Check your inbox."),o("")}catch(r){o(r.message),a("")}},children:[(0,UP.jsxs)("div",{children:[(0,UP.jsx)("label",{children:"Email:"}),(0,UP.jsx)("input",{type:"email",value:e,onChange:e=>n(e.target.value),required:!0})]}),(0,UP.jsx)("button",{type:"submit",children:"Send Reset Link"})]}),(0,UP.jsx)("div",{className:"auth-links",children:(0,UP.jsx)(ht,{to:"/login",children:"Back to Login"})})]})};const GP=function(e){let{user:t}=e;const n=he();return(0,UP.jsxs)("nav",{className:"navbar",children:[(0,UP.jsx)("div",{className:"nav-brand",children:(0,UP.jsx)(ht,{to:"/",children:"Fiber Fix"})}),(0,UP.jsxs)("div",{className:"nav-links",children:[(0,UP.jsx)(ht,{to:"/embroidery",children:"Embroidery"}),(0,UP.jsx)(ht,{to:"/knitting",children:"Knitting"}),(0,UP.jsx)(ht,{to:"/crochet",children:"Crochet"})]}),(0,UP.jsx)("div",{className:"nav-auth",children:t?(0,UP.jsx)(UP.Fragment,{children:(0,UP.jsxs)("div",{className:"user-profile",children:[(0,UP.jsx)("span",{children:t.email}),(0,UP.jsx)("button",{onClick:async()=>{try{await VP.signOut(),n("/login")}catch(Do){console.error("Error logging out:",Do)}},children:"Logout"})]})}):(0,UP.jsxs)(UP.Fragment,{children:[(0,UP.jsx)(ht,{to:"/login",children:"Login"}),(0,UP.jsx)(ht,{to:"/register",children:"Register"})]})})]})};function KP(){return KP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},KP.apply(null,arguments)}var QP=n(5173),YP=n.n(QP);const XP=parseInt(t.version,10),$P=e=>{if(XP>=19){var n;const t=t=>{var n;return e(t,null!==(n=t.ref)&&void 0!==n?n:null)};return t.displayName=null!==(n=e.displayName)&&void 0!==n?n:e.name,t}return t.forwardRef(e)};function JP(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=JP(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const ZP=function(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=JP(e))&&(r&&(r+=" "),r+=t);return r};function eA(e){const t=new URL("https://mui.com/production-error/?code=".concat(e));for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.forEach((e=>t.searchParams.append("args[]",e))),"Minified MUI error #".concat(e,"; visit ").concat(t," for the full message.")}function tA(e){if("string"!==typeof e)throw new Error(eA(7));return e.charAt(0).toUpperCase()+e.slice(1)}function nA(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const r={};for(const o in e){const i=e[o];let a="",s=!0;for(let e=0;e<i.length;e+=1){const r=i[e];r&&(a+=(!0===s?"":" ")+t(r),s=!1,n&&n[r]&&(a+=" "+n[r]))}r[o]=a}return r}function rA(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function oA(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.useMemo((()=>n.every((e=>null==e))?null:e=>{n.forEach((t=>{rA(t,e)}))}),n)}const iA="undefined"!==typeof window?t.useLayoutEffect:t.useEffect,aA=Object.is;function sA(e,t){if(e===t)return!0;if(!(e instanceof Object)||!(t instanceof Object))return!1;let n=0,r=0;for(const o in e){if(n+=1,!aA(e[o],t[o]))return!1;if(!(o in t))return!1}for(const o in t)r+=1;return n===r}function lA(e){return t.memo(e,sA)}const cA=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MIN_SAFE_INTEGER,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_SAFE_INTEGER;return Math.max(t,Math.min(e,n))};function uA(e){return cA(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:1)}function dA(e){if(e.type)return e;if("#"===e.charAt(0))return dA(function(e){e=e.slice(1);const t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map((e=>e+e))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map(((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3)).join(", "),")"):""}(e));const t=e.indexOf("("),n=e.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(eA(9,e));let r,o=e.substring(t+1,e.length-1);if("color"===n){if(o=o.split(" "),r=o.shift(),4===o.length&&"/"===o[3].charAt(0)&&(o[3]=o[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(r))throw new Error(eA(10,r))}else o=o.split(",");return o=o.map((e=>parseFloat(e))),{type:n,values:o,colorSpace:r}}const hA=(e,t)=>{try{return(e=>{const t=dA(e);return t.values.slice(0,3).map(((e,n)=>t.type.includes("hsl")&&0!==n?"".concat(e,"%"):e)).join(" ")})(e)}catch(Do){return e}};function pA(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.includes("rgb")?r=r.map(((e,t)=>t<3?parseInt(e,10):e)):t.includes("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=t.includes("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function fA(e){e=dA(e);const{values:t}=e,n=t[0],r=t[1]/100,o=t[2]/100,i=r*Math.min(o,1-o),a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return o-i*Math.max(Math.min(t-3,9-t,1),-1)};let s="rgb";const l=[Math.round(255*a(0)),Math.round(255*a(8)),Math.round(255*a(4))];return"hsla"===e.type&&(s+="a",l.push(t[3])),pA({type:s,values:l})}function mA(e){let t="hsl"===(e=dA(e)).type||"hsla"===e.type?dA(fA(e)).values:e.values;return t=t.map((t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4))),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function gA(e,t){return e=dA(e),t=uA(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,pA(e)}function vA(e,t,n){try{return gA(e,t)}catch(Do){return e}}function yA(e,t){if(e=dA(e),t=uA(t),e.type.includes("hsl"))e.values[2]*=1-t;else if(e.type.includes("rgb")||e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return pA(e)}function bA(e,t,n){try{return yA(e,t)}catch(Do){return e}}function wA(e,t){if(e=dA(e),t=uA(t),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*t;else if(e.type.includes("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return pA(e)}function CA(e,t,n){try{return wA(e,t)}catch(Do){return e}}function _A(e,t,n){try{return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return mA(e)>.5?yA(e,t):wA(e,t)}(e,t)}catch(Do){return e}}var xA=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(D9){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)})),this.tags=[],this.ctr=0},e}(),SA=Math.abs,kA=String.fromCharCode,IA=Object.assign;function EA(e){return e.trim()}function TA(e,t,n){return e.replace(t,n)}function RA(e,t){return e.indexOf(t)}function PA(e,t){return 0|e.charCodeAt(t)}function AA(e,t,n){return e.slice(t,n)}function DA(e){return e.length}function OA(e){return e.length}function NA(e,t){return t.push(e),e}var MA=1,LA=1,FA=0,BA=0,jA=0,zA="";function VA(e,t,n,r,o,i,a){return{value:e,root:t,parent:n,type:r,props:o,children:i,line:MA,column:LA,length:a,return:""}}function UA(e,t){return IA(VA("",null,null,"",null,null,0),e,{length:-e.length},t)}function HA(){return jA=BA>0?PA(zA,--BA):0,LA--,10===jA&&(LA=1,MA--),jA}function qA(){return jA=BA<FA?PA(zA,BA++):0,LA++,10===jA&&(LA=1,MA++),jA}function WA(){return PA(zA,BA)}function GA(){return BA}function KA(e,t){return AA(zA,e,t)}function QA(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function YA(e){return MA=LA=1,FA=DA(zA=e),BA=0,[]}function XA(e){return zA="",e}function $A(e){return EA(KA(BA-1,eD(91===e?e+2:40===e?e+1:e)))}function JA(e){for(;(jA=WA())&&jA<33;)qA();return QA(e)>2||QA(jA)>3?"":" "}function ZA(e,t){for(;--t&&qA()&&!(jA<48||jA>102||jA>57&&jA<65||jA>70&&jA<97););return KA(e,GA()+(t<6&&32==WA()&&32==qA()))}function eD(e){for(;qA();)switch(jA){case e:return BA;case 34:case 39:34!==e&&39!==e&&eD(jA);break;case 40:41===e&&eD(e);break;case 92:qA()}return BA}function tD(e,t){for(;qA()&&e+jA!==57&&(e+jA!==84||47!==WA()););return"/*"+KA(t,BA-1)+"*"+kA(47===e?e:qA())}function nD(e){for(;!QA(WA());)qA();return KA(e,BA)}var rD="-ms-",oD="-moz-",iD="-webkit-",aD="comm",sD="rule",lD="decl",cD="@keyframes";function uD(e,t){for(var n="",r=OA(e),o=0;o<r;o++)n+=t(e[o],o,e,t)||"";return n}function dD(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case lD:return e.return=e.return||e.value;case aD:return"";case cD:return e.return=e.value+"{"+uD(e.children,r)+"}";case sD:e.value=e.props.join(",")}return DA(n=uD(e.children,r))?e.return=e.value+"{"+n+"}":""}function hD(e){return function(t){t.root||(t=t.return)&&e(t)}}function pD(e){return XA(fD("",null,null,null,[""],e=YA(e),0,[0],e))}function fD(e,t,n,r,o,i,a,s,l){for(var c=0,u=0,d=a,h=0,p=0,f=0,m=1,g=1,v=1,y=0,b="",w=o,C=i,_=r,x=b;g;)switch(f=y,y=qA()){case 40:if(108!=f&&58==PA(x,d-1)){-1!=RA(x+=TA($A(y),"&","&\f"),"&\f")&&(v=-1);break}case 34:case 39:case 91:x+=$A(y);break;case 9:case 10:case 13:case 32:x+=JA(f);break;case 92:x+=ZA(GA()-1,7);continue;case 47:switch(WA()){case 42:case 47:NA(gD(tD(qA(),GA()),t,n),l);break;default:x+="/"}break;case 123*m:s[c++]=DA(x)*v;case 125*m:case 59:case 0:switch(y){case 0:case 125:g=0;case 59+u:-1==v&&(x=TA(x,/\f/g,"")),p>0&&DA(x)-d&&NA(p>32?vD(x+";",r,n,d-1):vD(TA(x," ","")+";",r,n,d-2),l);break;case 59:x+=";";default:if(NA(_=mD(x,t,n,c,u,o,s,b,w=[],C=[],d),i),123===y)if(0===u)fD(x,t,_,_,w,i,d,s,C);else switch(99===h&&110===PA(x,3)?100:h){case 100:case 108:case 109:case 115:fD(e,_,_,r&&NA(mD(e,_,_,0,0,o,s,b,o,w=[],d),C),o,C,d,s,r?w:C);break;default:fD(x,_,_,_,[""],C,0,s,C)}}c=u=p=0,m=v=1,b=x="",d=a;break;case 58:d=1+DA(x),p=f;default:if(m<1)if(123==y)--m;else if(125==y&&0==m++&&125==HA())continue;switch(x+=kA(y),y*m){case 38:v=u>0?1:(x+="\f",-1);break;case 44:s[c++]=(DA(x)-1)*v,v=1;break;case 64:45===WA()&&(x+=$A(qA())),h=WA(),u=d=DA(b=x+=nD(GA())),y++;break;case 45:45===f&&2==DA(x)&&(m=0)}}return i}function mD(e,t,n,r,o,i,a,s,l,c,u){for(var d=o-1,h=0===o?i:[""],p=OA(h),f=0,m=0,g=0;f<r;++f)for(var v=0,y=AA(e,d+1,d=SA(m=a[f])),b=e;v<p;++v)(b=EA(m>0?h[v]+" "+y:TA(y,/&\f/g,h[v])))&&(l[g++]=b);return VA(e,t,n,0===o?sD:s,l,c,u)}function gD(e,t,n){return VA(e,t,n,aD,kA(jA),AA(e,2,-2),0)}function vD(e,t,n,r){return VA(e,t,n,lD,AA(e,0,r),AA(e,r+1,-1),r)}var yD=function(e,t,n){for(var r=0,o=0;r=o,o=WA(),38===r&&12===o&&(t[n]=1),!QA(o);)qA();return KA(e,BA)},bD=function(e,t){return XA(function(e,t){var n=-1,r=44;do{switch(QA(r)){case 0:38===r&&12===WA()&&(t[n]=1),e[n]+=yD(BA-1,t,n);break;case 2:e[n]+=$A(r);break;case 4:if(44===r){e[++n]=58===WA()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=kA(r)}}while(r=qA());return e}(YA(e),t))},wD=new WeakMap,CD=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||wD.get(n))&&!r){wD.set(e,!0);for(var o=[],i=bD(t,o),a=n.props,s=0,l=0;s<i.length;s++)for(var c=0;c<a.length;c++,l++)e.props[l]=o[s]?i[s].replace(/&\f/g,a[c]):a[c]+" "+i[s]}}},_D=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function xD(e,t){switch(function(e,t){return 45^PA(e,0)?(((t<<2^PA(e,0))<<2^PA(e,1))<<2^PA(e,2))<<2^PA(e,3):0}(e,t)){case 5103:return iD+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return iD+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return iD+e+oD+e+rD+e+e;case 6828:case 4268:return iD+e+rD+e+e;case 6165:return iD+e+rD+"flex-"+e+e;case 5187:return iD+e+TA(e,/(\w+).+(:[^]+)/,iD+"box-$1$2"+rD+"flex-$1$2")+e;case 5443:return iD+e+rD+"flex-item-"+TA(e,/flex-|-self/,"")+e;case 4675:return iD+e+rD+"flex-line-pack"+TA(e,/align-content|flex-|-self/,"")+e;case 5548:return iD+e+rD+TA(e,"shrink","negative")+e;case 5292:return iD+e+rD+TA(e,"basis","preferred-size")+e;case 6060:return iD+"box-"+TA(e,"-grow","")+iD+e+rD+TA(e,"grow","positive")+e;case 4554:return iD+TA(e,/([^-])(transform)/g,"$1"+iD+"$2")+e;case 6187:return TA(TA(TA(e,/(zoom-|grab)/,iD+"$1"),/(image-set)/,iD+"$1"),e,"")+e;case 5495:case 3959:return TA(e,/(image-set\([^]*)/,iD+"$1$`$1");case 4968:return TA(TA(e,/(.+:)(flex-)?(.*)/,iD+"box-pack:$3"+rD+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+iD+e+e;case 4095:case 3583:case 4068:case 2532:return TA(e,/(.+)-inline(.+)/,iD+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(DA(e)-1-t>6)switch(PA(e,t+1)){case 109:if(45!==PA(e,t+4))break;case 102:return TA(e,/(.+:)(.+)-([^]+)/,"$1"+iD+"$2-$3$1"+oD+(108==PA(e,t+3)?"$3":"$2-$3"))+e;case 115:return~RA(e,"stretch")?xD(TA(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==PA(e,t+1))break;case 6444:switch(PA(e,DA(e)-3-(~RA(e,"!important")&&10))){case 107:return TA(e,":",":"+iD)+e;case 101:return TA(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+iD+(45===PA(e,14)?"inline-":"")+"box$3$1"+iD+"$2$3$1"+rD+"$2box$3")+e}break;case 5936:switch(PA(e,t+11)){case 114:return iD+e+rD+TA(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return iD+e+rD+TA(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return iD+e+rD+TA(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return iD+e+rD+e+e}return e}var SD=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case lD:e.return=xD(e.value,e.length);break;case cD:return uD([UA(e,{value:TA(e.value,"@","@"+iD)})],r);case sD:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return uD([UA(e,{props:[TA(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return uD([UA(e,{props:[TA(t,/:(plac\w+)/,":"+iD+"input-$1")]}),UA(e,{props:[TA(t,/:(plac\w+)/,":-moz-$1")]}),UA(e,{props:[TA(t,/:(plac\w+)/,rD+"input-$1")]})],r)}return""}))}}],kD=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r,o,i=e.stylisPlugins||SD,a={},s=[];r=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)a[t[n]]=!0;s.push(e)}));var l,c=[CD,_D],u=[dD,hD((function(e){l.insert(e)}))],d=function(e){var t=OA(e);return function(n,r,o,i){for(var a="",s=0;s<t;s++)a+=e[s](n,r,o,i)||"";return a}}(c.concat(i,u));o=function(e,t,n,r){l=n,function(e){uD(pD(e),d)}(e?e+"{"+t.styles+"}":t.styles),r&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new xA({key:t,container:r,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:o};return h.sheet.hydrate(s),h};function ID(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):n&&(r+=n+" ")})),r}var ED=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},TD=function(e,t,n){ED(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var o=t;do{e.insert(t===o?"."+r:"",o,e.sheet,!0),o=o.next}while(void 0!==o)}};var RD={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function PD(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var AD=/[A-Z]|^ms/g,DD=/_EMO_([^_]+?)_([^]*?)_EMO_/g,OD=function(e){return 45===e.charCodeAt(1)},ND=function(e){return null!=e&&"boolean"!==typeof e},MD=PD((function(e){return OD(e)?e:e.replace(AD,"-$&").toLowerCase()})),LD=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(DD,(function(e,t,n){return BD={name:t,styles:n,next:BD},t}))}return 1===RD[e]||OD(e)||"number"!==typeof t||0===t?t:t+"px"};function FD(e,t,n){if(null==n)return"";var r=n;if(void 0!==r.__emotion_styles)return r;switch(typeof n){case"boolean":return"";case"object":var o=n;if(1===o.anim)return BD={name:o.name,styles:o.styles,next:BD},o.name;var i=n;if(void 0!==i.styles){var a=i.next;if(void 0!==a)for(;void 0!==a;)BD={name:a.name,styles:a.styles,next:BD},a=a.next;return i.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var o=0;o<n.length;o++)r+=FD(e,t,n[o])+";";else for(var i in n){var a=n[i];if("object"!==typeof a){var s=a;null!=t&&void 0!==t[s]?r+=i+"{"+t[s]+"}":ND(s)&&(r+=MD(i)+":"+LD(i,s)+";")}else if(!Array.isArray(a)||"string"!==typeof a[0]||null!=t&&void 0!==t[a[0]]){var l=FD(e,t,a);switch(i){case"animation":case"animationName":r+=MD(i)+":"+l+";";break;default:r+=i+"{"+l+"}"}}else for(var c=0;c<a.length;c++)ND(a[c])&&(r+=MD(i)+":"+LD(i,a[c])+";")}return r}(e,t,n);case"function":if(void 0!==e){var s=BD,l=n(e);return BD=s,FD(e,t,l)}}var c=n;if(null==t)return c;var u=t[c];return void 0!==u?u:c}var BD,jD=/label:\s*([^\s;{]+)\s*(;|$)/g;function zD(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,o="";BD=void 0;var i=e[0];null==i||void 0===i.raw?(r=!1,o+=FD(n,t,i)):o+=i[0];for(var a=1;a<e.length;a++){if(o+=FD(n,t,e[a]),r)o+=i[a]}jD.lastIndex=0;for(var s,l="";null!==(s=jD.exec(o));)l+="-"+s[1];var c=function(e){for(var t,n=0,r=0,o=e.length;o>=4;++r,o-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(o){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(o)+l;return{name:c,styles:o,next:BD}}var VD=!!r.useInsertionEffect&&r.useInsertionEffect,UD=VD||function(e){return e()},HD=VD||t.useLayoutEffect,qD=t.createContext("undefined"!==typeof HTMLElement?kD({key:"css"}):null),WD=(qD.Provider,function(e){return(0,t.forwardRef)((function(n,r){var o=(0,t.useContext)(qD);return e(n,o,r)}))}),GD=t.createContext({});var KD={}.hasOwnProperty,QD="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",YD=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return ED(t,n,r),UD((function(){return TD(t,n,r)})),null},XD=WD((function(e,n,r){var o=e.css;"string"===typeof o&&void 0!==n.registered[o]&&(o=n.registered[o]);var i=e[QD],a=[o],s="";"string"===typeof e.className?s=ID(n.registered,a,e.className):null!=e.className&&(s=e.className+" ");var l=zD(a,void 0,t.useContext(GD));s+=n.key+"-"+l.name;var c={};for(var u in e)KD.call(e,u)&&"css"!==u&&u!==QD&&(c[u]=e[u]);return c.className=s,r&&(c.ref=r),t.createElement(t.Fragment,null,t.createElement(YD,{cache:n,serialized:l,isStringTag:"string"===typeof i}),t.createElement(i,c))})),$D=XD,JD=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,ZD=PD((function(e){return JD.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),eO=function(e){return"theme"!==e},tO=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?ZD:eO},nO=function(e,t,n){var r;if(t){var o=t.shouldForwardProp;r=e.__emotion_forwardProp&&o?function(t){return e.__emotion_forwardProp(t)&&o(t)}:o}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},rO=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return ED(t,n,r),UD((function(){return TD(t,n,r)})),null},oO=function e(n,r){var o,i,a=n.__emotion_real===n,s=a&&n.__emotion_base||n;void 0!==r&&(o=r.label,i=r.target);var l=nO(n,r,a),c=l||tO(s),u=!c("as");return function(){var d=arguments,h=a&&void 0!==n.__emotion_styles?n.__emotion_styles.slice(0):[];if(void 0!==o&&h.push("label:"+o+";"),null==d[0]||void 0===d[0].raw)h.push.apply(h,d);else{var p=d[0];h.push(p[0]);for(var f=d.length,m=1;m<f;m++)h.push(d[m],p[m])}var g=WD((function(e,n,r){var o=u&&e.as||s,a="",d=[],p=e;if(null==e.theme){for(var f in p={},e)p[f]=e[f];p.theme=t.useContext(GD)}"string"===typeof e.className?a=ID(n.registered,d,e.className):null!=e.className&&(a=e.className+" ");var m=zD(h.concat(d),n.registered,p);a+=n.key+"-"+m.name,void 0!==i&&(a+=" "+i);var g=u&&void 0===l?tO(o):c,v={};for(var y in e)u&&"as"===y||g(y)&&(v[y]=e[y]);return v.className=a,r&&(v.ref=r),t.createElement(t.Fragment,null,t.createElement(rO,{cache:n,serialized:m,isStringTag:"string"===typeof o}),t.createElement(o,v))}));return g.displayName=void 0!==o?o:"Styled("+("string"===typeof s?s:s.displayName||s.name||"Component")+")",g.defaultProps=n.defaultProps,g.__emotion_real=g,g.__emotion_base=s,g.__emotion_styles=h,g.__emotion_forwardProp=l,Object.defineProperty(g,"toString",{value:function(){return"."+i}}),g.withComponent=function(t,n){return e(t,KP({},r,n,{shouldForwardProp:nO(g,n,!0)})).apply(void 0,h)},g}}.bind(null);function iO(e,t){return oO(e,t)}["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){oO[e]=oO(e)}));const aO=[];function sO(e){return aO[0]=e,zD(aO)}var lO=n(191);function cO(e){if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function uO(e){if(t.isValidElement(e)||(0,lO.Hy)(e)||!cO(e))return e;const n={};return Object.keys(e).forEach((t=>{n[t]=uO(e[t])})),n}function dO(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0};const o=r.clone?d({},e):e;return cO(e)&&cO(n)&&Object.keys(n).forEach((i=>{t.isValidElement(n[i])||(0,lO.Hy)(n[i])?o[i]=n[i]:cO(n[i])&&Object.prototype.hasOwnProperty.call(e,i)&&cO(e[i])?o[i]=dO(e[i],n[i],r):r.clone?o[i]=cO(n[i])?uO(n[i]):n[i]:o[i]=n[i]})),o}const hO=["values","unit","step"];function pO(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=e,o=a(e,hO),i=(e=>{const t=Object.keys(e).map((t=>({key:t,val:e[t]})))||[];return t.sort(((e,t)=>e.val-t.val)),t.reduce(((e,t)=>d(d({},e),{},{[t.key]:t.val})),{})})(t),s=Object.keys(i);function l(e){const r="number"===typeof t[e]?t[e]:e;return"@media (min-width:".concat(r).concat(n,")")}function c(e){const o="number"===typeof t[e]?t[e]:e;return"@media (max-width:".concat(o-r/100).concat(n,")")}function u(e,o){const i=s.indexOf(o);return"@media (min-width:".concat("number"===typeof t[e]?t[e]:e).concat(n,") and ")+"(max-width:".concat((-1!==i&&"number"===typeof t[s[i]]?t[s[i]]:o)-r/100).concat(n,")")}return d({keys:s,values:i,up:l,down:c,between:u,only:function(e){return s.indexOf(e)+1<s.length?u(e,s[s.indexOf(e)+1]):l(e)},not:function(e){const t=s.indexOf(e);return 0===t?l(s[1]):t===s.length-1?c(s[t]):u(e,s[s.indexOf(e)+1]).replace("@media","@media not all and")},unit:n},o)}const fO={borderRadius:4},mO={xs:0,sm:600,md:900,lg:1200,xl:1536},gO={keys:["xs","sm","md","lg","xl"],up:e=>"@media (min-width:".concat(mO[e],"px)")},vO={containerQueries:e=>({up:t=>{let n="number"===typeof t?t:mO[t]||t;return"number"===typeof n&&(n="".concat(n,"px")),e?"@container ".concat(e," (min-width:").concat(n,")"):"@container (min-width:".concat(n,")")}})};function yO(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const e=r.breakpoints||gO;return t.reduce(((r,o,i)=>(r[e.up(e.keys[i])]=n(t[i]),r)),{})}if("object"===typeof t){const e=r.breakpoints||gO;return Object.keys(t).reduce(((o,i)=>{if(function(e,t){return"@"===t||t.startsWith("@")&&(e.some((e=>t.startsWith("@".concat(e))))||!!t.match(/^@\d/))}(e.keys,i)){const e=function(e,t){const n=t.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,o]=n,i=Number.isNaN(+r)?r||0:+r;return e.containerQueries(o).up(i)}(r.containerQueries?r:vO,i);e&&(o[e]=n(t[i],i))}else if(Object.keys(e.values||mO).includes(i)){o[e.up(i)]=n(t[i],i)}else{const e=i;o[e]=t[e]}return o}),{})}return n(t)}function bO(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(null===(e=t.keys)||void 0===e?void 0:e.reduce(((e,n)=>(e[t.up(n)]={},e)),{}))||{}}function wO(e,t){return e.reduce(((e,t)=>{const n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function CO(e){let{values:t,breakpoints:n,base:r}=e;const o=r||function(e,t){if("object"!==typeof e)return{};const n={},r=Object.keys(t);return Array.isArray(e)?r.forEach(((t,r)=>{r<e.length&&(n[t]=!0)})):r.forEach((t=>{null!=e[t]&&(n[t]=!0)})),n}(t,n),i=Object.keys(o);if(0===i.length)return t;let a;return i.reduce(((e,n,r)=>(Array.isArray(t)?(e[n]=null!=t[r]?t[r]:t[a],a=r):"object"===typeof t?(e[n]=null!=t[n]?t[n]:t[a],a=n):e[n]=t,e)),{})}function _O(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){const n="vars.".concat(t).split(".").reduce(((e,t)=>e&&e[t]?e[t]:null),e);if(null!=n)return n}return t.split(".").reduce(((e,t)=>e&&null!=e[t]?e[t]:null),e)}function xO(e,t,n){let r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||o:_O(e,n)||o,t&&(r=t(r,o,e)),r}const SO=function(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:o}=e,i=e=>{if(null==e[t])return null;const i=e[t],a=_O(e.theme,r)||{};return yO(e,i,(e=>{let r=xO(a,o,e);return e===r&&"string"===typeof e&&(r=xO(a,o,"".concat(t).concat("default"===e?"":tA(e)),e)),!1===n?r:{[n]:r}}))};return i.propTypes={},i.filterProps=[t],i};const kO=function(e,t){return t?dO(e,t,{clone:!1}):e};const IO={m:"margin",p:"padding"},EO={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},TO={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},RO=function(e){const t={};return n=>(void 0===t[n]&&(t[n]=e(n)),t[n])}((e=>{if(e.length>2){if(!TO[e])return[e];e=TO[e]}const[t,n]=e.split(""),r=IO[t],o=EO[n]||"";return Array.isArray(o)?o.map((e=>r+e)):[r+o]})),PO=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],AO=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],DO=[...PO,...AO];function OO(e,t,n,r){var o;const i=null!==(o=_O(e,t,!0))&&void 0!==o?o:n;return"number"===typeof i||"string"===typeof i?e=>"string"===typeof e?e:"string"===typeof i?"calc(".concat(e," * ").concat(i,")"):i*e:Array.isArray(i)?e=>{if("string"===typeof e)return e;const t=Math.abs(e);const n=i[t];return e>=0?n:"number"===typeof n?-n:"-".concat(n)}:"function"===typeof i?i:()=>{}}function NO(e){return OO(e,"spacing",8)}function MO(e,t){return"string"===typeof t||null==t?t:e(t)}function LO(e,t,n,r){if(!t.includes(n))return null;const o=function(e,t){return n=>e.reduce(((e,r)=>(e[r]=MO(t,n),e)),{})}(RO(n),r);return yO(e,e[n],o)}function FO(e,t){const n=NO(e.theme);return Object.keys(e).map((r=>LO(e,t,r,n))).reduce(kO,{})}function BO(e){return FO(e,PO)}function jO(e){return FO(e,AO)}function zO(e){return FO(e,DO)}BO.propTypes={},BO.filterProps=PO,jO.propTypes={},jO.filterProps=AO,zO.propTypes={},zO.filterProps=DO;function VO(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NO({spacing:e});if(e.mui)return e;const n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map((e=>{const n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}const UO=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>(t.filterProps.forEach((n=>{e[n]=t})),e)),{}),o=e=>Object.keys(e).reduce(((t,n)=>r[n]?kO(t,r[n](e)):t),{});return o.propTypes={},o.filterProps=t.reduce(((e,t)=>e.concat(t.filterProps)),[]),o};function HO(e){return"number"!==typeof e?e:"".concat(e,"px solid")}function qO(e,t){return SO({prop:e,themeKey:"borders",transform:t})}const WO=qO("border",HO),GO=qO("borderTop",HO),KO=qO("borderRight",HO),QO=qO("borderBottom",HO),YO=qO("borderLeft",HO),XO=qO("borderColor"),$O=qO("borderTopColor"),JO=qO("borderRightColor"),ZO=qO("borderBottomColor"),eN=qO("borderLeftColor"),tN=qO("outline",HO),nN=qO("outlineColor"),rN=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){const t=OO(e.theme,"shape.borderRadius",4),n=e=>({borderRadius:MO(t,e)});return yO(e,e.borderRadius,n)}return null};rN.propTypes={},rN.filterProps=["borderRadius"];UO(WO,GO,KO,QO,YO,XO,$O,JO,ZO,eN,rN,tN,nN);const oN=e=>{if(void 0!==e.gap&&null!==e.gap){const t=OO(e.theme,"spacing",8),n=e=>({gap:MO(t,e)});return yO(e,e.gap,n)}return null};oN.propTypes={},oN.filterProps=["gap"];const iN=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){const t=OO(e.theme,"spacing",8),n=e=>({columnGap:MO(t,e)});return yO(e,e.columnGap,n)}return null};iN.propTypes={},iN.filterProps=["columnGap"];const aN=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){const t=OO(e.theme,"spacing",8),n=e=>({rowGap:MO(t,e)});return yO(e,e.rowGap,n)}return null};aN.propTypes={},aN.filterProps=["rowGap"];UO(oN,iN,aN,SO({prop:"gridColumn"}),SO({prop:"gridRow"}),SO({prop:"gridAutoFlow"}),SO({prop:"gridAutoColumns"}),SO({prop:"gridAutoRows"}),SO({prop:"gridTemplateColumns"}),SO({prop:"gridTemplateRows"}),SO({prop:"gridTemplateAreas"}),SO({prop:"gridArea"}));function sN(e,t){return"grey"===t?t:e}UO(SO({prop:"color",themeKey:"palette",transform:sN}),SO({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:sN}),SO({prop:"backgroundColor",themeKey:"palette",transform:sN}));function lN(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}const cN=SO({prop:"width",transform:lN}),uN=e=>{if(void 0!==e.maxWidth&&null!==e.maxWidth){const t=t=>{var n,r;const o=(null===(n=e.theme)||void 0===n||null===(n=n.breakpoints)||void 0===n||null===(n=n.values)||void 0===n?void 0:n[t])||mO[t];return o?"px"!==(null===(r=e.theme)||void 0===r||null===(r=r.breakpoints)||void 0===r?void 0:r.unit)?{maxWidth:"".concat(o).concat(e.theme.breakpoints.unit)}:{maxWidth:o}:{maxWidth:lN(t)}};return yO(e,e.maxWidth,t)}return null};uN.filterProps=["maxWidth"];const dN=SO({prop:"minWidth",transform:lN}),hN=SO({prop:"height",transform:lN}),pN=SO({prop:"maxHeight",transform:lN}),fN=SO({prop:"minHeight",transform:lN}),mN=(SO({prop:"size",cssProperty:"width",transform:lN}),SO({prop:"size",cssProperty:"height",transform:lN}),UO(cN,uN,dN,hN,pN,fN,SO({prop:"boxSizing"})),{border:{themeKey:"borders",transform:HO},borderTop:{themeKey:"borders",transform:HO},borderRight:{themeKey:"borders",transform:HO},borderBottom:{themeKey:"borders",transform:HO},borderLeft:{themeKey:"borders",transform:HO},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:HO},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:rN},color:{themeKey:"palette",transform:sN},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:sN},backgroundColor:{themeKey:"palette",transform:sN},p:{style:jO},pt:{style:jO},pr:{style:jO},pb:{style:jO},pl:{style:jO},px:{style:jO},py:{style:jO},padding:{style:jO},paddingTop:{style:jO},paddingRight:{style:jO},paddingBottom:{style:jO},paddingLeft:{style:jO},paddingX:{style:jO},paddingY:{style:jO},paddingInline:{style:jO},paddingInlineStart:{style:jO},paddingInlineEnd:{style:jO},paddingBlock:{style:jO},paddingBlockStart:{style:jO},paddingBlockEnd:{style:jO},m:{style:BO},mt:{style:BO},mr:{style:BO},mb:{style:BO},ml:{style:BO},mx:{style:BO},my:{style:BO},margin:{style:BO},marginTop:{style:BO},marginRight:{style:BO},marginBottom:{style:BO},marginLeft:{style:BO},marginX:{style:BO},marginY:{style:BO},marginInline:{style:BO},marginInlineStart:{style:BO},marginInlineEnd:{style:BO},marginBlock:{style:BO},marginBlockStart:{style:BO},marginBlockEnd:{style:BO},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:oN},rowGap:{style:aN},columnGap:{style:iN},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:lN},maxWidth:{style:uN},minWidth:{transform:lN},height:{transform:lN},maxHeight:{transform:lN},minHeight:{transform:lN},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}});const gN=function(){function e(e,t,n,r){const o={[e]:t,theme:n},i=r[e];if(!i)return{[e]:t};const{cssProperty:a=e,themeKey:s,transform:l,style:c}=i;if(null==t)return null;if("typography"===s&&"inherit"===t)return{[e]:t};const u=_O(n,s)||{};if(c)return c(o);return yO(o,t,(t=>{let n=xO(u,l,t);return t===n&&"string"===typeof t&&(n=xO(u,l,"".concat(e).concat("default"===t?"":tA(t)),t)),!1===a?n:{[a]:n}}))}return function t(n){var r;const{sx:o,theme:i={}}=n||{};if(!o)return null;const a=null!==(r=i.unstable_sxConfig)&&void 0!==r?r:mN;function s(n){let r=n;if("function"===typeof n)r=n(i);else if("object"!==typeof n)return n;if(!r)return null;const o=bO(i.breakpoints),s=Object.keys(o);let l=o;return Object.keys(r).forEach((n=>{const o=function(e,t){return"function"===typeof e?e(t):e}(r[n],i);if(null!==o&&void 0!==o)if("object"===typeof o)if(a[n])l=kO(l,e(n,o,i,a));else{const e=yO({theme:i},o,(e=>({[n]:e})));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>e.concat(Object.keys(t))),[]),o=new Set(r);return t.every((e=>o.size===Object.keys(e).length))}(e,o)?l=kO(l,e):l[n]=t({sx:o,theme:i})}else l=kO(l,e(n,o,i,a))})),function(e,t){if(!e.containerQueries)return t;const n=Object.keys(t).filter((e=>e.startsWith("@container"))).sort(((e,t)=>{var n,r;const o=/min-width:\s*([0-9.]+)/;return+((null===(n=e.match(o))||void 0===n?void 0:n[1])||0)-+((null===(r=t.match(o))||void 0===r?void 0:r[1])||0)}));return n.length?n.reduce(((e,n)=>{const r=t[n];return delete e[n],e[n]=r,e}),d({},t)):t}(i,wO(s,l))}return Array.isArray(o)?o.map(s):s(o)}}();gN.filterProps=["sx"];const vN=gN;function yN(e,t){const n=this;if(n.vars){var r;if(null===(r=n.colorSchemes)||void 0===r||!r[e]||"function"!==typeof n.getColorSchemeSelector)return{};let o=n.getColorSchemeSelector(e);return"&"===o?t:((o.includes("data-")||o.includes("."))&&(o="*:where(".concat(o.replace(/\s*&$/,""),") &")),{[o]:t})}return n.palette.mode===e?t:{}}const bN=["breakpoints","palette","spacing","shape"];const wN=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t={},palette:n={},spacing:r,shape:o={}}=e,i=a(e,bN),s=pO(t),l=VO(r);let c=dO({breakpoints:s,direction:"ltr",components:{},palette:d({mode:"light"},n),spacing:l,shape:d(d({},fO),o)},i);c=function(e){const t=(e,t)=>e.replace("@media",t?"@container ".concat(t):"@container");function n(n,r){n.up=function(){return t(e.breakpoints.up(...arguments),r)},n.down=function(){return t(e.breakpoints.down(...arguments),r)},n.between=function(){return t(e.breakpoints.between(...arguments),r)},n.only=function(){return t(e.breakpoints.only(...arguments),r)},n.not=function(){const n=t(e.breakpoints.not(...arguments),r);return n.includes("not all and")?n.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):n}}const r={},o=e=>(n(r,e),r);return n(o),d(d({},e),{},{containerQueries:o})}(c),c.applyStyles=yN;for(var u=arguments.length,h=new Array(u>1?u-1:0),p=1;p<u;p++)h[p-1]=arguments[p];return c=h.reduce(((e,t)=>dO(e,t)),c),c.unstable_sxConfig=d(d({},mN),null===i||void 0===i?void 0:i.unstable_sxConfig),c.unstable_sx=function(e){return vN({sx:e,theme:this})},c},CN=["variants"];function _N(e){const{variants:t}=e,n=a(e,CN),r={variants:t,style:sO(n),isProcessed:!0};return r.style===n||t&&t.forEach((e=>{"function"!==typeof e.style&&(e.style=sO(e.style))})),r}const xN=["variants"],SN=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],kN=wN();function IN(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}function EN(e){return e?(t,n)=>n[e]:null}function TN(e,t){const n="function"===typeof t?t(e):t;if(Array.isArray(n))return n.flatMap((t=>TN(e,t)));if(Array.isArray(null===n||void 0===n?void 0:n.variants)){let t;if(n.isProcessed)t=n.style;else{const{variants:e}=n;t=a(n,xN)}return RN(e,n.variants,[t])}return null!==n&&void 0!==n&&n.isProcessed?n.style:n}function RN(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];e:for(let i=0;i<t.length;i+=1){const a=t[i];if("function"===typeof a.props){if(null!==n&&void 0!==n||(n=d(d(d({},e),e.ownerState),{},{ownerState:e.ownerState})),!a.props(n))continue}else for(const t in a.props){var o;if(e[t]!==a.props[t]&&(null===(o=e.ownerState)||void 0===o?void 0:o[t])!==a.props[t])continue e}"function"===typeof a.style?(null!==n&&void 0!==n||(n=d(d(d({},e),e.ownerState),{},{ownerState:e.ownerState})),r.push(a.style(n))):r.push(a.style)}return r}function PN(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=kN,rootShouldForwardProp:r=IN,slotShouldForwardProp:o=IN}=e;function i(e){!function(e,t,n){e.theme=function(e){for(const t in e)return!1;return!0}(e.theme)?n:e.theme[t]||e.theme}(e,t,n)}return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}(e,(e=>e.filter((e=>e!==vN))));const{name:n,slot:s,skipVariantsResolver:l,skipSx:c,overridesResolver:u=EN(DN(s))}=t,h=a(t,SN),p=void 0!==l?l:s&&"Root"!==s&&"root"!==s||!1,f=c||!1;let m=IN;"Root"===s||"root"===s?m=r:s?m=o:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(m=void 0);const g=iO(e,d({shouldForwardProp:m,label:AN(n,s)},h)),v=e=>{if("function"===typeof e&&e.__emotion_real!==e)return function(t){return TN(t,e)};if(cO(e)){const t=_N(e);return t.variants?function(e){return TN(e,t)}:t.style}return e},y=function(){const t=[];for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];const s=o.map(v),l=[];if(t.push(i),n&&u&&l.push((function(e){var t;const r=null===(t=e.theme.components)||void 0===t||null===(t=t[n])||void 0===t?void 0:t.styleOverrides;if(!r)return null;const o={};for(const n in r)o[n]=TN(e,r[n]);return u(e,o)})),n&&!p&&l.push((function(e){var t;const r=e.theme,o=null===r||void 0===r||null===(t=r.components)||void 0===t||null===(t=t[n])||void 0===t?void 0:t.variants;return o?RN(e,o):null})),f||l.push(vN),Array.isArray(s[0])){const e=s.shift(),n=new Array(t.length).fill(""),r=new Array(l.length).fill("");let o;o=[...n,...e,...r],o.raw=[...n,...e.raw,...r],t.unshift(o)}const c=[...t,...s,...l],d=g(...c);return e.muiName&&(d.muiName=e.muiName),d};return g.withConfig&&(y.withConfig=g.withConfig),y}}function AN(e,t){}function DN(e){return e?e.charAt(0).toLowerCase()+e.slice(1):e}const ON={black:"#000",white:"#fff"},NN={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},MN={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},LN={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},FN={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},BN={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},jN={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},zN={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},VN=["mode","contrastThreshold","tonalOffset"];function UN(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:ON.white,default:ON.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const HN=UN();function qN(){return{text:{primary:ON.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:ON.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const WN=qN();function GN(e,t,n,r){const o=r.light||r,i=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=wA(e.main,o):"dark"===t&&(e.dark=yA(e.main,i)))}function KN(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2}=e,o=a(e,VN),i=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:BN[200],light:BN[50],dark:BN[400]}:{main:BN[700],light:BN[400],dark:BN[800]}}(t),s=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:MN[200],light:MN[50],dark:MN[400]}:{main:MN[500],light:MN[300],dark:MN[700]}}(t),l=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:LN[500],light:LN[300],dark:LN[700]}:{main:LN[700],light:LN[400],dark:LN[800]}}(t),c=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:jN[400],light:jN[300],dark:jN[700]}:{main:jN[700],light:jN[500],dark:jN[900]}}(t),u=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:zN[400],light:zN[300],dark:zN[700]}:{main:zN[800],light:zN[500],dark:zN[900]}}(t),h=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:FN[400],light:FN[300],dark:FN[700]}:{main:"#ed6c02",light:FN[500],dark:FN[900]}}(t);function p(e){const t=function(e,t){const n=mA(e),r=mA(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,WN.text.primary)>=n?WN.text.primary:HN.text.primary;return t}const f=e=>{let{color:t,name:n,mainShade:o=500,lightShade:i=300,darkShade:a=700}=e;if(t=d({},t),!t.main&&t[o]&&(t.main=t[o]),!t.hasOwnProperty("main"))throw new Error(eA(11,n?" (".concat(n,")"):"",o));if("string"!==typeof t.main)throw new Error(eA(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return GN(t,"light",i,r),GN(t,"dark",a,r),t.contrastText||(t.contrastText=p(t.main)),t};let m;"light"===t?m=UN():"dark"===t&&(m=qN());return dO(d({common:d({},ON),mode:t,primary:f({color:i,name:"primary"}),secondary:f({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:f({color:l,name:"error"}),warning:f({color:h,name:"warning"}),info:f({color:c,name:"info"}),success:f({color:u,name:"success"}),grey:NN,contrastThreshold:n,getContrastText:p,augmentColor:f,tonalOffset:r},m),o)}function QN(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";function t(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];if(!r.length)return"";const i=r[0];return"string"!==typeof i||i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?", ".concat(i):", var(--".concat(e?"".concat(e,"-"):"").concat(i).concat(t(...r.slice(1)),")")}return function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return"var(--".concat(e?"".concat(e,"-"):"").concat(n).concat(t(...o),")")}}function YN(e){const t={};return Object.entries(e).forEach((e=>{const[n,r]=e;"object"===typeof r&&(t[n]="".concat(r.fontStyle?"".concat(r.fontStyle," "):"").concat(r.fontVariant?"".concat(r.fontVariant," "):"").concat(r.fontWeight?"".concat(r.fontWeight," "):"").concat(r.fontStretch?"".concat(r.fontStretch," "):"").concat(r.fontSize||"").concat(r.lineHeight?"/".concat(r.lineHeight," "):"").concat(r.fontFamily||""))})),t}const XN=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=e;t.forEach(((e,i)=>{i===t.length-1?Array.isArray(o)?o[Number(e)]=n:o&&"object"===typeof o&&(o[e]=n):o&&"object"===typeof o&&(o[e]||(o[e]=r.includes(e)?[]:{}),o=o[e])}))};function $N(e,t){const{prefix:n,shouldSkipGeneratingVar:r}=t||{},o={},i={},a={};return((e,t,n)=>{!function e(r){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];Object.entries(r).forEach((r=>{let[a,s]=r;(!n||n&&!n([...o,a]))&&void 0!==s&&null!==s&&("object"===typeof s&&Object.keys(s).length>0?e(s,[...o,a],Array.isArray(s)?[...i,a]:i):t([...o,a],s,i))}))}(e)})(e,((e,t,s)=>{if(("string"===typeof t||"number"===typeof t)&&(!r||!r(e,t))){const r="--".concat(n?"".concat(n,"-"):"").concat(e.join("-")),l=((e,t)=>{if("number"===typeof t)return["lineHeight","fontWeight","opacity","zIndex"].some((t=>e.includes(t)))||e[e.length-1].toLowerCase().includes("opacity")?t:"".concat(t,"px");return t})(e,t);Object.assign(o,{[r]:l}),XN(i,e,"var(".concat(r,")"),s),XN(a,e,"var(".concat(r,", ").concat(l,")"),s)}}),(e=>"vars"===e[0])),{css:o,vars:i,varsWithDefaults:a}}const JN=["colorSchemes","components","defaultColorScheme"];const ZN=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{getSelector:n=b,disableCssColorScheme:r,colorSchemeSelector:o}=t,{colorSchemes:i={},components:s,defaultColorScheme:c="light"}=e,u=a(e,JN),{vars:h,css:p,varsWithDefaults:f}=$N(u,t);let m=f;const g={},{[c]:v}=i,y=a(i,[c].map(l));if(Object.entries(y||{}).forEach((e=>{let[n,r]=e;const{vars:o,css:i,varsWithDefaults:a}=$N(r,t);m=dO(m,a),g[n]={css:i,vars:o}})),v){const{css:e,vars:n,varsWithDefaults:r}=$N(v,t);m=dO(m,r),g[c]={css:e,vars:n}}function b(t,n){let r=o;if("class"===o&&(r=".%s"),"data"===o&&(r="[data-%s]"),null!==o&&void 0!==o&&o.startsWith("data-")&&!o.includes("%s")&&(r="[".concat(o,'="%s"]')),t){if("media"===r){var a;if(e.defaultColorScheme===t)return":root";const r=(null===(a=i[t])||void 0===a||null===(a=a.palette)||void 0===a?void 0:a.mode)||t;return{["@media (prefers-color-scheme: ".concat(r,")")]:{":root":n}}}if(r)return e.defaultColorScheme===t?":root, ".concat(r.replace("%s",String(t))):r.replace("%s",String(t))}return":root"}return{vars:m,generateThemeVars:()=>{let e=d({},h);return Object.entries(g).forEach((t=>{let[,{vars:n}]=t;e=dO(e,n)})),e},generateStyleSheets:()=>{const t=[],o=e.defaultColorScheme||"light";function s(e,n){Object.keys(n).length&&t.push("string"===typeof e?{[e]:d({},n)}:e)}s(n(void 0,d({},p)),p);const{[o]:c}=g,u=a(g,[o].map(l));if(c){var h;const{css:e}=c,t=null===(h=i[o])||void 0===h||null===(h=h.palette)||void 0===h?void 0:h.mode,a=d(!r&&t?{colorScheme:t}:{},e);s(n(o,d({},a)),a)}return Object.entries(u).forEach((e=>{var t;let[o,{css:a}]=e;const l=null===(t=i[o])||void 0===t||null===(t=t.palette)||void 0===t?void 0:t.mode,c=d(!r&&l?{colorScheme:l}:{},a);s(n(o,d({},c)),c)})),t}}};function eM(e,t){return d({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}const tM=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];const nM={textTransform:"uppercase"},rM='"Roboto", "Helvetica", "Arial", sans-serif';function oM(e,t){const n="function"===typeof t?t(e):t,{fontFamily:r=rM,fontSize:o=14,fontWeightLight:i=300,fontWeightRegular:s=400,fontWeightMedium:l=500,fontWeightBold:c=700,htmlFontSize:u=16,allVariants:h,pxToRem:p}=n,f=a(n,tM);const m=o/14,g=p||(e=>"".concat(e/u*m,"rem")),v=(e,t,n,o,i)=>{return d(d(d({fontFamily:r,fontWeight:e,fontSize:g(t),lineHeight:n},r===rM?{letterSpacing:"".concat((a=o/t,Math.round(1e5*a)/1e5),"em")}:{}),i),h);var a},y={h1:v(i,96,1.167,-1.5),h2:v(i,60,1.2,-.5),h3:v(s,48,1.167,0),h4:v(s,34,1.235,.25),h5:v(s,24,1.334,0),h6:v(l,20,1.6,.15),subtitle1:v(s,16,1.75,.15),subtitle2:v(l,14,1.57,.1),body1:v(s,16,1.5,.15),body2:v(s,14,1.43,.15),button:v(l,14,1.75,.4,nM),caption:v(s,12,1.66,.4),overline:v(s,12,2.66,1,nM),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return dO(d({htmlFontSize:u,pxToRem:g,fontFamily:r,fontSize:o,fontWeightLight:i,fontWeightRegular:s,fontWeightMedium:l,fontWeightBold:c},y),f,{clone:!1})}function iM(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}const aM=["none",iM(0,2,1,-1,0,1,1,0,0,1,3,0),iM(0,3,1,-2,0,2,2,0,0,1,5,0),iM(0,3,3,-2,0,3,4,0,0,1,8,0),iM(0,2,4,-1,0,4,5,0,0,1,10,0),iM(0,3,5,-1,0,5,8,0,0,1,14,0),iM(0,3,5,-1,0,6,10,0,0,1,18,0),iM(0,4,5,-2,0,7,10,1,0,2,16,1),iM(0,5,5,-3,0,8,10,1,0,3,14,2),iM(0,5,6,-3,0,9,12,1,0,3,16,2),iM(0,6,6,-3,0,10,14,1,0,4,18,3),iM(0,6,7,-4,0,11,15,1,0,4,20,3),iM(0,7,8,-4,0,12,17,2,0,5,22,4),iM(0,7,8,-4,0,13,19,2,0,5,24,4),iM(0,7,9,-4,0,14,21,2,0,5,26,4),iM(0,8,9,-5,0,15,22,2,0,6,28,5),iM(0,8,10,-5,0,16,24,2,0,6,30,5),iM(0,8,11,-5,0,17,26,2,0,6,32,5),iM(0,9,11,-5,0,18,28,2,0,7,34,6),iM(0,9,12,-6,0,19,29,2,0,7,36,6),iM(0,10,13,-6,0,20,31,3,0,8,38,7),iM(0,10,13,-6,0,21,33,3,0,8,40,7),iM(0,10,14,-6,0,22,35,3,0,8,42,7),iM(0,11,14,-7,0,23,36,3,0,9,44,8),iM(0,11,15,-7,0,24,38,3,0,9,46,8)],sM=["duration","easing","delay"],lM={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},cM={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function uM(e){return"".concat(Math.round(e),"ms")}function dM(e){if(!e)return 0;const t=e/36;return Math.min(Math.round(10*(4+15*t**.25+t/5)),3e3)}function hM(e){const t=d(d({},lM),e.easing),n=d(d({},cM),e.duration);return d(d({getAutoHeightDuration:dM,create:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{duration:o=n.standard,easing:i=t.easeInOut,delay:s=0}=r;a(r,sM);return(Array.isArray(e)?e:[e]).map((e=>"".concat(e," ").concat("string"===typeof o?o:uM(o)," ").concat(i," ").concat("string"===typeof s?s:uM(s)))).join(",")}},e),{},{easing:t,duration:n})}const pM={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function fM(e){return cO(e)||"undefined"===typeof e||"string"===typeof e||"boolean"===typeof e||"number"===typeof e||Array.isArray(e)}function mM(){const e=d({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return function e(t){const n=Object.entries(t);for(let r=0;r<n.length;r++){const[o,i]=n[r];!fM(i)||o.startsWith("unstable_")?delete t[o]:cO(i)&&(t[o]=d({},i),e(t[o]))}}(e),"import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';\n\nconst theme = ".concat(JSON.stringify(e,null,2),";\n\ntheme.breakpoints = createBreakpoints(theme.breakpoints || {});\ntheme.transitions = createTransitions(theme.transitions || {});\n\nexport default theme;")}const gM=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function vM(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t,mixins:n={},spacing:r,palette:o={},transitions:i={},typography:s={},shape:l}=e,c=a(e,gM);if(e.vars)throw new Error(eA(20));const u=KN(o),h=wN(e);let p=dO(h,{mixins:eM(h.breakpoints,n),palette:u,shadows:aM.slice(),typography:oM(u,s),transitions:hM(i),zIndex:d({},pM)});p=dO(p,c);for(var f=arguments.length,m=new Array(f>1?f-1:0),g=1;g<f;g++)m[g-1]=arguments[g];return p=m.reduce(((e,t)=>dO(e,t)),p),p.unstable_sxConfig=d(d({},mN),null===c||void 0===c?void 0:c.unstable_sxConfig),p.unstable_sx=function(e){return vN({sx:e,theme:this})},p.toRuntimeSource=mM,p}const yM=vM;function bM(e){let t;return t=e<1?5.11916*e**2:4.5*Math.log(e+1)+2,Math.round(10*t)/1e3}const wM=["palette","opacity","overlays"],CM=[...Array(25)].map(((e,t)=>{if(0===t)return"none";const n=bM(t);return"linear-gradient(rgba(255 255 255 / ".concat(n,"), rgba(255 255 255 / ").concat(n,"))")}));function _M(e){return{inputPlaceholder:"dark"===e?.5:.42,inputUnderline:"dark"===e?.7:.42,switchTrackDisabled:"dark"===e?.2:.12,switchTrack:"dark"===e?.3:.38}}function xM(e){return"dark"===e?CM:[]}function SM(e){var t;return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||"palette"===e[0]&&!(null===(t=e[1])||void 0===t||!t.match(/(mode|contrastThreshold|tonalOffset)/))}const kM=e=>[...[...Array(25)].map(((t,n)=>"--".concat(e?"".concat(e,"-"):"","overlays-").concat(n))),"--".concat(e?"".concat(e,"-"):"","palette-AppBar-darkBg"),"--".concat(e?"".concat(e,"-"):"","palette-AppBar-darkColor")],IM=e=>(t,n)=>{const r=e.rootSelector||":root",o=e.colorSchemeSelector;let i=o;if("class"===o&&(i=".%s"),"data"===o&&(i="[data-%s]"),null!==o&&void 0!==o&&o.startsWith("data-")&&!o.includes("%s")&&(i="[".concat(o,'="%s"]')),e.defaultColorScheme===t){if("dark"===t){const o={};return kM(e.cssVarPrefix).forEach((e=>{o[e]=n[e],delete n[e]})),"media"===i?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:o}}:i?{[i.replace("%s",t)]:o,["".concat(r,", ").concat(i.replace("%s",t))]:n}:{[r]:d(d({},n),o)}}if(i&&"media"!==i)return"".concat(r,", ").concat(i.replace("%s",String(t)))}else if(t){if("media"===i)return{["@media (prefers-color-scheme: ".concat(String(t),")")]:{[r]:n}};if(i)return i.replace("%s",String(t))}return r},EM=["palette"],TM=["colorSchemes","defaultColorScheme","disableCssColorScheme","cssVarPrefix","shouldSkipGeneratingVar","colorSchemeSelector","rootSelector"];function RM(e,t,n){!e[t]&&n&&(e[t]=n)}function PM(e){return"string"===typeof e&&e.startsWith("hsl")?fA(e):e}function AM(e,t){"".concat(t,"Channel")in e||(e["".concat(t,"Channel")]=hA(PM(e[t]),("MUI: Can't create `palette.".concat(t,"Channel` because `palette.").concat(t,"` is not one of these formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color()."),"To suppress this warning, you need to explicitly provide the `palette.".concat(t,'Channel` as a string (in rgb format, for example "12 12 12") or undefined if you want to remove the channel token.'))))}const DM=e=>{try{return e()}catch(Do){}};function OM(e,t,n,r){var o,i,s;if(!t)return;t=!0===t?{}:t;const l="dark"===r?"dark":"light";var c;if(!n)return void(e[r]=function(e){const{palette:t={mode:"light"},opacity:n,overlays:r}=e,o=a(e,wM),i=KN(t);return d({palette:i,opacity:d(d({},_M(i.mode)),n),overlays:r||xM(i.mode)},o)}(d(d({},t),{},{palette:d({mode:l},null===(c=t)||void 0===c?void 0:c.palette)})));const u=yM(d(d({},n),{},{palette:d({mode:l},null===(o=t)||void 0===o?void 0:o.palette)})),{palette:h}=u,p=a(u,EM);return e[r]=d(d({},t),{},{palette:h,opacity:d(d({},_M(l)),null===(i=t)||void 0===i?void 0:i.opacity),overlays:(null===(s=t)||void 0===s?void 0:s.overlays)||xM(l)}),p}function NM(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{colorSchemes:t={light:!0},defaultColorScheme:n,disableCssColorScheme:r=!1,cssVarPrefix:o="mui",shouldSkipGeneratingVar:i=SM,colorSchemeSelector:s=(t.light&&t.dark?"media":void 0),rootSelector:c=":root"}=e,u=a(e,TM),h=Object.keys(t)[0],p=n||(t.light&&"light"!==h?"light":h),f=function(){return QN(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"mui")}(o),{[p]:m,light:g,dark:v}=t,y=d({},a(t,[p,"light","dark"].map(l)));let b=m;if(("dark"===p&&!("dark"in t)||"light"===p&&!("light"in t))&&(b=!0),!b)throw new Error(eA(21,p));const w=OM(y,b,u,p);g&&!y.light&&OM(y,g,void 0,"light"),v&&!y.dark&&OM(y,v,void 0,"dark");let C=d(d({defaultColorScheme:p},w),{},{cssVarPrefix:o,colorSchemeSelector:s,rootSelector:c,getCssVar:f,colorSchemes:y,font:d(d({},YN(w.typography)),w.font),spacing:(_=u.spacing,"number"===typeof _?"".concat(_,"px"):"string"===typeof _||"function"===typeof _||Array.isArray(_)?_:"8px")});var _;Object.keys(C.colorSchemes).forEach((e=>{const t=C.colorSchemes[e].palette,n=e=>{const n=e.split("-"),r=n[1],o=n[2];return f(e,t[r][o])};var r;if("light"===t.mode&&(RM(t.common,"background","#fff"),RM(t.common,"onBackground","#000")),"dark"===t.mode&&(RM(t.common,"background","#000"),RM(t.common,"onBackground","#fff")),r=t,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"].forEach((e=>{r[e]||(r[e]={})})),"light"===t.mode){RM(t.Alert,"errorColor",bA(t.error.light,.6)),RM(t.Alert,"infoColor",bA(t.info.light,.6)),RM(t.Alert,"successColor",bA(t.success.light,.6)),RM(t.Alert,"warningColor",bA(t.warning.light,.6)),RM(t.Alert,"errorFilledBg",n("palette-error-main")),RM(t.Alert,"infoFilledBg",n("palette-info-main")),RM(t.Alert,"successFilledBg",n("palette-success-main")),RM(t.Alert,"warningFilledBg",n("palette-warning-main")),RM(t.Alert,"errorFilledColor",DM((()=>t.getContrastText(t.error.main)))),RM(t.Alert,"infoFilledColor",DM((()=>t.getContrastText(t.info.main)))),RM(t.Alert,"successFilledColor",DM((()=>t.getContrastText(t.success.main)))),RM(t.Alert,"warningFilledColor",DM((()=>t.getContrastText(t.warning.main)))),RM(t.Alert,"errorStandardBg",CA(t.error.light,.9)),RM(t.Alert,"infoStandardBg",CA(t.info.light,.9)),RM(t.Alert,"successStandardBg",CA(t.success.light,.9)),RM(t.Alert,"warningStandardBg",CA(t.warning.light,.9)),RM(t.Alert,"errorIconColor",n("palette-error-main")),RM(t.Alert,"infoIconColor",n("palette-info-main")),RM(t.Alert,"successIconColor",n("palette-success-main")),RM(t.Alert,"warningIconColor",n("palette-warning-main")),RM(t.AppBar,"defaultBg",n("palette-grey-100")),RM(t.Avatar,"defaultBg",n("palette-grey-400")),RM(t.Button,"inheritContainedBg",n("palette-grey-300")),RM(t.Button,"inheritContainedHoverBg",n("palette-grey-A100")),RM(t.Chip,"defaultBorder",n("palette-grey-400")),RM(t.Chip,"defaultAvatarColor",n("palette-grey-700")),RM(t.Chip,"defaultIconColor",n("palette-grey-700")),RM(t.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),RM(t.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),RM(t.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),RM(t.LinearProgress,"primaryBg",CA(t.primary.main,.62)),RM(t.LinearProgress,"secondaryBg",CA(t.secondary.main,.62)),RM(t.LinearProgress,"errorBg",CA(t.error.main,.62)),RM(t.LinearProgress,"infoBg",CA(t.info.main,.62)),RM(t.LinearProgress,"successBg",CA(t.success.main,.62)),RM(t.LinearProgress,"warningBg",CA(t.warning.main,.62)),RM(t.Skeleton,"bg","rgba(".concat(n("palette-text-primaryChannel")," / 0.11)")),RM(t.Slider,"primaryTrack",CA(t.primary.main,.62)),RM(t.Slider,"secondaryTrack",CA(t.secondary.main,.62)),RM(t.Slider,"errorTrack",CA(t.error.main,.62)),RM(t.Slider,"infoTrack",CA(t.info.main,.62)),RM(t.Slider,"successTrack",CA(t.success.main,.62)),RM(t.Slider,"warningTrack",CA(t.warning.main,.62));const e=_A(t.background.default,.8);RM(t.SnackbarContent,"bg",e),RM(t.SnackbarContent,"color",DM((()=>t.getContrastText(e)))),RM(t.SpeedDialAction,"fabHoverBg",_A(t.background.paper,.15)),RM(t.StepConnector,"border",n("palette-grey-400")),RM(t.StepContent,"border",n("palette-grey-400")),RM(t.Switch,"defaultColor",n("palette-common-white")),RM(t.Switch,"defaultDisabledColor",n("palette-grey-100")),RM(t.Switch,"primaryDisabledColor",CA(t.primary.main,.62)),RM(t.Switch,"secondaryDisabledColor",CA(t.secondary.main,.62)),RM(t.Switch,"errorDisabledColor",CA(t.error.main,.62)),RM(t.Switch,"infoDisabledColor",CA(t.info.main,.62)),RM(t.Switch,"successDisabledColor",CA(t.success.main,.62)),RM(t.Switch,"warningDisabledColor",CA(t.warning.main,.62)),RM(t.TableCell,"border",CA(vA(t.divider,1),.88)),RM(t.Tooltip,"bg",vA(t.grey[700],.92))}if("dark"===t.mode){RM(t.Alert,"errorColor",CA(t.error.light,.6)),RM(t.Alert,"infoColor",CA(t.info.light,.6)),RM(t.Alert,"successColor",CA(t.success.light,.6)),RM(t.Alert,"warningColor",CA(t.warning.light,.6)),RM(t.Alert,"errorFilledBg",n("palette-error-dark")),RM(t.Alert,"infoFilledBg",n("palette-info-dark")),RM(t.Alert,"successFilledBg",n("palette-success-dark")),RM(t.Alert,"warningFilledBg",n("palette-warning-dark")),RM(t.Alert,"errorFilledColor",DM((()=>t.getContrastText(t.error.dark)))),RM(t.Alert,"infoFilledColor",DM((()=>t.getContrastText(t.info.dark)))),RM(t.Alert,"successFilledColor",DM((()=>t.getContrastText(t.success.dark)))),RM(t.Alert,"warningFilledColor",DM((()=>t.getContrastText(t.warning.dark)))),RM(t.Alert,"errorStandardBg",bA(t.error.light,.9)),RM(t.Alert,"infoStandardBg",bA(t.info.light,.9)),RM(t.Alert,"successStandardBg",bA(t.success.light,.9)),RM(t.Alert,"warningStandardBg",bA(t.warning.light,.9)),RM(t.Alert,"errorIconColor",n("palette-error-main")),RM(t.Alert,"infoIconColor",n("palette-info-main")),RM(t.Alert,"successIconColor",n("palette-success-main")),RM(t.Alert,"warningIconColor",n("palette-warning-main")),RM(t.AppBar,"defaultBg",n("palette-grey-900")),RM(t.AppBar,"darkBg",n("palette-background-paper")),RM(t.AppBar,"darkColor",n("palette-text-primary")),RM(t.Avatar,"defaultBg",n("palette-grey-600")),RM(t.Button,"inheritContainedBg",n("palette-grey-800")),RM(t.Button,"inheritContainedHoverBg",n("palette-grey-700")),RM(t.Chip,"defaultBorder",n("palette-grey-700")),RM(t.Chip,"defaultAvatarColor",n("palette-grey-300")),RM(t.Chip,"defaultIconColor",n("palette-grey-300")),RM(t.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),RM(t.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),RM(t.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),RM(t.LinearProgress,"primaryBg",bA(t.primary.main,.5)),RM(t.LinearProgress,"secondaryBg",bA(t.secondary.main,.5)),RM(t.LinearProgress,"errorBg",bA(t.error.main,.5)),RM(t.LinearProgress,"infoBg",bA(t.info.main,.5)),RM(t.LinearProgress,"successBg",bA(t.success.main,.5)),RM(t.LinearProgress,"warningBg",bA(t.warning.main,.5)),RM(t.Skeleton,"bg","rgba(".concat(n("palette-text-primaryChannel")," / 0.13)")),RM(t.Slider,"primaryTrack",bA(t.primary.main,.5)),RM(t.Slider,"secondaryTrack",bA(t.secondary.main,.5)),RM(t.Slider,"errorTrack",bA(t.error.main,.5)),RM(t.Slider,"infoTrack",bA(t.info.main,.5)),RM(t.Slider,"successTrack",bA(t.success.main,.5)),RM(t.Slider,"warningTrack",bA(t.warning.main,.5));const e=_A(t.background.default,.98);RM(t.SnackbarContent,"bg",e),RM(t.SnackbarContent,"color",DM((()=>t.getContrastText(e)))),RM(t.SpeedDialAction,"fabHoverBg",_A(t.background.paper,.15)),RM(t.StepConnector,"border",n("palette-grey-600")),RM(t.StepContent,"border",n("palette-grey-600")),RM(t.Switch,"defaultColor",n("palette-grey-300")),RM(t.Switch,"defaultDisabledColor",n("palette-grey-600")),RM(t.Switch,"primaryDisabledColor",bA(t.primary.main,.55)),RM(t.Switch,"secondaryDisabledColor",bA(t.secondary.main,.55)),RM(t.Switch,"errorDisabledColor",bA(t.error.main,.55)),RM(t.Switch,"infoDisabledColor",bA(t.info.main,.55)),RM(t.Switch,"successDisabledColor",bA(t.success.main,.55)),RM(t.Switch,"warningDisabledColor",bA(t.warning.main,.55)),RM(t.TableCell,"border",bA(vA(t.divider,1),.68)),RM(t.Tooltip,"bg",vA(t.grey[700],.92))}AM(t.background,"default"),AM(t.background,"paper"),AM(t.common,"background"),AM(t.common,"onBackground"),AM(t,"divider"),Object.keys(t).forEach((e=>{const n=t[e];"tonalOffset"!==e&&n&&"object"===typeof n&&(n.main&&RM(t[e],"mainChannel",hA(PM(n.main))),n.light&&RM(t[e],"lightChannel",hA(PM(n.light))),n.dark&&RM(t[e],"darkChannel",hA(PM(n.dark))),n.contrastText&&RM(t[e],"contrastTextChannel",hA(PM(n.contrastText))),"text"===e&&(AM(t[e],"primary"),AM(t[e],"secondary")),"action"===e&&(n.active&&AM(t[e],"active"),n.selected&&AM(t[e],"selected")))}))}));for(var x=arguments.length,S=new Array(x>1?x-1:0),k=1;k<x;k++)S[k-1]=arguments[k];C=S.reduce(((e,t)=>dO(e,t)),C);const I={prefix:o,disableCssColorScheme:r,shouldSkipGeneratingVar:i,getSelector:IM(C)},{vars:E,generateThemeVars:T,generateStyleSheets:R}=ZN(C,I);return C.vars=E,Object.entries(C.colorSchemes[C.defaultColorScheme]).forEach((e=>{let[t,n]=e;C[t]=n})),C.generateThemeVars=T,C.generateStyleSheets=R,C.generateSpacing=function(){return VO(u.spacing,NO(this))},C.getColorSchemeSelector=function(e){return function(t){return"media"===e?"@media (prefers-color-scheme: ".concat(t,")"):e?e.startsWith("data-")&&!e.includes("%s")?"[".concat(e,'="').concat(t,'"] &'):"class"===e?".".concat(t," &"):"data"===e?"[data-".concat(t,"] &"):"".concat(e.replace("%s",t)," &"):"&"}}(s),C.spacing=C.generateSpacing(),C.shouldSkipGeneratingVar=i,C.unstable_sxConfig=d(d({},mN),null===u||void 0===u?void 0:u.unstable_sxConfig),C.unstable_sx=function(e){return vN({sx:e,theme:this})},C.toRuntimeSource=mM,C}const MM=["palette","cssVariables","colorSchemes","defaultColorScheme"];function LM(e,t,n){e.colorSchemes&&n&&(e.colorSchemes[t]=d(d({},!0!==n&&n),{},{palette:KN(d(d({},!0===n?{}:n.palette),{},{mode:t}))}))}function FM(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{palette:t,cssVariables:n=!1,colorSchemes:r=(t?void 0:{light:!0}),defaultColorScheme:o=(null===t||void 0===t?void 0:t.mode)}=e,i=a(e,MM),s=o||"light",l=null===r||void 0===r?void 0:r[s],c=d(d({},r),t?{[s]:d(d({},"boolean"!==typeof l&&l),{},{palette:t})}:void 0);for(var u=arguments.length,h=new Array(u>1?u-1:0),p=1;p<u;p++)h[p-1]=arguments[p];if(!1===n){if(!("colorSchemes"in e))return yM(e,...h);let n=t;"palette"in e||c[s]&&(!0!==c[s]?n=c[s].palette:"dark"===s&&(n={mode:"dark"}));const r=yM(d(d({},e),{},{palette:n}),...h);return r.defaultColorScheme=s,r.colorSchemes=c,"light"===r.palette.mode&&(r.colorSchemes.light=d(d({},!0!==c.light&&c.light),{},{palette:r.palette}),LM(r,"dark",c.dark)),"dark"===r.palette.mode&&(r.colorSchemes.dark=d(d({},!0!==c.dark&&c.dark),{},{palette:r.palette}),LM(r,"light",c.light)),r}return t||"light"in c||"light"!==s||(c.light=!0),NM(d(d({},i),{},{colorSchemes:c,defaultColorScheme:s},"boolean"!==typeof n&&n),...h)}const BM=FM(),jM="$$material";const zM=function(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e},VM=e=>zM(e)&&"classes"!==e,UM=PN({themeId:jM,defaultTheme:BM,rootShouldForwardProp:VM}),HM=e=>e,qM=(()=>{let e=HM;return{configure(t){e=t},generate:t=>e(t),reset(){e=HM}}})(),WM={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function GM(e,t){const n=WM[t];return n?"".concat(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui","-").concat(n):"".concat(qM.generate(e),"-").concat(t)}function KM(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const r={};return t.forEach((t=>{r[t]=GM(e,t,n)})),r}function QM(e){return GM("MuiDataGrid",e)}const YM=KM("MuiDataGrid",["actionsCell","aggregationColumnHeader","aggregationColumnHeader--alignLeft","aggregationColumnHeader--alignCenter","aggregationColumnHeader--alignRight","aggregationColumnHeaderLabel","autoHeight","autosizing","booleanCell","cell--editable","cell--editing","cell--flex","cell--textCenter","cell--textLeft","cell--textRight","cell--rangeTop","cell--rangeBottom","cell--rangeLeft","cell--rangeRight","cell--pinnedLeft","cell--pinnedRight","cell--selectionMode","cell","cellCheckbox","cellEmpty","cellSkeleton","cellOffsetLeft","checkboxInput","columnHeader","columnHeader--alignCenter","columnHeader--alignLeft","columnHeader--alignRight","columnHeader--dragging","columnHeader--moving","columnHeader--numeric","columnHeader--sortable","columnHeader--sorted","columnHeader--filtered","columnHeader--pinnedLeft","columnHeader--pinnedRight","columnHeader--last","columnHeader--lastUnpinned","columnHeader--siblingFocused","columnHeaderCheckbox","columnHeaderDraggableContainer","columnHeaderTitle","columnHeaderTitleContainer","columnHeaderTitleContainerContent","columnHeader--filledGroup","columnHeader--emptyGroup","columnHeaders","columnSeparator--resizable","columnSeparator--resizing","columnSeparator--sideLeft","columnSeparator--sideRight","columnSeparator","columnsManagement","columnsManagementRow","columnsManagementHeader","columnsManagementSearchInput","columnsManagementFooter","container--top","container--bottom","detailPanel","detailPanels","detailPanelToggleCell","detailPanelToggleCell--expanded","footerCell","panel","panelHeader","panelWrapper","panelContent","panelFooter","paper","editBooleanCell","editInputCell","filler","filler--borderBottom","filler--pinnedLeft","filler--pinnedRight","filterForm","filterFormDeleteIcon","filterFormLogicOperatorInput","filterFormColumnInput","filterFormOperatorInput","filterFormValueInput","filterIcon","footerContainer","headerFilterRow","iconButtonContainer","iconSeparator","main","main--hasPinnedRight","main--hasSkeletonLoadingOverlay","menu","menuIcon","menuIconButton","menuOpen","menuList","overlay","overlayWrapper","overlayWrapperInner","root","root--densityStandard","root--densityComfortable","root--densityCompact","root--disableUserSelection","root--noToolbar","row","row--editable","row--editing","row--firstVisible","row--lastVisible","row--dragging","row--dynamicHeight","row--detailPanelExpanded","row--borderBottom","rowReorderCellPlaceholder","rowCount","rowReorderCellContainer","rowReorderCell","rowReorderCell--draggable","rowSkeleton","scrollArea--left","scrollArea--right","scrollArea","scrollbar","scrollbar--vertical","scrollbar--horizontal","scrollbarFiller","scrollbarFiller--header","scrollbarFiller--borderTop","scrollbarFiller--borderBottom","scrollbarFiller--pinnedRight","selectedRowCount","sortIcon","toolbarContainer","toolbarFilterList","virtualScroller","virtualScroller--hasScrollX","virtualScrollerContent","virtualScrollerContent--overflowed","virtualScrollerRenderZone","pinnedColumns","withVerticalBorder","withBorderColor","cell--withRightBorder","cell--withLeftBorder","columnHeader--withRightBorder","columnHeader--withLeftBorder","treeDataGroupingCell","treeDataGroupingCellToggle","treeDataGroupingCellLoadingContainer","groupingCriteriaCell","groupingCriteriaCellToggle","groupingCriteriaCellLoadingContainer","pinnedRows","pinnedRows--top","pinnedRows--bottom","pinnedRowsRenderZone"]),XM={};function $M(e,n){const r=t.useRef(XM);return r.current===XM&&(r.current=e(n)),r}const JM=[];function ZM(e){t.useEffect(e,JM)}function eL(e){return e.acceptsApiRef}function tL(e,t){return eL(t)?t(e):t(e.current.state)}function nL(e,t,n,r){return eL(t)?t(e,n):t(e.current.state,r)}const rL=Object.is,oL=sA,iL=(e,t)=>e===t||e.length===t.length&&e.every(((e,n)=>e===t[n])),aL=()=>({state:null,equals:null,selector:null,args:null}),sL=function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:rL;const o=$M(aL),i=null!==o.current.selector,[a,s]=t.useState(i?null:tL(e,n));return o.current.state=a,o.current.equals=r,o.current.selector=n,ZM((()=>e.current.store.subscribe((()=>{const t=tL(e,o.current.selector);o.current.equals(o.current.state,t)||(o.current.state=t,s(t))})))),a},lL=function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:rL;const i=$M(aL),a=null!==i.current.selector,[s,l]=t.useState(a?null:nL(e,n,r,e.current.instanceId));i.current.state=s,i.current.equals=o,i.current.selector=n;const c=i.current.args;if(i.current.args=r,a&&!((e,t)=>{let n=Object.is;return t instanceof Array?n=iL:t instanceof Object&&(n=oL),n(e,t)})(c,r)){const t=nL(e,i.current.selector,i.current.args,e.current.instanceId);i.current.equals(i.current.state,t)||(i.current.state=t,l(t))}return ZM((()=>e.current.store.subscribe((()=>{const t=nL(e,i.current.selector,i.current.args,e.current.instanceId);i.current.equals(i.current.state,t)||(i.current.state=t,l(t))})))),s},cL=t.createContext(void 0);function uL(){const e=t.useContext(cL);if(void 0===e)throw new Error(["MUI X: Could not find the Data Grid private context.","It looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.","This can also happen if you are bundling multiple versions of the Data Grid."].join("\n"));return e}const dL=e=>e.dimensions;const hL={["& .".concat(YM.iconButtonContainer)]:{visibility:"visible",width:"auto"},["& .".concat(YM.menuIcon)]:{width:"auto",visibility:"visible"}},pL={width:3,rx:1.5,x:10.5},fL=UM("div",{name:"MuiDataGrid",slot:"Root",overridesResolver:(e,t)=>[t.root,{["&.".concat(YM.autoHeight)]:t.autoHeight},{["&.".concat(YM.autosizing)]:t.autosizing},{["&.".concat(YM["root--densityStandard"])]:t["root--densityStandard"]},{["&.".concat(YM["root--densityComfortable"])]:t["root--densityComfortable"]},{["&.".concat(YM["root--densityCompact"])]:t["root--densityCompact"]},{["&.".concat(YM["root--disableUserSelection"])]:t["root--disableUserSelection"]},{["&.".concat(YM["root--noToolbar"])]:t["root--noToolbar"]},{["&.".concat(YM.withVerticalBorder)]:t.withVerticalBorder},{["& .".concat(YM.actionsCell)]:t.actionsCell},{["& .".concat(YM.booleanCell)]:t.booleanCell},{["& .".concat(YM.cell)]:t.cell},{["& .".concat(YM["cell--editable"])]:t["cell--editable"]},{["& .".concat(YM["cell--editing"])]:t["cell--editing"]},{["& .".concat(YM["cell--flex"])]:t["cell--flex"]},{["& .".concat(YM["cell--pinnedLeft"])]:t["cell--pinnedLeft"]},{["& .".concat(YM["cell--pinnedRight"])]:t["cell--pinnedRight"]},{["& .".concat(YM["cell--rangeBottom"])]:t["cell--rangeBottom"]},{["& .".concat(YM["cell--rangeLeft"])]:t["cell--rangeLeft"]},{["& .".concat(YM["cell--rangeRight"])]:t["cell--rangeRight"]},{["& .".concat(YM["cell--rangeTop"])]:t["cell--rangeTop"]},{["& .".concat(YM["cell--selectionMode"])]:t["cell--selectionMode"]},{["& .".concat(YM["cell--textCenter"])]:t["cell--textCenter"]},{["& .".concat(YM["cell--textLeft"])]:t["cell--textLeft"]},{["& .".concat(YM["cell--textRight"])]:t["cell--textRight"]},{["& .".concat(YM["cell--withLeftBorder"])]:t["cell--withLeftBorder"]},{["& .".concat(YM["cell--withRightBorder"])]:t["cell--withRightBorder"]},{["& .".concat(YM.cellCheckbox)]:t.cellCheckbox},{["& .".concat(YM.cellEmpty)]:t.cellEmpty},{["& .".concat(YM.cellOffsetLeft)]:t.cellOffsetLeft},{["& .".concat(YM.cellSkeleton)]:t.cellSkeleton},{["& .".concat(YM.checkboxInput)]:t.checkboxInput},{["& .".concat(YM.columnHeader)]:t.columnHeader},{["& .".concat(YM["columnHeader--alignCenter"])]:t["columnHeader--alignCenter"]},{["& .".concat(YM["columnHeader--alignLeft"])]:t["columnHeader--alignLeft"]},{["& .".concat(YM["columnHeader--alignRight"])]:t["columnHeader--alignRight"]},{["& .".concat(YM["columnHeader--dragging"])]:t["columnHeader--dragging"]},{["& .".concat(YM["columnHeader--emptyGroup"])]:t["columnHeader--emptyGroup"]},{["& .".concat(YM["columnHeader--filledGroup"])]:t["columnHeader--filledGroup"]},{["& .".concat(YM["columnHeader--filtered"])]:t["columnHeader--filtered"]},{["& .".concat(YM["columnHeader--last"])]:t["columnHeader--last"]},{["& .".concat(YM["columnHeader--lastUnpinned"])]:t["columnHeader--lastUnpinned"]},{["& .".concat(YM["columnHeader--moving"])]:t["columnHeader--moving"]},{["& .".concat(YM["columnHeader--numeric"])]:t["columnHeader--numeric"]},{["& .".concat(YM["columnHeader--pinnedLeft"])]:t["columnHeader--pinnedLeft"]},{["& .".concat(YM["columnHeader--pinnedRight"])]:t["columnHeader--pinnedRight"]},{["& .".concat(YM["columnHeader--siblingFocused"])]:t["columnHeader--siblingFocused"]},{["& .".concat(YM["columnHeader--sortable"])]:t["columnHeader--sortable"]},{["& .".concat(YM["columnHeader--sorted"])]:t["columnHeader--sorted"]},{["& .".concat(YM["columnHeader--withLeftBorder"])]:t["columnHeader--withLeftBorder"]},{["& .".concat(YM["columnHeader--withRightBorder"])]:t["columnHeader--withRightBorder"]},{["& .".concat(YM.columnHeaderCheckbox)]:t.columnHeaderCheckbox},{["& .".concat(YM.columnHeaderDraggableContainer)]:t.columnHeaderDraggableContainer},{["& .".concat(YM.columnHeaderTitleContainer)]:t.columnHeaderTitleContainer},{["& .".concat(YM.columnHeaderTitleContainerContent)]:t.columnHeaderTitleContainerContent},{["& .".concat(YM.columnSeparator)]:t.columnSeparator},{["& .".concat(YM["columnSeparator--resizable"])]:t["columnSeparator--resizable"]},{["& .".concat(YM["columnSeparator--resizing"])]:t["columnSeparator--resizing"]},{["& .".concat(YM["columnSeparator--sideLeft"])]:t["columnSeparator--sideLeft"]},{["& .".concat(YM["columnSeparator--sideRight"])]:t["columnSeparator--sideRight"]},{["& .".concat(YM["container--bottom"])]:t["container--bottom"]},{["& .".concat(YM["container--top"])]:t["container--top"]},{["& .".concat(YM.detailPanelToggleCell)]:t.detailPanelToggleCell},{["& .".concat(YM["detailPanelToggleCell--expanded"])]:t["detailPanelToggleCell--expanded"]},{["& .".concat(YM.editBooleanCell)]:t.editBooleanCell},{["& .".concat(YM.filterIcon)]:t.filterIcon},{["& .".concat(YM["filler--borderBottom"])]:t["filler--borderBottom"]},{["& .".concat(YM["filler--pinnedLeft"])]:t["filler--pinnedLeft"]},{["& .".concat(YM["filler--pinnedRight"])]:t["filler--pinnedRight"]},{["& .".concat(YM.groupingCriteriaCell)]:t.groupingCriteriaCell},{["& .".concat(YM.groupingCriteriaCellLoadingContainer)]:t.groupingCriteriaCellLoadingContainer},{["& .".concat(YM.groupingCriteriaCellToggle)]:t.groupingCriteriaCellToggle},{["& .".concat(YM.headerFilterRow)]:t.headerFilterRow},{["& .".concat(YM.iconSeparator)]:t.iconSeparator},{["& .".concat(YM.menuIcon)]:t.menuIcon},{["& .".concat(YM.menuIconButton)]:t.menuIconButton},{["& .".concat(YM.menuList)]:t.menuList},{["& .".concat(YM.menuOpen)]:t.menuOpen},{["& .".concat(YM.overlayWrapperInner)]:t.overlayWrapperInner},{["& .".concat(YM.pinnedRows)]:t.pinnedRows},{["& .".concat(YM["pinnedRows--bottom"])]:t["pinnedRows--bottom"]},{["& .".concat(YM["pinnedRows--top"])]:t["pinnedRows--top"]},{["& .".concat(YM.row)]:t.row},{["& .".concat(YM["row--borderBottom"])]:t["row--borderBottom"]},{["& .".concat(YM["row--detailPanelExpanded"])]:t["row--detailPanelExpanded"]},{["& .".concat(YM["row--dragging"])]:t["row--dragging"]},{["& .".concat(YM["row--dynamicHeight"])]:t["row--dynamicHeight"]},{["& .".concat(YM["row--editable"])]:t["row--editable"]},{["& .".concat(YM["row--editing"])]:t["row--editing"]},{["& .".concat(YM["row--firstVisible"])]:t["row--firstVisible"]},{["& .".concat(YM["row--lastVisible"])]:t["row--lastVisible"]},{["& .".concat(YM.rowReorderCell)]:t.rowReorderCell},{["& .".concat(YM["rowReorderCell--draggable"])]:t["rowReorderCell--draggable"]},{["& .".concat(YM.rowReorderCellContainer)]:t.rowReorderCellContainer},{["& .".concat(YM.rowReorderCellPlaceholder)]:t.rowReorderCellPlaceholder},{["& .".concat(YM.rowSkeleton)]:t.rowSkeleton},{["& .".concat(YM.scrollbar)]:t.scrollbar},{["& .".concat(YM["scrollbar--horizontal"])]:t["scrollbar--horizontal"]},{["& .".concat(YM["scrollbar--vertical"])]:t["scrollbar--vertical"]},{["& .".concat(YM.scrollbarFiller)]:t.scrollbarFiller},{["& .".concat(YM["scrollbarFiller--borderBottom"])]:t["scrollbarFiller--borderBottom"]},{["& .".concat(YM["scrollbarFiller--borderTop"])]:t["scrollbarFiller--borderTop"]},{["& .".concat(YM["scrollbarFiller--header"])]:t["scrollbarFiller--header"]},{["& .".concat(YM["scrollbarFiller--pinnedRight"])]:t["scrollbarFiller--pinnedRight"]},{["& .".concat(YM.sortIcon)]:t.sortIcon},{["& .".concat(YM.treeDataGroupingCell)]:t.treeDataGroupingCell},{["& .".concat(YM.treeDataGroupingCellLoadingContainer)]:t.treeDataGroupingCellLoadingContainer},{["& .".concat(YM.treeDataGroupingCellToggle)]:t.treeDataGroupingCellToggle},{["& .".concat(YM.withBorderColor)]:t.withBorderColor}]})((e=>{var t,n,r,o;let{theme:i}=e;const a=uL(),s=sL(a,dL),l=function(e){return e.vars?e.vars.palette.TableCell.border:"light"===e.palette.mode?wA(gA(e.palette.divider,1),.88):yA(gA(e.palette.divider,1),.68)}(i),c=i.shape.borderRadius,u=i.vars?i.vars.palette.background.default:null!==(t=null===(n=i.mixins.MuiDataGrid)||void 0===n?void 0:n.containerBackground)&&void 0!==t?t:i.palette.background.default,d=null!==(r=null===(o=i.mixins.MuiDataGrid)||void 0===o?void 0:o.pinnedBackground)&&void 0!==r?r:u,h=i.vars?"rgba(".concat(i.vars.palette.background.defaultChannel," / ").concat(i.vars.palette.action.disabledOpacity,")"):gA(i.palette.background.default,i.palette.action.disabledOpacity),p=(i.vars||i).palette.action.hoverOpacity,f=(i.vars||i).palette.action.hover,m=(i.vars||i).palette.action.selectedOpacity,g=i.vars?"calc(".concat(p," + ").concat(m,")"):p+m,v=i.vars?"rgba(".concat(i.vars.palette.primary.mainChannel," / ").concat(m,")"):gA(i.palette.primary.main,m),y=i.vars?"rgba(".concat(i.vars.palette.primary.mainChannel," / ").concat(g,")"):gA(i.palette.primary.main,g),b=i.vars?vL:mL,w=e=>({["& .".concat(YM["cell--pinnedLeft"],", & .").concat(YM["cell--pinnedRight"])]:{backgroundColor:e,"&.Mui-selected":{backgroundColor:b(e,v,m),"&:hover":{backgroundColor:b(e,v,g)}}}}),C=w(b(d,f,p)),_=b(d,v,m),x=w(_),S=w(b(d,y,g)),k={backgroundColor:v,"&:hover":{backgroundColor:y,"@media (hover: none)":{backgroundColor:v}}};return KP({"--unstable_DataGrid-radius":"number"===typeof c?"".concat(c,"px"):c,"--unstable_DataGrid-headWeight":i.typography.fontWeightMedium,"--unstable_DataGrid-overlayBackground":h,"--DataGrid-containerBackground":u,"--DataGrid-pinnedBackground":d,"--DataGrid-rowBorderColor":l,"--DataGrid-cellOffsetMultiplier":2,"--DataGrid-width":"0px","--DataGrid-hasScrollX":"0","--DataGrid-hasScrollY":"0","--DataGrid-scrollbarSize":"10px","--DataGrid-rowWidth":"0px","--DataGrid-columnsTotalWidth":"0px","--DataGrid-leftPinnedWidth":"0px","--DataGrid-rightPinnedWidth":"0px","--DataGrid-headerHeight":"0px","--DataGrid-headersTotalHeight":"0px","--DataGrid-topContainerHeight":"0px","--DataGrid-bottomContainerHeight":"0px",flex:1,boxSizing:"border-box",position:"relative",borderWidth:"1px",borderStyle:"solid",borderColor:l,borderRadius:"var(--unstable_DataGrid-radius)",color:(i.vars||i).palette.text.primary},i.typography.body2,{outline:"none",height:"100%",display:"flex",minWidth:0,minHeight:0,flexDirection:"column",overflow:"hidden",overflowAnchor:"none",[".".concat(YM.main," > *:first-child").concat("/* emotion-disable-server-rendering-unsafe-selector-warning-please-do-not-use-this-the-warning-exists-for-a-reason */")]:{borderTopLeftRadius:"var(--unstable_DataGrid-radius)",borderTopRightRadius:"var(--unstable_DataGrid-radius)"},["&.".concat(YM.autoHeight)]:{height:"auto"},["&.".concat(YM.autosizing)]:{["& .".concat(YM.columnHeaderTitleContainerContent," > *")]:{overflow:"visible !important"},"@media (hover: hover)":{["& .".concat(YM.menuIcon)]:{width:"0 !important",visibility:"hidden !important"}},["& .".concat(YM.cell)]:{overflow:"visible !important",whiteSpace:"nowrap",minWidth:"max-content !important",maxWidth:"max-content !important"},["& .".concat(YM.groupingCriteriaCell)]:{width:"unset"},["& .".concat(YM.treeDataGroupingCell)]:{width:"unset"}},["& .".concat(YM.columnHeader,", & .").concat(YM.cell)]:{WebkitTapHighlightColor:"transparent",padding:"0 10px",boxSizing:"border-box"},["& .".concat(YM.columnHeader,":focus-within, & .").concat(YM.cell,":focus-within")]:{outline:"solid ".concat(i.vars?"rgba(".concat(i.vars.palette.primary.mainChannel," / 0.5)"):gA(i.palette.primary.main,.5)," ").concat(1,"px"),outlineOffset:-1},["& .".concat(YM.columnHeader,":focus, & .").concat(YM.cell,":focus")]:{outline:"solid ".concat(i.palette.primary.main," ").concat(1,"px"),outlineOffset:-1},["& .".concat(YM.columnHeader,":focus,\n      & .").concat(YM["columnHeader--withLeftBorder"],",\n      & .").concat(YM["columnHeader--withRightBorder"],",\n      & .").concat(YM["columnHeader--siblingFocused"],",\n      & .").concat(YM["virtualScroller--hasScrollX"]," .").concat(YM["columnHeader--lastUnpinned"],",\n      & .").concat(YM["virtualScroller--hasScrollX"]," .").concat(YM["columnHeader--last"],"\n      ")]:{["& .".concat(YM.columnSeparator)]:{opacity:0},"@media (hover: none)":{["& .".concat(YM["columnSeparator--resizable"])]:{opacity:1}},["& .".concat(YM["columnSeparator--resizable"],":hover")]:{opacity:1}},["&.".concat(YM["root--noToolbar"],' [aria-rowindex="1"] [aria-colindex="1"]')]:{borderTopLeftRadius:"calc(var(--unstable_DataGrid-radius) - 1px)"},["&.".concat(YM["root--noToolbar"],' [aria-rowindex="1"] .').concat(YM["columnHeader--last"])]:{borderTopRightRadius:!s.hasScrollX||s.hasScrollY&&0!==s.scrollbarSize?void 0:"calc(var(--unstable_DataGrid-radius) - 1px)"},["& .".concat(YM.columnHeaderCheckbox,", & .").concat(YM.cellCheckbox)]:{padding:0,justifyContent:"center",alignItems:"center"},["& .".concat(YM.columnHeader)]:{position:"relative",display:"flex",alignItems:"center"},["& .".concat(YM["virtualScroller--hasScrollX"]," .").concat(YM["columnHeader--last"])]:{overflow:"hidden"},["& .".concat(YM["columnHeader--sorted"]," .").concat(YM.iconButtonContainer,", & .").concat(YM["columnHeader--filtered"]," .").concat(YM.iconButtonContainer)]:{visibility:"visible",width:"auto"},["& .".concat(YM.columnHeader,":not(.").concat(YM["columnHeader--sorted"],") .").concat(YM.sortIcon)]:{opacity:0,transition:i.transitions.create(["opacity"],{duration:i.transitions.duration.shorter})},["& .".concat(YM.columnHeaderTitleContainer)]:{display:"flex",alignItems:"center",gap:i.spacing(.25),minWidth:0,flex:1,whiteSpace:"nowrap",overflow:"hidden"},["& .".concat(YM.columnHeaderTitleContainerContent)]:{overflow:"hidden",display:"flex",alignItems:"center"},["& .".concat(YM["columnHeader--filledGroup"]," .").concat(YM.columnHeaderTitleContainer)]:{borderBottomWidth:"1px",borderBottomStyle:"solid",boxSizing:"border-box"},["& .".concat(YM.sortIcon,", & .").concat(YM.filterIcon)]:{fontSize:"inherit"},["& .".concat(YM["columnHeader--sortable"])]:{cursor:"pointer"},["& .".concat(YM["columnHeader--alignCenter"]," .").concat(YM.columnHeaderTitleContainer)]:{justifyContent:"center"},["& .".concat(YM["columnHeader--alignRight"]," .").concat(YM.columnHeaderDraggableContainer,", & .").concat(YM["columnHeader--alignRight"]," .").concat(YM.columnHeaderTitleContainer)]:{flexDirection:"row-reverse"},["& .".concat(YM["columnHeader--alignCenter"]," .").concat(YM.menuIcon)]:{marginLeft:"auto"},["& .".concat(YM["columnHeader--alignRight"]," .").concat(YM.menuIcon)]:{marginRight:"auto",marginLeft:-5},["& .".concat(YM["columnHeader--moving"])]:{backgroundColor:(i.vars||i).palette.action.hover},["& .".concat(YM["columnHeader--pinnedLeft"],", & .").concat(YM["columnHeader--pinnedRight"])]:{position:"sticky",zIndex:4,background:"var(--DataGrid-pinnedBackground)"},["& .".concat(YM.columnSeparator)]:{position:"absolute",overflow:"hidden",zIndex:3,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",maxWidth:10,color:l},["& .".concat(YM.columnHeaders)]:{width:"var(--DataGrid-rowWidth)"},"@media (hover: hover)":{["& .".concat(YM.columnHeader,":hover")]:hL,["& .".concat(YM.columnHeader,":not(.").concat(YM["columnHeader--sorted"],"):hover .").concat(YM.sortIcon)]:{opacity:.5}},"@media (hover: none)":{["& .".concat(YM.columnHeader)]:hL,["& .".concat(YM.columnHeader,":focus,\n        & .").concat(YM["columnHeader--siblingFocused"])]:{[".".concat(YM["columnSeparator--resizable"])]:{color:(i.vars||i).palette.primary.main}}},["& .".concat(YM["columnSeparator--sideLeft"])]:{left:-5},["& .".concat(YM["columnSeparator--sideRight"])]:{right:-5},["& .".concat(YM["columnHeader--withRightBorder"]," .").concat(YM["columnSeparator--sideLeft"])]:{left:-5.5},["& .".concat(YM["columnHeader--withRightBorder"]," .").concat(YM["columnSeparator--sideRight"])]:{right:-5.5},["& .".concat(YM["columnSeparator--resizable"])]:{cursor:"col-resize",touchAction:"none",["&.".concat(YM["columnSeparator--resizing"])]:{color:(i.vars||i).palette.primary.main},"@media (hover: none)":{["& .".concat(YM.iconSeparator," rect")]:pL},"@media (hover: hover)":{"&:hover":{color:(i.vars||i).palette.primary.main,["& .".concat(YM.iconSeparator," rect")]:pL}},"& svg":{pointerEvents:"none"}},["& .".concat(YM.iconSeparator)]:{color:"inherit",transition:i.transitions.create(["color","width"],{duration:i.transitions.duration.shortest})},["& .".concat(YM.menuIcon)]:{width:0,visibility:"hidden",fontSize:20,marginRight:-5,display:"flex",alignItems:"center"},[".".concat(YM.menuOpen)]:{visibility:"visible",width:"auto"},["& .".concat(YM.headerFilterRow)]:{["& .".concat(YM.columnHeader)]:{boxSizing:"border-box",borderBottom:"1px solid var(--DataGrid-rowBorderColor)"}},["& .".concat(YM["row--borderBottom"]," .").concat(YM.columnHeader,",\n      & .").concat(YM["row--borderBottom"]," .").concat(YM.filler,",\n      & .").concat(YM["row--borderBottom"]," .").concat(YM.scrollbarFiller)]:{borderBottom:"1px solid var(--DataGrid-rowBorderColor)"},["& .".concat(YM["row--borderBottom"]," .").concat(YM.cell)]:{borderBottom:"1px solid var(--rowBorderColor)"},[".".concat(YM.row)]:{display:"flex",width:"var(--DataGrid-rowWidth)",breakInside:"avoid","--rowBorderColor":"var(--DataGrid-rowBorderColor)",["&.".concat(YM["row--firstVisible"])]:{"--rowBorderColor":"transparent"},"&:hover":{backgroundColor:(i.vars||i).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(YM.rowSkeleton,":hover")]:{backgroundColor:"transparent"},"&.Mui-selected":k},["& .".concat(YM["container--top"],", & .").concat(YM["container--bottom"])]:{"[role=row]":{background:"var(--DataGrid-containerBackground)"}},["& .".concat(YM.cell)]:{flex:"0 0 auto",height:"var(--height)",width:"var(--width)",lineHeight:"calc(var(--height) - 1px)",boxSizing:"border-box",borderTop:"1px solid var(--rowBorderColor)",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis","&.Mui-selected":k},["& .".concat(YM["virtualScrollerContent--overflowed"]," .").concat(YM["row--lastVisible"]," .").concat(YM.cell)]:{borderTopColor:"transparent"},["& .".concat(YM["pinnedRows--top"]," :first-of-type")]:{["& .".concat(YM.cell,", .").concat(YM.scrollbarFiller)]:{borderTop:"none"}},["&.".concat(YM["root--disableUserSelection"]," .").concat(YM.cell)]:{userSelect:"none"},["& .".concat(YM["row--dynamicHeight"]," > .").concat(YM.cell)]:{whiteSpace:"initial",lineHeight:"inherit"},["& .".concat(YM.cellEmpty)]:{flex:1,padding:0,height:"unset"},["& .".concat(YM.cell,".").concat(YM["cell--selectionMode"])]:{cursor:"default"},["& .".concat(YM.cell,".").concat(YM["cell--editing"])]:{padding:1,display:"flex",boxShadow:i.shadows[2],backgroundColor:(i.vars||i).palette.background.paper,"&:focus-within":{outline:"".concat(1,"px solid ").concat((i.vars||i).palette.primary.main),outlineOffset:-1}},["& .".concat(YM["row--editing"])]:{boxShadow:i.shadows[2]},["& .".concat(YM["row--editing"]," .").concat(YM.cell)]:{boxShadow:i.shadows[0],backgroundColor:(i.vars||i).palette.background.paper},["& .".concat(YM.editBooleanCell)]:{display:"flex",height:"100%",width:"100%",alignItems:"center",justifyContent:"center"},["& .".concat(YM.booleanCell,'[data-value="true"]')]:{color:(i.vars||i).palette.text.secondary},["& .".concat(YM.booleanCell,'[data-value="false"]')]:{color:(i.vars||i).palette.text.disabled},["& .".concat(YM.actionsCell)]:{display:"inline-flex",alignItems:"center",gridGap:i.spacing(1)},["& .".concat(YM.rowReorderCell)]:{display:"inline-flex",flex:1,alignItems:"center",justifyContent:"center",opacity:(i.vars||i).palette.action.disabledOpacity},["& .".concat(YM["rowReorderCell--draggable"])]:{cursor:"move",opacity:1},["& .".concat(YM.rowReorderCellContainer)]:{padding:0,display:"flex",alignItems:"stretch"},[".".concat(YM.withBorderColor)]:{borderColor:l},["& .".concat(YM["cell--withLeftBorder"],", & .").concat(YM["columnHeader--withLeftBorder"])]:{borderLeftColor:"var(--DataGrid-rowBorderColor)",borderLeftWidth:"1px",borderLeftStyle:"solid"},["& .".concat(YM["cell--withRightBorder"],", & .").concat(YM["columnHeader--withRightBorder"])]:{borderRightColor:"var(--DataGrid-rowBorderColor)",borderRightWidth:"1px",borderRightStyle:"solid"},["& .".concat(YM["cell--flex"])]:{display:"flex",alignItems:"center",lineHeight:"inherit"},["& .".concat(YM["cell--textLeft"])]:{textAlign:"left",justifyContent:"flex-start"},["& .".concat(YM["cell--textRight"])]:{textAlign:"right",justifyContent:"flex-end"},["& .".concat(YM["cell--textCenter"])]:{textAlign:"center",justifyContent:"center"},["& .".concat(YM["cell--pinnedLeft"],", & .").concat(YM["cell--pinnedRight"])]:{position:"sticky",zIndex:3,background:"var(--DataGrid-pinnedBackground)","&.Mui-selected":{backgroundColor:_}},["& .".concat(YM.virtualScrollerContent," .").concat(YM.row)]:{"&:hover":C,"&.Mui-selected":x,"&.Mui-selected:hover":S},["& .".concat(YM.cellOffsetLeft)]:{flex:"0 0 auto",display:"inline-block"},["& .".concat(YM.cellSkeleton)]:{flex:"0 0 auto",height:"100%",display:"inline-flex",alignItems:"center"},["& .".concat(YM.columnHeaderDraggableContainer)]:{display:"flex",width:"100%",height:"100%"},["& .".concat(YM.rowReorderCellPlaceholder)]:{display:"none"},["& .".concat(YM["columnHeader--dragging"],", & .").concat(YM["row--dragging"])]:{background:(i.vars||i).palette.background.paper,padding:"0 12px",borderRadius:"var(--unstable_DataGrid-radius)",opacity:(i.vars||i).palette.action.disabledOpacity},["& .".concat(YM["row--dragging"])]:{background:(i.vars||i).palette.background.paper,padding:"0 12px",borderRadius:"var(--unstable_DataGrid-radius)",opacity:(i.vars||i).palette.action.disabledOpacity,["& .".concat(YM.rowReorderCellPlaceholder)]:{display:"flex"}},["& .".concat(YM.treeDataGroupingCell)]:{display:"flex",alignItems:"center",width:"100%"},["& .".concat(YM.treeDataGroupingCellToggle)]:{flex:"0 0 28px",alignSelf:"stretch",marginRight:i.spacing(2)},["& .".concat(YM.treeDataGroupingCellLoadingContainer,", .").concat(YM.groupingCriteriaCellLoadingContainer)]:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},["& .".concat(YM.groupingCriteriaCell)]:{display:"flex",alignItems:"center",width:"100%"},["& .".concat(YM.groupingCriteriaCellToggle)]:{flex:"0 0 28px",alignSelf:"stretch",marginRight:i.spacing(2)},[".".concat(YM.scrollbarFiller)]:{minWidth:"calc(var(--DataGrid-hasScrollY) * var(--DataGrid-scrollbarSize))",alignSelf:"stretch",["&.".concat(YM["scrollbarFiller--borderTop"])]:{borderTop:"1px solid var(--DataGrid-rowBorderColor)"},["&.".concat(YM["scrollbarFiller--borderBottom"])]:{borderBottom:"1px solid var(--DataGrid-rowBorderColor)"},["&.".concat(YM["scrollbarFiller--pinnedRight"])]:{backgroundColor:"var(--DataGrid-pinnedBackground)",position:"sticky",right:0}},["& .".concat(YM.filler)]:{flex:"1 0 auto"},["& .".concat(YM["filler--borderBottom"])]:{borderBottom:"1px solid var(--DataGrid-rowBorderColor)"},["& .".concat(YM["main--hasSkeletonLoadingOverlay"])]:{["& .".concat(YM.virtualScrollerContent)]:{position:"fixed",visibility:"hidden"},["& .".concat(YM["scrollbar--vertical"],", & .").concat(YM.pinnedRows,", & .").concat(YM.virtualScroller," > .").concat(YM.filler)]:{display:"none"}}})}));function mL(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const o=(e,t)=>Math.round((e**(1/r)*(1-n)+t**(1/r)*n)**r),i=dA(e),a=dA(t);return pA({type:"rgb",values:[o(i.values[0],a.values[0]),o(i.values[1],a.values[1]),o(i.values[2],a.values[2])]})}const gL=e=>"rgb(from ".concat(e," r g b / 1)");function vL(e,t,n){return"color-mix(in srgb,".concat(e,", ").concat(gL(t)," calc(").concat(n," * 100%))")}const yL=t.createContext(void 0);const bL=()=>{const e=t.useContext(yL);if(!e)throw new Error("MUI X: useGridRootProps should only be used inside the DataGrid, DataGridPro or DataGridPremium component.");return e};var wL=Symbol("NOT_FOUND");function CL(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected a function, instead received ".concat(typeof e);if("function"!==typeof e)throw new TypeError(t)}var _L=e=>Array.isArray(e)?e:[e];function xL(e){const t=Array.isArray(e[0])?e[0]:e;return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected all items to be functions, instead received the following types: ";if(!e.every((e=>"function"===typeof e))){const n=e.map((e=>"function"===typeof e?"function ".concat(e.name||"unnamed","()"):typeof e)).join(", ");throw new TypeError("".concat(t,"[").concat(n,"]"))}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}Symbol(),Object.getPrototypeOf({});var SL=(e,t)=>e===t;function kL(e){return function(t,n){if(null===t||null===n||t.length!==n.length)return!1;const{length:r}=t;for(let o=0;o<r;o++)if(!e(t[o],n[o]))return!1;return!0}}function IL(e,t){const n="object"===typeof t?t:{equalityCheck:t},{equalityCheck:r=SL,maxSize:o=1,resultEqualityCheck:i}=n,a=kL(r);let s=0;const l=o<=1?function(e){let t;return{get:n=>t&&e(t.key,n)?t.value:wL,put(e,n){t={key:e,value:n}},getEntries:()=>t?[t]:[],clear(){t=void 0}}}(a):function(e,t){let n=[];function r(e){const r=n.findIndex((n=>t(e,n.key)));if(r>-1){const e=n[r];return r>0&&(n.splice(r,1),n.unshift(e)),e.value}return wL}return{get:r,put:function(t,o){r(t)===wL&&(n.unshift({key:t,value:o}),n.length>e&&n.pop())},getEntries:function(){return n},clear:function(){n=[]}}}(o,a);function c(){let t=l.get(arguments);if(t===wL){if(t=e.apply(null,arguments),s++,i){const e=l.getEntries().find((e=>i(e.value,t)));e&&(t=e.value,0!==s&&s--)}l.put(arguments,t)}return t}return c.clearCache=()=>{l.clear(),c.resetResultsCount()},c.resultsCount=()=>s,c.resetResultsCount=()=>{s=0},c}var EL="undefined"!==typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}};function TL(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={s:0,v:void 0,o:null,p:null};const{resultEqualityCheck:r}=t;let o,i=0;function a(){let t=n;const{length:a}=arguments;for(let e=0,n=a;e<n;e++){const n=arguments[e];if("function"===typeof n||"object"===typeof n&&null!==n){let e=t.o;null===e&&(t.o=e=new WeakMap);const r=e.get(n);void 0===r?(t={s:0,v:void 0,o:null,p:null},e.set(n,t)):t=r}else{let e=t.p;null===e&&(t.p=e=new Map);const r=e.get(n);void 0===r?(t={s:0,v:void 0,o:null,p:null},e.set(n,t)):t=r}}const s=t;let l;if(1===t.s)l=t.v;else if(l=e.apply(null,arguments),i++,r){var c,u,d;const e=null!==(c=null===(u=o)||void 0===u||null===(d=u.deref)||void 0===d?void 0:d.call(u))&&void 0!==c?c:o;null!=e&&r(e,l)&&(l=e,0!==i&&i--);o="object"===typeof l&&null!==l||"function"===typeof l?new EL(l):l}return s.s=1,s.v=l,l}return a.clearCache=()=>{n={s:0,v:void 0,o:null,p:null},a.resetResultsCount()},a.resultsCount=()=>i,a.resetResultsCount=()=>{i=0},a}function RL(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const o="function"===typeof e?{memoize:e,memoizeOptions:n}:e,i=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let r,i=0,a=0,s={},l=t.pop();"object"===typeof l&&(s=l,l=t.pop()),CL(l,"createSelector expects an output function after the inputs, but received: [".concat(typeof l,"]"));const c=d(d({},o),s),{memoize:u,memoizeOptions:h=[],argsMemoize:p=TL,argsMemoizeOptions:f=[],devModeChecks:m={}}=c,g=_L(h),v=_L(f),y=xL(t),b=u((function(){return i++,l.apply(null,arguments)}),...g);const w=p((function(){a++;const e=function(e,t){const n=[],{length:r}=e;for(let o=0;o<r;o++)n.push(e[o].apply(null,t));return n}(y,arguments);return r=b.apply(null,e),r}),...v);return Object.assign(w,{resultFunc:l,memoizedResultFunc:b,dependencies:y,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>r,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:u,argsMemoize:p})};return Object.assign(i,{withTypes:()=>i}),i}var PL=RL(TL),AL=Object.assign((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:PL;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected an object, instead received ".concat(typeof e);if("object"!==typeof e)throw new TypeError(t)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ".concat(typeof e));const n=Object.keys(e),r=t(n.map((t=>e[t])),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(((e,t,r)=>(e[n[r]]=t,e)),{})}));return r}),{withTypes:()=>AL});const DL=RL({memoize:IL,memoizeOptions:{maxSize:1,equalityCheck:Object.is}}),OL=new WeakMap;function NL(e){return"current"in e&&"instanceId"in e.current}const ML={id:"default"},LL=function(e,t,n,r,o,i){if((arguments.length<=6?0:arguments.length-6)>0)throw new Error("Unsupported number of selectors");let a;if(e&&t&&n&&r&&o&&i)a=(a,s)=>{const l=NL(a),c=null!==s&&void 0!==s?s:l?a.current.instanceId:ML,u=l?a.current.state:a,d=e(u,c),h=t(u,c),p=n(u,c),f=r(u,c),m=o(u,c);return i(d,h,p,f,m)};else if(e&&t&&n&&r&&o)a=(i,a)=>{const s=NL(i),l=null!==a&&void 0!==a?a:s?i.current.instanceId:ML,c=s?i.current.state:i,u=e(c,l),d=t(c,l),h=n(c,l),p=r(c,l);return o(u,d,h,p)};else if(e&&t&&n&&r)a=(o,i)=>{const a=NL(o),s=null!==i&&void 0!==i?i:a?o.current.instanceId:ML,l=a?o.current.state:o,c=e(l,s),u=t(l,s),d=n(l,s);return r(c,u,d)};else if(e&&t&&n)a=(r,o)=>{const i=NL(r),a=null!==o&&void 0!==o?o:i?r.current.instanceId:ML,s=i?r.current.state:r,l=e(s,a),c=t(s,a);return n(l,c)};else{if(!e||!t)throw new Error("Missing arguments");a=(n,r)=>{const o=NL(n),i=null!==r&&void 0!==r?r:o?n.current.instanceId:ML,a=o?n.current.state:n,s=e(a,i);return t(s)}}return a.acceptsApiRef=!0,a},FL=function(e,t,n,r,o,i){if((arguments.length<=6?0:arguments.length-6)>0)throw new Error("Unsupported number of selectors");let a;if(e&&t&&n&&r&&o&&i)a=(a,s,l)=>{const c=NL(a),u=null!==l&&void 0!==l?l:c?a.current.instanceId:ML,d=c?a.current.state:a,h=e(d,s,u),p=t(d,s,u),f=n(d,s,u),m=r(d,s,u),g=o(d,s,u);return i(h,p,f,m,g,s)};else if(e&&t&&n&&r&&o)a=(i,a,s)=>{const l=NL(i),c=null!==s&&void 0!==s?s:l?i.current.instanceId:ML,u=l?i.current.state:i,d=e(u,a,c),h=t(u,a,c),p=n(u,a,c),f=r(u,a,c);return o(d,h,p,f,a)};else if(e&&t&&n&&r)a=(o,i,a)=>{const s=NL(o),l=null!==a&&void 0!==a?a:s?o.current.instanceId:ML,c=s?o.current.state:o,u=e(c,i,l),d=t(c,i,l),h=n(c,i,l);return r(u,d,h,i)};else if(e&&t&&n)a=(r,o,i)=>{const a=NL(r),s=null!==i&&void 0!==i?i:a?r.current.instanceId:ML,l=a?r.current.state:r,c=e(l,o,s),u=t(l,o,s);return n(c,u,o)};else{if(!e||!t)throw new Error("Missing arguments");a=(n,r,o)=>{const i=NL(n),a=null!==o&&void 0!==o?o:i?n.current.instanceId:ML,s=i?n.current.state:n,l=e(s,r,a);return t(l,r)}}return a.acceptsApiRef=!0,a},BL=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=(e,n)=>{const r=NL(e),o=r?e.current.instanceId:null!==n&&void 0!==n?n:ML,i=r?e.current.state:e;const a=OL.get(o),s=null!==a&&void 0!==a?a:new Map,l=null===s||void 0===s?void 0:s.get(t);if(s&&l)return l(i,o);const c=DL(...t);return a||OL.set(o,s),s.set(t,c),c(i,o)};return r.acceptsApiRef=!0,r},jL={compact:.7,comfortable:1.3,standard:1},zL=e=>e.density,VL=LL(zL,(e=>jL[e]));let UL=function(e){return e.LEFT="left",e.RIGHT="right",e}({});const HL={left:[],right:[]},qL=e=>e.columns,WL=LL(qL,(e=>e.orderedFields)),GL=LL(qL,(e=>e.lookup)),KL=BL(WL,GL,((e,t)=>e.map((e=>t[e])))),QL=LL(qL,(e=>e.columnVisibilityModel)),YL=BL(KL,QL,((e,t)=>e.filter((e=>!1!==t[e.field])))),XL=BL(YL,(e=>e.map((e=>e.field)))),$L=BL(qL,(e=>e.pinnedColumns),XL,(e=>e.isRtl),((e,t,n,r)=>{const o=function(e,t,n){var r,o;if(!Array.isArray(e.left)&&!Array.isArray(e.right))return HL;if(0===(null===(r=e.left)||void 0===r?void 0:r.length)&&0===(null===(o=e.right)||void 0===o?void 0:o.length))return HL;const i=(e,t)=>Array.isArray(e)?e.filter((e=>t.includes(e))):[],a=i(e.left,t),s=t.filter((e=>!a.includes(e))),l=i(e.right,s);if(n)return{left:l,right:a};return{left:a,right:l}}(t,n,r);return{left:o.left.map((t=>e.lookup[t])),right:o.right.map((t=>e.lookup[t]))}}));const JL=BL(YL,(e=>{const t=[];let n=0;for(let r=0;r<e.length;r+=1)t.push(n),n+=e[r].computedWidth;return t})),ZL=LL(YL,JL,((e,t)=>{const n=e.length;return 0===n?0:t[n-1]+e[n-1].computedWidth})),eF=BL(KL,(e=>e.filter((e=>e.filterable)))),tF=BL(KL,(e=>e.reduce(((e,t)=>(t.filterable&&(e[t.field]=t),e)),{}))),nF=BL(KL,(e=>e.some((e=>void 0!==e.colSpan)))),rF=e=>e.preferencePanel,oF=FL(rF,((e,t)=>!(!e.open||e.labelId!==t)));var iF=function(e){return e.filters="filters",e.columns="columns",e}(iF||{});const aF=t.createContext(void 0);function sF(){const e=t.useContext(aF);if(void 0===e)throw new Error(["MUI X: Could not find the Data Grid context.","It looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.","This can also happen if you are bundling multiple versions of the Data Grid."].join("\n"));return e}function lF(){var e,t,n;const r=sF(),o=sL(r,KL),i=bL(),a=sL(r,rF),s=r.current.unstable_applyPipeProcessors("preferencePanel",null,null!==(e=a.openedPanelValue)&&void 0!==e?e:iF.filters);return(0,UP.jsx)(i.slots.panel,KP({as:i.slots.basePopper,open:o.length>0&&a.open,id:a.panelId,"aria-labelledby":a.labelId},null===(t=i.slotProps)||void 0===t?void 0:t.panel,null===(n=i.slotProps)||void 0===n?void 0:n.basePopper,{children:s}))}function cF(){var e;const n=bL();return(0,UP.jsxs)(t.Fragment,{children:[(0,UP.jsx)(lF,{}),n.slots.toolbar&&(0,UP.jsx)(n.slots.toolbar,KP({},null===(e=n.slotProps)||void 0===e?void 0:e.toolbar))]})}const uF=PN();const dF=function(e){const n=t.useRef(e);return iA((()=>{n.current=e})),t.useRef((function(){return(0,n.current)(...arguments)})).current};class hF{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;this.timeouts=new Map,this.cleanupTimeout=1e3,this.cleanupTimeout=e}register(e,t,n){this.timeouts||(this.timeouts=new Map);const r=setTimeout((()=>{"function"===typeof t&&t(),this.timeouts.delete(n.cleanupToken)}),this.cleanupTimeout);this.timeouts.set(n.cleanupToken,r)}unregister(e){const t=this.timeouts.get(e.cleanupToken);t&&(this.timeouts.delete(e.cleanupToken),clearTimeout(t))}reset(){this.timeouts&&(this.timeouts.forEach(((e,t)=>{this.unregister({cleanupToken:t})})),this.timeouts=void 0)}}class pF{constructor(){this.registry=new FinalizationRegistry((e=>{"function"===typeof e&&e()}))}register(e,t,n){this.registry.register(e,t,n)}unregister(e){this.registry.unregister(e)}reset(){}}var fF=function(e){return e.DataGrid="DataGrid",e.DataGridPro="DataGridPro",e.DataGridPremium="DataGridPremium",e}(fF||{});class mF{}const gF={registry:null},vF=function(e){let n=0;return function(r,o,i,a){null===e.registry&&(e.registry="undefined"!==typeof FinalizationRegistry?new pF:new hF);const[s]=t.useState(new mF),l=t.useRef(null),c=t.useRef(null);c.current=i;const u=t.useRef(null);if(!l.current&&c.current){const t=(e,t,n)=>{var r;t.defaultMuiPrevented||(null===(r=c.current)||void 0===r||r.call(c,e,t,n))};l.current=r.current.subscribeEvent(o,t,a),n+=1,u.current={cleanupToken:n},e.registry.register(s,(()=>{var e;null===(e=l.current)||void 0===e||e.call(l),l.current=null,u.current=null}),u.current)}else!c.current&&l.current&&(l.current(),l.current=null,u.current&&(e.registry.unregister(u.current),u.current=null));t.useEffect((()=>{if(!l.current&&c.current){const e=(e,t,n)=>{var r;t.defaultMuiPrevented||(null===(r=c.current)||void 0===r||r.call(c,e,t,n))};l.current=r.current.subscribeEvent(o,e,a)}return u.current&&e.registry&&(e.registry.unregister(u.current),u.current=null),()=>{var e;null===(e=l.current)||void 0===e||e.call(l),l.current=null}}),[r,o,a])}}(gF),yF={isFirst:!0};function bF(e,t,n){vF(e,t,n,yF)}class wF{constructor(){c(this,"currentId",null),c(this,"clear",(()=>{null!==this.currentId&&(clearTimeout(this.currentId),this.currentId=null)})),c(this,"disposeEffect",(()=>this.clear))}static create(){return new wF}start(e,t){this.clear(),this.currentId=setTimeout((()=>{this.currentId=null,t()}),e)}}function CF(){const e=$M(wF.create).current;return ZM(e.disposeEffect),e}function _F(e,t){const n=d({},t);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const o=r;if("components"===o||"slots"===o)n[o]=d(d({},e[o]),n[o]);else if("componentsProps"===o||"slotProps"===o){const r=e[o],i=t[o];if(i)if(r){n[o]=d({},i);for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e)){const t=e;n[o][t]=_F(r[t],i[t])}}else n[o]=i;else n[o]=r||{}}else void 0===n[o]&&(n[o]=e[o])}return n}function xF(e){return e&&e.ownerDocument||document}function SF(e){return xF(e).defaultView||window}function kF(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];clearTimeout(t),t=setTimeout((()=>{e.apply(this,o)}),n)}return r.clear=()=>{clearTimeout(t)},r}const IF=["onChange","maxRows","minRows","style","value"];function EF(e){return parseInt(e,10)||0}const TF={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};const RF=t.forwardRef((function(e,n){const{onChange:r,maxRows:o,minRows:i=1,style:s,value:l}=e,c=a(e,IF),{current:u}=t.useRef(null!=l),h=t.useRef(null),p=oA(n,h),f=t.useRef(null),m=t.useRef(null),g=t.useCallback((()=>{const t=h.current,n=m.current;if(!t||!n)return;const r=SF(t).getComputedStyle(t);if("0px"===r.width)return{outerHeightStyle:0,overflowing:!1};n.style.width=r.width,n.value=t.value||e.placeholder||"x","\n"===n.value.slice(-1)&&(n.value+=" ");const a=r.boxSizing,s=EF(r.paddingBottom)+EF(r.paddingTop),l=EF(r.borderBottomWidth)+EF(r.borderTopWidth),c=n.scrollHeight;n.value="x";const u=n.scrollHeight;let d=c;i&&(d=Math.max(Number(i)*u,d)),o&&(d=Math.min(Number(o)*u,d)),d=Math.max(d,u);return{outerHeightStyle:d+("border-box"===a?s+l:0),overflowing:Math.abs(d-c)<=1}}),[o,i,e.placeholder]),v=t.useCallback((()=>{const e=h.current,t=g();if(!e||!t||(function(e){for(const t in e)return!1;return!0}(n=t)||0===n.outerHeightStyle&&!n.overflowing))return;var n;const r=t.outerHeightStyle;f.current!==r&&(f.current=r,e.style.height="".concat(r,"px")),e.style.overflow=t.overflowing?"hidden":""}),[g]),y=t.useRef(-1);iA((()=>{const e=kF((()=>v())),t=null===h||void 0===h?void 0:h.current;if(!t)return;const n=SF(t);let r;return n.addEventListener("resize",e),"undefined"!==typeof ResizeObserver&&(r=new ResizeObserver((()=>{r.unobserve(t),cancelAnimationFrame(y.current),v(),y.current=requestAnimationFrame((()=>{r.observe(t)}))})),r.observe(t)),()=>{e.clear(),cancelAnimationFrame(y.current),n.removeEventListener("resize",e),r&&r.disconnect()}}),[g,v]),iA((()=>{v()}));return(0,UP.jsxs)(t.Fragment,{children:[(0,UP.jsx)("textarea",d({value:l,onChange:e=>{u||v(),r&&r(e)},ref:p,rows:i,style:s},c)),(0,UP.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:m,tabIndex:-1,style:d(d(d({},TF),s),{},{paddingTop:0,paddingBottom:0})})]})})),PF=RF;const AF=function(e){return"string"===typeof e};function DF(e){let{props:t,states:n,muiFormControl:r}=e;return n.reduce(((e,n)=>(e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e)),{})}const OF=t.createContext(void 0);function NF(){return t.useContext(OF)}const MF=["sx"];function LF(e){const{sx:t}=e,n=a(e,MF),{systemProps:r,otherProps:o}=(e=>{var t,n;const r={systemProps:{},otherProps:{}},o=null!==(t=null===e||void 0===e||null===(n=e.theme)||void 0===n?void 0:n.unstable_sxConfig)&&void 0!==t?t:mN;return Object.keys(e).forEach((t=>{o[t]?r.systemProps[t]=e[t]:r.otherProps[t]=e[t]})),r})(n);let i;return i=Array.isArray(t)?[r,...t]:"function"===typeof t?function(){const e=t(...arguments);return cO(e)?d(d({},r),e):r}:d(d({},r),t),d(d({},o),{},{sx:i})}n(219);var FF=function(e,n){var r=arguments;if(null==n||!KD.call(n,"css"))return t.createElement.apply(void 0,r);var o=r.length,i=new Array(o);i[0]=$D,i[1]=function(e,t){var n={};for(var r in t)KD.call(t,r)&&(n[r]=t[r]);return n[QD]=e,n}(e,n);for(var a=2;a<o;a++)i[a]=r[a];return t.createElement.apply(null,i)};!function(e){var t;t||(t=e.JSX||(e.JSX={}))}(FF||(FF={}));var BF=WD((function(e,n){var r=zD([e.styles],void 0,t.useContext(GD)),o=t.useRef();return HD((function(){var e=n.key+"-global",t=new n.sheet.constructor({key:e,nonce:n.sheet.nonce,container:n.sheet.container,speedy:n.sheet.isSpeedy}),i=!1,a=document.querySelector('style[data-emotion="'+e+" "+r.name+'"]');return n.sheet.tags.length&&(t.before=n.sheet.tags[0]),null!==a&&(i=!0,a.setAttribute("data-emotion",e),t.hydrate([a])),o.current=[t,i],function(){t.flush()}}),[n]),HD((function(){var e=o.current,t=e[0];if(e[1])e[1]=!1;else{if(void 0!==r.next&&TD(n,r.next,!0),t.tags.length){var i=t.tags[t.tags.length-1].nextElementSibling;t.before=i,t.flush()}n.insert("",r,t,!1)}}),[n,r.name]),null}));function jF(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return zD(t)}function zF(){var e=jF.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function VF(e){const{styles:t,defaultTheme:n={}}=e,r="function"===typeof t?e=>{return t(void 0===(r=e)||null===r||0===Object.keys(r).length?n:e);var r}:t;return(0,UP.jsx)(BF,{styles:r})}const UF=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const n=t.useContext(GD);return n&&(r=n,0!==Object.keys(r).length)?n:e;var r},HF=wN();const qF=function(){return UF(arguments.length>0&&void 0!==arguments[0]?arguments[0]:HF)};const WF=function(e){let{styles:t,themeId:n,defaultTheme:r={}}=e;const o=qF(r),i="function"===typeof t?t(n&&o[n]||o):t;return(0,UP.jsx)(VF,{styles:i})};const GF=function(e){return(0,UP.jsx)(WF,d(d({},e),{},{defaultTheme:BM,themeId:jM}))};const KF={theme:void 0};const QF=function(e){let t,n;return function(r){let o=t;return void 0!==o&&r.theme===n||(KF.theme=r.theme,o=_N(e(KF)),t=o,n=r.theme),o}},YF=t.createContext(void 0);function XF(e){let{props:n,name:r}=e;return function(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const o=t.components[n];return o.defaultProps?_F(o.defaultProps,r):o.styleOverrides||o.variants?r:_F(o,r)}({props:n,name:r,theme:{components:t.useContext(YF)}})}function $F(e){return XF(e)}const JF=tA,ZF=oA,eB=iA;function tB(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function nB(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(tB(e.value)&&""!==e.value||t&&tB(e.defaultValue)&&""!==e.defaultValue)}function rB(e){return GM("MuiInputBase",e)}const oB=KM("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),iB=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"];var aB;const sB=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t["color".concat(JF(n.color))],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},lB=(e,t)=>{const{ownerState:n}=e;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},cB=UM("div",{name:"MuiInputBase",slot:"Root",overridesResolver:sB})(QF((e=>{let{theme:t}=e;return d(d({},t.typography.body1),{},{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",["&.".concat(oB.disabled)]:{color:(t.vars||t).palette.text.disabled,cursor:"default"},variants:[{props:e=>{let{ownerState:t}=e;return t.multiline},style:{padding:"4px 0 5px"}},{props:e=>{let{ownerState:t,size:n}=e;return t.multiline&&"small"===n},style:{paddingTop:1}},{props:e=>{let{ownerState:t}=e;return t.fullWidth},style:{width:"100%"}}]})}))),uB=UM("input",{name:"MuiInputBase",slot:"Input",overridesResolver:lB})(QF((e=>{let{theme:t}=e;const n="light"===t.palette.mode,r=d(d({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5}),{},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),o={opacity:"0 !important"},i=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},["label[data-shrink=false] + .".concat(oB.formControl," &")]:{"&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&::-ms-input-placeholder":o,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus::-ms-input-placeholder":i},["&.".concat(oB.disabled)]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},variants:[{props:e=>{let{ownerState:t}=e;return!t.disableInjectingGlobalStyles},style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:e=>{let{ownerState:t}=e;return t.multiline},style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}}))),dB=function(e){return function(t){return(0,UP.jsx)(GF,{styles:"function"===typeof e?n=>e(d({theme:n},t)):e})}}({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),hB=t.forwardRef((function(e,n){var r;const o=$F({props:e,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:s,autoFocus:l,className:c,color:u,components:h={},componentsProps:p={},defaultValue:f,disabled:m,disableInjectingGlobalStyles:g,endAdornment:v,error:y,fullWidth:b=!1,id:w,inputComponent:C="input",inputProps:_={},inputRef:x,margin:S,maxRows:k,minRows:I,multiline:E=!1,name:T,onBlur:R,onChange:P,onClick:A,onFocus:D,onKeyDown:O,onKeyUp:N,placeholder:M,readOnly:L,renderSuffix:F,rows:B,size:j,slotProps:z={},slots:V={},startAdornment:U,type:H="text",value:q}=o,W=a(o,iB),G=null!=_.value?_.value:q,{current:K}=t.useRef(null!=G),Q=t.useRef(),Y=t.useCallback((e=>{0}),[]),X=ZF(Q,x,_.ref,Y),[$,J]=t.useState(!1),Z=NF();const ee=DF({props:o,muiFormControl:Z,states:["color","disabled","error","hiddenLabel","size","required","filled"]});ee.focused=Z?Z.focused:$,t.useEffect((()=>{!Z&&m&&$&&(J(!1),R&&R())}),[Z,m,$,R]);const te=Z&&Z.onFilled,ne=Z&&Z.onEmpty,re=t.useCallback((e=>{nB(e)?te&&te():ne&&ne()}),[te,ne]);eB((()=>{K&&re({value:G})}),[G,re,K]);t.useEffect((()=>{re(Q.current)}),[]);let oe=C,ie=_;E&&"input"===oe&&(ie=d(B?{type:void 0,minRows:B,maxRows:B}:{type:void 0,maxRows:k,minRows:I},ie),oe=PF);t.useEffect((()=>{Z&&Z.setAdornedStart(Boolean(U))}),[Z,U]);const ae=d(d({},o),{},{color:ee.color||"primary",disabled:ee.disabled,endAdornment:v,error:ee.error,focused:ee.focused,formControl:Z,fullWidth:b,hiddenLabel:ee.hiddenLabel,multiline:E,size:ee.size,startAdornment:U,type:H}),se=(e=>{const{classes:t,color:n,disabled:r,error:o,endAdornment:i,focused:a,formControl:s,fullWidth:l,hiddenLabel:c,multiline:u,readOnly:d,size:h,startAdornment:p,type:f}=e;return nA({root:["root","color".concat(JF(n)),r&&"disabled",o&&"error",l&&"fullWidth",a&&"focused",s&&"formControl",h&&"medium"!==h&&"size".concat(JF(h)),u&&"multiline",p&&"adornedStart",i&&"adornedEnd",c&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled","search"===f&&"inputTypeSearch",u&&"inputMultiline","small"===h&&"inputSizeSmall",c&&"inputHiddenLabel",p&&"inputAdornedStart",i&&"inputAdornedEnd",d&&"readOnly"]},rB,t)})(ae),le=V.root||h.Root||cB,ce=z.root||p.root||{},ue=V.input||h.Input||uB;return ie=d(d({},ie),null!==(r=z.input)&&void 0!==r?r:p.input),(0,UP.jsxs)(t.Fragment,{children:[!g&&"function"===typeof dB&&(aB||(aB=(0,UP.jsx)(dB,{}))),(0,UP.jsxs)(le,d(d(d(d({},ce),{},{ref:n,onClick:e=>{Q.current&&e.currentTarget===e.target&&Q.current.focus(),A&&A(e)}},W),!AF(le)&&{ownerState:d(d({},ae),ce.ownerState)}),{},{className:ZP(se.root,ce.className,c,L&&"MuiInputBase-readOnly"),children:[U,(0,UP.jsx)(OF.Provider,{value:null,children:(0,UP.jsx)(ue,d(d(d({"aria-invalid":ee.error,"aria-describedby":i,autoComplete:s,autoFocus:l,defaultValue:f,disabled:ee.disabled,id:w,onAnimationStart:e=>{re("mui-auto-fill-cancel"===e.animationName?Q.current:{value:"x"})},name:T,placeholder:M,readOnly:L,required:ee.required,rows:B,value:G,onKeyDown:O,onKeyUp:N,type:H},ie),!AF(ue)&&{as:oe,ownerState:d(d({},ae),ie.ownerState)}),{},{ref:X,className:ZP(se.input,ie.className,L&&"MuiInputBase-readOnly"),onBlur:e=>{R&&R(e),_.onBlur&&_.onBlur(e),Z&&Z.onBlur?Z.onBlur(e):J(!1)},onChange:function(e){if(!K){const t=e.target||Q.current;if(null==t)throw new Error(eA(1));re({value:t.value})}for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];_.onChange&&_.onChange(e,...n),P&&P(e,...n)},onFocus:e=>{D&&D(e),_.onFocus&&_.onFocus(e),Z&&Z.onFocus?Z.onFocus(e):J(!0)}}))}),v,F?F(d(d({},ee),{},{startAdornment:U})):null]}))]})})),pB=hB,fB=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","hasFocus","isValidating","debounceMs","isProcessingProps","onValueChange"],mB=UM(pB,{name:"MuiDataGrid",slot:"EditInputCell",overridesResolver:(e,t)=>t.editInputCell})((e=>{let{theme:t}=e;return KP({},t.typography.body2,{padding:"1px 0","& input":{padding:"0 16px",height:"100%"}})})),gB=$P(((e,n)=>{const r=bL(),{id:o,value:a,field:s,colDef:l,hasFocus:c,debounceMs:u=200,isProcessingProps:d,onValueChange:h}=e,p=i(e,fB),f=sF(),m=t.useRef(null),[g,v]=t.useState(a),y=(e=>{const{classes:t}=e;return nA({root:["editInputCell"]},QM,t)})(r),b=t.useCallback((async e=>{const t=e.target.value;h&&await h(e,t);const n=f.current.getColumn(s);let r=t;n.valueParser&&(r=n.valueParser(t,f.current.getRow(o),n,f)),v(r),f.current.setEditCellValue({id:o,field:s,value:r,debounceMs:u,unstable_skipValueParser:!0},e)}),[f,u,s,o,h]),w=f.current.unstable_getEditCellMeta(o,s);return t.useEffect((()=>{"debouncedSetEditCellValue"!==(null===w||void 0===w?void 0:w.changeReason)&&v(a)}),[w,a]),iA((()=>{c&&m.current.focus()}),[c]),(0,UP.jsx)(mB,KP({inputRef:m,className:y.root,ownerState:r,fullWidth:!0,type:"number"===l.type?l.type:"text",value:null!==g&&void 0!==g?g:"",onChange:b,endAdornment:d?(0,UP.jsx)(r.slots.loadIcon,{fontSize:"small",color:"action"}):void 0},p,{ref:n}))})),vB=(e,t)=>t&&e.length>1?[e[0]]:e,yB=(e,t)=>n=>KP({},n,{sorting:KP({},n.sorting,{sortModel:vB(e,t)})}),bB=(e,t)=>{const n=e.indexOf(t);return t&&-1!==n&&n+1!==e.length?e[n+1]:e[0]},wB=(e,t)=>null==e&&null!=t?-1:null==t&&null!=e?1:null==e&&null==t?0:null,CB=new Intl.Collator,_B=(e,t)=>{const n=wB(e,t);return null!==n?n:Number(e)-Number(t)},xB=(e,t)=>{const n=wB(e,t);return null!==n?n:e>t?1:e<t?-1:0};let SB=0;const kB=d({},r).useId;function IB(e){if(void 0!==kB){const t=kB();return null!==e&&void 0!==e?e:t}return function(e){const[n,r]=t.useState(e),o=e||n;return t.useEffect((()=>{null==n&&(SB+=1,r("mui-".concat(SB)))}),[n]),o}(e)}const EB=["item","applyValue","type","apiRef","focusElementRef","tabIndex","disabled","isFilterActive","clearButton","InputProps","variant"];function TB(e){var n;const{item:r,applyValue:o,type:a,apiRef:s,focusElementRef:l,tabIndex:c,disabled:u,clearButton:d,InputProps:h,variant:p="standard"}=e,f=i(e,EB),m=CF(),[g,v]=t.useState(RB(r.value)),[y,b]=t.useState(!1),w=IB(),C=bL(),_=t.useCallback((e=>{const t=RB(e.target.value);v(t),b(!0),m.start(C.filterDebounceMs,(()=>{const e=KP({},r,{value:"number"!==a||Number.isNaN(Number(t))?t:Number(t),fromInput:w});o(e),b(!1)}))}),[m,C.filterDebounceMs,r,a,w,o]);return t.useEffect((()=>{r.fromInput===w&&null!=r.value||v(RB(r.value))}),[w,r]),(0,UP.jsx)(C.slots.baseTextField,KP({id:w,label:s.current.getLocaleText("filterPanelInputLabel"),placeholder:s.current.getLocaleText("filterPanelInputPlaceholder"),value:null!==g&&void 0!==g?g:"",onChange:_,variant:p,type:a||"text",InputProps:KP({},y||d?{endAdornment:y?(0,UP.jsx)(C.slots.loadIcon,{fontSize:"small",color:"action"}):d}:{},{disabled:u},h,{inputProps:KP({tabIndex:c},null===h||void 0===h?void 0:h.inputProps)}),InputLabelProps:{shrink:!0},inputRef:l},f,null===(n=C.slotProps)||void 0===n?void 0:n.baseTextField))}function RB(e){if(null!=e&&""!==e)return String(e)}function PB(e){return"function"===typeof e}function AB(e){return"object"===typeof e&&null!==e}function DB(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}const OB=(e,t,n)=>Math.max(t,Math.min(n,e));function NB(e,t){return Array.from({length:t-e}).map(((t,n)=>e+n))}function MB(e,t){if(e===t)return!0;if(e&&t&&"object"===typeof e&&"object"===typeof t){if(e.constructor!==t.constructor)return!1;if(Array.isArray(e)){const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r+=1)if(!MB(e[r],t[r]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;const n=Array.from(e.entries());for(let e=0;e<n.length;e+=1)if(!t.has(n[e][0]))return!1;for(let e=0;e<n.length;e+=1){const r=n[e];if(!MB(r[1],t.get(r[0])))return!1}return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;const n=Array.from(e.entries());for(let e=0;e<n.length;e+=1)if(!t.has(n[e][0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r+=1)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();const n=Object.keys(e),r=n.length;if(r!==Object.keys(t).length)return!1;for(let e=0;e<r;e+=1)if(!Object.prototype.hasOwnProperty.call(t,n[e]))return!1;for(let o=0;o<r;o+=1){const r=n[o];if(!MB(e[r],t[r]))return!1}return!0}return e!==e&&t!==t}function LB(e){return"function"===typeof structuredClone?structuredClone(e):JSON.parse(JSON.stringify(e))}const FB=(e,t)=>n=>{e&&t(n)};function BB(e){let{controlled:n,default:r,name:o,state:i="value"}=e;const{current:a}=t.useRef(void 0!==n),[s,l]=t.useState(r);return[a?n:s,t.useCallback((e=>{a||l(e)}),[])]}const jB=e=>{const n=t.useRef({});return t.useEffect((()=>{n.current=e})),n.current};function zB(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function VB(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{ignoreAccents:t=!0,ignoreCase:n=!0,limit:r,matchFrom:o="any",stringify:i,trim:a=!1}=e;return(e,s)=>{let{inputValue:l,getOptionLabel:c}=s,u=a?l.trim():l;n&&(u=u.toLowerCase()),t&&(u=zB(u));const d=u?e.filter((e=>{let r=(i||c)(e);return n&&(r=r.toLowerCase()),t&&(r=zB(r)),"start"===o?r.startsWith(u):r.includes(u)})):e;return"number"===typeof r?d.slice(0,r):d}}const UB=VB(),HB=e=>{var t;return null!==e.current&&(null===(t=e.current.parentElement)||void 0===t?void 0:t.contains(document.activeElement))},qB=[];function WB(e,t,n){if(t||null==e)return"";const r=n(e);return"string"===typeof r?r:""}const GB=function(e){const{unstable_isActiveElementInListbox:n=HB,unstable_classNamePrefix:r="Mui",autoComplete:o=!1,autoHighlight:i=!1,autoSelect:a=!1,blurOnSelect:s=!1,clearOnBlur:l=!e.freeSolo,clearOnEscape:c=!1,componentName:u="useAutocomplete",defaultValue:h=(e.multiple?qB:null),disableClearable:p=!1,disableCloseOnSelect:f=!1,disabled:m,disabledItemsFocusable:g=!1,disableListWrap:v=!1,filterOptions:y=UB,filterSelectedOptions:b=!1,freeSolo:w=!1,getOptionDisabled:C,getOptionKey:_,getOptionLabel:x=e=>{var t;return null!==(t=e.label)&&void 0!==t?t:e},groupBy:S,handleHomeEndKeys:k=!e.freeSolo,id:I,includeInputInList:E=!1,inputValue:T,isOptionEqualToValue:R=(e,t)=>e===t,multiple:P=!1,onChange:A,onClose:D,onHighlightChange:O,onInputChange:N,onOpen:M,open:L,openOnFocus:F=!1,options:B,readOnly:j=!1,selectOnFocus:z=!e.freeSolo,value:V}=e,U=IB(I);let H=x;H=e=>{const t=x(e);return"string"!==typeof t?String(t):t};const q=t.useRef(!1),W=t.useRef(!0),G=t.useRef(null),K=t.useRef(null),[Q,Y]=t.useState(null),[X,$]=t.useState(-1),J=i?0:-1,Z=t.useRef(J),ee=t.useRef(WB(h,P,H)).current,[te,ne]=BB({controlled:V,default:h,name:u}),[re,oe]=BB({controlled:T,default:ee,name:u,state:"inputValue"}),[ie,ae]=t.useState(!1),se=t.useCallback(((e,t,n)=>{if(!(P?te.length<t.length:null!==t)&&!l)return;const r=WB(t,P,H);re!==r&&(oe(r),N&&N(e,r,n))}),[H,re,P,N,oe,l,te]),[le,ce]=BB({controlled:L,default:!1,name:u,state:"open"}),[ue,de]=t.useState(!0),he=!P&&null!=te&&re===H(te),pe=le&&!j,fe=pe?y(B.filter((e=>!b||!(P?te:[te]).some((t=>null!==t&&R(e,t))))),{inputValue:he&&ue?"":re,getOptionLabel:H}):[],me=jB({filteredOptions:fe,value:te,inputValue:re});t.useEffect((()=>{const e=te!==me.value;ie&&!e||w&&!e||se(null,te,"reset")}),[te,se,ie,me.value,w]);const ge=le&&fe.length>0&&!j,ve=dF((e=>{-1===e?G.current.focus():Q.querySelector('[data-tag-index="'.concat(e,'"]')).focus()}));t.useEffect((()=>{P&&X>te.length-1&&($(-1),ve(-1))}),[te,P,X,ve]);const ye=dF((e=>{let{event:t,index:n,reason:o="auto"}=e;if(Z.current=n,-1===n?G.current.removeAttribute("aria-activedescendant"):G.current.setAttribute("aria-activedescendant","".concat(U,"-option-").concat(n)),O&&O(t,-1===n?null:fe[n],o),!K.current)return;const i=K.current.querySelector('[role="option"].'.concat(r,"-focused"));i&&(i.classList.remove("".concat(r,"-focused")),i.classList.remove("".concat(r,"-focusVisible")));let a=K.current;if("listbox"!==K.current.getAttribute("role")&&(a=K.current.parentElement.querySelector('[role="listbox"]')),!a)return;if(-1===n)return void(a.scrollTop=0);const s=K.current.querySelector('[data-option-index="'.concat(n,'"]'));if(s&&(s.classList.add("".concat(r,"-focused")),"keyboard"===o&&s.classList.add("".concat(r,"-focusVisible")),a.scrollHeight>a.clientHeight&&"mouse"!==o&&"touch"!==o)){const e=s,t=a.clientHeight+a.scrollTop,n=e.offsetTop+e.offsetHeight;n>t?a.scrollTop=n-a.clientHeight:e.offsetTop-e.offsetHeight*(S?1.3:0)<a.scrollTop&&(a.scrollTop=e.offsetTop-e.offsetHeight*(S?1.3:0))}})),be=dF((e=>{let{event:t,diff:n,direction:r="next",reason:i="auto"}=e;if(!pe)return;const a=function(e,t){if(!K.current||e<0||e>=fe.length)return-1;let n=e;for(;;){const r=K.current.querySelector('[data-option-index="'.concat(n,'"]')),o=!g&&(!r||r.disabled||"true"===r.getAttribute("aria-disabled"));if(r&&r.hasAttribute("tabindex")&&!o)return n;if(n="next"===t?(n+1)%fe.length:(n-1+fe.length)%fe.length,n===e)return-1}}((()=>{const e=fe.length-1;if("reset"===n)return J;if("start"===n)return 0;if("end"===n)return e;const t=Z.current+n;return t<0?-1===t&&E?-1:v&&-1!==Z.current||Math.abs(n)>1?0:e:t>e?t===e+1&&E?-1:v||Math.abs(n)>1?e:0:t})(),r);if(ye({index:a,reason:i,event:t}),o&&"reset"!==n)if(-1===a)G.current.value=re;else{const e=H(fe[a]);G.current.value=e;0===e.toLowerCase().indexOf(re.toLowerCase())&&re.length>0&&G.current.setSelectionRange(re.length,e.length)}})),we=t.useCallback((()=>{if(!pe)return;const e=(()=>{if(-1!==Z.current&&me.filteredOptions&&me.filteredOptions.length!==fe.length&&me.inputValue===re&&(P?te.length===me.value.length&&me.value.every(((e,t)=>H(te[t])===H(e))):(e=me.value,t=te,(e?H(e):"")===(t?H(t):"")))){const e=me.filteredOptions[Z.current];if(e)return fe.findIndex((t=>H(t)===H(e)))}var e,t;return-1})();if(-1!==e)return void(Z.current=e);const t=P?te[0]:te;if(0!==fe.length&&null!=t){if(K.current)if(null==t)Z.current>=fe.length-1?ye({index:fe.length-1}):ye({index:Z.current});else{const e=fe[Z.current];if(P&&e&&-1!==te.findIndex((t=>R(e,t))))return;const n=fe.findIndex((e=>R(e,t)));-1===n?be({diff:"reset"}):ye({index:n})}}else be({diff:"reset"})}),[fe.length,!P&&te,b,be,ye,pe,re,P]),Ce=dF((e=>{rA(K,e),e&&we()}));t.useEffect((()=>{we()}),[we]);const _e=e=>{le||(ce(!0),de(!0),M&&M(e))},xe=(e,t)=>{le&&(ce(!1),D&&D(e,t))},Se=(e,t,n,r)=>{if(P){if(te.length===t.length&&te.every(((e,n)=>e===t[n])))return}else if(te===t)return;A&&A(e,t,n,r),ne(t)},ke=t.useRef(!1),Ie=function(e,t){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"options",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"selectOption",o=t;if(P){o=Array.isArray(te)?te.slice():[];const e=o.findIndex((e=>R(t,e)));-1===e?o.push(t):"freeSolo"!==n&&(o.splice(e,1),r="removeOption")}se(e,o,r),Se(e,o,r,{option:t}),f||e&&(e.ctrlKey||e.metaKey)||xe(e,r),(!0===s||"touch"===s&&ke.current||"mouse"===s&&!ke.current)&&G.current.blur()},Ee=(e,t)=>{if(!P)return;""===re&&xe(e,"toggleInput");let n=X;-1===X?""===re&&"previous"===t&&(n=te.length-1):(n+="next"===t?1:-1,n<0&&(n=0),n===te.length&&(n=-1)),n=function(e,t){if(-1===e)return-1;let n=e;for(;;){if("next"===t&&n===te.length||"previous"===t&&-1===n)return-1;const e=Q.querySelector('[data-tag-index="'.concat(n,'"]'));if(e&&e.hasAttribute("tabindex")&&!e.disabled&&"true"!==e.getAttribute("aria-disabled"))return n;n+="next"===t?1:-1}}(n,t),$(n),ve(n)},Te=e=>{q.current=!0,oe(""),N&&N(e,"","clear"),Se(e,P?[]:null,"clear")},Re=e=>t=>{if(e.onKeyDown&&e.onKeyDown(t),!t.defaultMuiPrevented&&(-1===X||["ArrowLeft","ArrowRight"].includes(t.key)||($(-1),ve(-1)),229!==t.which))switch(t.key){case"Home":pe&&k&&(t.preventDefault(),be({diff:"start",direction:"next",reason:"keyboard",event:t}));break;case"End":pe&&k&&(t.preventDefault(),be({diff:"end",direction:"previous",reason:"keyboard",event:t}));break;case"PageUp":t.preventDefault(),be({diff:-5,direction:"previous",reason:"keyboard",event:t}),_e(t);break;case"PageDown":t.preventDefault(),be({diff:5,direction:"next",reason:"keyboard",event:t}),_e(t);break;case"ArrowDown":t.preventDefault(),be({diff:1,direction:"next",reason:"keyboard",event:t}),_e(t);break;case"ArrowUp":t.preventDefault(),be({diff:-1,direction:"previous",reason:"keyboard",event:t}),_e(t);break;case"ArrowLeft":Ee(t,"previous");break;case"ArrowRight":Ee(t,"next");break;case"Enter":if(-1!==Z.current&&pe){const e=fe[Z.current],n=!!C&&C(e);if(t.preventDefault(),n)return;Ie(t,e,"selectOption"),o&&G.current.setSelectionRange(G.current.value.length,G.current.value.length)}else w&&""!==re&&!1===he&&(P&&t.preventDefault(),Ie(t,re,"createOption","freeSolo"));break;case"Escape":pe?(t.preventDefault(),t.stopPropagation(),xe(t,"escape")):c&&(""!==re||P&&te.length>0)&&(t.preventDefault(),t.stopPropagation(),Te(t));break;case"Backspace":if(P&&!j&&""===re&&te.length>0){const e=-1===X?te.length-1:X,n=te.slice();n.splice(e,1),Se(t,n,"removeOption",{option:te[e]})}break;case"Delete":if(P&&!j&&""===re&&te.length>0&&-1!==X){const e=X,n=te.slice();n.splice(e,1),Se(t,n,"removeOption",{option:te[e]})}}},Pe=e=>{ae(!0),F&&!q.current&&_e(e)},Ae=e=>{n(K)?G.current.focus():(ae(!1),W.current=!0,q.current=!1,a&&-1!==Z.current&&pe?Ie(e,fe[Z.current],"blur"):a&&w&&""!==re?Ie(e,re,"blur","freeSolo"):l&&se(e,te,"blur"),xe(e,"blur"))},De=e=>{const t=e.target.value;re!==t&&(oe(t),de(!1),N&&N(e,t,"input")),""===t?p||P||Se(e,null,"clear"):_e(e)},Oe=e=>{const t=Number(e.currentTarget.getAttribute("data-option-index"));Z.current!==t&&ye({event:e,index:t,reason:"mouse"})},Ne=e=>{ye({event:e,index:Number(e.currentTarget.getAttribute("data-option-index")),reason:"touch"}),ke.current=!0},Me=e=>{const t=Number(e.currentTarget.getAttribute("data-option-index"));Ie(e,fe[t],"selectOption"),ke.current=!1},Le=e=>t=>{const n=te.slice();n.splice(e,1),Se(t,n,"removeOption",{option:te[e]})},Fe=e=>{le?xe(e,"toggleInput"):_e(e)},Be=e=>{e.currentTarget.contains(e.target)&&e.target.getAttribute("id")!==U&&e.preventDefault()},je=e=>{e.currentTarget.contains(e.target)&&(G.current.focus(),z&&W.current&&G.current.selectionEnd-G.current.selectionStart===0&&G.current.select(),W.current=!1)},ze=e=>{m||""!==re&&le||Fe(e)};let Ve=w&&re.length>0;Ve=Ve||(P?te.length>0:null!==te);let Ue=fe;if(S){new Map;Ue=fe.reduce(((e,t,n)=>{const r=S(t);return e.length>0&&e[e.length-1].group===r?e[e.length-1].options.push(t):e.push({key:n,index:n,group:r,options:[t]}),e}),[])}return m&&ie&&Ae(),{getRootProps:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d(d({"aria-owns":ge?"".concat(U,"-listbox"):null},e),{},{onKeyDown:Re(e),onMouseDown:Be,onClick:je})},getInputLabelProps:()=>({id:"".concat(U,"-label"),htmlFor:U}),getInputProps:()=>({id:U,value:re,onBlur:Ae,onFocus:Pe,onChange:De,onMouseDown:ze,"aria-activedescendant":pe?"":null,"aria-autocomplete":o?"both":"list","aria-controls":ge?"".concat(U,"-listbox"):void 0,"aria-expanded":ge,autoComplete:"off",ref:G,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:m}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:Te}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:Fe}),getTagProps:e=>{let{index:t}=e;return d({key:t,"data-tag-index":t,tabIndex:-1},!j&&{onDelete:Le(t)})},getListboxProps:()=>({role:"listbox",id:"".concat(U,"-listbox"),"aria-labelledby":"".concat(U,"-label"),ref:Ce,onMouseDown:e=>{e.preventDefault()}}),getOptionProps:e=>{var t;let{index:n,option:r}=e;const o=(P?te:[te]).some((e=>null!=e&&R(r,e))),i=!!C&&C(r);return{key:null!==(t=null===_||void 0===_?void 0:_(r))&&void 0!==t?t:H(r),tabIndex:-1,role:"option",id:"".concat(U,"-option-").concat(n),onMouseMove:Oe,onClick:Me,onTouchStart:Ne,"data-option-index":n,"aria-disabled":i,"aria-selected":o}},id:U,inputValue:re,value:te,dirty:Ve,expanded:pe&&Q,popupOpen:pe,focused:ie||-1!==X,anchorEl:Q,setAnchorEl:Y,focusedTag:X,groupedOptions:Ue}},KB=t.createContext();const QB=()=>{const e=t.useContext(KB);return null!==e&&void 0!==e&&e};function YB(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function XB(e){return e instanceof YB(e).Element||e instanceof Element}function $B(e){return e instanceof YB(e).HTMLElement||e instanceof HTMLElement}function JB(e){return"undefined"!==typeof ShadowRoot&&(e instanceof YB(e).ShadowRoot||e instanceof ShadowRoot)}var ZB=Math.max,ej=Math.min,tj=Math.round;function nj(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function rj(){return!/^((?!chrome|android).)*safari/i.test(nj())}function oj(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),o=1,i=1;t&&$B(e)&&(o=e.offsetWidth>0&&tj(r.width)/e.offsetWidth||1,i=e.offsetHeight>0&&tj(r.height)/e.offsetHeight||1);var a=(XB(e)?YB(e):window).visualViewport,s=!rj()&&n,l=(r.left+(s&&a?a.offsetLeft:0))/o,c=(r.top+(s&&a?a.offsetTop:0))/i,u=r.width/o,d=r.height/i;return{width:u,height:d,top:c,right:l+u,bottom:c+d,left:l,x:l,y:c}}function ij(e){var t=YB(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function aj(e){return e?(e.nodeName||"").toLowerCase():null}function sj(e){return((XB(e)?e.ownerDocument:e.document)||window.document).documentElement}function lj(e){return oj(sj(e)).left+ij(e).scrollLeft}function cj(e){return YB(e).getComputedStyle(e)}function uj(e){var t=cj(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function dj(e,t,n){void 0===n&&(n=!1);var r=$B(t),o=$B(t)&&function(e){var t=e.getBoundingClientRect(),n=tj(t.width)/e.offsetWidth||1,r=tj(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),i=sj(t),a=oj(e,o,n),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&(("body"!==aj(t)||uj(i))&&(s=function(e){return e!==YB(e)&&$B(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:ij(e);var t}(t)),$B(t)?((l=oj(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):i&&(l.x=lj(i))),{x:a.left+s.scrollLeft-l.x,y:a.top+s.scrollTop-l.y,width:a.width,height:a.height}}function hj(e){var t=oj(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function pj(e){return"html"===aj(e)?e:e.assignedSlot||e.parentNode||(JB(e)?e.host:null)||sj(e)}function fj(e){return["html","body","#document"].indexOf(aj(e))>=0?e.ownerDocument.body:$B(e)&&uj(e)?e:fj(pj(e))}function mj(e,t){var n;void 0===t&&(t=[]);var r=fj(e),o=r===(null==(n=e.ownerDocument)?void 0:n.body),i=YB(r),a=o?[i].concat(i.visualViewport||[],uj(r)?r:[]):r,s=t.concat(a);return o?s:s.concat(mj(pj(a)))}function gj(e){return["table","td","th"].indexOf(aj(e))>=0}function vj(e){return $B(e)&&"fixed"!==cj(e).position?e.offsetParent:null}function yj(e){for(var t=YB(e),n=vj(e);n&&gj(n)&&"static"===cj(n).position;)n=vj(n);return n&&("html"===aj(n)||"body"===aj(n)&&"static"===cj(n).position)?t:n||function(e){var t=/firefox/i.test(nj());if(/Trident/i.test(nj())&&$B(e)&&"fixed"===cj(e).position)return null;var n=pj(e);for(JB(n)&&(n=n.host);$B(n)&&["html","body"].indexOf(aj(n))<0;){var r=cj(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var bj="top",wj="bottom",Cj="right",_j="left",xj="auto",Sj=[bj,wj,Cj,_j],kj="start",Ij="end",Ej="viewport",Tj="popper",Rj=Sj.reduce((function(e,t){return e.concat([t+"-"+kj,t+"-"+Ij])}),[]),Pj=[].concat(Sj,[xj]).reduce((function(e,t){return e.concat([t,t+"-"+kj,t+"-"+Ij])}),[]),Aj=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Dj(e){var t=new Map,n=new Set,r=[];function o(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&o(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||o(e)})),r}function Oj(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var Nj={placement:"bottom",modifiers:[],strategy:"absolute"};function Mj(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function Lj(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,o=t.defaultOptions,i=void 0===o?Nj:o;return function(e,t,n){void 0===n&&(n=i);var o={placement:"bottom",orderedModifiers:[],options:Object.assign({},Nj,i),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},a=[],s=!1,l={state:o,setOptions:function(n){var s="function"===typeof n?n(o.options):n;c(),o.options=Object.assign({},i,o.options,s),o.scrollParents={reference:XB(e)?mj(e):e.contextElement?mj(e.contextElement):[],popper:mj(t)};var u=function(e){var t=Dj(e);return Aj.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,o.options.modifiers)));return o.orderedModifiers=u.filter((function(e){return e.enabled})),o.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,i=e.effect;if("function"===typeof i){var s=i({state:o,name:t,instance:l,options:r}),c=function(){};a.push(s||c)}})),l.update()},forceUpdate:function(){if(!s){var e=o.elements,t=e.reference,n=e.popper;if(Mj(t,n)){o.rects={reference:dj(t,yj(n),"fixed"===o.options.strategy),popper:hj(n)},o.reset=!1,o.placement=o.options.placement,o.orderedModifiers.forEach((function(e){return o.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<o.orderedModifiers.length;r++)if(!0!==o.reset){var i=o.orderedModifiers[r],a=i.fn,c=i.options,u=void 0===c?{}:c,d=i.name;"function"===typeof a&&(o=a({state:o,options:u,name:d,instance:l})||o)}else o.reset=!1,r=-1}}},update:Oj((function(){return new Promise((function(e){l.forceUpdate(),e(o)}))})),destroy:function(){c(),s=!0}};if(!Mj(e,t))return l;function c(){a.forEach((function(e){return e()})),a=[]}return l.setOptions(n).then((function(e){!s&&n.onFirstUpdate&&n.onFirstUpdate(e)})),l}}var Fj={passive:!0};const Bj={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,o=r.scroll,i=void 0===o||o,a=r.resize,s=void 0===a||a,l=YB(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&c.forEach((function(e){e.addEventListener("scroll",n.update,Fj)})),s&&l.addEventListener("resize",n.update,Fj),function(){i&&c.forEach((function(e){e.removeEventListener("scroll",n.update,Fj)})),s&&l.removeEventListener("resize",n.update,Fj)}},data:{}};function jj(e){return e.split("-")[0]}function zj(e){return e.split("-")[1]}function Vj(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Uj(e){var t,n=e.reference,r=e.element,o=e.placement,i=o?jj(o):null,a=o?zj(o):null,s=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(i){case bj:t={x:s,y:n.y-r.height};break;case wj:t={x:s,y:n.y+n.height};break;case Cj:t={x:n.x+n.width,y:l};break;case _j:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var c=i?Vj(i):null;if(null!=c){var u="y"===c?"height":"width";switch(a){case kj:t[c]=t[c]-(n[u]/2-r[u]/2);break;case Ij:t[c]=t[c]+(n[u]/2-r[u]/2)}}return t}var Hj={top:"auto",right:"auto",bottom:"auto",left:"auto"};function qj(e){var t,n=e.popper,r=e.popperRect,o=e.placement,i=e.variation,a=e.offsets,s=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,d=e.isFixed,h=a.x,p=void 0===h?0:h,f=a.y,m=void 0===f?0:f,g="function"===typeof u?u({x:p,y:m}):{x:p,y:m};p=g.x,m=g.y;var v=a.hasOwnProperty("x"),y=a.hasOwnProperty("y"),b=_j,w=bj,C=window;if(c){var _=yj(n),x="clientHeight",S="clientWidth";if(_===YB(n)&&"static"!==cj(_=sj(n)).position&&"absolute"===s&&(x="scrollHeight",S="scrollWidth"),o===bj||(o===_j||o===Cj)&&i===Ij)w=wj,m-=(d&&_===C&&C.visualViewport?C.visualViewport.height:_[x])-r.height,m*=l?1:-1;if(o===_j||(o===bj||o===wj)&&i===Ij)b=Cj,p-=(d&&_===C&&C.visualViewport?C.visualViewport.width:_[S])-r.width,p*=l?1:-1}var k,I=Object.assign({position:s},c&&Hj),E=!0===u?function(e,t){var n=e.x,r=e.y,o=t.devicePixelRatio||1;return{x:tj(n*o)/o||0,y:tj(r*o)/o||0}}({x:p,y:m},YB(n)):{x:p,y:m};return p=E.x,m=E.y,l?Object.assign({},I,((k={})[w]=y?"0":"",k[b]=v?"0":"",k.transform=(C.devicePixelRatio||1)<=1?"translate("+p+"px, "+m+"px)":"translate3d("+p+"px, "+m+"px, 0)",k)):Object.assign({},I,((t={})[w]=y?m+"px":"",t[b]=v?p+"px":"",t.transform="",t))}const Wj={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},o=t.elements[e];$B(o)&&aj(o)&&(Object.assign(o.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?o.removeAttribute(e):o.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],o=t.attributes[e]||{},i=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});$B(r)&&aj(r)&&(Object.assign(r.style,i),Object.keys(o).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]};const Gj={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.offset,i=void 0===o?[0,0]:o,a=Pj.reduce((function(e,n){return e[n]=function(e,t,n){var r=jj(e),o=[_j,bj].indexOf(r)>=0?-1:1,i="function"===typeof n?n(Object.assign({},t,{placement:e})):n,a=i[0],s=i[1];return a=a||0,s=(s||0)*o,[_j,Cj].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}(n,t.rects,i),e}),{}),s=a[t.placement],l=s.x,c=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=a}};var Kj={left:"right",right:"left",bottom:"top",top:"bottom"};function Qj(e){return e.replace(/left|right|bottom|top/g,(function(e){return Kj[e]}))}var Yj={start:"end",end:"start"};function Xj(e){return e.replace(/start|end/g,(function(e){return Yj[e]}))}function $j(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&JB(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Jj(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Zj(e,t,n){return t===Ej?Jj(function(e,t){var n=YB(e),r=sj(e),o=n.visualViewport,i=r.clientWidth,a=r.clientHeight,s=0,l=0;if(o){i=o.width,a=o.height;var c=rj();(c||!c&&"fixed"===t)&&(s=o.offsetLeft,l=o.offsetTop)}return{width:i,height:a,x:s+lj(e),y:l}}(e,n)):XB(t)?function(e,t){var n=oj(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):Jj(function(e){var t,n=sj(e),r=ij(e),o=null==(t=e.ownerDocument)?void 0:t.body,i=ZB(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),a=ZB(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),s=-r.scrollLeft+lj(e),l=-r.scrollTop;return"rtl"===cj(o||n).direction&&(s+=ZB(n.clientWidth,o?o.clientWidth:0)-i),{width:i,height:a,x:s,y:l}}(sj(e)))}function ez(e,t,n,r){var o="clippingParents"===t?function(e){var t=mj(pj(e)),n=["absolute","fixed"].indexOf(cj(e).position)>=0&&$B(e)?yj(e):e;return XB(n)?t.filter((function(e){return XB(e)&&$j(e,n)&&"body"!==aj(e)})):[]}(e):[].concat(t),i=[].concat(o,[n]),a=i[0],s=i.reduce((function(t,n){var o=Zj(e,n,r);return t.top=ZB(o.top,t.top),t.right=ej(o.right,t.right),t.bottom=ej(o.bottom,t.bottom),t.left=ZB(o.left,t.left),t}),Zj(e,a,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function tz(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function nz(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function rz(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=void 0===r?e.placement:r,i=n.strategy,a=void 0===i?e.strategy:i,s=n.boundary,l=void 0===s?"clippingParents":s,c=n.rootBoundary,u=void 0===c?Ej:c,d=n.elementContext,h=void 0===d?Tj:d,p=n.altBoundary,f=void 0!==p&&p,m=n.padding,g=void 0===m?0:m,v=tz("number"!==typeof g?g:nz(g,Sj)),y=h===Tj?"reference":Tj,b=e.rects.popper,w=e.elements[f?y:h],C=ez(XB(w)?w:w.contextElement||sj(e.elements.popper),l,u,a),_=oj(e.elements.reference),x=Uj({reference:_,element:b,strategy:"absolute",placement:o}),S=Jj(Object.assign({},b,x)),k=h===Tj?S:_,I={top:C.top-k.top+v.top,bottom:k.bottom-C.bottom+v.bottom,left:C.left-k.left+v.left,right:k.right-C.right+v.right},E=e.modifiersData.offset;if(h===Tj&&E){var T=E[o];Object.keys(I).forEach((function(e){var t=[Cj,wj].indexOf(e)>=0?1:-1,n=[bj,wj].indexOf(e)>=0?"y":"x";I[e]+=T[n]*t}))}return I}const oz={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var o=n.mainAxis,i=void 0===o||o,a=n.altAxis,s=void 0===a||a,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,p=n.flipVariations,f=void 0===p||p,m=n.allowedAutoPlacements,g=t.options.placement,v=jj(g),y=l||(v===g||!f?[Qj(g)]:function(e){if(jj(e)===xj)return[];var t=Qj(e);return[Xj(e),t,Xj(t)]}(g)),b=[g].concat(y).reduce((function(e,n){return e.concat(jj(n)===xj?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=n.boundary,i=n.rootBoundary,a=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?Pj:l,u=zj(r),d=u?s?Rj:Rj.filter((function(e){return zj(e)===u})):Sj,h=d.filter((function(e){return c.indexOf(e)>=0}));0===h.length&&(h=d);var p=h.reduce((function(t,n){return t[n]=rz(e,{placement:n,boundary:o,rootBoundary:i,padding:a})[jj(n)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}(t,{placement:n,boundary:u,rootBoundary:d,padding:c,flipVariations:f,allowedAutoPlacements:m}):n)}),[]),w=t.rects.reference,C=t.rects.popper,_=new Map,x=!0,S=b[0],k=0;k<b.length;k++){var I=b[k],E=jj(I),T=zj(I)===kj,R=[bj,wj].indexOf(E)>=0,P=R?"width":"height",A=rz(t,{placement:I,boundary:u,rootBoundary:d,altBoundary:h,padding:c}),D=R?T?Cj:_j:T?wj:bj;w[P]>C[P]&&(D=Qj(D));var O=Qj(D),N=[];if(i&&N.push(A[E]<=0),s&&N.push(A[D]<=0,A[O]<=0),N.every((function(e){return e}))){S=I,x=!1;break}_.set(I,N)}if(x)for(var M=function(e){var t=b.find((function(t){var n=_.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return S=t,"break"},L=f?3:1;L>0;L--){if("break"===M(L))break}t.placement!==S&&(t.modifiersData[r]._skip=!0,t.placement=S,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function iz(e,t,n){return ZB(e,ej(t,n))}const az={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.mainAxis,i=void 0===o||o,a=n.altAxis,s=void 0!==a&&a,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,h=n.tether,p=void 0===h||h,f=n.tetherOffset,m=void 0===f?0:f,g=rz(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),v=jj(t.placement),y=zj(t.placement),b=!y,w=Vj(v),C="x"===w?"y":"x",_=t.modifiersData.popperOffsets,x=t.rects.reference,S=t.rects.popper,k="function"===typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,I="number"===typeof k?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),E=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,T={x:0,y:0};if(_){if(i){var R,P="y"===w?bj:_j,A="y"===w?wj:Cj,D="y"===w?"height":"width",O=_[w],N=O+g[P],M=O-g[A],L=p?-S[D]/2:0,F=y===kj?x[D]:S[D],B=y===kj?-S[D]:-x[D],j=t.elements.arrow,z=p&&j?hj(j):{width:0,height:0},V=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},U=V[P],H=V[A],q=iz(0,x[D],z[D]),W=b?x[D]/2-L-q-U-I.mainAxis:F-q-U-I.mainAxis,G=b?-x[D]/2+L+q+H+I.mainAxis:B+q+H+I.mainAxis,K=t.elements.arrow&&yj(t.elements.arrow),Q=K?"y"===w?K.clientTop||0:K.clientLeft||0:0,Y=null!=(R=null==E?void 0:E[w])?R:0,X=O+G-Y,$=iz(p?ej(N,O+W-Y-Q):N,O,p?ZB(M,X):M);_[w]=$,T[w]=$-O}if(s){var J,Z="x"===w?bj:_j,ee="x"===w?wj:Cj,te=_[C],ne="y"===C?"height":"width",re=te+g[Z],oe=te-g[ee],ie=-1!==[bj,_j].indexOf(v),ae=null!=(J=null==E?void 0:E[C])?J:0,se=ie?re:te-x[ne]-S[ne]-ae+I.altAxis,le=ie?te+x[ne]+S[ne]-ae-I.altAxis:oe,ce=p&&ie?function(e,t,n){var r=iz(e,t,n);return r>n?n:r}(se,te,le):iz(p?se:re,te,p?le:oe);_[C]=ce,T[C]=ce-te}t.modifiersData[r]=T}},requiresIfExists:["offset"]};const sz={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,o=e.options,i=n.elements.arrow,a=n.modifiersData.popperOffsets,s=jj(n.placement),l=Vj(s),c=[_j,Cj].indexOf(s)>=0?"height":"width";if(i&&a){var u=function(e,t){return tz("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:nz(e,Sj))}(o.padding,n),d=hj(i),h="y"===l?bj:_j,p="y"===l?wj:Cj,f=n.rects.reference[c]+n.rects.reference[l]-a[l]-n.rects.popper[c],m=a[l]-n.rects.reference[l],g=yj(i),v=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,y=f/2-m/2,b=u[h],w=v-d[c]-u[p],C=v/2-d[c]/2+y,_=iz(b,C,w),x=l;n.modifiersData[r]=((t={})[x]=_,t.centerOffset=_-C,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&$j(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function lz(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function cz(e){return[bj,Cj,wj,_j].some((function(t){return e[t]>=0}))}var uz=Lj({defaultModifiers:[Bj,{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=Uj({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,o=void 0===r||r,i=n.adaptive,a=void 0===i||i,s=n.roundOffsets,l=void 0===s||s,c={placement:jj(t.placement),variation:zj(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,qj(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,qj(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},Wj,Gj,oz,az,sz,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,o=t.rects.popper,i=t.modifiersData.preventOverflow,a=rz(t,{elementContext:"reference"}),s=rz(t,{altBoundary:!0}),l=lz(a,r),c=lz(s,o,i),u=cz(l),d=cz(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}}]});const dz=function(e){return"string"===typeof e};const hz=function(e,t,n){return void 0===e||dz(e)?t:d(d({},t),{},{ownerState:d(d({},t.ownerState),n)})};const pz=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};const n={};return Object.keys(e).filter((n=>n.match(/^on[A-Z]/)&&"function"===typeof e[n]&&!t.includes(n))).forEach((t=>{n[t]=e[t]})),n};const fz=function(e){if(void 0===e)return{};const t={};return Object.keys(e).filter((t=>!(t.match(/^on[A-Z]/)&&"function"===typeof e[t]))).forEach((n=>{t[n]=e[n]})),t};const mz=function(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:o,className:i}=e;if(!t){const e=ZP(null===n||void 0===n?void 0:n.className,i,null===o||void 0===o?void 0:o.className,null===r||void 0===r?void 0:r.className),t=d(d(d({},null===n||void 0===n?void 0:n.style),null===o||void 0===o?void 0:o.style),null===r||void 0===r?void 0:r.style),a=d(d(d({},n),o),r);return e.length>0&&(a.className=e),Object.keys(t).length>0&&(a.style=t),{props:a,internalRef:void 0}}const a=pz(d(d({},o),r)),s=fz(r),l=fz(o),c=t(a),u=ZP(null===c||void 0===c?void 0:c.className,null===n||void 0===n?void 0:n.className,i,null===o||void 0===o?void 0:o.className,null===r||void 0===r?void 0:r.className),h=d(d(d(d({},null===c||void 0===c?void 0:c.style),null===n||void 0===n?void 0:n.style),null===o||void 0===o?void 0:o.style),null===r||void 0===r?void 0:r.style),p=d(d(d(d({},c),n),l),s);return u.length>0&&(p.className=u),Object.keys(h).length>0&&(p.style=h),{props:p,internalRef:c.ref}};const gz=function(e,t,n){return"function"===typeof e?e(t,n):e},vz=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];const yz=function(e){var t;const{elementType:n,externalSlotProps:r,ownerState:o,skipResolvingSlotProps:i=!1}=e,s=a(e,vz),l=i?{}:gz(r,o),{props:c,internalRef:u}=mz(d(d({},s),{},{externalSlotProps:l})),h=oA(u,null===l||void 0===l?void 0:l.ref,null===(t=e.additionalProps)||void 0===t?void 0:t.ref);return hz(n,d(d({},c),{},{ref:h}),o)};var bz=n(7950);function wz(e){var n;return parseInt(t.version,10)>=19?(null===e||void 0===e||null===(n=e.props)||void 0===n?void 0:n.ref)||null:(null===e||void 0===e?void 0:e.ref)||null}const Cz=t.forwardRef((function(e,n){const{children:r,container:o,disablePortal:i=!1}=e,[a,s]=t.useState(null),l=oA(t.isValidElement(r)?wz(r):null,n);if(iA((()=>{i||s(function(e){return"function"===typeof e?e():e}(o)||document.body)}),[o,i]),iA((()=>{if(a&&!i)return rA(n,a),()=>{rA(n,null)}}),[n,a,i]),i){if(t.isValidElement(r)){const e={ref:l};return t.cloneElement(r,e)}return r}return a?bz.createPortal(r,a):a}));function _z(e){return GM("MuiPopper",e)}KM("MuiPopper",["root"]);const xz=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],Sz=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function kz(e){return"function"===typeof e?e():e}function Iz(e){return void 0!==e.nodeType}const Ez={},Tz=t.forwardRef((function(e,n){var r;const{anchorEl:o,children:i,direction:s,disablePortal:l,modifiers:c,open:u,placement:h,popperOptions:p,popperRef:f,slotProps:m={},slots:g={},TransitionProps:v,ownerState:y}=e,b=a(e,xz),w=t.useRef(null),C=oA(w,n),_=t.useRef(null),x=oA(_,f),S=t.useRef(x);iA((()=>{S.current=x}),[x]),t.useImperativeHandle(f,(()=>_.current),[]);const k=function(e,t){if("ltr"===t)return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}(h,s),[I,E]=t.useState(k),[T,R]=t.useState(kz(o));t.useEffect((()=>{_.current&&_.current.forceUpdate()})),t.useEffect((()=>{o&&R(kz(o))}),[o]),iA((()=>{if(!T||!u)return;let e=[{name:"preventOverflow",options:{altBoundary:l}},{name:"flip",options:{altBoundary:l}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:e=>{let{state:t}=e;(e=>{E(e.placement)})(t)}}];null!=c&&(e=e.concat(c)),p&&null!=p.modifiers&&(e=e.concat(p.modifiers));const t=uz(T,w.current,d(d({placement:k},p),{},{modifiers:e}));return S.current(t),()=>{t.destroy(),S.current(null)}}),[T,l,c,u,p,k]);const P={placement:I};null!==v&&(P.TransitionProps=v);const A=(e=>{const{classes:t}=e;return nA({root:["root"]},_z,t)})(e),D=null!==(r=g.root)&&void 0!==r?r:"div",O=yz({elementType:D,externalSlotProps:m.root,externalForwardedProps:b,additionalProps:{role:"tooltip",ref:C},ownerState:e,className:A.root});return(0,UP.jsx)(D,d(d({},O),{},{children:"function"===typeof i?i(P):i}))})),Rz=t.forwardRef((function(e,n){const{anchorEl:r,children:o,container:i,direction:s="ltr",disablePortal:l=!1,keepMounted:c=!1,modifiers:u,open:h,placement:p="bottom",popperOptions:f=Ez,popperRef:m,style:g,transition:v=!1,slotProps:y={},slots:b={}}=e,w=a(e,Sz),[C,_]=t.useState(!0);if(!c&&!h&&(!v||C))return null;let x;if(i)x=i;else if(r){const e=kz(r);x=e&&Iz(e)?xF(e).body:xF(null).body}const S=h||!c||v&&!C?void 0:"none",k=v?{in:h,onEnter:()=>{_(!1)},onExited:()=>{_(!0)}}:void 0;return(0,UP.jsx)(Cz,{disablePortal:l,container:x,children:(0,UP.jsx)(Tz,d(d({anchorEl:r,direction:s,disablePortal:l,modifiers:u,ref:n,open:v?!C:h,placement:p,popperOptions:f,popperRef:m,slotProps:y,slots:b},w),{},{style:d({position:"fixed",top:0,left:0,display:S},g),TransitionProps:k,children:o}))})})),Pz=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],Az=UM(Rz,{name:"MuiPopper",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Dz=t.forwardRef((function(e,t){var n;const r=QB(),o=$F({props:e,name:"MuiPopper"}),{anchorEl:i,component:s,components:l,componentsProps:c,container:u,disablePortal:h,keepMounted:p,modifiers:f,open:m,placement:g,popperOptions:v,popperRef:y,transition:b,slots:w,slotProps:C}=o,_=a(o,Pz),x=null!==(n=null===w||void 0===w?void 0:w.root)&&void 0!==n?n:null===l||void 0===l?void 0:l.Root,S=d({anchorEl:i,container:u,disablePortal:h,keepMounted:p,modifiers:f,open:m,placement:g,popperOptions:v,popperRef:y,transition:b},_);return(0,UP.jsx)(Az,d(d({as:s,direction:r?"rtl":"ltr",slots:{root:x},slotProps:null!==C&&void 0!==C?C:c},S),{},{ref:t}))})),Oz=Dz;function Nz(e){return GM("MuiListSubheader",e)}KM("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const Mz=["className","color","component","disableGutters","disableSticky","inset"],Lz=UM("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"default"!==n.color&&t["color".concat(JF(n.color))],!n.disableGutters&&t.gutters,n.inset&&t.inset,!n.disableSticky&&t.sticky]}})(QF((e=>{let{theme:t}=e;return{boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(t.vars||t).palette.text.secondary,fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(14),variants:[{props:{color:"primary"},style:{color:(t.vars||t).palette.primary.main}},{props:{color:"inherit"},style:{color:"inherit"}},{props:e=>{let{ownerState:t}=e;return!t.disableGutters},style:{paddingLeft:16,paddingRight:16}},{props:e=>{let{ownerState:t}=e;return t.inset},style:{paddingLeft:72}},{props:e=>{let{ownerState:t}=e;return!t.disableSticky},style:{position:"sticky",top:0,zIndex:1,backgroundColor:(t.vars||t).palette.background.paper}}]}}))),Fz=t.forwardRef((function(e,t){const n=$F({props:e,name:"MuiListSubheader"}),{className:r,color:o="default",component:i="li",disableGutters:s=!1,disableSticky:l=!1,inset:c=!1}=n,u=a(n,Mz),h=d(d({},n),{},{color:o,component:i,disableGutters:s,disableSticky:l,inset:c}),p=(e=>{const{classes:t,color:n,disableGutters:r,inset:o,disableSticky:i}=e;return nA({root:["root","default"!==n&&"color".concat(JF(n)),!r&&"gutters",o&&"inset",!i&&"sticky"]},Nz,t)})(h);return(0,UP.jsx)(Lz,d({as:i,className:ZP(p.root,r),ref:t,ownerState:h},u))}));Fz&&(Fz.muiSkipListHighlight=!0);const Bz=Fz;function jz(){const e=qF(BM);return e[jM]||e}function zz(e){return GM("MuiPaper",e)}KM("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const Vz=["className","component","elevation","square","variant"],Uz=UM("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t["elevation".concat(n.elevation)]]}})(QF((e=>{let{theme:t}=e;return{backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),variants:[{props:e=>{let{ownerState:t}=e;return!t.square},style:{borderRadius:t.shape.borderRadius}},{props:{variant:"outlined"},style:{border:"1px solid ".concat((t.vars||t).palette.divider)}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}}))),Hz=t.forwardRef((function(e,t){var n;const r=$F({props:e,name:"MuiPaper"}),o=jz(),{className:i,component:s="div",elevation:l=1,square:c=!1,variant:u="elevation"}=r,h=a(r,Vz),p=d(d({},r),{},{component:s,elevation:l,square:c,variant:u}),f=(e=>{const{square:t,elevation:n,variant:r,classes:o}=e;return nA({root:["root",r,!t&&"rounded","elevation"===r&&"elevation".concat(n)]},zz,o)})(p);return(0,UP.jsx)(Uz,d(d({as:s,ownerState:p,className:ZP(f.root,i),ref:t},h),{},{style:d(d({},"elevation"===u&&d(d({"--Paper-shadow":(o.vars||o).shadows[l]},o.vars&&{"--Paper-overlay":null===(n=o.vars.overlays)||void 0===n?void 0:n[l]}),!o.vars&&"dark"===o.palette.mode&&{"--Paper-overlay":"linear-gradient(".concat(gA("#fff",bM(l)),", ").concat(gA("#fff",bM(l)),")")})),h.style)}))})),qz=Hz,Wz=IB;function Gz(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t=>{let[,n]=t;return n&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!function(e){return"string"===typeof e.main}(e))return!1;for(const n of t)if(!e.hasOwnProperty(n)||"string"!==typeof e[n])return!1;return!0}(n,e)}}function Kz(e){try{return e.matches(":focus-visible")}catch(Do){0}return!1}const Qz=dF;class Yz{static create(){return new Yz}static use(){const e=$M(Yz.create).current,[n,r]=t.useState(!1);return e.shouldMount=n,e.setShouldMount=r,t.useEffect(e.mountEffect,[n]),e}constructor(){c(this,"mountEffect",(()=>{this.shouldMount&&!this.didMount&&null!==this.ref.current&&(this.didMount=!0,this.mounted.resolve())})),this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}mount(){return this.mounted||(this.mounted=function(){let e,t;const n=new Promise(((n,r)=>{e=n,t=r}));return n.resolve=e,n.reject=t,n}(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.mount().then((()=>{var e;return null===(e=this.ref.current)||void 0===e?void 0:e.start(...t)}))}stop(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.mount().then((()=>{var e;return null===(e=this.ref.current)||void 0===e?void 0:e.stop(...t)}))}pulsate(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.mount().then((()=>{var e;return null===(e=this.ref.current)||void 0===e?void 0:e.pulsate(...t)}))}}function Xz(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function $z(e,t){return $z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},$z(e,t)}function Jz(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,$z(e,t)}const Zz=t.createContext(null);function eV(e,n){var r=Object.create(null);return e&&t.Children.map(e,(function(e){return e})).forEach((function(e){r[e.key]=function(e){return n&&(0,t.isValidElement)(e)?n(e):e}(e)})),r}function tV(e,t,n){return null!=n[t]?n[t]:e.props[t]}function nV(e,n,r){var o=eV(e.children),i=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,o=Object.create(null),i=[];for(var a in e)a in t?i.length&&(o[a]=i,i=[]):i.push(a);var s={};for(var l in t){if(o[l])for(r=0;r<o[l].length;r++){var c=o[l][r];s[o[l][r]]=n(c)}s[l]=n(l)}for(r=0;r<i.length;r++)s[i[r]]=n(i[r]);return s}(n,o);return Object.keys(i).forEach((function(a){var s=i[a];if((0,t.isValidElement)(s)){var l=a in n,c=a in o,u=n[a],d=(0,t.isValidElement)(u)&&!u.props.in;!c||l&&!d?c||!l||d?c&&l&&(0,t.isValidElement)(u)&&(i[a]=(0,t.cloneElement)(s,{onExited:r.bind(null,s),in:u.props.in,exit:tV(s,"exit",e),enter:tV(s,"enter",e)})):i[a]=(0,t.cloneElement)(s,{in:!1}):i[a]=(0,t.cloneElement)(s,{onExited:r.bind(null,s),in:!0,exit:tV(s,"exit",e),enter:tV(s,"enter",e)})}})),i}var rV=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},oV=function(e){function n(t,n){var r,o=(r=e.call(this,t,n)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r));return r.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},r}Jz(n,e);var r=n.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(e,n){var r,o,i=n.children,a=n.handleExited;return{children:n.firstRender?(r=e,o=a,eV(r.children,(function(e){return(0,t.cloneElement)(e,{onExited:o.bind(null,e),in:!0,appear:tV(e,"appear",r),enter:tV(e,"enter",r),exit:tV(e,"exit",r)})}))):nV(e,i,a),firstRender:!1}},r.handleExited=function(e,t){var n=eV(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=KP({},t.children);return delete n[e.key],{children:n}})))},r.render=function(){var e=this.props,n=e.component,r=e.childFactory,o=i(e,["component","childFactory"]),a=this.state.contextValue,s=rV(this.state.children).map(r);return delete o.appear,delete o.enter,delete o.exit,null===n?t.createElement(Zz.Provider,{value:a},s):t.createElement(Zz.Provider,{value:a},t.createElement(n,o,s))},n}(t.Component);oV.propTypes={},oV.defaultProps={component:"div",childFactory:function(e){return e}};const iV=oV;const aV=function(e){const{className:n,classes:r,pulsate:o=!1,rippleX:i,rippleY:a,rippleSize:s,in:l,onExited:c,timeout:u}=e,[d,h]=t.useState(!1),p=ZP(n,r.ripple,r.rippleVisible,o&&r.ripplePulsate),f={width:s,height:s,top:-s/2+a,left:-s/2+i},m=ZP(r.child,d&&r.childLeaving,o&&r.childPulsate);return l||d||h(!0),t.useEffect((()=>{if(!l&&null!=c){const e=setTimeout(c,u);return()=>{clearTimeout(e)}}}),[c,l,u]),(0,UP.jsx)("span",{className:p,style:f,children:(0,UP.jsx)("span",{className:m})})};const sV=KM("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),lV=["center","classes","className"];var cV,uV,dV,hV;const pV=zF(cV||(cV=Xz(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"]))),fV=zF(uV||(uV=Xz(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"]))),mV=zF(dV||(dV=Xz(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"]))),gV=UM("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),vV=UM(aV,{name:"MuiTouchRipple",slot:"Ripple"})(hV||(hV=Xz(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"])),sV.rippleVisible,pV,550,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}),sV.ripplePulsate,(e=>{let{theme:t}=e;return t.transitions.duration.shorter}),sV.child,sV.childLeaving,fV,550,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}),sV.childPulsate,mV,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut})),yV=t.forwardRef((function(e,n){const r=$F({props:e,name:"MuiTouchRipple"}),{center:o=!1,classes:i={},className:s}=r,l=a(r,lV),[c,u]=t.useState([]),h=t.useRef(0),p=t.useRef(null);t.useEffect((()=>{p.current&&(p.current(),p.current=null)}),[c]);const f=t.useRef(!1),m=CF(),g=t.useRef(null),v=t.useRef(null),y=t.useCallback((e=>{const{pulsate:t,rippleX:n,rippleY:r,rippleSize:o,cb:a}=e;u((e=>[...e,(0,UP.jsx)(vV,{classes:{ripple:ZP(i.ripple,sV.ripple),rippleVisible:ZP(i.rippleVisible,sV.rippleVisible),ripplePulsate:ZP(i.ripplePulsate,sV.ripplePulsate),child:ZP(i.child,sV.child),childLeaving:ZP(i.childLeaving,sV.childLeaving),childPulsate:ZP(i.childPulsate,sV.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:o},h.current)])),h.current+=1,p.current=a}),[i]),b=t.useCallback((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};const{pulsate:r=!1,center:i=o||t.pulsate,fakeElement:a=!1}=t;if("mousedown"===(null===e||void 0===e?void 0:e.type)&&f.current)return void(f.current=!1);"touchstart"===(null===e||void 0===e?void 0:e.type)&&(f.current=!0);const s=a?null:v.current,l=s?s.getBoundingClientRect():{width:0,height:0,left:0,top:0};let c,u,d;if(i||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)c=Math.round(l.width/2),u=Math.round(l.height/2);else{const{clientX:t,clientY:n}=e.touches&&e.touches.length>0?e.touches[0]:e;c=Math.round(t-l.left),u=Math.round(n-l.top)}if(i)d=Math.sqrt((2*l.width**2+l.height**2)/3),d%2===0&&(d+=1);else{const e=2*Math.max(Math.abs((s?s.clientWidth:0)-c),c)+2,t=2*Math.max(Math.abs((s?s.clientHeight:0)-u),u)+2;d=Math.sqrt(e**2+t**2)}null!==e&&void 0!==e&&e.touches?null===g.current&&(g.current=()=>{y({pulsate:r,rippleX:c,rippleY:u,rippleSize:d,cb:n})},m.start(80,(()=>{g.current&&(g.current(),g.current=null)}))):y({pulsate:r,rippleX:c,rippleY:u,rippleSize:d,cb:n})}),[o,y,m]),w=t.useCallback((()=>{b({},{pulsate:!0})}),[b]),C=t.useCallback(((e,t)=>{if(m.clear(),"touchend"===(null===e||void 0===e?void 0:e.type)&&g.current)return g.current(),g.current=null,void m.start(0,(()=>{C(e,t)}));g.current=null,u((e=>e.length>0?e.slice(1):e)),p.current=t}),[m]);return t.useImperativeHandle(n,(()=>({pulsate:w,start:b,stop:C})),[w,b,C]),(0,UP.jsx)(gV,d(d({className:ZP(sV.root,i.root,s),ref:v},l),{},{children:(0,UP.jsx)(iV,{component:null,exit:!0,children:c})}))})),bV=yV;function wV(e){return GM("MuiButtonBase",e)}const CV=KM("MuiButtonBase",["root","disabled","focusVisible"]),_V=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],xV=UM("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},["&.".concat(CV.disabled)]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),SV=t.forwardRef((function(e,n){const r=$F({props:e,name:"MuiButtonBase"}),{action:o,centerRipple:i=!1,children:s,className:l,component:c="button",disabled:u=!1,disableRipple:h=!1,disableTouchRipple:p=!1,focusRipple:f=!1,focusVisibleClassName:m,LinkComponent:g="a",onBlur:v,onClick:y,onContextMenu:b,onDragLeave:w,onFocus:C,onFocusVisible:_,onKeyDown:x,onKeyUp:S,onMouseDown:k,onMouseLeave:I,onMouseUp:E,onTouchEnd:T,onTouchMove:R,onTouchStart:P,tabIndex:A=0,TouchRippleProps:D,touchRippleRef:O,type:N}=r,M=a(r,_V),L=t.useRef(null),F=Yz.use(),B=ZF(F.ref,O),[j,z]=t.useState(!1);u&&j&&z(!1),t.useImperativeHandle(o,(()=>({focusVisible:()=>{z(!0),L.current.focus()}})),[]);const V=F.shouldMount&&!h&&!u;t.useEffect((()=>{j&&f&&!h&&F.pulsate()}),[h,f,j,F]);const U=kV(F,"start",k,p),H=kV(F,"stop",b,p),q=kV(F,"stop",w,p),W=kV(F,"stop",E,p),G=kV(F,"stop",(e=>{j&&e.preventDefault(),I&&I(e)}),p),K=kV(F,"start",P,p),Q=kV(F,"stop",T,p),Y=kV(F,"stop",R,p),X=kV(F,"stop",(e=>{Kz(e.target)||z(!1),v&&v(e)}),!1),$=Qz((e=>{L.current||(L.current=e.currentTarget),Kz(e.target)&&(z(!0),_&&_(e)),C&&C(e)})),J=()=>{const e=L.current;return c&&"button"!==c&&!("A"===e.tagName&&e.href)},Z=Qz((e=>{f&&!e.repeat&&j&&" "===e.key&&F.stop(e,(()=>{F.start(e)})),e.target===e.currentTarget&&J()&&" "===e.key&&e.preventDefault(),x&&x(e),e.target===e.currentTarget&&J()&&"Enter"===e.key&&!u&&(e.preventDefault(),y&&y(e))})),ee=Qz((e=>{f&&" "===e.key&&j&&!e.defaultPrevented&&F.stop(e,(()=>{F.pulsate(e)})),S&&S(e),y&&e.target===e.currentTarget&&J()&&" "===e.key&&!e.defaultPrevented&&y(e)}));let te=c;"button"===te&&(M.href||M.to)&&(te=g);const ne={};"button"===te?(ne.type=void 0===N?"button":N,ne.disabled=u):(M.href||M.to||(ne.role="button"),u&&(ne["aria-disabled"]=u));const re=ZF(n,L),oe=d(d({},r),{},{centerRipple:i,component:c,disabled:u,disableRipple:h,disableTouchRipple:p,focusRipple:f,tabIndex:A,focusVisible:j}),ie=(e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:o}=e,i=nA({root:["root",t&&"disabled",n&&"focusVisible"]},wV,o);return n&&r&&(i.root+=" ".concat(r)),i})(oe);return(0,UP.jsxs)(xV,d(d(d({as:te,className:ZP(ie.root,l),ownerState:oe,onBlur:X,onClick:y,onContextMenu:H,onFocus:$,onKeyDown:Z,onKeyUp:ee,onMouseDown:U,onMouseLeave:G,onMouseUp:W,onDragLeave:q,onTouchEnd:Q,onTouchMove:Y,onTouchStart:K,ref:re,tabIndex:u?-1:A,type:N},ne),M),{},{children:[s,V?(0,UP.jsx)(bV,d({ref:B,center:i},D)):null]}))}));function kV(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Qz((o=>(n&&n(o),r||e[t](o),!0)))}const IV=SV;function EV(e){return GM("MuiCircularProgress",e)}KM("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const TV=["className","color","disableShrink","size","style","thickness","value","variant"];var RV,PV,AV,DV;const OV=44,NV=zF(RV||(RV=Xz(["\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n"]))),MV=zF(PV||(PV=Xz(["\n  0% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: 0;\n  }\n\n  50% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -15px;\n  }\n\n  100% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: -126px;\n  }\n"]))),LV="string"!==typeof NV?jF(AV||(AV=Xz(["\n        animation: "," 1.4s linear infinite;\n      "])),NV):null,FV="string"!==typeof MV?jF(DV||(DV=Xz(["\n        animation: "," 1.4s ease-in-out infinite;\n      "])),MV):null,BV=UM("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t["color".concat(JF(n.color))]]}})(QF((e=>{let{theme:t}=e;return{display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("transform")}},{props:{variant:"indeterminate"},style:LV||{animation:"".concat(NV," 1.4s linear infinite")}},...Object.entries(t.palette).filter(Gz()).map((e=>{let[n]=e;return{props:{color:n},style:{color:(t.vars||t).palette[n].main}}}))]}}))),jV=UM("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),zV=UM("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t["circle".concat(JF(n.variant))],n.disableShrink&&t.circleDisableShrink]}})(QF((e=>{let{theme:t}=e;return{stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&!t.disableShrink},style:FV||{animation:"".concat(MV," 1.4s ease-in-out infinite")}}]}}))),VV=t.forwardRef((function(e,t){const n=$F({props:e,name:"MuiCircularProgress"}),{className:r,color:o="primary",disableShrink:i=!1,size:s=40,style:l,thickness:c=3.6,value:u=0,variant:h="indeterminate"}=n,p=a(n,TV),f=d(d({},n),{},{color:o,disableShrink:i,size:s,thickness:c,value:u,variant:h}),m=(e=>{const{classes:t,variant:n,color:r,disableShrink:o}=e;return nA({root:["root",n,"color".concat(JF(r))],svg:["svg"],circle:["circle","circle".concat(JF(n)),o&&"circleDisableShrink"]},EV,t)})(f),g={},v={},y={};if("determinate"===h){const e=2*Math.PI*((OV-c)/2);g.strokeDasharray=e.toFixed(3),y["aria-valuenow"]=Math.round(u),g.strokeDashoffset="".concat(((100-u)/100*e).toFixed(3),"px"),v.transform="rotate(-90deg)"}return(0,UP.jsx)(BV,d(d(d({className:ZP(m.root,r),style:d(d({width:s,height:s},v),l),ownerState:f,ref:t,role:"progressbar"},y),p),{},{children:(0,UP.jsx)(jV,{className:m.svg,ownerState:f,viewBox:"".concat(22," ").concat(22," ").concat(OV," ").concat(OV),children:(0,UP.jsx)(zV,{className:m.circle,style:g,ownerState:f,cx:OV,cy:OV,r:(OV-c)/2,fill:"none",strokeWidth:c})})}))})),UV=VV;function HV(e){return GM("MuiIconButton",e)}const qV=KM("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),WV=["edge","children","className","color","disabled","disableFocusRipple","size","id","loading","loadingIndicator"],GV=UM(IV,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.loading&&t.loading,"default"!==n.color&&t["color".concat(JF(n.color))],n.edge&&t["edge".concat(JF(n.edge))],t["size".concat(JF(n.size))]]}})(QF((e=>{let{theme:t}=e;return{textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":t.vars?"rgba(".concat(t.vars.palette.action.activeChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):gA(t.palette.action.active,t.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]}})),QF((e=>{let{theme:t}=e;return{variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(t.palette).filter(Gz()).map((e=>{let[n]=e;return{props:{color:n},style:{color:(t.vars||t).palette[n].main}}})),...Object.entries(t.palette).filter(Gz()).map((e=>{let[n]=e;return{props:{color:n},style:{"--IconButton-hoverBg":t.vars?"rgba(".concat((t.vars||t).palette[n].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):gA((t.vars||t).palette[n].main,t.palette.action.hoverOpacity)}}})),{props:{size:"small"},style:{padding:5,fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:t.typography.pxToRem(28)}}],["&.".concat(qV.disabled)]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled},["&.".concat(qV.loading)]:{color:"transparent"}}}))),KV=UM("span",{name:"MuiIconButton",slot:"LoadingIndicator",overridesResolver:(e,t)=>t.loadingIndicator})((e=>{let{theme:t}=e;return{display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(t.vars||t).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]}})),QV=t.forwardRef((function(e,t){const n=$F({props:e,name:"MuiIconButton"}),{edge:r=!1,children:o,className:i,color:s="default",disabled:l=!1,disableFocusRipple:c=!1,size:u="medium",id:h,loading:p=null,loadingIndicator:f}=n,m=a(n,WV),g=Wz(h),v=null!==f&&void 0!==f?f:(0,UP.jsx)(UV,{"aria-labelledby":g,color:"inherit",size:16}),y=d(d({},n),{},{edge:r,color:s,disabled:l,disableFocusRipple:c,loading:p,loadingIndicator:v,size:u}),b=(e=>{const{classes:t,disabled:n,color:r,edge:o,size:i,loading:a}=e;return nA({root:["root",a&&"loading",n&&"disabled","default"!==r&&"color".concat(JF(r)),o&&"edge".concat(JF(o)),"size".concat(JF(i))],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},HV,t)})(y);return(0,UP.jsxs)(GV,d(d({id:g,className:ZP(b.root,i),centerRipple:!0,focusRipple:!c,disabled:l||p,ref:t},m),{},{ownerState:y,children:["boolean"===typeof p&&(0,UP.jsx)("span",{className:b.loadingWrapper,style:{display:"contents"},children:(0,UP.jsx)(KV,{className:b.loadingIndicator,ownerState:y,children:p&&v})}),o]}))})),YV=QV;function XV(e){return GM("MuiSvgIcon",e)}KM("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const $V=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],JV=UM("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"inherit"!==n.color&&t["color".concat(JF(n.color))],t["fontSize".concat(JF(n.fontSize))]]}})(QF((e=>{var t,n,r,o,i,a,s,l,c,u,d,h,p,f,m;let{theme:g}=e;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:null===(t=g.transitions)||void 0===t||null===(n=t.create)||void 0===n?void 0:n.call(t,"fill",{duration:null===(r=(null!==(o=g.vars)&&void 0!==o?o:g).transitions)||void 0===r||null===(r=r.duration)||void 0===r?void 0:r.shorter}),variants:[{props:e=>!e.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:(null===(i=g.typography)||void 0===i||null===(a=i.pxToRem)||void 0===a?void 0:a.call(i,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:(null===(s=g.typography)||void 0===s||null===(l=s.pxToRem)||void 0===l?void 0:l.call(s,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:(null===(c=g.typography)||void 0===c||null===(u=c.pxToRem)||void 0===u?void 0:u.call(c,35))||"2.1875rem"}},...Object.entries((null!==(d=g.vars)&&void 0!==d?d:g).palette).filter((e=>{let[,t]=e;return t&&t.main})).map((e=>{var t,n;let[r]=e;return{props:{color:r},style:{color:null===(t=(null!==(n=g.vars)&&void 0!==n?n:g).palette)||void 0===t||null===(t=t[r])||void 0===t?void 0:t.main}}})),{props:{color:"action"},style:{color:null===(h=(null!==(p=g.vars)&&void 0!==p?p:g).palette)||void 0===h||null===(h=h.action)||void 0===h?void 0:h.active}},{props:{color:"disabled"},style:{color:null===(f=(null!==(m=g.vars)&&void 0!==m?m:g).palette)||void 0===f||null===(f=f.action)||void 0===f?void 0:f.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}}))),ZV=t.forwardRef((function(e,n){const r=$F({props:e,name:"MuiSvgIcon"}),{children:o,className:i,color:s="inherit",component:l="svg",fontSize:c="medium",htmlColor:u,inheritViewBox:h=!1,titleAccess:p,viewBox:f="0 0 24 24"}=r,m=a(r,$V),g=t.isValidElement(o)&&"svg"===o.type,v=d(d({},r),{},{color:s,component:l,fontSize:c,instanceFontSize:e.fontSize,inheritViewBox:h,viewBox:f,hasSvgAsChild:g}),y={};h||(y.viewBox=f);const b=(e=>{const{color:t,fontSize:n,classes:r}=e;return nA({root:["root","inherit"!==t&&"color".concat(JF(t)),"fontSize".concat(JF(n))]},XV,r)})(v);return(0,UP.jsxs)(JV,d(d(d(d({as:l,className:ZP(b.root,i),focusable:"false",color:u,"aria-hidden":!p||void 0,role:p?"img":void 0,ref:n},y),m),g&&o.props),{},{ownerState:v,children:[g?o.props.children:o,p?(0,UP.jsx)("title",{children:p}):null]}))}));ZV.muiName="SvgIcon";const eU=ZV;function tU(e,n){function r(t,r){return(0,UP.jsx)(eU,d(d({"data-testid":"".concat(n,"Icon"),ref:r},t),{},{children:e}))}return r.muiName=eU.muiName,t.memo(t.forwardRef(r))}const nU=tU((0,UP.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function rU(e){return GM("MuiChip",e)}const oU=KM("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),iU=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],aU=UM("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{color:r,iconColor:o,clickable:i,onDelete:a,size:s,variant:l}=n;return[{["& .".concat(oU.avatar)]:t.avatar},{["& .".concat(oU.avatar)]:t["avatar".concat(JF(s))]},{["& .".concat(oU.avatar)]:t["avatarColor".concat(JF(r))]},{["& .".concat(oU.icon)]:t.icon},{["& .".concat(oU.icon)]:t["icon".concat(JF(s))]},{["& .".concat(oU.icon)]:t["iconColor".concat(JF(o))]},{["& .".concat(oU.deleteIcon)]:t.deleteIcon},{["& .".concat(oU.deleteIcon)]:t["deleteIcon".concat(JF(s))]},{["& .".concat(oU.deleteIcon)]:t["deleteIconColor".concat(JF(r))]},{["& .".concat(oU.deleteIcon)]:t["deleteIcon".concat(JF(l),"Color").concat(JF(r))]},t.root,t["size".concat(JF(s))],t["color".concat(JF(r))],i&&t.clickable,i&&"default"!==r&&t["clickableColor".concat(JF(r),")")],a&&t.deletable,a&&"default"!==r&&t["deletableColor".concat(JF(r))],t[l],t["".concat(l).concat(JF(r))]]}})(QF((e=>{let{theme:t}=e;const n="light"===t.palette.mode?t.palette.grey[700]:t.palette.grey[300];return{maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:16,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",["&.".concat(oU.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},["& .".concat(oU.avatar)]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:n,fontSize:t.typography.pxToRem(12)},["& .".concat(oU.avatarColorPrimary)]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},["& .".concat(oU.avatarColorSecondary)]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},["& .".concat(oU.avatarSmall)]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},["& .".concat(oU.icon)]:{marginLeft:5,marginRight:-6},["& .".concat(oU.deleteIcon)]:{WebkitTapHighlightColor:"transparent",color:t.vars?"rgba(".concat(t.vars.palette.text.primaryChannel," / 0.26)"):gA(t.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.vars?"rgba(".concat(t.vars.palette.text.primaryChannel," / 0.4)"):gA(t.palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,["& .".concat(oU.icon)]:{fontSize:18,marginLeft:4,marginRight:-4},["& .".concat(oU.deleteIcon)]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(t.palette).filter(Gz(["contrastText"])).map((e=>{let[n]=e;return{props:{color:n},style:{backgroundColor:(t.vars||t).palette[n].main,color:(t.vars||t).palette[n].contrastText,["& .".concat(oU.deleteIcon)]:{color:t.vars?"rgba(".concat(t.vars.palette[n].contrastTextChannel," / 0.7)"):gA(t.palette[n].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[n].contrastText}}}}})),{props:e=>e.iconColor===e.color,style:{["& .".concat(oU.icon)]:{color:t.vars?t.vars.palette.Chip.defaultIconColor:n}}},{props:e=>e.iconColor===e.color&&"default"!==e.color,style:{["& .".concat(oU.icon)]:{color:"inherit"}}},{props:{onDelete:!0},style:{["&.".concat(oU.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.selectedChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):gA(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}}},...Object.entries(t.palette).filter(Gz(["dark"])).map((e=>{let[n]=e;return{props:{color:n,onDelete:!0},style:{["&.".concat(oU.focusVisible)]:{background:(t.vars||t).palette[n].dark}}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.selectedChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):gA(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)},["&.".concat(oU.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.selectedChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):gA(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)},"&:active":{boxShadow:(t.vars||t).shadows[1]}}},...Object.entries(t.palette).filter(Gz(["dark"])).map((e=>{let[n]=e;return{props:{color:n,clickable:!0},style:{["&:hover, &.".concat(oU.focusVisible)]:{backgroundColor:(t.vars||t).palette[n].dark}}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:t.vars?"1px solid ".concat(t.vars.palette.Chip.defaultBorder):"1px solid ".concat("light"===t.palette.mode?t.palette.grey[400]:t.palette.grey[700]),["&.".concat(oU.clickable,":hover")]:{backgroundColor:(t.vars||t).palette.action.hover},["&.".concat(oU.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["& .".concat(oU.avatar)]:{marginLeft:4},["& .".concat(oU.avatarSmall)]:{marginLeft:2},["& .".concat(oU.icon)]:{marginLeft:4},["& .".concat(oU.iconSmall)]:{marginLeft:2},["& .".concat(oU.deleteIcon)]:{marginRight:5},["& .".concat(oU.deleteIconSmall)]:{marginRight:3}}},...Object.entries(t.palette).filter(Gz()).map((e=>{let[n]=e;return{props:{variant:"outlined",color:n},style:{color:(t.vars||t).palette[n].main,border:"1px solid ".concat(t.vars?"rgba(".concat(t.vars.palette[n].mainChannel," / 0.7)"):gA(t.palette[n].main,.7)),["&.".concat(oU.clickable,":hover")]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette[n].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):gA(t.palette[n].main,t.palette.action.hoverOpacity)},["&.".concat(oU.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette[n].mainChannel," / ").concat(t.vars.palette.action.focusOpacity,")"):gA(t.palette[n].main,t.palette.action.focusOpacity)},["& .".concat(oU.deleteIcon)]:{color:t.vars?"rgba(".concat(t.vars.palette[n].mainChannel," / 0.7)"):gA(t.palette[n].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[n].main}}}}}))]}}))),sU=UM("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:n}=e,{size:r}=n;return[t.label,t["label".concat(JF(r))]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function lU(e){return"Backspace"===e.key||"Delete"===e.key}const cU=t.forwardRef((function(e,n){const r=$F({props:e,name:"MuiChip"}),{avatar:o,className:i,clickable:s,color:l="default",component:c,deleteIcon:u,disabled:h=!1,icon:p,label:f,onClick:m,onDelete:g,onKeyDown:v,onKeyUp:y,size:b="medium",variant:w="filled",tabIndex:C,skipFocusWhenDisabled:_=!1}=r,x=a(r,iU),S=t.useRef(null),k=ZF(S,n),I=e=>{e.stopPropagation(),g&&g(e)},E=!(!1===s||!m)||s,T=E||g?IV:c||"div",R=d(d({},r),{},{component:T,disabled:h,size:b,color:l,iconColor:t.isValidElement(p)&&p.props.color||l,onDelete:!!g,clickable:E,variant:w}),P=(e=>{const{classes:t,disabled:n,size:r,color:o,iconColor:i,onDelete:a,clickable:s,variant:l}=e;return nA({root:["root",l,n&&"disabled","size".concat(JF(r)),"color".concat(JF(o)),s&&"clickable",s&&"clickableColor".concat(JF(o)),a&&"deletable",a&&"deletableColor".concat(JF(o)),"".concat(l).concat(JF(o))],label:["label","label".concat(JF(r))],avatar:["avatar","avatar".concat(JF(r)),"avatarColor".concat(JF(o))],icon:["icon","icon".concat(JF(r)),"iconColor".concat(JF(i))],deleteIcon:["deleteIcon","deleteIcon".concat(JF(r)),"deleteIconColor".concat(JF(o)),"deleteIcon".concat(JF(l),"Color").concat(JF(o))]},rU,t)})(R),A=T===IV?d({component:c||"div",focusVisibleClassName:P.focusVisible},g&&{disableRipple:!0}):{};let D=null;g&&(D=u&&t.isValidElement(u)?t.cloneElement(u,{className:ZP(u.props.className,P.deleteIcon),onClick:I}):(0,UP.jsx)(nU,{className:ZP(P.deleteIcon),onClick:I}));let O=null;o&&t.isValidElement(o)&&(O=t.cloneElement(o,{className:ZP(P.avatar,o.props.className)}));let N=null;return p&&t.isValidElement(p)&&(N=t.cloneElement(p,{className:ZP(P.icon,p.props.className)})),(0,UP.jsxs)(aU,d(d(d({as:T,className:ZP(P.root,i),disabled:!(!E||!h)||void 0,onClick:m,onKeyDown:e=>{e.currentTarget===e.target&&lU(e)&&e.preventDefault(),v&&v(e)},onKeyUp:e=>{e.currentTarget===e.target&&g&&lU(e)&&g(e),y&&y(e)},ref:k,tabIndex:_&&h?-1:C,ownerState:R},A),x),{},{children:[O||N,(0,UP.jsx)(sU,{className:ZP(P.label),ownerState:R,children:f}),D]}))})),uU=cU;function dU(e){return GM("MuiInput",e)}const hU=d(d({},oB),KM("MuiInput",["root","underline","input"]));function pU(e){return GM("MuiOutlinedInput",e)}const fU=d(d({},oB),KM("MuiOutlinedInput",["root","notchedOutline","input"]));function mU(e){return GM("MuiFilledInput",e)}const gU=d(d({},oB),KM("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])),vU=tU((0,UP.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),yU=tU((0,UP.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown");function bU(e){return GM("MuiAutocomplete",e)}const wU=KM("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]),CU=["className","elementType","ownerState","externalForwardedProps","internalForwardedProps","shouldForwardComponentProp"],_U=["component","slots","slotProps"],xU=["component"];function SU(e,t){const{className:n,elementType:r,ownerState:o,externalForwardedProps:i,internalForwardedProps:s,shouldForwardComponentProp:l=!1}=t,c=a(t,CU),{component:u,slots:h={[e]:void 0},slotProps:p={[e]:void 0}}=i,f=a(i,_U),m=h[e]||r,g=gz(p[e],o),v=mz(d(d({className:n},c),{},{externalForwardedProps:"root"===e?f:void 0,externalSlotProps:g})),{props:{component:y},internalRef:b}=v,w=a(v.props,xU),C=oA(b,null===g||void 0===g?void 0:g.ref,t.ref),_="root"===e?y||u:y;return[m,hz(m,d(d(d(d(d(d({},"root"===e&&!u&&!h[e]&&s),"root"!==e&&!h[e]&&s),w),_&&!l&&{as:_}),_&&l&&{component:_}),{},{ref:C}),o)]}const kU=["autoComplete","autoHighlight","autoSelect","blurOnSelect","ChipProps","className","clearIcon","clearOnBlur","clearOnEscape","clearText","closeText","componentsProps","defaultValue","disableClearable","disableCloseOnSelect","disabled","disabledItemsFocusable","disableListWrap","disablePortal","filterOptions","filterSelectedOptions","forcePopupIcon","freeSolo","fullWidth","getLimitTagsText","getOptionDisabled","getOptionKey","getOptionLabel","isOptionEqualToValue","groupBy","handleHomeEndKeys","id","includeInputInList","inputValue","limitTags","ListboxComponent","ListboxProps","loading","loadingText","multiple","noOptionsText","onChange","onClose","onHighlightChange","onInputChange","onOpen","open","openOnFocus","openText","options","PaperComponent","PopperComponent","popupIcon","readOnly","renderGroup","renderInput","renderOption","renderTags","selectOnFocus","size","slots","slotProps","value"],IU=["ref"],EU=["key"],TU=["key"];var RU,PU;const AU=UM("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{fullWidth:r,hasClearIcon:o,hasPopupIcon:i,inputFocused:a,size:s}=n;return[{["& .".concat(wU.tag)]:t.tag},{["& .".concat(wU.tag)]:t["tagSize".concat(JF(s))]},{["& .".concat(wU.inputRoot)]:t.inputRoot},{["& .".concat(wU.input)]:t.input},{["& .".concat(wU.input)]:a&&t.inputFocused},t.root,r&&t.fullWidth,i&&t.hasPopupIcon,o&&t.hasClearIcon]}})({["&.".concat(wU.focused," .").concat(wU.clearIndicator)]:{visibility:"visible"},"@media (pointer: fine)":{["&:hover .".concat(wU.clearIndicator)]:{visibility:"visible"}},["& .".concat(wU.tag)]:{margin:3,maxWidth:"calc(100% - 6px)"},["& .".concat(wU.inputRoot)]:{[".".concat(wU.hasPopupIcon,"&, .").concat(wU.hasClearIcon,"&")]:{paddingRight:30},[".".concat(wU.hasPopupIcon,".").concat(wU.hasClearIcon,"&")]:{paddingRight:56},["& .".concat(wU.input)]:{width:0,minWidth:30}},["& .".concat(hU.root)]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},["& .".concat(hU.root,".").concat(oB.sizeSmall)]:{["& .".concat(hU.input)]:{padding:"2px 4px 3px 0"}},["& .".concat(fU.root)]:{padding:9,[".".concat(wU.hasPopupIcon,"&, .").concat(wU.hasClearIcon,"&")]:{paddingRight:39},[".".concat(wU.hasPopupIcon,".").concat(wU.hasClearIcon,"&")]:{paddingRight:65},["& .".concat(wU.input)]:{padding:"7.5px 4px 7.5px 5px"},["& .".concat(wU.endAdornment)]:{right:9}},["& .".concat(fU.root,".").concat(oB.sizeSmall)]:{paddingTop:6,paddingBottom:6,paddingLeft:6,["& .".concat(wU.input)]:{padding:"2.5px 4px 2.5px 8px"}},["& .".concat(gU.root)]:{paddingTop:19,paddingLeft:8,[".".concat(wU.hasPopupIcon,"&, .").concat(wU.hasClearIcon,"&")]:{paddingRight:39},[".".concat(wU.hasPopupIcon,".").concat(wU.hasClearIcon,"&")]:{paddingRight:65},["& .".concat(gU.input)]:{padding:"7px 4px"},["& .".concat(wU.endAdornment)]:{right:9}},["& .".concat(gU.root,".").concat(oB.sizeSmall)]:{paddingBottom:1,["& .".concat(gU.input)]:{padding:"2.5px 4px"}},["& .".concat(oB.hiddenLabel)]:{paddingTop:8},["& .".concat(gU.root,".").concat(oB.hiddenLabel)]:{paddingTop:0,paddingBottom:0,["& .".concat(wU.input)]:{paddingTop:16,paddingBottom:17}},["& .".concat(gU.root,".").concat(oB.hiddenLabel,".").concat(oB.sizeSmall)]:{["& .".concat(wU.input)]:{paddingTop:8,paddingBottom:9}},["& .".concat(wU.input)]:{flexGrow:1,textOverflow:"ellipsis",opacity:0},variants:[{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{["& .".concat(wU.tag)]:{margin:2,maxWidth:"calc(100% - 4px)"}}},{props:{inputFocused:!0},style:{["& .".concat(wU.input)]:{opacity:1}}},{props:{multiple:!0},style:{["& .".concat(wU.inputRoot)]:{flexWrap:"wrap"}}}]}),DU=UM("div",{name:"MuiAutocomplete",slot:"EndAdornment",overridesResolver:(e,t)=>t.endAdornment})({position:"absolute",right:0,top:"50%",transform:"translate(0, -50%)"}),OU=UM(YV,{name:"MuiAutocomplete",slot:"ClearIndicator",overridesResolver:(e,t)=>t.clearIndicator})({marginRight:-2,padding:4,visibility:"hidden"}),NU=UM(YV,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.popupIndicator,n.popupOpen&&t.popupIndicatorOpen]}})({padding:2,marginRight:-2,variants:[{props:{popupOpen:!0},style:{transform:"rotate(180deg)"}}]}),MU=UM(Oz,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["& .".concat(wU.option)]:t.option},t.popper,n.disablePortal&&t.popperDisablePortal]}})(QF((e=>{let{theme:t}=e;return{zIndex:(t.vars||t).zIndex.modal,variants:[{props:{disablePortal:!0},style:{position:"absolute"}}]}}))),LU=UM(qz,{name:"MuiAutocomplete",slot:"Paper",overridesResolver:(e,t)=>t.paper})(QF((e=>{let{theme:t}=e;return d(d({},t.typography.body1),{},{overflow:"auto"})}))),FU=UM("div",{name:"MuiAutocomplete",slot:"Loading",overridesResolver:(e,t)=>t.loading})(QF((e=>{let{theme:t}=e;return{color:(t.vars||t).palette.text.secondary,padding:"14px 16px"}}))),BU=UM("div",{name:"MuiAutocomplete",slot:"NoOptions",overridesResolver:(e,t)=>t.noOptions})(QF((e=>{let{theme:t}=e;return{color:(t.vars||t).palette.text.secondary,padding:"14px 16px"}}))),jU=UM("ul",{name:"MuiAutocomplete",slot:"Listbox",overridesResolver:(e,t)=>t.listbox})(QF((e=>{let{theme:t}=e;return{listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",["& .".concat(wU.option)]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[t.breakpoints.up("sm")]:{minHeight:"auto"},["&.".concat(wU.focused)]:{backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},["&.".concat(wU.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):gA(t.palette.primary.main,t.palette.action.selectedOpacity),["&.".concat(wU.focused)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):gA(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(t.vars||t).palette.action.selected}},["&.".concat(wU.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):gA(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}}}}}))),zU=UM(Bz,{name:"MuiAutocomplete",slot:"GroupLabel",overridesResolver:(e,t)=>t.groupLabel})(QF((e=>{let{theme:t}=e;return{backgroundColor:(t.vars||t).palette.background.paper,top:-8}}))),VU=UM("ul",{name:"MuiAutocomplete",slot:"GroupUl",overridesResolver:(e,t)=>t.groupUl})({padding:0,["& .".concat(wU.option)]:{paddingLeft:24}}),UU=t.forwardRef((function(e,n){const r=$F({props:e,name:"MuiAutocomplete"}),{autoComplete:o=!1,autoHighlight:i=!1,autoSelect:s=!1,blurOnSelect:l=!1,ChipProps:c,className:u,clearIcon:h=RU||(RU=(0,UP.jsx)(vU,{fontSize:"small"})),clearOnBlur:p=!r.freeSolo,clearOnEscape:f=!1,clearText:m="Clear",closeText:g="Close",componentsProps:v,defaultValue:y=(r.multiple?[]:null),disableClearable:b=!1,disableCloseOnSelect:w=!1,disabled:C=!1,disabledItemsFocusable:_=!1,disableListWrap:x=!1,disablePortal:S=!1,filterOptions:k,filterSelectedOptions:I=!1,forcePopupIcon:E="auto",freeSolo:T=!1,fullWidth:R=!1,getLimitTagsText:P=e=>"+".concat(e),getOptionDisabled:A,getOptionKey:D,getOptionLabel:O,isOptionEqualToValue:N,groupBy:M,handleHomeEndKeys:L=!r.freeSolo,id:F,includeInputInList:B=!1,inputValue:j,limitTags:z=-1,ListboxComponent:V,ListboxProps:U,loading:H=!1,loadingText:q="Loading\u2026",multiple:W=!1,noOptionsText:G="No options",onChange:K,onClose:Q,onHighlightChange:Y,onInputChange:X,onOpen:$,open:J,openOnFocus:Z=!1,openText:ee="Open",options:te,PaperComponent:ne,PopperComponent:re,popupIcon:oe=PU||(PU=(0,UP.jsx)(yU,{})),readOnly:ie=!1,renderGroup:ae,renderInput:se,renderOption:le,renderTags:ce,selectOnFocus:ue=!r.freeSolo,size:de="medium",slots:he={},slotProps:pe={},value:fe}=r,me=a(r,kU),{getRootProps:ge,getInputProps:ve,getInputLabelProps:ye,getPopupIndicatorProps:be,getClearProps:we,getTagProps:Ce,getListboxProps:_e,getOptionProps:xe,value:Se,dirty:ke,expanded:Ie,id:Ee,popupOpen:Te,focused:Re,focusedTag:Pe,anchorEl:Ae,setAnchorEl:De,inputValue:Oe,groupedOptions:Ne}=GB(d(d({},r),{},{componentName:"Autocomplete"})),Me=!b&&!C&&ke&&!ie,Le=(!T||!0===E)&&!1!==E,{onMouseDown:Fe}=ve(),Be=_e(),{ref:je}=Be,ze=a(Be,IU),Ve=O||(e=>{var t;return null!==(t=e.label)&&void 0!==t?t:e}),Ue=d(d({},r),{},{disablePortal:S,expanded:Ie,focused:Re,fullWidth:R,getOptionLabel:Ve,hasClearIcon:Me,hasPopupIcon:Le,inputFocused:-1===Pe,popupOpen:Te,size:de}),He=(e=>{const{classes:t,disablePortal:n,expanded:r,focused:o,fullWidth:i,hasClearIcon:a,hasPopupIcon:s,inputFocused:l,popupOpen:c,size:u}=e;return nA({root:["root",r&&"expanded",o&&"focused",i&&"fullWidth",a&&"hasClearIcon",s&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",l&&"inputFocused"],tag:["tag","tagSize".concat(JF(u))],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",c&&"popupIndicatorOpen"],popper:["popper",n&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]},bU,t)})(Ue),qe={slots:d({paper:ne,popper:re},he),slotProps:d(d({chip:c,listbox:U},v),pe)},[We,Ge]=SU("listbox",{elementType:jU,externalForwardedProps:qe,ownerState:Ue,className:He.listbox,additionalProps:ze,ref:je}),[Ke,Qe]=SU("paper",{elementType:qz,externalForwardedProps:qe,ownerState:Ue,className:He.paper}),[Ye,Xe]=SU("popper",{elementType:Oz,externalForwardedProps:qe,ownerState:Ue,className:He.popper,additionalProps:{disablePortal:S,style:{width:Ae?Ae.clientWidth:null},role:"presentation",anchorEl:Ae,open:Te}});let $e;if(W&&Se.length>0){const e=e=>d({className:He.tag,disabled:C},Ce(e));$e=ce?ce(Se,e,Ue):Se.map(((t,n)=>{const r=e({index:n}),{key:o}=r,i=a(r,EU);return(0,UP.jsx)(uU,d(d({label:Ve(t),size:de},i),qe.slotProps.chip),o)}))}if(z>-1&&Array.isArray($e)){const e=$e.length-z;!Re&&e>0&&($e=$e.splice(0,z),$e.push((0,UP.jsx)("span",{className:He.tag,children:P(e)},$e.length)))}const Je=ae||(e=>(0,UP.jsxs)("li",{children:[(0,UP.jsx)(zU,{className:He.groupLabel,ownerState:Ue,component:"div",children:e.group}),(0,UP.jsx)(VU,{className:He.groupUl,ownerState:Ue,children:e.children})]},e.key)),Ze=le||((e,t)=>{const{key:n}=e,r=a(e,TU);return(0,UP.jsx)("li",d(d({},r),{},{children:Ve(t)}),n)}),et=(e,t)=>{const n=xe({option:e,index:t});return Ze(d(d({},n),{},{className:He.option}),e,{selected:n["aria-selected"],index:t,inputValue:Oe},Ue)},tt=qe.slotProps.clearIndicator,nt=qe.slotProps.popupIndicator;return(0,UP.jsxs)(t.Fragment,{children:[(0,UP.jsx)(AU,d(d({ref:n,className:ZP(He.root,u),ownerState:Ue},ge(me)),{},{children:se({id:Ee,disabled:C,fullWidth:!0,size:"small"===de?"small":void 0,InputLabelProps:ye(),InputProps:d({ref:De,className:He.inputRoot,startAdornment:$e,onMouseDown:e=>{e.target===e.currentTarget&&Fe(e)}},(Me||Le)&&{endAdornment:(0,UP.jsxs)(DU,{className:He.endAdornment,ownerState:Ue,children:[Me?(0,UP.jsx)(OU,d(d(d({},we()),{},{"aria-label":m,title:m,ownerState:Ue},tt),{},{className:ZP(He.clearIndicator,null===tt||void 0===tt?void 0:tt.className),children:h})):null,Le?(0,UP.jsx)(NU,d(d(d({},be()),{},{disabled:C,"aria-label":Te?g:ee,title:Te?g:ee,ownerState:Ue},nt),{},{className:ZP(He.popupIndicator,null===nt||void 0===nt?void 0:nt.className),children:oe})):null]})}),inputProps:d({className:He.input,disabled:C,readOnly:ie},ve())})})),Ae?(0,UP.jsx)(MU,d(d({as:Ye},Xe),{},{children:(0,UP.jsxs)(LU,d(d({as:Ke},Qe),{},{children:[H&&0===Ne.length?(0,UP.jsx)(FU,{className:He.loading,ownerState:Ue,children:q}):null,0!==Ne.length||T||H?null:(0,UP.jsx)(BU,{className:He.noOptions,ownerState:Ue,role:"presentation",onMouseDown:e=>{e.preventDefault()},children:G}),Ne.length>0?(0,UP.jsx)(We,d(d({as:V},Ge),{},{children:Ne.map(((e,t)=>M?Je({key:e.key,group:e.group,children:e.options.map(((t,n)=>et(t,e.index+n)))}):et(e,t)))})):null]}))})):null]})})),HU=UU,qU=["item","applyValue","type","apiRef","focusElementRef","color","error","helperText","size","variant"],WU=["key"];function GU(e){const{item:n,applyValue:r,type:o,apiRef:a,focusElementRef:s,color:l,error:c,helperText:u,size:d,variant:h="standard"}=e,p=i(e,qU),f={color:l,error:c,helperText:u,size:d,variant:h},[m,g]=t.useState(n.value||[]),v=IB(),y=bL();t.useEffect((()=>{var e;const t=null!==(e=n.value)&&void 0!==e?e:[];g(t.map(String))}),[n.value]);const b=t.useCallback(((e,t)=>{g(t.map(String)),r(KP({},n,{value:[...t.map((e=>"number"===o?Number(e):e))]}))}),[r,n,o]);return(0,UP.jsx)(HU,KP({multiple:!0,freeSolo:!0,options:[],filterOptions:(e,t)=>{const{inputValue:n}=t;return null==n||""===n?[]:[n]},id:v,value:m,onChange:b,renderTags:(e,t)=>e.map(((e,n)=>{const r=t({index:n}),{key:o}=r,a=i(r,WU);return(0,UP.jsx)(y.slots.baseChip,KP({variant:"outlined",size:"small",label:e},a),o)})),renderInput:e=>{var t;return(0,UP.jsx)(y.slots.baseTextField,KP({},e,{label:a.current.getLocaleText("filterPanelInputLabel"),placeholder:a.current.getLocaleText("filterPanelInputPlaceholder"),InputLabelProps:KP({},e.InputLabelProps,{shrink:!0}),inputRef:s,type:o||"text"},f,null===(t=y.slotProps)||void 0===t?void 0:t.baseTextField))}},p))}var KU=function(e){return e.And="and",e.Or="or",e}(KU||{});const QU=()=>({items:[],logicOperator:KU.And,quickFilterValues:[],quickFilterLogicOperator:KU.And});function YU(e){return{current:e.current.getPublicApi()}}let XU;const $U=(e,t)=>{const n=KP({},e);if(null==n.id&&(n.id=Math.round(1e5*Math.random())),null==n.operator){const e=GL(t)[n.field];n.operator=e&&e.filterOperators[0].value}return n},JU=(e,t,n)=>{const r=e.items.length>1;let o;o=r&&t?[e.items[0]]:e.items;const i=r&&o.some((e=>null==e.id));return o.some((e=>null==e.operator))||i?KP({},e,{items:o.map((e=>$U(e,n)))}):e.items!==o?KP({},e,{items:o}):e},ZU=(e,t,n)=>r=>KP({},r,{filterModel:JU(e,t,n)}),eH=e=>"string"===typeof e?e.normalize("NFD").replace(/[\u0300-\u036f]/g,""):e,tH=(e,t)=>{if(!e.field||!e.operator)return null;const n=t.current.getColumn(e.field);if(!n)return null;let r;if(n.valueParser){var o;const i=n.valueParser;r=Array.isArray(e.value)?null===(o=e.value)||void 0===o?void 0:o.map((e=>i(e,void 0,n,t))):i(e.value,void 0,n,t)}else r=e.value;const{ignoreDiacritics:i}=t.current.rootProps;i&&(r=eH(r));const a=KP({},e,{value:r}),s=n.filterOperators;if(null===s||void 0===s||!s.length)throw new Error("MUI X: No filter operators found for column '".concat(n.field,"'."));const l=s.find((e=>e.value===a.operator));if(!l)throw new Error("MUI X: No filter operator found for column '".concat(n.field,"' and operator value '").concat(a.operator,"'."));const c=YU(t),u=l.getApplyFilterFn(a,n);return"function"!==typeof u?null:{item:a,fn:e=>{let r=t.current.getRowValue(e,n);return i&&(r=eH(r)),u(r,e,n,c)}}};let nH=1;const rH=(e,t,n)=>{const{items:r}=e,o=r.map((e=>tH(e,t))).filter((e=>!!e));if(0===o.length)return null;if(n||!function(){if(void 0!==XU)return XU;try{XU=new Function("return true")()}catch(e){XU=!1}return XU}())return(e,t)=>{const n={};for(let r=0;r<o.length;r+=1){const i=o[r];t&&!t(i.item.field)||(n[i.item.id]=i.fn(e))}return n};const i=new Function("appliers","row","shouldApplyFilter",'"use strict";\n'.concat(o.map(((e,t)=>"const shouldApply".concat(t," = !shouldApplyFilter || shouldApplyFilter(").concat(JSON.stringify(e.item.field),");"))).join("\n"),"\n\nconst result$$ = {\n").concat(o.map(((e,t)=>"  ".concat(JSON.stringify(String(e.item.id)),": !shouldApply").concat(t," ? false : appliers[").concat(t,"].fn(row),"))).join("\n"),"\n};\n\nreturn result$$;").replaceAll("$$",String(nH)));nH+=1;return(e,t)=>i(o,e,t)},oH=e=>{var t;return null===(t=e.quickFilterExcludeHiddenColumns)||void 0===t||t},iH=(e,t,n)=>{const r=rH(e,t,n),o=((e,t)=>{var n,r;const o=null!==(n=null===(r=e.quickFilterValues)||void 0===r?void 0:r.filter(Boolean))&&void 0!==n?n:[];if(0===o.length)return null;const i=oH(e)?XL(t):WL(t),a=[],{ignoreDiacritics:s}=t.current.rootProps,l=YU(t);return i.forEach((e=>{const n=t.current.getColumn(e),r=null===n||void 0===n?void 0:n.getApplyQuickFilterFn;r&&a.push({column:n,appliers:o.map((e=>{const t=s?eH(e):e;return{fn:r(t,n,l)}}))})})),function(e,n){const r={};e:for(let i=0;i<o.length;i+=1){const c=o[i];for(let o=0;o<a.length;o+=1){const{column:u,appliers:d}=a[o],{field:h}=u;if(n&&!n(h))continue;const p=d[i];let f=t.current.getRowValue(e,u);if(null!==p.fn&&(s&&(f=eH(f)),p.fn(f,e,u,l))){r[c]=!0;continue e}}r[c]=!1}return r}})(e,t);return function(e,t,n){var i,a;n.passingFilterItems=null!==(i=null===r||void 0===r?void 0:r(e,t))&&void 0!==i?i:null,n.passingQuickFilterValues=null!==(a=null===o||void 0===o?void 0:o(e,t))&&void 0!==a?a:null}},aH=e=>null!=e,sH=(e,t,n,r,o)=>{const i=((e,t,n)=>(e.cleanedFilterItems||(e.cleanedFilterItems=n.filter((e=>null!==tH(e,t)))),e.cleanedFilterItems))(o,r,n.items),a=e.filter(aH),s=t.filter(aH);if(a.length>0){var l;const e=e=>a.some((t=>t[e.id]));if((null!==(l=n.logicOperator)&&void 0!==l?l:QU().logicOperator)===KU.And){if(!i.every(e))return!1}else{if(!i.some(e))return!1}}if(s.length>0&&null!=n.quickFilterValues){var c;const e=e=>s.some((t=>t[e]));if((null!==(c=n.quickFilterLogicOperator)&&void 0!==c?c:QU().quickFilterLogicOperator)===KU.And){if(!n.quickFilterValues.every(e))return!1}else{if(!n.quickFilterValues.some(e))return!1}}return!0},lH=(e,t)=>n=>{if(!n.value)return null;const r=e?n.value:n.value.trim(),o=new RegExp(DB(r),"i");return e=>{if(null==e)return t;const n=o.test(String(e));return t?!n:n}},cH=(e,t)=>n=>{if(!n.value)return null;const r=e?n.value:n.value.trim(),o=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"});return e=>{if(null==e)return t;const n=0===o.compare(r,e.toString());return t?!n:n}},uH=e=>()=>t=>{const n=""===t||null==t;return e?!n:n},dH={width:100,minWidth:50,maxWidth:1/0,hideable:!0,sortable:!0,resizable:!0,filterable:!0,groupable:!0,pinnable:!0,aggregable:!0,editable:!1,sortComparator:(e,t)=>{const n=wB(e,t);return null!==n?n:"string"===typeof e?CB.compare(e.toString(),t.toString()):e-t},type:"string",align:"left",filterOperators:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return[{value:"contains",getApplyFilterFn:lH(e,!1),InputComponent:TB},{value:"doesNotContain",getApplyFilterFn:lH(e,!0),InputComponent:TB},{value:"equals",getApplyFilterFn:cH(e,!1),InputComponent:TB},{value:"doesNotEqual",getApplyFilterFn:cH(e,!0),InputComponent:TB},{value:"startsWith",getApplyFilterFn:t=>{if(!t.value)return null;const n=e?t.value:t.value.trim(),r=new RegExp("^".concat(DB(n),".*$"),"i");return e=>null!=e&&r.test(e.toString())},InputComponent:TB},{value:"endsWith",getApplyFilterFn:t=>{if(!t.value)return null;const n=e?t.value:t.value.trim(),r=new RegExp(".*".concat(DB(n),"$"),"i");return e=>null!=e&&r.test(e.toString())},InputComponent:TB},{value:"isEmpty",getApplyFilterFn:uH(!1),requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFn:uH(!0),requiresFilterValue:!1},{value:"isAnyOf",getApplyFilterFn:t=>{if(!Array.isArray(t.value)||0===t.value.length)return null;const n=e?t.value:t.value.map((e=>e.trim())),r=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"});return e=>null!=e&&n.some((t=>0===r.compare(t,e.toString()||"")))},InputComponent:GU}]}(),renderEditCell:e=>(0,UP.jsx)(gB,KP({},e)),getApplyQuickFilterFn:e=>{if(!e)return null;const t=new RegExp(DB(e),"i");return(e,n,r,o)=>{let i=o.current.getRowFormattedValue(n,r);return o.current.ignoreDiacritics&&(i=eH(i)),null!=i&&t.test(i.toString())}}},hH=e=>null==e?null:Number(e),pH=KP({},dH,{type:"number",align:"right",headerAlign:"right",sortComparator:_B,valueParser:e=>""===e?null:Number(e),valueFormatter:e=>function(e){return"number"===typeof e&&!Number.isNaN(e)}(e)?e.toLocaleString():e||"",filterOperators:[{value:"=",getApplyFilterFn:e=>null==e.value||Number.isNaN(e.value)?null:t=>hH(t)===e.value,InputComponent:TB,InputComponentProps:{type:"number"}},{value:"!=",getApplyFilterFn:e=>null==e.value||Number.isNaN(e.value)?null:t=>hH(t)!==e.value,InputComponent:TB,InputComponentProps:{type:"number"}},{value:">",getApplyFilterFn:e=>null==e.value||Number.isNaN(e.value)?null:t=>null!=t&&hH(t)>e.value,InputComponent:TB,InputComponentProps:{type:"number"}},{value:">=",getApplyFilterFn:e=>null==e.value||Number.isNaN(e.value)?null:t=>null!=t&&hH(t)>=e.value,InputComponent:TB,InputComponentProps:{type:"number"}},{value:"<",getApplyFilterFn:e=>null==e.value||Number.isNaN(e.value)?null:t=>null!=t&&hH(t)<e.value,InputComponent:TB,InputComponentProps:{type:"number"}},{value:"<=",getApplyFilterFn:e=>null==e.value||Number.isNaN(e.value)?null:t=>null!=t&&hH(t)<=e.value,InputComponent:TB,InputComponentProps:{type:"number"}},{value:"isEmpty",getApplyFilterFn:()=>e=>null==e,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFn:()=>e=>null!=e,requiresFilterValue:!1},{value:"isAnyOf",getApplyFilterFn:e=>Array.isArray(e.value)&&0!==e.value.length?t=>null!=t&&e.value.includes(Number(t)):null,InputComponent:GU,InputComponentProps:{type:"number"}}],getApplyQuickFilterFn:e=>null==e||Number.isNaN(e)||""===e?null:t=>hH(t)===hH(e)}),fH=["item","applyValue","type","apiRef","focusElementRef","InputProps","isFilterActive","clearButton","tabIndex","disabled"];function mH(e,t){if(null==e)return"";const n=new Date(e);return Number.isNaN(n.getTime())?"":"date"===t?n.toISOString().substring(0,10):"datetime-local"===t?(n.setMinutes(n.getMinutes()-n.getTimezoneOffset()),n.toISOString().substring(0,19)):n.toISOString().substring(0,10)}function gH(e){var n;const{item:r,applyValue:o,type:a,apiRef:s,focusElementRef:l,InputProps:c,clearButton:u,tabIndex:d,disabled:h}=e,p=i(e,fH),f=CF(),[m,g]=t.useState((()=>mH(r.value,a))),[v,y]=t.useState(!1),b=IB(),w=bL(),C=t.useCallback((e=>{f.clear();const t=e.target.value;g(t),y(!0),f.start(w.filterDebounceMs,(()=>{const e=new Date(t);o(KP({},r,{value:Number.isNaN(e.getTime())?void 0:e})),y(!1)}))}),[o,r,w.filterDebounceMs,f]);return t.useEffect((()=>{const e=mH(r.value,a);g(e)}),[r.value,a]),(0,UP.jsx)(w.slots.baseTextField,KP({fullWidth:!0,id:b,label:s.current.getLocaleText("filterPanelInputLabel"),placeholder:s.current.getLocaleText("filterPanelInputPlaceholder"),value:m,onChange:C,variant:"standard",type:a||"text",InputLabelProps:{shrink:!0},inputRef:l,InputProps:KP({},v||u?{endAdornment:v?(0,UP.jsx)(w.slots.loadIcon,{fontSize:"small",color:"action"}):u}:{},{disabled:h},c,{inputProps:KP({max:"datetime-local"===a?"9999-12-31T23:59":"9999-12-31",tabIndex:d},null===c||void 0===c?void 0:c.inputProps)})},p,null===(n=w.slotProps)||void 0===n?void 0:n.baseTextField))}function vH(e,t,n,r){if(!e.value)return null;const o=new Date(e.value);n?o.setSeconds(0,0):(o.setMinutes(o.getMinutes()+o.getTimezoneOffset()),o.setHours(0,0,0,0));const i=o.getTime();return e=>{if(!e)return!1;if(r)return t(e.getTime(),i);const o=new Date(e);return n?o.setSeconds(0,0):o.setHours(0,0,0,0),t(o.getTime(),i)}}const yH=e=>[{value:"is",getApplyFilterFn:t=>vH(t,((e,t)=>e===t),e),InputComponent:gH,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"not",getApplyFilterFn:t=>vH(t,((e,t)=>e!==t),e),InputComponent:gH,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"after",getApplyFilterFn:t=>vH(t,((e,t)=>e>t),e),InputComponent:gH,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"onOrAfter",getApplyFilterFn:t=>vH(t,((e,t)=>e>=t),e),InputComponent:gH,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"before",getApplyFilterFn:t=>vH(t,((e,t)=>e<t),e,!e),InputComponent:gH,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"onOrBefore",getApplyFilterFn:t=>vH(t,((e,t)=>e<=t),e),InputComponent:gH,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"isEmpty",getApplyFilterFn:()=>e=>null==e,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFn:()=>e=>null!=e,requiresFilterValue:!1}],bH=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","hasFocus","inputProps","isValidating","isProcessingProps","onValueChange"],wH=UM(pB)({fontSize:"inherit"});function CH(e){const{id:n,value:r,field:o,colDef:a,hasFocus:s,inputProps:l,onValueChange:c}=e,u=i(e,bH),d="dateTime"===a.type,h=sF(),p=t.useRef(null),f=t.useMemo((()=>{let e,t;if(e=null==r?null:r instanceof Date?r:new Date((null!==r&&void 0!==r?r:"").toString()),null==e||Number.isNaN(e.getTime()))t="";else{t=new Date(e.getTime()-60*e.getTimezoneOffset()*1e3).toISOString().substr(0,d?16:10)}return{parsed:e,formatted:t}}),[r,d]),[m,g]=t.useState(f),v=(e=>{const{classes:t}=e;return nA({root:["editInputCell"]},QM,t)})({classes:bL().classes}),y=t.useCallback((e=>{if(""===e)return null;const[t,n]=e.split("T"),[r,o,i]=t.split("-"),a=new Date;if(a.setFullYear(Number(r),Number(o)-1,Number(i)),a.setHours(0,0,0,0),n){const[e,t]=n.split(":");a.setHours(Number(e),Number(t),0,0)}return a}),[]),b=t.useCallback((async e=>{const t=e.target.value,r=y(t);c&&await c(e,r),g({parsed:r,formatted:t}),h.current.setEditCellValue({id:n,field:o,value:r},e)}),[h,o,n,c,y]);return t.useEffect((()=>{g((e=>{var t,n;return f.parsed!==e.parsed&&(null===(t=f.parsed)||void 0===t?void 0:t.getTime())!==(null===(n=e.parsed)||void 0===n?void 0:n.getTime())?f:e}))}),[f]),iA((()=>{s&&p.current.focus()}),[s]),(0,UP.jsx)(wH,KP({inputRef:p,fullWidth:!0,className:v.root,type:d?"datetime-local":"date",inputProps:KP({max:d?"9999-12-31T23:59":"9999-12-31"},l),value:m.formatted,onChange:b},u))}const _H=e=>(0,UP.jsx)(CH,KP({},e));function xH(e){let{value:t,columnType:n,rowId:r,field:o}=e;if(!(t instanceof Date))throw new Error(["MUI X: `".concat(n,"` column type only accepts `Date` objects as values."),"Use `valueGetter` to transform the value into a `Date` object.","Row ID: ".concat(r,', field: "').concat(o,'".')].join("\n"))}const SH=KP({},dH,{type:"date",sortComparator:xB,valueFormatter:(e,t,n,r)=>{if(!e)return"";return xH({value:e,columnType:"date",rowId:r.current.getRowId(t),field:n.field}),e.toLocaleDateString()},filterOperators:yH(),renderEditCell:_H,pastedValueParser:e=>new Date(e)}),kH=KP({},dH,{type:"dateTime",sortComparator:xB,valueFormatter:(e,t,n,r)=>{if(!e)return"";return xH({value:e,columnType:"dateTime",rowId:r.current.getRowId(t),field:n.field}),e.toLocaleString()},filterOperators:yH(!0),renderEditCell:_H,pastedValueParser:e=>new Date(e)}),IH=e=>e.rows,EH=LL(IH,(e=>e.totalRowCount)),TH=LL(IH,(e=>e.loading)),RH=LL(IH,(e=>e.totalTopLevelRowCount)),PH=LL(IH,(e=>e.dataRowIdToModelLookup)),AH=LL(IH,(e=>e.dataRowIdToIdLookup)),DH=LL(IH,(e=>e.tree)),OH=LL(IH,(e=>e.groupsToFetch)),NH=LL(IH,(e=>e.groupingName)),MH=LL(IH,(e=>e.treeDepths)),LH=BL(IH,(e=>{var t;const n=Object.entries(e.treeDepths);return 0===n.length?1:(null!==(t=n.filter((e=>{let[,t]=e;return t>0})).map((e=>{let[t]=e;return Number(t)})).sort(((e,t)=>t-e))[0])&&void 0!==t?t:0)+1})),FH=LL(IH,(e=>e.dataRowIds)),BH=BL(LL(IH,(e=>null===e||void 0===e?void 0:e.additionalRowGroups)),(e=>{var t,n,r,o;const i=null===e||void 0===e?void 0:e.pinnedRows;return{bottom:null!==(t=null===i||void 0===i||null===(n=i.bottom)||void 0===n?void 0:n.map((e=>{var t;return{id:e.id,model:null!==(t=e.model)&&void 0!==t?t:{}}})))&&void 0!==t?t:[],top:null!==(r=null===i||void 0===i||null===(o=i.top)||void 0===o?void 0:o.map((e=>{var t;return{id:e.id,model:null!==(t=e.model)&&void 0!==t?t:{}}})))&&void 0!==r?r:[]}})),jH=LL(BH,(e=>{var t,n;return((null===e||void 0===e||null===(t=e.top)||void 0===t?void 0:t.length)||0)+((null===e||void 0===e||null===(n=e.bottom)||void 0===n?void 0:n.length)||0)})),zH="auto-generated-group-node-root",VH=Symbol("mui.id_autogenerated");const UH=(e,t,n)=>{const r=t?t(e):e.id;return function(e,t){if(null==e)throw new Error(["MUI X: The Data Grid component requires all rows to have a unique `id` property.","Alternatively, you can use the `getRowId` prop to specify a custom id for each row.",arguments.length>2&&void 0!==arguments[2]?arguments[2]:"A row was provided without id in the rows prop:",JSON.stringify(t)].join("\n"))}(r,e,n),r},HH=e=>{let{rows:t,getRowId:n,loading:r,rowCount:o}=e;const i={type:"full",rows:[]},a={},s={};for(let l=0;l<t.length;l+=1){const e=t[l],r=UH(e,n);a[r]=e,s[r]=r,i.rows.push(r)}return{rowsBeforePartialUpdates:t,loadingPropBeforePartialUpdates:r,rowCountPropBeforePartialUpdates:o,updates:i,dataRowIdToIdLookup:s,dataRowIdToModelLookup:a}},qH=e=>{let{tree:t,rowCountProp:n=0}=e;const r=t[zH];return Math.max(n,r.children.length+(null==r.footerId?0:1))},WH=e=>{let{apiRef:t,rowCountProp:n=0,loadingProp:r,previousTree:o,previousTreeDepths:i,previousGroupsToFetch:a}=e;const s=t.current.caches.rows,{tree:l,treeDepths:c,dataRowIds:u,groupingName:d,groupsToFetch:h=[]}=t.current.applyStrategyProcessor("rowTreeCreation",{previousTree:o,previousTreeDepths:i,updates:s.updates,dataRowIdToIdLookup:s.dataRowIdToIdLookup,dataRowIdToModelLookup:s.dataRowIdToModelLookup,previousGroupsToFetch:a}),p=t.current.unstable_applyPipeProcessors("hydrateRows",{tree:l,treeDepths:c,dataRowIdToIdLookup:s.dataRowIdToIdLookup,dataRowIds:u,dataRowIdToModelLookup:s.dataRowIdToModelLookup});return t.current.caches.rows.updates={type:"partial",actions:{insert:[],modify:[],remove:[]},idToActionLookup:{}},KP({},p,{totalRowCount:Math.max(n,p.dataRowIds.length),totalTopLevelRowCount:qH({tree:p.tree,rowCountProp:n}),groupingName:d,loading:r,groupsToFetch:h})},GH=e=>"skeletonRow"===e.type||"footer"===e.type||"group"===e.type&&e.isAutoGenerated||"pinnedRow"===e.type&&e.isAutoGenerated,KH=(e,t,n)=>{const r=e[t];if("group"!==r.type)return[];const o=[];for(let i=0;i<r.children.length;i+=1){const t=r.children[i];n&&GH(e[t])||o.push(t);const a=KH(e,t,n);for(let e=0;e<a.length;e+=1)o.push(a[e])}return n||null==r.footerId||o.push(r.footerId),o},QH=e=>{var t,n,r;let{previousCache:o,getRowId:i,updates:a,groupKeys:s}=e;if("full"===o.updates.type)throw new Error("MUI X: Unable to prepare a partial update if a full update is not applied yet.");const l=new Map;a.forEach((e=>{const t=UH(e,i,"A row was provided without id when calling updateRows():");l.has(t)?l.set(t,KP({},l.get(t),e)):l.set(t,e)}));const c={type:"partial",actions:{insert:[...null!==(t=o.updates.actions.insert)&&void 0!==t?t:[]],modify:[...null!==(n=o.updates.actions.modify)&&void 0!==n?n:[]],remove:[...null!==(r=o.updates.actions.remove)&&void 0!==r?r:[]]},idToActionLookup:KP({},o.updates.idToActionLookup),groupKeys:s},u=KP({},o.dataRowIdToModelLookup),d=KP({},o.dataRowIdToIdLookup),h={insert:{},modify:{},remove:{}};l.forEach(((e,t)=>{const n=c.idToActionLookup[t];if("delete"===e._action){if("remove"===n||!u[t])return;return null!=n&&(h[n][t]=!0),c.actions.remove.push(t),delete u[t],void delete d[t]}const r=u[t];if(r)return"remove"===n?(h.remove[t]=!0,c.actions.modify.push(t)):null==n&&c.actions.modify.push(t),void(u[t]=KP({},r,e));"remove"===n?(h.remove[t]=!0,c.actions.insert.push(t)):null==n&&c.actions.insert.push(t),u[t]=e,d[t]=t}));const p=Object.keys(h);for(let f=0;f<p.length;f+=1){const e=p[f],t=h[e];Object.keys(t).length>0&&(c.actions[e]=c.actions[e].filter((e=>!t[e])))}return{dataRowIdToModelLookup:u,dataRowIdToIdLookup:d,updates:c,rowsBeforePartialUpdates:o.rowsBeforePartialUpdates,loadingPropBeforePartialUpdates:o.loadingPropBeforePartialUpdates,rowCountPropBeforePartialUpdates:o.rowCountPropBeforePartialUpdates}};const YH="var(--DataGrid-overlayHeight, calc(var(--height) * 2))";function XH(e,t,n){const r=[];return t.forEach((t=>{const o=UH(t,n,"A row was provided without id when calling updateRows():"),i=e.current.getRowNode(o);if("pinnedRow"===(null===i||void 0===i?void 0:i.type)){const n=e.current.caches.pinnedRows,r=n.idLookup[o];r&&(n.idLookup[o]=KP({},r,t))}else r.push(t)})),r}const $H=(e,t,n)=>"number"===typeof e&&e>0?e:t,JH=(["MUI X: The `rowHeight` prop should be a number greater than 0.","The default value will be used instead."].join("\n"),["MUI X: The `getRowHeight` prop should return a number greater than 0 or 'auto'.","The default value will be used instead."].join("\n"),"__row_group_by_columns_group__"),ZH="__detail_panel_toggle__";let eq=function(e){return e[e.NONE=0]="NONE",e[e.LEFT=1]="LEFT",e[e.RIGHT=2]="RIGHT",e[e.VIRTUAL=3]="VIRTUAL",e}({});const tq=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","hasFocus","tabIndex","hideDescendantCount"];function nq(e){const{value:n,rowNode:r}=e,o=i(e,tq),a=sF(),s=bL(),l=(e=>{const{classes:t}=e;return nA({root:["booleanCell"]},QM,t)})({classes:s.classes}),c=sL(a,LH)>0&&"group"===r.type&&!1===s.treeData,u=t.useMemo((()=>n?s.slots.booleanCellTrueIcon:s.slots.booleanCellFalseIcon),[s.slots.booleanCellFalseIcon,s.slots.booleanCellTrueIcon,n]);return c&&void 0===n?null:(0,UP.jsx)(u,KP({fontSize:"small",className:l.root,titleAccess:a.current.getLocaleText(n?"booleanCellTrueLabel":"booleanCellFalseLabel"),"data-value":Boolean(n)},o))}const rq=t.memo(nq),oq=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","className","hasFocus","isValidating","isProcessingProps","error","onValueChange"];function iq(e){var n;const{id:r,value:o,field:a,className:s,hasFocus:l,onValueChange:c}=e,u=i(e,oq),d=sF(),h=t.useRef(null),p=IB(),[f,m]=t.useState(o),g=bL(),v=(e=>{const{classes:t}=e;return nA({root:["editBooleanCell"]},QM,t)})({classes:g.classes}),y=t.useCallback((async e=>{const t=e.target.checked;c&&await c(e,t),m(t),await d.current.setEditCellValue({id:r,field:a,value:t},e)}),[d,a,r,c]);return t.useEffect((()=>{m(o)}),[o]),iA((()=>{l&&h.current.focus()}),[l]),(0,UP.jsx)("label",KP({htmlFor:p,className:ZP(v.root,s)},u,{children:(0,UP.jsx)(g.slots.baseCheckbox,KP({id:p,inputRef:h,checked:Boolean(f),onChange:y,size:"small"},null===(n=g.slotProps)||void 0===n?void 0:n.baseCheckbox))}))}const aq=["item","applyValue","apiRef","focusElementRef","isFilterActive","clearButton","tabIndex","label","variant","InputLabelProps"],sq=e=>"true"===String(e).toLowerCase()||"false"!==String(e).toLowerCase()&&void 0,lq=UM("div")({display:"flex",alignItems:"center",width:"100%","& button":{margin:"auto 0px 5px 5px"}});function cq(e){var n,r,o,a;const{item:s,applyValue:l,apiRef:c,focusElementRef:u,clearButton:d,tabIndex:h,label:p,variant:f="standard"}=e,m=i(e,aq),[g,v]=t.useState(sq(s.value)),y=bL(),b=IB(),w=IB(),C=(null===(n=y.slotProps)||void 0===n?void 0:n.baseSelect)||{},_=null!==(r=C.native)&&void 0!==r&&r,x=(null===(o=y.slotProps)||void 0===o?void 0:o.baseSelectOption)||{},S=t.useCallback((e=>{const t=sq(e.target.value);v(t),l(KP({},s,{value:t}))}),[l,s]);t.useEffect((()=>{v(sq(s.value))}),[s.value]);const k=null!==p&&void 0!==p?p:c.current.getLocaleText("filterPanelInputLabel");return(0,UP.jsxs)(lq,{children:[(0,UP.jsxs)(y.slots.baseFormControl,{fullWidth:!0,children:[(0,UP.jsx)(y.slots.baseInputLabel,KP({},null===(a=y.slotProps)||void 0===a?void 0:a.baseInputLabel,{id:b,shrink:!0,variant:f,children:k})),(0,UP.jsxs)(y.slots.baseSelect,KP({labelId:b,id:w,label:k,value:void 0===g?"":String(g),onChange:S,variant:f,notched:"outlined"===f||void 0,native:_,displayEmpty:!0,inputProps:{ref:u,tabIndex:h}},m,C,{children:[(0,UP.jsx)(y.slots.baseSelectOption,KP({},x,{native:_,value:"",children:c.current.getLocaleText("filterValueAny")})),(0,UP.jsx)(y.slots.baseSelectOption,KP({},x,{native:_,value:"true",children:c.current.getLocaleText("filterValueTrue")})),(0,UP.jsx)(y.slots.baseSelectOption,KP({},x,{native:_,value:"false",children:c.current.getLocaleText("filterValueFalse")}))]}))]}),d]})}const uq=KP({},dH,{type:"boolean",display:"flex",align:"center",headerAlign:"center",renderCell:e=>e.field!==JH&&GH(e.rowNode)?"":(0,UP.jsx)(rq,KP({},e)),renderEditCell:e=>(0,UP.jsx)(iq,KP({},e)),sortComparator:_B,valueFormatter:(e,t,n,r)=>e?r.current.getLocaleText("booleanCellTrueLabel"):r.current.getLocaleText("booleanCellFalseLabel"),filterOperators:[{value:"is",getApplyFilterFn:e=>{const t=sq(e.value);return void 0===t?null:e=>Boolean(e)===t},InputComponent:cq}],getApplyQuickFilterFn:void 0,aggregable:!1,pastedValueParser:e=>(e=>{switch(e.toLowerCase().trim()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case"null":case"undefined":return!1;default:return}})(e)});var dq=function(e){return e.enterKeyDown="enterKeyDown",e.cellDoubleClick="cellDoubleClick",e.printableKeyDown="printableKeyDown",e.deleteKeyDown="deleteKeyDown",e.pasteKeyDown="pasteKeyDown",e}(dq||{}),hq=function(e){return e.cellFocusOut="cellFocusOut",e.escapeKeyDown="escapeKeyDown",e.enterKeyDown="enterKeyDown",e.tabKeyDown="tabKeyDown",e.shiftTabKeyDown="shiftTabKeyDown",e}(hq||{}),pq=function(e){return e.Cell="cell",e.Row="row",e}(pq||{}),fq=function(e){return e.Edit="edit",e.View="view",e}(fq||{}),mq=function(e){return e.Edit="edit",e.View="view",e}(mq||{});function gq(e){return"singleSelect"===(null===e||void 0===e?void 0:e.type)}function vq(e,t){if(e)return"function"===typeof e.valueOptions?e.valueOptions(KP({field:e.field},t)):e.valueOptions}function yq(e,t,n){if(void 0===t)return;const r=t.find((t=>{const r=n(t);return String(r)===String(e)}));return n(r)}const bq=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","className","hasFocus","isValidating","isProcessingProps","error","onValueChange","initialOpen"],wq=["MenuProps"];function Cq(e){var n,r,o;const a=bL(),{id:s,value:l,field:c,row:u,colDef:d,hasFocus:h,error:p,onValueChange:f,initialOpen:m=a.editMode===pq.Cell}=e,g=i(e,bq),v=sF(),y=t.useRef(null),b=t.useRef(null),[w,C]=t.useState(m),_=null!==(r=((null===(n=a.slotProps)||void 0===n?void 0:n.baseSelect)||{}).native)&&void 0!==r&&r,x=(null===(o=a.slotProps)||void 0===o?void 0:o.baseSelect)||{},{MenuProps:S}=x,k=i(x,wq);if(iA((()=>{var e;h&&(null===(e=b.current)||void 0===e||e.focus())}),[h]),!gq(d))return null;const I=vq(d,{id:s,row:u});if(!I)return null;const E=d.getOptionValue,T=d.getOptionLabel;return I&&d?(0,UP.jsx)(a.slots.baseSelect,KP({ref:y,inputRef:b,value:l,onChange:async e=>{if(!gq(d)||!I)return;C(!1);const t=yq(e.target.value,I,E);f&&await f(e,t),await v.current.setEditCellValue({id:s,field:c,value:t},e)},open:w,onOpen:e=>{(function(e){return!!e.key})(e)&&"Enter"===e.key||C(!0)},MenuProps:KP({onClose:(e,t)=>{if(a.editMode!==pq.Row){if("backdropClick"===t||"Escape"===e.key){const t=v.current.getCellParams(s,c);v.current.publishEvent("cellEditStop",KP({},t,{reason:"Escape"===e.key?hq.escapeKeyDown:hq.cellFocusOut}))}}else C(!1)}},S),error:p,native:_,fullWidth:!0},g,k,{children:I.map((e=>{var n;const r=E(e);return(0,t.createElement)(a.slots.baseSelectOption,KP({},(null===(n=a.slotProps)||void 0===n?void 0:n.baseSelectOption)||{},{native:_,key:r,value:r}),T(e))}))})):null}const _q=["item","applyValue","type","apiRef","focusElementRef","placeholder","tabIndex","label","variant","isFilterActive","clearButton","InputLabelProps"],xq=e=>{let{column:n,OptionComponent:r,getOptionLabel:o,getOptionValue:i,isSelectNative:a,baseSelectOptionProps:s}=e;return["",...vq(n)||[]].map((e=>{const n=i(e);let l=o(e);return""===l&&(l="\u2003"),(0,t.createElement)(r,KP({},s,{native:a,key:n,value:n}),l)}))},Sq=UM("div")({display:"flex",alignItems:"flex-end",width:"100%","& button":{margin:"auto 0px 5px 5px"}});function kq(e){var n,r,o,a,s,l,c,u;const{item:d,applyValue:h,type:p,apiRef:f,focusElementRef:m,placeholder:g,tabIndex:v,label:y,variant:b="standard",clearButton:w}=e,C=i(e,_q),_=null!==(n=d.value)&&void 0!==n?n:"",x=IB(),S=IB(),k=bL(),I=null!==(r=null===(o=k.slotProps)||void 0===o||null===(o=o.baseSelect)||void 0===o?void 0:o.native)&&void 0!==r&&r;let E=null;if(d.field){const e=f.current.getColumn(d.field);gq(e)&&(E=e)}const T=null===(a=E)||void 0===a?void 0:a.getOptionValue,R=null===(s=E)||void 0===s?void 0:s.getOptionLabel,P=t.useMemo((()=>vq(E)),[E]),A=t.useCallback((e=>{let t=e.target.value;t=yq(t,P,T),h(KP({},d,{value:t}))}),[P,T,h,d]);if(!gq(E))return null;const D=null!==y&&void 0!==y?y:f.current.getLocaleText("filterPanelInputLabel");return(0,UP.jsxs)(Sq,{children:[(0,UP.jsxs)(k.slots.baseFormControl,{fullWidth:!0,children:[(0,UP.jsx)(k.slots.baseInputLabel,KP({},null===(l=k.slotProps)||void 0===l?void 0:l.baseInputLabel,{id:S,htmlFor:x,shrink:!0,variant:b,children:D})),(0,UP.jsx)(k.slots.baseSelect,KP({id:x,label:D,labelId:S,value:_,onChange:A,variant:b,type:p||"text",inputProps:{tabIndex:v,ref:m,placeholder:null!==g&&void 0!==g?g:f.current.getLocaleText("filterPanelInputPlaceholder")},native:I,notched:"outlined"===b||void 0},C,null===(c=k.slotProps)||void 0===c?void 0:c.baseSelect,{children:xq({column:E,OptionComponent:k.slots.baseSelectOption,getOptionLabel:R,getOptionValue:T,isSelectNative:I,baseSelectOptionProps:null===(u=k.slotProps)||void 0===u?void 0:u.baseSelectOption})}))]}),w]})}const Iq=["item","applyValue","type","apiRef","focusElementRef","color","error","helperText","size","variant"],Eq=["key"],Tq=VB();function Rq(e){var n,r;const{item:o,applyValue:a,apiRef:s,focusElementRef:l,color:c,error:u,helperText:d,size:h,variant:p="standard"}=e,f=i(e,Iq),m={color:c,error:u,helperText:d,size:h,variant:p},g=IB(),v=bL();let y=null;if(o.field){const e=s.current.getColumn(o.field);gq(e)&&(y=e)}const b=null===(n=y)||void 0===n?void 0:n.getOptionValue,w=null===(r=y)||void 0===r?void 0:r.getOptionLabel,C=t.useCallback(((e,t)=>b(e)===b(t)),[b]),_=t.useMemo((()=>vq(y)||[]),[y]),x=t.useMemo((()=>Array.isArray(o.value)?o.value.reduce(((e,t)=>{const n=_.find((e=>b(e)===t));return null!=n&&e.push(n),e}),[]):[]),[b,o.value,_]),S=t.useCallback(((e,t)=>{a(KP({},o,{value:t.map(b)}))}),[a,o,b]);return(0,UP.jsx)(HU,KP({multiple:!0,options:_,isOptionEqualToValue:C,filterOptions:Tq,id:g,value:x,onChange:S,getOptionLabel:w,renderTags:(e,t)=>e.map(((e,n)=>{const r=t({index:n}),{key:o}=r,a=i(r,Eq);return(0,UP.jsx)(v.slots.baseChip,KP({variant:"outlined",size:"small",label:w(e)},a),o)})),renderInput:e=>{var t;return(0,UP.jsx)(v.slots.baseTextField,KP({},e,{label:s.current.getLocaleText("filterPanelInputLabel"),placeholder:s.current.getLocaleText("filterPanelInputPlaceholder"),InputLabelProps:KP({},e.InputLabelProps,{shrink:!0}),inputRef:l,type:"singleSelect"},m,null===(t=v.slotProps)||void 0===t?void 0:t.baseTextField))}},f))}const Pq=e=>null!=e&&AB(e)?e.value:e,Aq=KP({},dH,{type:"singleSelect",getOptionLabel:e=>AB(e)?e.label:String(e),getOptionValue:e=>AB(e)?e.value:e,valueFormatter(e,t,n,r){const o=r.current.getRowId(t);if(!gq(n))return"";const i=vq(n,{id:o,row:t});if(null==e)return"";if(!i)return e;if("object"!==typeof i[0])return n.getOptionLabel(e);const a=i.find((t=>n.getOptionValue(t)===e));return a?n.getOptionLabel(a):""},renderEditCell:e=>(0,UP.jsx)(Cq,KP({},e)),filterOperators:[{value:"is",getApplyFilterFn:e=>null==e.value||""===e.value?null:t=>Pq(t)===Pq(e.value),InputComponent:kq},{value:"not",getApplyFilterFn:e=>null==e.value||""===e.value?null:t=>Pq(t)!==Pq(e.value),InputComponent:kq},{value:"isAnyOf",getApplyFilterFn:e=>{if(!Array.isArray(e.value)||0===e.value.length)return null;const t=e.value.map(Pq);return e=>t.includes(Pq(e))},InputComponent:Rq}],pastedValueParser:(e,t,n)=>{const r=n,o=vq(r)||[],i=r.getOptionValue;if(o.find((t=>i(t)===e)))return e}}),Dq=xF;const Oq=t.createContext({});function Nq(e){return GM("MuiList",e)}KM("MuiList",["root","padding","dense","subheader"]);const Mq=["children","className","component","dense","disablePadding","subheader"],Lq=UM("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:e=>{let{ownerState:t}=e;return!t.disablePadding},style:{paddingTop:8,paddingBottom:8}},{props:e=>{let{ownerState:t}=e;return t.subheader},style:{paddingTop:0}}]}),Fq=t.forwardRef((function(e,n){const r=$F({props:e,name:"MuiList"}),{children:o,className:i,component:s="ul",dense:l=!1,disablePadding:c=!1,subheader:u}=r,h=a(r,Mq),p=t.useMemo((()=>({dense:l})),[l]),f=d(d({},r),{},{component:s,dense:l,disablePadding:c}),m=(e=>{const{classes:t,disablePadding:n,dense:r,subheader:o}=e;return nA({root:["root",!n&&"padding",r&&"dense",o&&"subheader"]},Nq,t)})(f);return(0,UP.jsx)(Oq.Provider,{value:p,children:(0,UP.jsxs)(Lq,d(d({as:s,className:ZP(m.root,i),ref:n,ownerState:f},h),{},{children:[u,o]}))})})),Bq=Fq;function jq(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;const t=e.document.documentElement.clientWidth;return e.innerWidth-t}const zq=jq,Vq=SF,Uq=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function Hq(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function qq(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function Wq(e,t){if(void 0===t)return!0;let n=e.innerText;return void 0===n&&(n=e.textContent),n=n.trim().toLowerCase(),0!==n.length&&(t.repeating?n[0]===t.keys[0]:n.startsWith(t.keys.join("")))}function Gq(e,t,n,r,o,i){let a=!1,s=o(e,t,!!t&&n);for(;s;){if(s===e.firstChild){if(a)return!1;a=!0}const t=!r&&(s.disabled||"true"===s.getAttribute("aria-disabled"));if(s.hasAttribute("tabindex")&&Wq(s,i)&&!t)return s.focus(),!0;s=o(e,s,n)}return!1}const Kq=t.forwardRef((function(e,n){const{actions:r,autoFocus:o=!1,autoFocusItem:i=!1,children:s,className:l,disabledItemsFocusable:c=!1,disableListWrap:u=!1,onKeyDown:h,variant:p="selectedMenu"}=e,f=a(e,Uq),m=t.useRef(null),g=t.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});eB((()=>{o&&m.current.focus()}),[o]),t.useImperativeHandle(r,(()=>({adjustStyleForScrollbar:(e,t)=>{let{direction:n}=t;const r=!m.current.style.width;if(e.clientHeight<m.current.clientHeight&&r){const t="".concat(zq(Vq(e)),"px");m.current.style["rtl"===n?"paddingLeft":"paddingRight"]=t,m.current.style.width="calc(100% + ".concat(t,")")}return m.current}})),[]);const v=ZF(m,n);let y=-1;t.Children.forEach(s,((e,n)=>{t.isValidElement(e)?(e.props.disabled||("selectedMenu"===p&&e.props.selected||-1===y)&&(y=n),y===n&&(e.props.disabled||e.props.muiSkipListHighlight||e.type.muiSkipListHighlight)&&(y+=1,y>=s.length&&(y=-1))):y===n&&(y+=1,y>=s.length&&(y=-1))}));const b=t.Children.map(s,((e,n)=>{if(n===y){const n={};return i&&(n.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===p&&(n.tabIndex=0),t.cloneElement(e,n)}return e}));return(0,UP.jsx)(Bq,d(d({role:"menu",ref:v,className:l,onKeyDown:e=>{const t=m.current,n=e.key;if(e.ctrlKey||e.metaKey||e.altKey)return void(h&&h(e));const r=Dq(t).activeElement;if("ArrowDown"===n)e.preventDefault(),Gq(t,r,u,c,Hq);else if("ArrowUp"===n)e.preventDefault(),Gq(t,r,u,c,qq);else if("Home"===n)e.preventDefault(),Gq(t,null,u,c,Hq);else if("End"===n)e.preventDefault(),Gq(t,null,u,c,qq);else if(1===n.length){const o=g.current,i=n.toLowerCase(),a=performance.now();o.keys.length>0&&(a-o.lastTime>500?(o.keys=[],o.repeating=!0,o.previousKeyMatched=!0):o.repeating&&i!==o.keys[0]&&(o.repeating=!1)),o.lastTime=a,o.keys.push(i);const s=r&&!o.repeating&&Wq(r,o);o.previousKeyMatched&&(s||Gq(t,r,!1,c,Hq,o))?e.preventDefault():o.previousKeyMatched=!1}h&&h(e)},tabIndex:o?0:-1},f),{},{children:b}))})),Qq=Kq;function Yq(e){return e.substring(2).toLowerCase()}function Xq(e){const{children:n,disableReactTree:r=!1,mouseEvent:o="onClick",onClickAway:i,touchEvent:a="onTouchEnd"}=e,s=t.useRef(!1),l=t.useRef(null),c=t.useRef(!1),u=t.useRef(!1);t.useEffect((()=>(setTimeout((()=>{c.current=!0}),0),()=>{c.current=!1})),[]);const d=oA(wz(n),l),h=dF((e=>{const t=u.current;u.current=!1;const n=xF(l.current);if(!c.current||!l.current||"clientX"in e&&function(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}(e,n))return;if(s.current)return void(s.current=!1);let o;o=e.composedPath?e.composedPath().includes(l.current):!n.documentElement.contains(e.target)||l.current.contains(e.target),o||!r&&t||i(e)})),p=e=>t=>{u.current=!0;const r=n.props[e];r&&r(t)},f={ref:d};return!1!==a&&(f[a]=p(a)),t.useEffect((()=>{if(!1!==a){const e=Yq(a),t=xF(l.current),n=()=>{s.current=!0};return t.addEventListener(e,h),t.addEventListener("touchmove",n),()=>{t.removeEventListener(e,h),t.removeEventListener("touchmove",n)}}}),[h,a]),!1!==o&&(f[o]=p(o)),t.useEffect((()=>{if(!1!==o){const e=Yq(o),t=xF(l.current);return t.addEventListener(e,h),()=>{t.removeEventListener(e,h)}}}),[h,o]),t.cloneElement(n,f)}const $q=!1;var Jq="unmounted",Zq="exited",eW="entering",tW="entered",nW="exiting",rW=function(e){function n(t,n){var r;r=e.call(this,t,n)||this;var o,i=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?i?(o=Zq,r.appearStatus=eW):o=tW:o=t.unmountOnExit||t.mountOnEnter?Jq:Zq,r.state={status:o},r.nextCallback=null,r}Jz(n,e),n.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Jq?{status:Zq}:null};var r=n.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==eW&&n!==tW&&(t=eW):n!==eW&&n!==tW||(t=nW)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},r.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===eW){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:bz.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Zq&&this.setState({status:Jq})},r.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,o=this.props.nodeRef?[r]:[bz.findDOMNode(this),r],i=o[0],a=o[1],s=this.getTimeouts(),l=r?s.appear:s.enter;!e&&!n||$q?this.safeSetState({status:tW},(function(){t.props.onEntered(i)})):(this.props.onEnter(i,a),this.safeSetState({status:eW},(function(){t.props.onEntering(i,a),t.onTransitionEnd(l,(function(){t.safeSetState({status:tW},(function(){t.props.onEntered(i,a)}))}))})))},r.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:bz.findDOMNode(this);t&&!$q?(this.props.onExit(r),this.safeSetState({status:nW},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:Zq},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:Zq},(function(){e.props.onExited(r)}))},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:bz.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],i=o[0],a=o[1];this.props.addEndListener(i,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},r.render=function(){var e=this.state.status;if(e===Jq)return null;var n=this.props,r=n.children,o=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,i(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(Zz.Provider,{value:null},"function"===typeof r?r(e,o):t.cloneElement(t.Children.only(r),o))},n}(t.Component);function oW(){}rW.contextType=Zz,rW.propTypes={},rW.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:oW,onEntering:oW,onEntered:oW,onExit:oW,onExiting:oW,onExited:oW},rW.UNMOUNTED=Jq,rW.EXITED=Zq,rW.ENTERING=eW,rW.ENTERED=tW,rW.EXITING=nW;const iW=rW,aW=e=>e.scrollTop;function sW(e,t){var n,r;const{timeout:o,easing:i,style:a={}}=e;return{duration:null!==(n=a.transitionDuration)&&void 0!==n?n:"number"===typeof o?o:o[t.mode]||0,easing:null!==(r=a.transitionTimingFunction)&&void 0!==r?r:"object"===typeof i?i[t.mode]:i,delay:a.transitionDelay}}const lW=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],cW=["ownerState"];function uW(e){return"scale(".concat(e,", ").concat(e**2,")")}const dW={entering:{opacity:1,transform:uW(1)},entered:{opacity:1,transform:"none"}},hW="undefined"!==typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),pW=t.forwardRef((function(e,n){const{addEndListener:r,appear:o=!0,children:i,easing:s,in:l,onEnter:c,onEntered:u,onEntering:h,onExit:p,onExited:f,onExiting:m,style:g,timeout:v="auto",TransitionComponent:y=iW}=e,b=a(e,lW),w=CF(),C=t.useRef(),_=jz(),x=t.useRef(null),S=ZF(x,wz(i),n),k=e=>t=>{if(e){const n=x.current;void 0===t?e(n):e(n,t)}},I=k(h),E=k(((e,t)=>{aW(e);const{duration:n,delay:r,easing:o}=sW({style:g,timeout:v,easing:s},{mode:"enter"});let i;"auto"===v?(i=_.transitions.getAutoHeightDuration(e.clientHeight),C.current=i):i=n,e.style.transition=[_.transitions.create("opacity",{duration:i,delay:r}),_.transitions.create("transform",{duration:hW?i:.666*i,delay:r,easing:o})].join(","),c&&c(e,t)})),T=k(u),R=k(m),P=k((e=>{const{duration:t,delay:n,easing:r}=sW({style:g,timeout:v,easing:s},{mode:"exit"});let o;"auto"===v?(o=_.transitions.getAutoHeightDuration(e.clientHeight),C.current=o):o=t,e.style.transition=[_.transitions.create("opacity",{duration:o,delay:n}),_.transitions.create("transform",{duration:hW?o:.666*o,delay:hW?n:n||.333*o,easing:r})].join(","),e.style.opacity=0,e.style.transform=uW(.75),p&&p(e)})),A=k(f);return(0,UP.jsx)(y,d(d({appear:o,in:l,nodeRef:x,onEnter:E,onEntered:T,onEntering:I,onExit:P,onExited:A,onExiting:R,addEndListener:e=>{"auto"===v&&w.start(C.current||0,e),r&&r(x.current,e)},timeout:"auto"===v?null:v},b),{},{children:(e,n)=>{let{ownerState:r}=n,o=a(n,cW);return t.cloneElement(i,d({style:d(d(d({opacity:0,transform:uW(.75),visibility:"exited"!==e||l?void 0:"hidden"},dW[e]),g),i.props.style),ref:S},o))}}))}));pW&&(pW.muiSupportAuto=!0);const fW=pW,mW=["open","target","onClose","children","position","className","onExited"],gW=UM(Oz,{name:"MuiDataGrid",slot:"Menu",overridesResolver:(e,t)=>t.menu})((e=>{let{theme:t}=e;return{zIndex:t.zIndex.modal,["& .".concat(YM.menuList)]:{outline:0}}})),vW={"bottom-start":"top left","bottom-end":"top right"};function yW(e){var n;const{open:r,target:o,onClose:a,children:s,position:l,className:c,onExited:u}=e,d=i(e,mW),h=sF(),p=bL(),f=(e=>{const{classes:t}=e;return nA({root:["menu"]},QM,t)})(p),m=t.useRef(null);iA((()=>{var e,t;r?m.current=document.activeElement instanceof HTMLElement?document.activeElement:null:(null===(e=m.current)||void 0===e||null===(t=e.focus)||void 0===t||t.call(e),m.current=null)}),[r]),t.useEffect((()=>{const e=r?"menuOpen":"menuClose";h.current.publishEvent(e,{target:o})}),[h,r,o]);const g=e=>{e.target&&(o===e.target||null!==o&&void 0!==o&&o.contains(e.target))||a(e)};return(0,UP.jsx)(gW,KP({as:p.slots.basePopper,className:ZP(f.root,c),ownerState:p,open:r,anchorEl:o,transition:!0,placement:l},d,null===(n=p.slotProps)||void 0===n?void 0:n.basePopper,{children:e=>{let{TransitionProps:t,placement:n}=e;return(0,UP.jsx)(Xq,{onClickAway:g,mouseEvent:"onMouseDown",children:(0,UP.jsx)(fW,KP({},t,{style:{transformOrigin:vW[n]},onExited:(r=null===t||void 0===t?void 0:t.onExited,e=>{r&&r(),u&&u(e)}),children:(0,UP.jsx)(qz,{children:s})}))});var r}}))}const bW=["api","colDef","id","hasFocus","isEditable","field","value","formattedValue","row","rowNode","cellMode","tabIndex","position","focusElementRef"];function wW(e){var n;const{colDef:r,id:o,hasFocus:a,tabIndex:s,position:l="bottom-end",focusElementRef:c}=e,u=i(e,bW),[d,h]=t.useState(-1),[p,f]=t.useState(!1),m=sF(),g=t.useRef(null),v=t.useRef(null),y=t.useRef(!1),b=t.useRef({}),w=QB(),C=IB(),_=IB(),x=bL();if(!(e=>"function"===typeof e.getActions)(r))throw new Error("MUI X: Missing the `getActions` property in the `GridColDef`.");const S=r.getActions(m.current.getRowParams(o)),k=S.filter((e=>!e.props.showInMenu)),I=S.filter((e=>e.props.showInMenu)),E=k.length+(I.length?1:0);t.useLayoutEffect((()=>{a||Object.entries(b.current).forEach((e=>{let[t,n]=e;null===n||void 0===n||n.stop({},(()=>{delete b.current[t]}))}))}),[a]),t.useEffect((()=>{if(d<0||!g.current)return;if(d>=g.current.children.length)return;g.current.children[d].focus({preventScroll:!0})}),[d]),t.useEffect((()=>{a||(h(-1),y.current=!1)}),[a]),t.useImperativeHandle(c,(()=>({focus(){if(!y.current){const e=S.findIndex((e=>!e.props.disabled));h(e)}}})),[S]),t.useEffect((()=>{d>=E&&h(E-1)}),[d,E]);const T=()=>{f(!1)},R=e=>t=>{b.current[e]=t},P=(e,t)=>n=>{h(e),y.current=!0,t&&t(n)};return(0,UP.jsxs)("div",KP({role:"menu",ref:g,tabIndex:-1,className:YM.actionsCell,onKeyDown:e=>{if(E<=1)return;const t=(e,n)=>{var r;if(e<0||e>S.length)return e;const o=("left"===n?-1:1)*(w?-1:1);return null!==(r=S[e+o])&&void 0!==r&&r.props.disabled?t(e+o,n):e+o};let n=d;"ArrowRight"===e.key?n=t(d,"right"):"ArrowLeft"===e.key&&(n=t(d,"left")),n<0||n>=E||n!==d&&(e.preventDefault(),e.stopPropagation(),h(n))}},u,{children:[k.map(((e,n)=>t.cloneElement(e,{key:n,touchRippleRef:R(n),onClick:P(n,e.props.onClick),tabIndex:d===n?s:-1}))),I.length>0&&_&&(0,UP.jsx)(x.slots.baseIconButton,KP({ref:v,id:_,"aria-label":m.current.getLocaleText("actionsCellMore"),"aria-haspopup":"menu","aria-expanded":p,"aria-controls":p?C:void 0,role:"menuitem",size:"small",onClick:()=>{p?T():(f(!0),h(E-1),y.current=!0)},touchRippleRef:R(_),tabIndex:d===k.length?s:-1},null===(n=x.slotProps)||void 0===n?void 0:n.baseIconButton,{children:(0,UP.jsx)(x.slots.moreActionsIcon,{fontSize:"small"})})),I.length>0&&(0,UP.jsx)(yW,{open:p,target:v.current,position:l,onClose:T,children:(0,UP.jsx)(Qq,{id:C,className:YM.menuList,onKeyDown:e=>{"Tab"===e.key&&e.preventDefault(),["Tab","Escape"].includes(e.key)&&T()},"aria-labelledby":_,variant:"menu",autoFocusItem:!0,children:I.map(((e,n)=>t.cloneElement(e,{key:n,closeMenu:T})))})})]}))}const CW="actions",_W=KP({},dH,{sortable:!1,filterable:!1,aggregable:!1,width:100,display:"flex",align:"center",headerAlign:"center",headerName:"",disableColumnMenu:!0,disableExport:!0,renderCell:e=>(0,UP.jsx)(wW,KP({},e)),getApplyQuickFilterFn:void 0}),xW=e=>e.headerFiltering,SW=LL(xW,(e=>{var t;return null!==(t=null===e||void 0===e?void 0:e.enabled)&&void 0!==t&&t})),kW=LL(xW,(e=>e.editing)),IW=LL(xW,(e=>e.menuOpen)),EW=e=>e.columnGrouping,TW=BL(EW,(e=>{var t;return null!==(t=null===e||void 0===e?void 0:e.unwrappedGroupingModel)&&void 0!==t?t:{}})),RW=BL(EW,(e=>{var t;return null!==(t=null===e||void 0===e?void 0:e.lookup)&&void 0!==t?t:{}})),PW=BL(EW,(e=>{var t;return null!==(t=null===e||void 0===e?void 0:e.headerStructure)&&void 0!==t?t:[]})),AW=LL(EW,(e=>{var t;return null!==(t=null===e||void 0===e?void 0:e.maxDepth)&&void 0!==t?t:0})),DW=["maxWidth","minWidth","width","flex"],OW={string:dH,number:pH,date:SH,dateTime:kH,boolean:uq,singleSelect:Aq,[CW]:_W,custom:dH};const NW=(e,t)=>{const n={};let r=0,o=0;const i=[];e.orderedFields.forEach((t=>{let a=e.lookup[t],s=0,l=!1;!1!==e.columnVisibilityModel[t]&&(a.flex&&a.flex>0?(r+=a.flex,l=!0):s=OB(a.width||dH.width,a.minWidth||dH.minWidth,a.maxWidth||dH.maxWidth),o+=s),a.computedWidth!==s&&(a=KP({},a,{computedWidth:s})),l&&i.push(a),n[t]=a}));const a=void 0===t?0:t.viewportOuterSize.width-(t.hasScrollY?t.scrollbarSize:0),s=Math.max(a-o,0);if(r>0&&a>0){const e=function(e){let{initialFreeSpace:t,totalFlexUnits:n,flexColumns:r}=e;const o=new Set(r.map((e=>e.field))),i={all:{},frozenFields:[],freeze:e=>{const t=i.all[e];t&&!0!==t.frozen&&(i.all[e].frozen=!0,i.frozenFields.push(e))}};return function e(){if(i.frozenFields.length===o.size)return;const a={min:{},max:{}};let s=t,l=n,c=0;i.frozenFields.forEach((e=>{s-=i.all[e].computedWidth,l-=i.all[e].flex}));for(let t=0;t<r.length;t+=1){const e=r[t];if(i.all[e.field]&&!0===i.all[e.field].frozen)continue;let n=s/l*e.flex;n<e.minWidth?(c+=e.minWidth-n,n=e.minWidth,a.min[e.field]=!0):n>e.maxWidth&&(c+=e.maxWidth-n,n=e.maxWidth,a.max[e.field]=!0),i.all[e.field]={frozen:!1,computedWidth:n,flex:e.flex}}c<0?Object.keys(a.max).forEach((e=>{i.freeze(e)})):c>0?Object.keys(a.min).forEach((e=>{i.freeze(e)})):r.forEach((e=>{let{field:t}=e;i.freeze(t)})),e()}(),i.all}({initialFreeSpace:s,totalFlexUnits:r,flexColumns:i});Object.keys(e).forEach((t=>{n[t].computedWidth=e[t].computedWidth}))}return KP({},e,{lookup:n})};function MW(e){let t=OW.string;return e&&OW[e]&&(t=OW[e]),t}const LW=e=>{var t,n,r;let{apiRef:o,columnsToUpsert:i,initialState:a,columnVisibilityModel:s=QL(o),keepOnlyColumnsToUpsert:l=!1}=e;const c=!o.current.state.columns;let u;if(c)u={orderedFields:[],lookup:{},columnVisibilityModel:s};else{const e=qL(o.current.state);u={orderedFields:l?[]:[...e.orderedFields],lookup:KP({},e.lookup),columnVisibilityModel:s}}let d={};l&&!c&&(d=Object.keys(u.lookup).reduce(((e,t)=>KP({},e,{[t]:!1})),{}));const h={};i.forEach((e=>{const{field:t}=e;h[t]=!0,d[t]=!0;let n=u.lookup[t];null==n?(n=KP({},MW(e.type),{field:t,hasBeenResized:!1}),u.orderedFields.push(t)):l&&u.orderedFields.push(t),n&&n.type!==e.type&&(n=KP({},MW(e.type),{field:t}));let r=n.hasBeenResized;DW.forEach((t=>{void 0!==e[t]&&(r=!0,-1===e[t]&&(e[t]=1/0))})),u.lookup[t]=_F(n,KP({},e,{hasBeenResized:r}))})),l&&!c&&Object.keys(u.lookup).forEach((e=>{d[e]||delete u.lookup[e]}));const p=((e,t)=>{if(!t)return e;const{orderedFields:n=[],dimensions:r={}}=t,o=Object.keys(r);if(0===o.length&&0===n.length)return e;const i={},a=[];for(let c=0;c<n.length;c+=1){const t=n[c];e.lookup[t]&&(i[t]=!0,a.push(t))}const s=0===a.length?e.orderedFields:[...a,...e.orderedFields.filter((e=>!i[e]))],l=KP({},e.lookup);for(let c=0;c<o.length;c+=1){const e=o[c],t=KP({},l[e],{hasBeenResized:!0});Object.entries(r[e]).forEach((e=>{let[n,r]=e;t[n]=-1===r?1/0:r})),l[e]=t}return KP({},e,{orderedFields:s,lookup:l})})(o.current.unstable_applyPipeProcessors("hydrateColumns",u),a);return NW(p,null!==(t=null===(n=(r=o.current).getRootDimensions)||void 0===n?void 0:n.call(r))&&void 0!==t?t:void 0)};function FW(e,t){var n,r;if(t.unstable_listView)return 0;const o=VL(e),i=AW(e),a=SW(e);return Math.floor(t.columnHeaderHeight*o)+Math.floor((null!==(n=t.columnGroupHeaderHeight)&&void 0!==n?n:t.columnHeaderHeight)*o)*i+(a?Math.floor((null!==(r=t.headerFilterHeight)&&void 0!==r?r:t.columnHeaderHeight)*o):0)}const BW=uF("div",{name:"MuiDataGrid",slot:"ScrollArea",overridesResolver:(e,t)=>[{["&.".concat(YM["scrollArea--left"])]:t["scrollArea--left"]},{["&.".concat(YM["scrollArea--right"])]:t["scrollArea--right"]},t.scrollArea]})((()=>({position:"absolute",top:0,zIndex:101,width:20,bottom:0,["&.".concat(YM["scrollArea--left"])]:{left:0},["&.".concat(YM["scrollArea--right"])]:{right:0}})));const jW=lA((function(e){const{scrollDirection:n}=e,r=t.useRef(null),o=sF(),i=CF(),a=sL(o,VL),s=sL(o,ZL),l=sL(o,dL),c=t.useRef({left:0,top:0}),u=()=>{if("left"===n)return c.current.left>0;if("right"===n){const e=s-l.viewportInnerSize.width;return c.current.left<e}return!1},[d,h]=t.useState(!1),[p,f]=t.useState(u),m=bL(),g=KP({},m,{scrollDirection:n}),v=(e=>{const{scrollDirection:t,classes:n}=e;return nA({root:["scrollArea","scrollArea--".concat(t)]},QM,n)})(g),y=FW(o,m),b=Math.floor(m.columnHeaderHeight*a),w={height:b,top:y-b};"left"===n?w.left=l.leftPinnedWidth:"right"===n&&(w.right=l.rightPinnedWidth+(l.hasScrollX?l.scrollbarSize:0));const C=dF((e=>{let t;if(e.preventDefault(),"left"===n)t=e.clientX-r.current.getBoundingClientRect().right;else{if("right"!==n)throw new Error("MUI X: Wrong drag direction");t=Math.max(1,e.clientX-r.current.getBoundingClientRect().left)}t=1.5*(t-1)+1,i.start(0,(()=>{o.current.scroll({left:c.current.left+t,top:c.current.top})}))})),_=dF((()=>{h(!0)})),x=dF((()=>{h(!1)}));return vF(o,"scrollPositionChange",(e=>{c.current=e,f(u)})),vF(o,"columnHeaderDragStart",_),vF(o,"columnHeaderDragEnd",x),d&&p?(0,UP.jsx)(BW,{ref:r,className:ZP(v.root),ownerState:g,onDragOver:C,style:w}):null}));var zW=n(9037);const VW=()=>{},UW=e=>e.sorting,HW=LL(UW,(e=>e.sortedRows)),qW=BL(HW,PH,DH,((e,t,n)=>e.reduce(((e,r)=>{const o=t[r];o&&e.push({id:r,model:o});const i=n[r];return i&&GH(i)&&e.push({id:r,model:{[VH]:r}}),e}),[]))),WW=LL(UW,(e=>e.sortModel)),GW=BL(WW,(e=>e.reduce(((t,n,r)=>(t[n.field]={sortDirection:n.sort,sortIndex:e.length>1?r+1:void 0},t)),{}))),KW=(BL(HW,(e=>e.reduce(((e,t,n)=>(e[t]=n,e)),Object.create(null)))),e=>e.filter),QW=LL(KW,(e=>e.filterModel)),YW=LL(QW,(e=>e.quickFilterValues)),XW=LL(KW,(e=>e.filteredRowsLookup)),$W=(LL(KW,(e=>e.filteredChildrenCountLookup)),LL(KW,(e=>e.filteredDescendantCountLookup)),BL((e=>e.visibleRowsLookup),qW,LH,QW,YW,((e,t,n,r,o)=>!(n<2)||r.items.length||null!==o&&void 0!==o&&o.length?t.filter((t=>!1!==e[t.id])):t))),JW=BL($W,(e=>e.map((e=>e.id)))),ZW=BL(XW,qW,((e,t)=>t.filter((t=>!1!==e[t.id])))),eG=BL(ZW,(e=>e.map((e=>e.id)))),tG=(BL(JW,DH,((e,t)=>{const n={};let r=0;return e.reduce(((e,o)=>{const i=t[o];return n[i.depth]||(n[i.depth]=0),i.depth>r&&(n[i.depth]=0),r=i.depth,n[i.depth]+=1,e[o]=n[i.depth],e}),{})})),BL($W,DH,LH,((e,t,n)=>n<2?e:e.filter((e=>{var n;return 0===(null===(n=t[e.id])||void 0===n?void 0:n.depth)}))))),nG=LL($W,(e=>e.length)),rG=LL(tG,(e=>e.length)),oG=LL(ZW,(e=>e.length)),iG=(LL(oG,rG,((e,t)=>e-t)),BL(QW,GL,((e,t)=>{var n;return null===(n=e.items)||void 0===n?void 0:n.filter((e=>{var n,r;if(!e.field)return!1;const o=t[e.field];if(null===o||void 0===o||!o.filterOperators||0===(null===o||void 0===o||null===(n=o.filterOperators)||void 0===n?void 0:n.length))return!1;const i=o.filterOperators.find((t=>t.value===e.operator));return!!i&&(!i.InputComponent||null!=e.value&&""!==(null===(r=e.value)||void 0===r?void 0:r.toString()))}))}))),aG=BL(iG,(e=>e.reduce(((e,t)=>(e[t.field]?e[t.field].push(t):e[t.field]=[t],e)),{}))),sG=(e,t,n)=>t>0&&e>0?Math.ceil(e/t):-1===e?n+2:0,lG=e=>({page:0,pageSize:e?0:100}),cG=(e,t)=>{if(t===fF.DataGrid&&e>100)throw new Error(["MUI X: `pageSize` cannot exceed 100 in the MIT version of the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join("\n"))},uG=e=>e.pagination,dG=LL(uG,(e=>e.enabled&&"client"===e.paginationMode)),hG=LL(uG,(e=>e.paginationModel)),pG=LL(uG,(e=>e.rowCount)),fG=LL(uG,(e=>e.meta)),mG=LL(hG,(e=>e.page)),gG=LL(hG,(e=>e.pageSize)),vG=LL(hG,pG,((e,t)=>sG(t,e.pageSize,e.page))),yG=BL(dG,hG,DH,LH,$W,tG,((e,t,n,r,o,i)=>{if(!e)return null;const a=i.length,s=Math.min(t.pageSize*t.page,a-1),l=-1===t.pageSize?a-1:Math.min(s+t.pageSize-1,a-1);if(-1===s||-1===l)return null;if(r<2)return{firstRowIndex:s,lastRowIndex:l};const c=i[s],u=l-s+1,d=o.findIndex((e=>e.id===c.id));let h=d,p=0;for(;h<o.length&&p<=u;){var f;const e=null===(f=n[o[h].id])||void 0===f?void 0:f.depth;void 0===e?h+=1:((p<u||e>0)&&(h+=1),0===e&&(p+=1))}return{firstRowIndex:d,lastRowIndex:h-1}})),bG=BL($W,yG,((e,t)=>t?e.slice(t.firstRowIndex,t.lastRowIndex+1):[])),wG=BL(JW,yG,((e,t)=>t?e.slice(t.firstRowIndex,t.lastRowIndex+1):[])),CG=BL(dG,yG,bG,$W,((e,t,n,r)=>e?{rows:n,range:t,rowToIndexMap:n.reduce(((e,t,n)=>(e.set(t.model,n),e)),new Map)}:{rows:r,range:0===r.length?null:{firstRowIndex:0,lastRowIndex:r.length-1},rowToIndexMap:r.reduce(((e,t,n)=>(e.set(t.model,n),e)),new Map)})),_G=(e,t)=>CG(e),xG=(e,t)=>sL(e,CG),SG=("undefined"!==typeof navigator?navigator.userAgent.toLowerCase():"empty").includes("firefox"),kG=e=>e.rowSelection,IG=LL(kG,(e=>e.length)),EG=BL(kG,PH,((e,t)=>new Map(e.map((e=>[e,t[e]]))))),TG=BL(kG,(e=>e.reduce(((e,t)=>(e[t]=t,e)),{}))),RG=e=>e.rowsMeta,PG=e=>e.virtualization,AG=(LL(PG,(e=>e.enabled)),LL(PG,(e=>e.enabledForColumns))),DG=LL(PG,(e=>e.enabledForRows)),OG=LL(PG,(e=>e.renderContext)),NG=BL((e=>e.virtualization.renderContext.firstColumnIndex),(e=>e.virtualization.renderContext.lastColumnIndex),((e,t)=>({firstColumnIndex:e,lastColumnIndex:t})));function MG(e,n,r){const o=t.useRef(!0);iA((()=>{o.current=!1,e.current.register(r,n)}),[e,r,n]),o.current&&e.current.register(r,n)}const LG={firstRowIndex:0,lastRowIndex:0,firstColumnIndex:0,lastColumnIndex:0},FG=(e,t)=>{const{disableVirtualization:n,autoHeight:r}=t;return KP({},e,{virtualization:{enabled:!n,enabledForColumns:!n,enabledForRows:!n&&!r,renderContext:LG}})};const BG=e=>e.rowSpanning,jG=LL(BG,(e=>e.hiddenCells)),zG=LL(BG,(e=>e.spannedCells)),VG=LL(BG,(e=>e.hiddenCellOriginMap)),UG=e=>e.listViewColumn,HG=e=>e.focus,qG=LL(HG,(e=>e.cell)),WG=LL(HG,(e=>e.columnHeader)),GG=(LL(HG,(e=>e.columnHeaderFilter)),LL(HG,(e=>e.columnGroupHeader))),KG=e=>e.tabIndex,QG=LL(KG,(e=>e.cell)),YG=LL(KG,(e=>e.columnHeader)),XG=(LL(KG,(e=>e.columnHeaderFilter)),LL(KG,(e=>e.columnGroupHeader))),$G=PL(qG,OG,CG,YL,PH,((e,t,n,r,o)=>{if(!e)return!1;const i=o[e.id];if(!i)return!1;const a=n.rowToIndexMap.get(i),s=r.slice(t.firstColumnIndex,t.lastColumnIndex).findIndex((t=>t.field===e.field));return!(void 0!==a&&-1!==s&&a>=t.firstRowIndex&&a<=t.lastRowIndex)})),JG=BL($G,YL,CG,PH,qG,((e,t,n,r,o)=>{if(!e)return null;const i=r[o.id];if(!i)return null;const a=n.rowToIndexMap.get(i);if(void 0===a)return null;const s=t.findIndex((e=>e.field===o.field));return-1===s?null:KP({},o,{rowIndex:a,columnIndex:s})}));function ZG(e,t){return Math.round(e*10**t)/10**t}const eK="undefined"!==typeof window&&/jsdom|HappyDOM/.test(window.navigator.userAgent);var tK=function(e){return e[e.NONE=0]="NONE",e[e.UP=1]="UP",e[e.DOWN=2]="DOWN",e[e.LEFT=3]="LEFT",e[e.RIGHT=4]="RIGHT",e}(tK||{});const nK={top:0,left:0},rK=Object.freeze(new Map),oK=()=>{var e,n;const r=uL(),o=bL(),{unstable_listView:i}=o,a=sL(r,(()=>i?[UG(r.current.state)]:YL(r))),s=sL(r,DG)&&!eK,l=sL(r,AG)&&!eK,c=sL(r,dL),u=c.viewportOuterSize,d=sL(r,BH),h=$L(r),p=i?HL:h,f=d.bottom.length>0,[m,g]=t.useState(rK),v=QB(),y=sL(r,TG),b=xG(r),w=r.current.mainElementRef,C=r.current.virtualScrollerRef,_=r.current.virtualScrollbarVerticalRef,x=r.current.virtualScrollbarHorizontalRef,S=c.contentSize.height,k=c.columnsTotalWidth,I=sL(r,nF),E=t.useRef(!1),T=t.useRef(null),R=t.useCallback((e=>{if(w.current=e,!e)return;const t=e.getBoundingClientRect();let n={width:ZG(t.width,1),height:ZG(t.height,1)};if((!T.current||n.width!==T.current.width&&n.height!==T.current.height)&&(T.current=n,r.current.publishEvent("resize",n)),"undefined"===typeof ResizeObserver)return;const o=new ResizeObserver((e=>{const t=e[0];if(!t)return;const o={width:ZG(t.contentRect.width,1),height:ZG(t.contentRect.height,1)};o.width===n.width&&o.height===n.height||(r.current.publishEvent("resize",o),n=o)}));return o.observe(e),zW.A>=19?()=>{w.current=null,o.disconnect()}:void 0}),[r,w]),P=t.useRef(null!==(e=null===(n=o.initialState)||void 0===n?void 0:n.scroll)&&void 0!==e?e:nK),A=t.useRef(!1),D=t.useRef(nK),O=t.useRef(LG),N=sL(r,OG),M=sL(r,JG),L=CF(),F=t.useRef(void 0),B=$M((()=>((e,t,n,r,o)=>({direction:tK.NONE,buffer:dK(e,tK.NONE,t,n,r,o)}))(v,o.rowBufferPx,o.columnBufferPx,15*c.rowHeight,300))).current,j=t.useCallback((e=>{if(function(e,t){if(e===t)return!0;return e.firstRowIndex===t.firstRowIndex&&e.lastRowIndex===t.lastRowIndex&&e.firstColumnIndex===t.firstColumnIndex&&e.lastColumnIndex===t.lastColumnIndex}(e,r.current.state.virtualization.renderContext))return;const t=e.firstRowIndex!==O.current.firstRowIndex||e.lastRowIndex!==O.current.lastRowIndex;r.current.setState((t=>KP({},t,{virtualization:KP({},t.virtualization,{renderContext:e})}))),c.isReady&&t&&(O.current=e,r.current.publishEvent("renderedRowsIntervalChange",e)),D.current=P.current}),[r,c.isReady]),z=dF((()=>{const e=C.current;if(!e)return;const t=Math.ceil(c.minimumSize.height-c.viewportOuterSize.height),n=Math.ceil(c.minimumSize.width-c.viewportInnerSize.width),i={top:OB(e.scrollTop,0,t),left:v?OB(e.scrollLeft,-n,0):OB(e.scrollLeft,0,n)},a=i.left-P.current.left,u=i.top-P.current.top,d=0!==a||0!==u;P.current=i;const h=d?function(e,t){if(0===e&&0===t)return tK.NONE;return Math.abs(t)>=Math.abs(e)?t>0?tK.DOWN:tK.UP:e>0?tK.RIGHT:tK.LEFT}(a,u):tK.NONE,p=Math.abs(P.current.top-D.current.top),f=Math.abs(P.current.left-D.current.left),m=p>=c.rowHeight||f>=50,g=B.direction!==h;if(!(m||g))return N;if(g)switch(h){case tK.NONE:case tK.LEFT:case tK.RIGHT:F.current=void 0;break;default:F.current=N}B.direction=h,B.buffer=dK(v,h,o.rowBufferPx,o.columnBufferPx,15*c.rowHeight,300);const y=aK(iK(r,o,s,l),P.current,B);return bz.flushSync((()=>{j(y)})),L.start(1e3,z),y})),V=()=>{const e=aK(iK(r,o,s,l),P.current,B);F.current=void 0,j(e)},U=dF((()=>{if(A.current)return void(A.current=!1);const e=z();r.current.publishEvent("scrollPositionChange",{top:P.current.top,left:P.current.left,renderContext:e})})),H=dF((e=>{r.current.publishEvent("virtualScrollerWheel",{},e)})),q=dF((e=>{r.current.publishEvent("virtualScrollerTouchMove",{},e)})),W=u.width&&k>u.width,G=t.useMemo((()=>({overflowX:!W||i?"hidden":void 0,overflowY:o.autoHeight?"hidden":void 0})),[W,o.autoHeight,i]),K=t.useMemo((()=>{const e={width:W?k:"auto",flexBasis:S,flexShrink:0};return 0===e.flexBasis&&(e.flexBasis=YH),e}),[k,S,W]),Q=t.useCallback((e=>{e&&r.current.publishEvent("virtualScrollerContentSizeChange",{columnsTotalWidth:k,contentHeight:S})}),[r,k,S]);return iA((()=>{var e,t;E.current&&(null===(e=(t=r.current).updateRenderContext)||void 0===e||e.call(t))}),[r,l,s]),iA((()=>{i&&(C.current.scrollLeft=0)}),[i,C]),((e,n)=>{const r=t.useRef(!1);iA((()=>r.current||!e?VW:(r.current=!0,n())),[r.current||e])})(0!==u.width,(()=>{var e;const t=aK(iK(r,o,s,l),P.current,B);if(j(t),r.current.publishEvent("scrollPositionChange",{top:P.current.top,left:P.current.left,renderContext:t}),E.current=!0,null!==(e=o.initialState)&&void 0!==e&&e.scroll&&C.current){const e=C.current,{top:t,left:n}=o.initialState.scroll,i={top:!(t>0),left:!(n>0)};if(!i.left&&k&&(e.scrollLeft=n,A.current=!0,i.left=!0),!i.top&&S&&(e.scrollTop=t,A.current=!0,i.top=!0),!i.top||!i.left){const o=r.current.subscribeEvent("virtualScrollerContentSizeChange",(r=>{!i.left&&r.columnsTotalWidth&&(e.scrollLeft=n,A.current=!0,i.left=!0),!i.top&&r.contentHeight&&(e.scrollTop=t,A.current=!0,i.top=!0),i.left&&i.top&&o()}));return o}}})),r.current.register("private",{updateRenderContext:V}),vF(r,"columnsChange",V),vF(r,"filteredRowsSet",V),vF(r,"rowExpansionChange",V),{renderContext:N,setPanels:g,getRows:function(){var e,t,n;let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!i.rows&&!b.range)return[];const s=null!==(e=i.renderContext)&&void 0!==e?e:N,l=!f&&void 0===i.position||f&&"bottom"===i.position,u=void 0!==i.position;let h;switch(i.position){case"top":h=0;break;case"bottom":h=d.top.length+b.rows.length;break;case void 0:h=d.top.length}const g=null!==(t=i.rows)&&void 0!==t?t:b.rows,v=s.firstRowIndex,w=Math.min(s.lastRowIndex,g.length),C=i.rows?NB(0,i.rows.length):NB(v,w);let _=-1;!u&&M&&(M.rowIndex<v&&(C.unshift(M.rowIndex),_=M.rowIndex),M.rowIndex>w&&(C.push(M.rowIndex),_=M.rowIndex));const x=[],S=null===(n=o.slotProps)||void 0===n?void 0:n.row,k=JL(r);return C.forEach((e=>{var t;const{id:n,model:d}=g[e],f=((null===b||void 0===b||null===(t=b.range)||void 0===t?void 0:t.firstRowIndex)||0)+h+e;if(I){const e=p.left.length,t=a.length-p.right.length;r.current.calculateColSpan({rowId:n,minFirstColumn:e,maxLastColumn:t,columns:a}),p.left.length>0&&r.current.calculateColSpan({rowId:n,minFirstColumn:0,maxLastColumn:p.left.length,columns:a}),p.right.length>0&&r.current.calculateColSpan({rowId:n,minFirstColumn:a.length-p.right.length,maxLastColumn:a.length,columns:a})}const v=r.current.rowHasAutoHeight(n)?"auto":r.current.unstable_getRowHeight(n);let w;w=null!=y[n]&&r.current.isRowSelectable(n);let C=!1;void 0===i.position&&(C=0===e);let E=!1;const T=e===g.length-1;if(l)if(u)E=T;else{e===b.rows.length-1&&(E=!0)}let R=s;!u&&F.current&&e>=F.current.firstRowIndex&&e<F.current.lastRowIndex&&(R=F.current);const P=e===_,A=(null===M||void 0===M?void 0:M.rowIndex)===f,D=uK(k,R,p.left.length),O=T&&"top"===i.position,N=R.firstColumnIndex,L=R.lastColumnIndex;if(x.push((0,UP.jsx)(o.slots.row,KP({row:d,rowId:n,index:f,selected:w,offsetLeft:D,columnsTotalWidth:c.columnsTotalWidth,rowHeight:v,pinnedColumns:p,visibleColumns:a,firstColumnIndex:N,lastColumnIndex:L,focusedColumnIndex:A?M.columnIndex:void 0,isFirstVisible:C,isLastVisible:E,isNotVisible:P,showBottomBorder:O,scrollbarWidth:c.hasScrollY?c.scrollbarSize:0,gridHasFiller:c.columnsTotalWidth<c.viewportOuterSize.width},S),n)),P)return;const B=m.get(n);var j,z;(B&&x.push(B),void 0===i.position&&T)&&x.push(null===(j=(z=r.current).getInfiniteLoadingTriggerElement)||void 0===j?void 0:j.call(z,{lastRowId:n}))})),x},getContainerProps:()=>({ref:R}),getScrollerProps:()=>({ref:C,onScroll:U,onWheel:H,onTouchMove:q,style:G,role:"presentation",tabIndex:SG?-1:void 0}),getContentProps:()=>({style:K,role:"presentation",ref:Q}),getRenderZoneProps:()=>({role:"rowgroup"}),getScrollbarVerticalProps:()=>({ref:_,role:"presentation",scrollPosition:P}),getScrollbarHorizontalProps:()=>({ref:x,role:"presentation",scrollPosition:P})}};function iK(e,t,n,r){var o,i;const a=dL(e.current.state),s=_G(e),l=t.unstable_listView?[UG(e.current.state)]:YL(e),c=VG(e),u=e.current.state.rows.dataRowIds.at(-1),d=l.at(-1);return{enabledForRows:n,enabledForColumns:r,apiRef:e,autoHeight:t.autoHeight,rowBufferPx:t.rowBufferPx,columnBufferPx:t.columnBufferPx,leftPinnedWidth:a.leftPinnedWidth,columnsTotalWidth:a.columnsTotalWidth,viewportInnerWidth:a.viewportInnerSize.width,viewportInnerHeight:a.viewportInnerSize.height,lastRowHeight:void 0!==u?e.current.unstable_getRowHeight(u):0,lastColumnWidth:null!==(o=null===d||void 0===d?void 0:d.computedWidth)&&void 0!==o?o:0,rowsMeta:RG(e.current.state),columnPositions:JL(e),rows:s.rows,range:s.range,pinnedColumns:$L(e),visibleColumns:l,hiddenCellsOriginMap:c,listView:null!==(i=t.unstable_listView)&&void 0!==i&&i,virtualizeColumnsWithAutoRowHeight:t.virtualizeColumnsWithAutoRowHeight}}function aK(e,t,n){const r={firstRowIndex:0,lastRowIndex:e.rows.length,firstColumnIndex:0,lastColumnIndex:e.visibleColumns.length};if(e.listView)return KP({},r,{lastColumnIndex:1});const{top:o,left:i}=t,a=Math.abs(i)+e.leftPinnedWidth;if(e.enabledForRows){let t=Math.min(sK(e,o,{atStart:!0,lastPosition:e.rowsMeta.positions[e.rowsMeta.positions.length-1]+e.lastRowHeight}),e.rowsMeta.positions.length-1);const n=e.hiddenCellsOriginMap[t];if(n){const e=Math.min(...Object.values(n));t=Math.min(t,e)}const i=e.autoHeight?t+e.rows.length:sK(e,o+e.viewportInnerHeight);r.firstRowIndex=t,r.lastRowIndex=i}if(e.enabledForColumns){let t=0,o=e.columnPositions.length,i=!1;const[s,l]=cK({firstIndex:r.firstRowIndex,lastIndex:r.lastRowIndex,minFirstIndex:0,maxLastIndex:e.rows.length,bufferBefore:n.buffer.rowBefore,bufferAfter:n.buffer.rowAfter,positions:e.rowsMeta.positions,lastSize:e.lastRowHeight});if(!e.virtualizeColumnsWithAutoRowHeight)for(let n=s;n<l&&!i;n+=1){const t=e.rows[n];i=e.apiRef.current.rowHasAutoHeight(t.id)}i&&!e.virtualizeColumnsWithAutoRowHeight||(t=lK(a,e.columnPositions,{atStart:!0,lastPosition:e.columnsTotalWidth}),o=lK(a+e.viewportInnerWidth,e.columnPositions)),r.firstColumnIndex=t,r.lastColumnIndex=o}const s=function(e,t,n){const[r,o]=cK({firstIndex:t.firstRowIndex,lastIndex:t.lastRowIndex,minFirstIndex:0,maxLastIndex:e.rows.length,bufferBefore:n.buffer.rowBefore,bufferAfter:n.buffer.rowAfter,positions:e.rowsMeta.positions,lastSize:e.lastRowHeight}),[i,a]=cK({firstIndex:t.firstColumnIndex,lastIndex:t.lastColumnIndex,minFirstIndex:e.pinnedColumns.left.length,maxLastIndex:e.visibleColumns.length-e.pinnedColumns.right.length,bufferBefore:n.buffer.columnBefore,bufferAfter:n.buffer.columnAfter,positions:e.columnPositions,lastSize:e.lastColumnWidth}),s=function(e){let{firstColumnToRender:t,apiRef:n,firstRowToRender:r,lastRowToRender:o,visibleRows:i}=e,a=t;for(let s=r;s<o;s+=1)if(i[s]){const e=i[s].id,r=n.current.unstable_getCellColSpanInfo(e,t);r&&r.spannedByColSpan&&(a=r.leftVisibleCellIndex)}return a}({firstColumnToRender:i,apiRef:e.apiRef,firstRowToRender:r,lastRowToRender:o,visibleRows:e.rows});return{firstRowIndex:r,lastRowIndex:o,firstColumnIndex:s,lastColumnIndex:a}}(e,r,n);return s}function sK(e,t,n){var r,o;const i=e.apiRef.current.getLastMeasuredRowIndex();let a=i===1/0;null!==(r=e.range)&&void 0!==r&&r.lastRowIndex&&!a&&(a=i>=e.range.lastRowIndex);const s=OB(i-((null===(o=e.range)||void 0===o?void 0:o.firstRowIndex)||0),0,e.rowsMeta.positions.length);return a||e.rowsMeta.positions[s]>=t?lK(t,e.rowsMeta.positions,n):function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,o=1;for(;n<t.length&&Math.abs(t[n])<e;)n+=o,o*=2;return lK(e,t,r,Math.floor(n/2),Math.min(n,t.length))}(t,e.rowsMeta.positions,s,n)}function lK(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:t.length;if(t.length<=0)return-1;if(r>=o)return r;const i=r+Math.floor((o-r)/2),a=t[i];let s;if(null!==n&&void 0!==n&&n.atStart){s=e-((i===t.length-1?n.lastPosition:t[i+1])-a)<a}else s=e<=a;return s?lK(e,t,n,r,i):lK(e,t,n,i+1,o)}function cK(e){let{firstIndex:t,lastIndex:n,bufferBefore:r,bufferAfter:o,minFirstIndex:i,maxLastIndex:a,positions:s,lastSize:l}=e;const c=s[t]-r,u=s[n]+o,d=lK(c,s,{atStart:!0,lastPosition:s[s.length-1]+l}),h=lK(u,s);return[OB(d,i,a),OB(h,i,a)]}function uK(e,t,n){var r,o;const i=(null!==(r=e[t.firstColumnIndex])&&void 0!==r?r:0)-(null!==(o=e[n])&&void 0!==o?o:0);return Math.abs(i)}function dK(e,t,n,r,o,i){if(e)switch(t){case tK.LEFT:t=tK.RIGHT;break;case tK.RIGHT:t=tK.LEFT}switch(t){case tK.NONE:return{rowAfter:n,rowBefore:n,columnAfter:r,columnBefore:r};case tK.LEFT:return{rowAfter:0,rowBefore:0,columnAfter:0,columnBefore:i};case tK.RIGHT:return{rowAfter:0,rowBefore:0,columnAfter:i,columnBefore:0};case tK.UP:return{rowAfter:0,rowBefore:o,columnAfter:0,columnBefore:0};case tK.DOWN:return{rowAfter:o,rowBefore:0,columnAfter:0,columnBefore:0};default:throw new Error("unreachable")}}const hK=uF("div",{name:"MuiDataGrid",slot:"OverlayWrapper",shouldForwardProp:e=>"overlayType"!==e&&"loadingOverlayVariant"!==e,overridesResolver:(e,t)=>t.overlayWrapper})((e=>{let{overlayType:t,loadingOverlayVariant:n}=e;return"skeleton"!==n?{position:"sticky",top:"var(--DataGrid-headersTotalHeight)",left:0,width:0,height:0,zIndex:"loadingOverlay"===t?5:4}:{}})),pK=uF("div",{name:"MuiDataGrid",slot:"OverlayWrapperInner",shouldForwardProp:e=>"overlayType"!==e&&"loadingOverlayVariant"!==e,overridesResolver:(e,t)=>t.overlayWrapperInner})({});function fK(e){const t=sF(),n=bL(),r=sL(t,dL);let o=Math.max(r.viewportOuterSize.height-r.topContainerHeight-r.bottomContainerHeight-(r.hasScrollX?r.scrollbarSize:0),0);0===o&&(o=YH);const i=(e=>{const{classes:t}=e;return nA({root:["overlayWrapper"],inner:["overlayWrapperInner"]},QM,t)})(KP({},e,{classes:n.classes}));return(0,UP.jsx)(hK,KP({className:ZP(i.root)},e,{children:(0,UP.jsx)(pK,KP({className:ZP(i.inner),style:{height:o,width:r.viewportOuterSize.width}},e))}))}function mK(e){var t,n;const{overlayType:r}=e,o=bL();if(!r)return null;const i=null===(t=o.slots)||void 0===t?void 0:t[r],a=null===(n=o.slotProps)||void 0===n?void 0:n[r];return(0,UP.jsx)(fK,KP({},e,{children:(0,UP.jsx)(i,KP({},a))}))}const gK=e=>e.columnMenu;const vK=lA((function(){var e;const t=uL(),n=bL(),r=sL(t,YL),o=sL(t,aG),i=sL(t,GW),a=sL(t,YG),s=sL(t,(()=>null===QG(t))),l=sL(t,XG),c=sL(t,WG),u=sL(t,GG),d=sL(t,AW),h=sL(t,gK),p=sL(t,QL),f=sL(t,PW),m=!(null===l&&null===a&&s),g=t.current.columnHeadersContainerRef;return(0,UP.jsx)(n.slots.columnHeaders,KP({ref:g,visibleColumns:r,filterColumnLookup:o,sortColumnLookup:i,columnHeaderTabIndexState:a,columnGroupHeaderTabIndexState:l,columnHeaderFocus:c,columnGroupHeaderFocus:u,headerGroupingMaxDepth:d,columnMenuState:h,columnVisibility:p,columnGroupsHeaderStructure:f,hasOtherElementInTabSequence:m},null===(e=n.slotProps)||void 0===e?void 0:e.columnHeaders))})),yK=t.createContext(void 0);const bK=()=>{const e=t.useContext(yK);if(void 0===e)throw new Error(["MUI X: Could not find the Data Grid configuration context.","It looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.","This can also happen if you are bundling multiple versions of the Data Grid."].join("\n"));return e},wK=uF("div")({position:"absolute",top:"var(--DataGrid-headersTotalHeight)",left:0,width:"calc(100% - (var(--DataGrid-hasScrollY) * var(--DataGrid-scrollbarSize)))"}),CK=uF("div",{name:"MuiDataGrid",slot:"Main",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.main,n.dimensions.rightPinnedWidth>0&&t["main--hasPinnedRight"],"skeleton"===n.loadingOverlayVariant&&t["main--hasSkeletonLoadingOverlay"]]}})({flexGrow:1,position:"relative",overflow:"hidden",display:"flex",flexDirection:"column"}),_K=$P(((e,t)=>{var n;const{ownerState:r}=e,o=bL(),i=bK().hooks.useGridAriaAttributes();return(0,UP.jsxs)(CK,KP({ownerState:r,className:e.className,tabIndex:-1},i,null===(n=o.slotProps)||void 0===n?void 0:n.main,{ref:t,children:[(0,UP.jsx)(wK,{role:"presentation","data-id":"gridPanelAnchor"}),e.children]}))})),xK=uF("div")({position:"sticky",zIndex:4,top:0});function SK(e){const t=nA({root:["topContainer"]},QM,{});return(0,UP.jsx)(xK,KP({},e,{className:ZP(t.root,YM["container--top"]),role:"presentation"}))}const kK=uF("div")({position:"sticky",zIndex:4,bottom:"calc(var(--DataGrid-hasScrollX) * var(--DataGrid-scrollbarSize))"});function IK(e){const t=nA({root:["bottomContainer"]},QM,{});return(0,UP.jsx)(kK,KP({},e,{className:ZP(t.root,YM["container--bottom"]),role:"presentation"}))}const EK=uF("div",{name:"MuiDataGrid",slot:"VirtualScrollerContent",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.virtualScrollerContent,n.overflowedContent&&t["virtualScrollerContent--overflowed"]]}})({}),TK=$P((function(e,t){var n;const r=bL(),o=!r.autoHeight&&"auto"===(null===(n=e.style)||void 0===n?void 0:n.minHeight),i=((e,t)=>{const{classes:n}=e;return nA({root:["virtualScrollerContent",t&&"virtualScrollerContent--overflowed"]},QM,n)})(r,o),a={classes:r.classes,overflowedContent:o};return(0,UP.jsx)(EK,KP({},e,{ownerState:a,className:ZP(i.root,e.className),ref:t}))})),RK=uF("div")({display:"flex",flexDirection:"row",width:"var(--DataGrid-rowWidth)",boxSizing:"border-box"}),PK=uF("div")({position:"sticky",height:"100%",boxSizing:"border-box",borderTop:"1px solid var(--rowBorderColor)",backgroundColor:"var(--DataGrid-pinnedBackground)"}),AK=uF(PK)({left:0,borderRight:"1px solid var(--rowBorderColor)"}),DK=uF(PK)({right:0,borderLeft:"1px solid var(--rowBorderColor)"}),OK=uF("div")({flexGrow:1,borderTop:"1px solid var(--rowBorderColor)"});const NK=lA((function(e){let{rowsLength:t}=e;const n=sF(),{viewportOuterSize:r,minimumSize:o,hasScrollX:i,hasScrollY:a,scrollbarSize:s,leftPinnedWidth:l,rightPinnedWidth:c}=sL(n,dL),u=i?s:0,d=r.height-o.height>0;return 0!==u||d?(0,UP.jsxs)(RK,{className:YM.filler,role:"presentation",style:{height:u,"--rowBorderColor":0===t?"transparent":"var(--DataGrid-rowBorderColor)"},children:[l>0&&(0,UP.jsx)(AK,{className:YM["filler--pinnedLeft"],style:{width:l}}),(0,UP.jsx)(OK,{}),c>0&&(0,UP.jsx)(DK,{className:YM["filler--pinnedRight"],style:{width:c+(a?s:0)}})]}):null})),MK=["className"],LK=uF("div",{name:"MuiDataGrid",slot:"VirtualScrollerRenderZone",overridesResolver:(e,t)=>t.virtualScrollerRenderZone})({position:"absolute",display:"flex",flexDirection:"column"}),FK=$P((function(e,t){const{className:n}=e,r=i(e,MK),o=sF(),a=bL(),s=(e=>{const{classes:t}=e;return nA({root:["virtualScrollerRenderZone"]},QM,t)})(a),l=sL(o,(()=>{var e;const t=OG(o);return null!==(e=RG(o.current.state).positions[t.firstRowIndex])&&void 0!==e?e:0}));return(0,UP.jsx)(LK,KP({className:ZP(s.root,n),ownerState:a,style:{transform:"translate3d(0, ".concat(l,"px, 0)")}},r,{ref:t}))})),BK=uF("div")({position:"absolute",display:"inline-block",zIndex:6,"&:hover":{zIndex:7},"--size":"calc(max(var(--DataGrid-scrollbarSize), 14px))"}),jK=uF(BK)({width:"var(--size)",height:"calc(var(--DataGrid-hasScrollY) * (100% - var(--DataGrid-topContainerHeight) - var(--DataGrid-bottomContainerHeight) - var(--DataGrid-hasScrollX) * var(--DataGrid-scrollbarSize)))",overflowY:"auto",overflowX:"hidden",outline:0,"& > div":{width:"var(--size)"},top:"var(--DataGrid-topContainerHeight)",right:"0px"}),zK=uF(BK)({width:"100%",height:"var(--size)",overflowY:"hidden",overflowX:"auto",outline:0,"& > div":{height:"var(--size)"},bottom:"0px"}),VK=$P((function(e,n){const r=uL(),o=bL(),i=t.useRef(!1),a=t.useRef(0),s=t.useRef(null),l=t.useRef(null),c=((e,t)=>{const{classes:n}=e;return nA({root:["scrollbar","scrollbar--".concat(t)],content:["scrollbarContent"]},QM,n)})(o,e.position),u=sL(r,dL),d="vertical"===e.position?"height":"width",h="vertical"===e.position?"scrollTop":"scrollLeft",p="vertical"===e.position?"top":"left",f="vertical"===e.position?u.hasScrollX:u.hasScrollY,m=u.minimumSize[d]+(f?u.scrollbarSize:0),g=("vertical"===e.position?u.viewportInnerSize.height:u.viewportOuterSize.width)*(m/u.viewportOuterSize[d]),v=dF((()=>{const t=s.current,n=e.scrollPosition.current;if(!t)return;if(n[p]===a.current)return;if(a.current=n[p],i.current)return void(i.current=!1);i.current=!0;const r=n[p]/m;t[h]=r*g})),y=dF((()=>{const e=r.current.virtualScrollerRef.current,t=s.current;if(!t)return;if(i.current)return void(i.current=!1);i.current=!0;const n=t[h]/g;e[h]=n*m}));ZM((()=>{const e=r.current.virtualScrollerRef.current,t=s.current,n={passive:!0};return e.addEventListener("scroll",v,n),t.addEventListener("scroll",y,n),()=>{e.removeEventListener("scroll",v,n),t.removeEventListener("scroll",y,n)}})),t.useEffect((()=>{l.current.style.setProperty(d,"".concat(g,"px"))}),[g,d]);const b="vertical"===e.position?jK:zK;return(0,UP.jsx)(b,{ref:oA(n,s),className:c.root,style:"vertical"===e.position&&o.unstable_listView?{height:"100%",top:0}:void 0,tabIndex:-1,"aria-hidden":"true",children:(0,UP.jsx)("div",{ref:l,className:c.content})})})),UK=uF("div",{name:"MuiDataGrid",slot:"VirtualScroller",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.virtualScroller,n.dimensions.hasScrollX&&t["virtualScroller--hasScrollX"]]}})({position:"relative",height:"100%",flexGrow:1,overflow:"scroll",scrollbarWidth:"none",display:"flex",flexDirection:"column","&::-webkit-scrollbar":{display:"none"},"@media print":{overflow:"hidden"},zIndex:0});function HK(e){const t=sF(),n=bL(),r=sL(t,dL),o=(()=>{const e=sF(),t=bL(),n=sL(e,EH),r=sL(e,nG),o=sL(e,jH),i=0===n&&0===o,a=sL(e,TH);let s=null,l=null;var c;return!a&&i&&(s="noRowsOverlay"),!a&&n>0&&0===r&&(s="noResultsOverlay"),a&&(s="loadingOverlay",l=(null===(c=t.slotProps)||void 0===c||null===(c=c.loadingOverlay)||void 0===c?void 0:c[i?"noRowsVariant":"variant"])||null),{overlayType:s,loadingOverlayVariant:l}})(),i={classes:n.classes,dimensions:r,loadingOverlayVariant:o.loadingOverlayVariant},a=(e=>{const{classes:t,dimensions:n,loadingOverlayVariant:r}=e;return nA({root:["main",n.rightPinnedWidth>0&&"main--hasPinnedRight","skeleton"===r&&"main--hasSkeletonLoadingOverlay"],scroller:["virtualScroller",n.hasScrollX&&"virtualScroller--hasScrollX"]},QM,t)})(i),s=oK(),{getContainerProps:l,getScrollerProps:c,getContentProps:u,getRenderZoneProps:d,getScrollbarVerticalProps:h,getScrollbarHorizontalProps:p,getRows:f}=s,m=f();return(0,UP.jsxs)(_K,KP({className:a.root},l(),{ownerState:i,children:[(0,UP.jsx)(jW,{scrollDirection:"left"}),(0,UP.jsx)(jW,{scrollDirection:"right"}),(0,UP.jsxs)(UK,KP({className:a.scroller},c(),{ownerState:i,children:[(0,UP.jsxs)(SK,{children:[!n.unstable_listView&&(0,UP.jsx)(vK,{}),(0,UP.jsx)(n.slots.pinnedRows,{position:"top",virtualScroller:s})]}),(0,UP.jsx)(mK,KP({},o)),(0,UP.jsx)(TK,KP({},u(),{children:(0,UP.jsxs)(FK,KP({},d(),{children:[m,(0,UP.jsx)(n.slots.detailPanels,{virtualScroller:s})]}))})),(0,UP.jsx)(NK,{rowsLength:m.length}),(0,UP.jsx)(IK,{children:(0,UP.jsx)(n.slots.pinnedRows,{position:"bottom",virtualScroller:s})})]})),r.hasScrollX&&!n.unstable_listView&&(0,UP.jsx)(VK,KP({position:"horizontal"},p())),r.hasScrollY&&(0,UP.jsx)(VK,KP({position:"vertical"},h())),e.children]}))}function qK(){var e;const t=bL();return t.hideFooter?null:(0,UP.jsx)(t.slots.footer,KP({},null===(e=t.slotProps)||void 0===e?void 0:e.footer))}const WK=["className","children"],GK=$P((function(e,n){const r=bL(),{className:o,children:a}=e,s=i(e,WK),l=uL(),c=sL(l,zL),u=oA(l.current.rootElementRef,n),d=r,h=((e,t)=>{const{autoHeight:n,classes:r,showCellVerticalBorder:o}=e;return nA({root:["root",n&&"autoHeight","root--density".concat(tA(t)),null===e.slots.toolbar&&"root--noToolbar","withBorderColor",o&&"withVerticalBorder"]},QM,r)})(d,c),[p,f]=t.useState(!1);return iA((()=>{f(!0)}),[]),p?(0,UP.jsxs)(fL,KP({className:ZP(h.root,o),ownerState:d},s,{ref:u,children:[(0,UP.jsx)(cF,{}),(0,UP.jsx)(HK,{children:a}),(0,UP.jsx)(qK,{})]})):null})),KK=lA(GK);function QK(e,t){const n=DH(e),r=HW(e),o=XW(e),i=n[t];if(!i||"group"!==i.type)return[];const a=[];for(let l=r.findIndex((e=>e===t))+1;l<r.length&&(null===(s=n[r[l]])||void 0===s?void 0:s.depth)>i.depth;l+=1){var s;const t=r[l];!1!==o[t]&&e.current.isRowSelectable(t)&&a.push(t)}return a}function YK(e){return e.signature===fF.DataGrid?e.checkboxSelection&&!0!==e.disableMultipleRowSelection:!e.disableMultipleRowSelection}const XK=(e,t,n,r,o,i)=>{const a=XW(e),s=TG(e),l=new Set([]);if(r||o){if(r){const r=t[n];if("group"===(null===r||void 0===r?void 0:r.type)){QK(e,n).forEach((e=>{i(e),l.add(e)}))}}if(o){const r=e=>{if(s[e]!==e&&!l.has(e))return!1;const n=t[e];return"group"!==(null===n||void 0===n?void 0:n.type)||n.children.every(r)},o=n=>{const s=((e,t,n)=>{const r=e[n];if(!r)return[];const o=r.parent;return null==o?[]:e[o].children.filter((e=>e!==n&&t[e]))})(t,a,n);if(0===s.length||s.every(r)){const r=t[n].parent;null!=r&&r!==zH&&e.current.isRowSelectable(r)&&(i(r),l.add(r),o(r))}};o(n)}}},$K=(e,t,n,r,o,i)=>{const a=TG(e);if(o||r){if(o){const e=((e,t)=>{const n=[];let r=t;for(;null!=r&&r!==zH;){const t=e[r];if(!t)return n;n.push(r),r=t.parent}return n})(t,n);e.forEach((e=>{a[e]===e&&i(e)}))}if(r){const r=t[n];if("group"===(null===r||void 0===r?void 0:r.type)){QK(e,n).forEach((e=>{i(e)}))}}}};function JK(e){let{privateApiRef:n,configuration:r,props:o,children:i}=e;const a=t.useRef(n.current.getPublicApi());return(0,UP.jsx)(yK.Provider,{value:r,children:(0,UP.jsx)(yL.Provider,{value:o,children:(0,UP.jsx)(cL.Provider,{value:n,children:(0,UP.jsx)(aF.Provider,{value:a,children:i})})})})}const ZK=function(){try{const e="__some_random_key_you_are_not_going_to_use__";return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch(e){return!1}}()&&null!=window.localStorage.getItem("DEBUG"),eQ=()=>{},tQ={debug:eQ,info:eQ,warn:eQ,error:eQ},nQ=["debug","info","warn","error"];function rQ(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console;const r=nQ.indexOf(t);if(-1===r)throw new Error("MUI X: Log level ".concat(t," not recognized."));const o=nQ.reduce(((t,o,i)=>(t[o]=i>=r?function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];const[a,...s]=r;n[o]("MUI X: ".concat(e," - ").concat(a),...s)}:eQ,t)),{});return o}class oQ{constructor(){this.maxListeners=20,this.warnOnce=!1,this.events={}}on(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.events[e];r||(r={highPriority:new Map,regular:new Map},this.events[e]=r),n.isFirst?r.highPriority.set(t,!0):r.regular.set(t,!0)}removeListener(e,t){this.events[e]&&(this.events[e].regular.delete(t),this.events[e].highPriority.delete(t))}removeAllListeners(){this.events={}}emit(e){const t=this.events[e];if(!t)return;const n=Array.from(t.highPriority.keys()),r=Array.from(t.regular.keys());for(var o=arguments.length,i=new Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];for(let s=n.length-1;s>=0;s-=1){const e=n[s];t.highPriority.has(e)&&e.apply(this,i)}for(let s=0;s<r.length;s+=1){const e=r[s];t.regular.has(e)&&e.apply(this,i)}}once(e,t){const n=this;this.on(e,(function r(){n.removeListener(e,r);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];t.apply(n,i)}))}}class iQ{static create(e){return new iQ(e)}constructor(e){this.value=void 0,this.listeners=void 0,this.subscribe=e=>(this.listeners.add(e),()=>{this.listeners.delete(e)}),this.getSnapshot=()=>this.value,this.update=e=>{this.value=e,this.listeners.forEach((t=>t(e)))},this.value=e,this.listeners=new Set}}const aQ=Symbol("mui.api_private");let sQ=0;function lQ(e,n){var r;const o=t.useRef(null),i=t.useRef(null);i.current||(i.current=function(e){var t;const n=null===(t=e.current)||void 0===t?void 0:t[aQ];if(n)return n;const r={},o={state:r,store:iQ.create(r),instanceId:{id:sQ}};return sQ+=1,o.getPublicApi=()=>e.current,o.register=(t,n)=>{Object.keys(n).forEach((r=>{const i=n[r],a=o[r];if(!0===(null===a||void 0===a?void 0:a.spying)?a.target=i:o[r]=i,"public"===t){const t=e.current,n=t[r];!0===(null===n||void 0===n?void 0:n.spying)?n.target=i:t[r]=i}}))},o.register("private",{caches:{},eventManager:new oQ}),o}(o)),o.current||(o.current=function(e){return{get state(){return e.current.state},get store(){return e.current.store},get instanceId(){return e.current.instanceId},[aQ]:e.current}}(i));const a=t.useCallback((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[o,a,s={}]=t;if(s.defaultMuiPrevented=!1,(e=>void 0!==e.isPropagationStopped)(s)&&s.isPropagationStopped())return;const l=n.signature===fF.DataGridPro||n.signature===fF.DataGridPremium?{api:i.current.getPublicApi()}:{};i.current.eventManager.emit(o,a,s,l)}),[i,n.signature]),s=t.useCallback(((e,t,n)=>{i.current.eventManager.on(e,t,n);const r=i.current;return()=>{r.eventManager.removeListener(e,t)}}),[i]);return MG(i,{subscribeEvent:s,publishEvent:a},"public"),!e||null!==(r=e.current)&&void 0!==r&&r.state||(e.current=o.current),t.useImperativeHandle(e,(()=>o.current),[o]),t.useEffect((()=>{const e=i.current;return()=>{e.publishEvent("unmount")}}),[i]),i}const cQ="none",uQ={rowTreeCreation:"rowTree",filtering:"rowTree",sorting:"rowTree",visibleRowsLookupCreation:"rowTree"},dQ=(e,n)=>{const r=lQ(e,n);return(e=>{const n=t.useRef(null),r=t.useRef(null),o=t.useRef(null),i=t.useRef(null),a=t.useRef(null),s=t.useRef(null);e.current.register("public",{rootElementRef:n}),e.current.register("private",{mainElementRef:r,virtualScrollerRef:o,virtualScrollbarVerticalRef:i,virtualScrollbarHorizontalRef:a,columnHeadersContainerRef:s})})(r),(e=>{const n=QB();void 0===e.current.state.isRtl&&(e.current.state.isRtl=n);const r=t.useRef(!0);t.useEffect((()=>{r.current?r.current=!1:e.current.setState((e=>KP({},e,{isRtl:n})))}),[e,n])})(r),((e,n)=>{MG(e,{getLogger:t.useCallback((e=>ZK?rQ(e,"debug",n.logger):n.logLevel?rQ(e,n.logLevel.toString(),n.logger):tQ),[n.logLevel,n.logger])},"private")})(r,n),(e=>{const n=t.useRef({}),[,r]=t.useState(),o=t.useCallback((e=>{n.current[e.stateId]=e}),[]),i=t.useCallback(((t,r)=>{let o;if(o=PB(t)?t(e.current.state):t,e.current.state===o)return!1;let i=!1;const a=[];if(Object.keys(n.current).forEach((t=>{const r=n.current[t],s=r.stateSelector(e.current.state,e.current.instanceId),l=r.stateSelector(o,e.current.instanceId);l!==s&&(a.push({stateId:r.stateId,hasPropChanged:l!==r.propModel}),void 0!==r.propModel&&l!==r.propModel&&(i=!0))})),a.length>1)throw new Error("You're not allowed to update several sub-state in one transaction. You already updated ".concat(a[0].stateId,", therefore, you're not allowed to update ").concat(a.map((e=>e.stateId)).join(", ")," in the same transaction."));if(i||(e.current.state=o,e.current.publishEvent("stateChange",o),e.current.store.update(o)),1===a.length){const{stateId:t,hasPropChanged:s}=a[0],l=n.current[t],c=l.stateSelector(o,e.current.instanceId);l.propOnChange&&s&&l.propOnChange(c,{reason:r,api:e.current}),i||e.current.publishEvent(l.changeEvent,c,{reason:r})}return!i}),[e]),a=t.useCallback(((t,n,r)=>e.current.setState((e=>KP({},e,{[t]:n(e[t])})),r)),[e]),s=t.useCallback((()=>r((()=>e.current.state))),[e]),l={updateControlState:a,registerControlState:o};MG(e,{setState:i,forceUpdate:s},"public"),MG(e,l,"private")})(r),(e=>{const n=t.useRef({}),r=t.useRef(!1),o=t.useCallback((e=>{!r.current&&e&&(r.current=!0,Object.values(e.appliers).forEach((e=>{e()})),r.current=!1)}),[]),a=t.useCallback(((e,t,r)=>{n.current[e]||(n.current[e]={processors:new Map,processorsAsArray:[],appliers:{}});const i=n.current[e];return i.processors.get(t)!==r&&(i.processors.set(t,r),i.processorsAsArray=Array.from(n.current[e].processors.values()),o(i)),()=>{n.current[e].processors.delete(t),n.current[e].processorsAsArray=Array.from(n.current[e].processors.values())}}),[o]),s=t.useCallback(((e,t,r)=>(n.current[e]||(n.current[e]={processors:new Map,processorsAsArray:[],appliers:{}}),n.current[e].appliers[t]=r,()=>{const r=i(n.current[e].appliers,[t].map(l));n.current[e].appliers=r})),[]),c=t.useCallback((e=>{o(n.current[e])}),[o]),u=t.useCallback((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[o,i,a]=t;if(!n.current[o])return i;const s=n.current[o].processorsAsArray;let l=i;for(let n=0;n<s.length;n+=1)l=s[n](l,a);return l}),[]),d={unstable_applyPipeProcessors:u};MG(e,{registerPipeProcessor:a,registerPipeApplier:s,requestPipeProcessorsApplication:c},"private"),MG(e,d,"public")})(r),(e=>{const n=t.useRef(new Map),r=t.useRef({}),o=t.useCallback(((t,n,o)=>{const a=()=>{const e=i(r.current[n],[t].map(l));r.current[n]=e};r.current[n]||(r.current[n]={});const s=r.current[n],c=s[t];return s[t]=o,c&&c!==o?(t===e.current.getActiveStrategy(uQ[n])&&e.current.publishEvent("activeStrategyProcessorChange",n),a):a}),[e]),a=t.useCallback(((t,n)=>{const o=e.current.getActiveStrategy(uQ[t]);if(null==o)throw new Error("Can't apply a strategy processor before defining an active strategy");const i=r.current[t];if(!i||!i[o])throw new Error('No processor found for processor "'.concat(t,'" on strategy "').concat(o,'"'));return(0,i[o])(n)}),[e]),s=t.useCallback((e=>{var t;const r=Array.from(n.current.entries()).find((t=>{let[,n]=t;return n.group===e&&n.isAvailable()}));return null!==(t=null===r||void 0===r?void 0:r[0])&&void 0!==t?t:cQ}),[]),c=t.useCallback(((t,r,o)=>{n.current.set(r,{group:t,isAvailable:o}),e.current.publishEvent("strategyAvailabilityChange")}),[e]);MG(e,{registerStrategyProcessor:o,applyStrategyProcessor:a,getActiveStrategy:s,setStrategyAvailability:c},"private")})(r),((e,n)=>{const r=t.useCallback((e=>{if(null==n.localeText[e])throw new Error("Missing translation for key ".concat(e,"."));return n.localeText[e]}),[n.localeText]);e.current.register("public",{getLocaleText:r})})(r,n),r.current.register("private",{rootProps:n}),r},hQ=(e,n,r)=>{const o=t.useRef(!1);o.current||(n.current.state=e(n.current.state,r,n),o.current=!0)};function pQ(e,n){const r=t.useRef(null);if(r.current)return r.current;const o=e.current.getLogger(n);return r.current=o,o}const fQ=(e,n,r,o,i)=>{var a;const s=pQ(e,"useNativeEventListener"),[l,c]=t.useState(!1),u=t.useRef(o),d=PB(n)?n():null!==(a=null===n||void 0===n?void 0:n.current)&&void 0!==a?a:null,h=t.useCallback((e=>u.current&&u.current(e)),[]);t.useEffect((()=>{u.current=o}),[o]),t.useEffect((()=>{if(d&&r&&!l){s.debug("Binding native ".concat(r," event")),d.addEventListener(r,h,i),c(!0);const t=()=>{s.debug("Clearing native ".concat(r," event")),d.removeEventListener(r,h,i)};e.current.subscribeEvent("unmount",t)}}),[d,h,r,l,s,i,e])},mQ=["field","id","formattedValue","row","rowNode","colDef","isEditable","cellMode","hasFocus","tabIndex","api"],gQ=$P((function(e,n){var r,o,a;const{field:s,id:l,rowNode:c,hasFocus:u,tabIndex:d}=e,h=i(e,mQ),p=sF(),f=bL(),m=(e=>{const{classes:t}=e;return nA({root:["checkboxInput"]},QM,t)})({classes:f.classes}),g=t.useRef(null),v=t.useRef(null),y=oA(g,n);t.useLayoutEffect((()=>{if(0===d){const e=p.current.getCellElement(l,s);e&&(e.tabIndex=-1)}}),[p,d,l,s]),t.useEffect((()=>{if(u){var e;const t=null===(e=g.current)||void 0===e?void 0:e.querySelector("input");null===t||void 0===t||t.focus({preventScroll:!0})}else v.current&&v.current.stop({})}),[u]);const b=t.useCallback((e=>{" "===e.key&&e.stopPropagation()}),[]),w=p.current.isRowSelectable(l),C=(_=l,x=null!==(r=null===(o=f.rowSelectionPropagation)||void 0===o?void 0:o.parents)&&void 0!==r&&r,LL(DH,HW,XW,TG,((e,t,n,r)=>{const o=e[_];if(!o||"group"!==o.type)return{isIndeterminate:!1,isChecked:r[_]===_};if(r[_]===_)return{isIndeterminate:!1,isChecked:!0};let i=0,a=0;for(let l=t.findIndex((e=>e===_))+1;l<t.length&&(null===(s=e[t[l]])||void 0===s?void 0:s.depth)>o.depth;l+=1){var s;const e=t[l];!1!==n[e]&&(i+=1,void 0!==r[e]&&(a+=1))}return{isIndeterminate:a>0&&(a<i||void 0===r[_]),isChecked:x?a>0:r[_]===_}})));var _,x;const{isIndeterminate:S,isChecked:k}=sL(p,C,oL);if("footer"===c.type||"pinnedRow"===c.type)return null;const I="select"===f.indeterminateCheckboxAction?k&&!S:k,E=p.current.getLocaleText(I?"checkboxSelectionUnselectRow":"checkboxSelectionSelectRow");return(0,UP.jsx)(f.slots.baseCheckbox,KP({tabIndex:d,checked:I,onChange:e=>{const t={value:e.target.checked,id:l};p.current.publishEvent("rowSelectionCheckboxChange",t,e)},className:m.root,inputProps:{"aria-label":E,name:"select_row"},onKeyDown:b,indeterminate:S,disabled:!w,touchRippleRef:v},null===(a=f.slotProps)||void 0===a?void 0:a.baseCheckbox,h,{ref:y}))})),vQ=gQ,yQ=["field","colDef"],bQ=$P((function(e,n){var r;const o=i(e,yQ),[,a]=t.useState(!1),s=sF(),l=bL(),c=(e=>{const{classes:t}=e;return nA({root:["checkboxInput"]},QM,t)})({classes:l.classes}),u=sL(s,YG),d=sL(s,kG),h=sL(s,JW),p=sL(s,wG),f=t.useMemo((()=>"function"!==typeof l.isRowSelectable?d:d.filter((e=>!!l.keepNonExistentRowsSelected||!!s.current.getRow(e)&&l.isRowSelectable(s.current.getRowParams(e))))),[s,l.isRowSelectable,d,l.keepNonExistentRowsSelected]),m=t.useMemo((()=>(l.pagination&&l.checkboxSelectionVisibleOnly?p:h).reduce(((e,t)=>(e[t]=!0,e)),{})),[l.pagination,l.checkboxSelectionVisibleOnly,p,h]),g=t.useMemo((()=>f.filter((e=>m[e])).length),[f,m]),v=g>0&&g<Object.keys(m).length,y=g>0,b=null!==u&&u.field===e.field?0:-1;t.useLayoutEffect((()=>{const t=s.current.getColumnHeaderElement(e.field);0===b&&t&&(t.tabIndex=-1)}),[b,s,e.field]);const w=t.useCallback((e=>{" "===e.key&&s.current.publishEvent("headerSelectionCheckboxChange",{value:!y})}),[s,y]),C=t.useCallback((()=>{a((e=>!e))}),[]);t.useEffect((()=>s.current.subscribeEvent("rowSelectionChange",C)),[s,C]);const _="select"===l.indeterminateCheckboxAction?y&&!v:y,x=s.current.getLocaleText(_?"checkboxSelectionUnselectAllRows":"checkboxSelectionSelectAllRows");return(0,UP.jsx)(l.slots.baseCheckbox,KP({indeterminate:v,checked:_,onChange:e=>{const t={value:e.target.checked};s.current.publishEvent("headerSelectionCheckboxChange",t)},className:c.root,inputProps:{"aria-label":x,name:"select_all_rows"},tabIndex:b,onKeyDown:w,disabled:!YK(l)},null===(r=l.slotProps)||void 0===r?void 0:r.baseCheckbox,o,{ref:n}))})),wQ="__check__",CQ=KP({},uq,{type:"custom",field:wQ,width:50,resizable:!1,sortable:!1,filterable:!1,aggregable:!1,disableColumnMenu:!0,disableReorder:!0,disableExport:!0,getApplyQuickFilterFn:void 0,display:"flex",valueGetter:(e,t,n,r)=>void 0!==TG(r)[r.current.getRowId(t)],renderHeader:e=>(0,UP.jsx)(bQ,KP({},e)),renderCell:e=>(0,UP.jsx)(vQ,KP({},e))});function _Q(e,t){if(null===e||void 0===e)return"";const n="string"===typeof e?e:"".concat(e);if(t.shouldAppendQuotes||t.escapeFormulas){const e=n.replace(/"/g,'""');return t.escapeFormulas&&["=","+","-","@","\t","\r"].includes(e[0])?"\"'".concat(e,'"'):[t.delimiter,"\n","\r",'"'].some((e=>n.includes(e)))?'"'.concat(e,'"'):e}return n}const xQ=(e,t)=>{const{csvOptions:n,ignoreValueFormatter:r}=t;let o;if(r){var i;const t=e.colDef.type;if("number"===t)o=String(e.value);else if("date"===t||"dateTime"===t){var a;o=null===(a=e.value)||void 0===a?void 0:a.toISOString()}else o="function"===typeof(null===(i=e.value)||void 0===i?void 0:i.toString)?e.value.toString():e.value}else o=e.formattedValue;return _Q(o,n)};class SQ{constructor(e){this.options=void 0,this.rowString="",this.isEmpty=!0,this.options=e}addValue(e){this.isEmpty||(this.rowString+=this.options.csvOptions.delimiter),"function"===typeof this.options.sanitizeCellValue?this.rowString+=this.options.sanitizeCellValue(e,this.options.csvOptions):this.rowString+=e,this.isEmpty=!1}getRowString(){return this.rowString}}function kQ(e){const{columns:t,rowIds:n,csvOptions:r,ignoreValueFormatter:o,apiRef:i}=e,a=n.reduce(((e,n)=>"".concat(e).concat((e=>{let{id:t,columns:n,getCellParams:r,csvOptions:o,ignoreValueFormatter:i}=e;const a=new SQ({csvOptions:o});return n.forEach((e=>{const n=r(t,e.field);a.addValue(xQ(n,{ignoreValueFormatter:i,csvOptions:o}))})),a.getRowString()})({id:n,columns:t,getCellParams:i.current.getCellParams,ignoreValueFormatter:o,csvOptions:r}),"\r\n")),"").trim();if(!r.includeHeaders)return a;const s=t.filter((e=>e.field!==CQ.field)),l=[];if(r.includeColumnGroupsHeaders){const e=i.current.getAllGroupDetails();let t=0;const n=s.reduce(((e,n)=>{const r=i.current.getColumnGroupPath(n.field);return e[n.field]=r,t=Math.max(t,r.length),e}),{});for(let o=0;o<t;o+=1){const t=new SQ({csvOptions:r,sanitizeCellValue:_Q});l.push(t),s.forEach((r=>{const i=(n[r.field]||[])[o],a=e[i];t.addValue(a?a.headerName||a.groupId:"")}))}}const c=new SQ({csvOptions:r,sanitizeCellValue:_Q});s.forEach((e=>{c.addValue(e.headerName||e.field)})),l.push(c);const u="".concat(l.map((e=>e.getRowString())).join("\r\n"),"\r\n");return"".concat(u).concat(a).trim()}function IQ(e){return 1===e.key.length&&!e.ctrlKey&&!e.metaKey}const EQ=e=>0===e.indexOf("Arrow")||0===e.indexOf("Page")||" "===e||"Home"===e||"End"===e,TQ=e=>"Tab"===e||"Escape"===e;function RQ(e){return(e.ctrlKey||e.metaKey)&&"V"===String.fromCharCode(e.keyCode)&&!e.shiftKey&&!e.altKey}function PQ(e){const t=document.createElement("span");t.style.whiteSpace="pre",t.style.userSelect="all",t.style.opacity="0px",t.textContent=e,document.body.appendChild(t);const n=document.createRange();n.selectNode(t);const r=window.getSelection();r.removeAllRanges(),r.addRange(n);try{document.execCommand("copy")}finally{document.body.removeChild(t)}}const AQ=(e,n)=>{const r=n.ignoreValueFormatterDuringExport,o=("object"===typeof r?null===r||void 0===r?void 0:r.clipboardExport:r)||!1,i=n.clipboardCopyCellDelimiter,a=t.useCallback((t=>{if(!function(e){return(e.ctrlKey||e.metaKey)&&"C"===String.fromCharCode(e.keyCode)&&!e.shiftKey&&!e.altKey}(t))return;if(function(e){var t;return!(null===(t=window.getSelection())||void 0===t||!t.toString())||!!(e&&(e.selectionEnd||0)-(e.selectionStart||0)>0)}(t.target))return;let n="";if(e.current.getSelectedRows().size>0)n=e.current.getDataAsCsv({includeHeaders:!1,delimiter:i,shouldAppendQuotes:!1,escapeFormulas:!1});else{const t=qG(e);if(t){const r=e.current.getCellParams(t.id,t.field);n=xQ(r,{csvOptions:{delimiter:i,shouldAppendQuotes:!1,escapeFormulas:!1},ignoreValueFormatter:o})}}n=e.current.unstable_applyPipeProcessors("clipboardCopy",n),n&&(!function(e){navigator.clipboard?navigator.clipboard.writeText(e).catch((()=>{PQ(e)})):PQ(e)}(n),e.current.publishEvent("clipboardCopy",n))}),[e,o,i]);fQ(e,e.current.rootElementRef,"keydown",a),bF(e,"clipboardCopy",n.onClipboardCopy)},DQ=e=>KP({},e,{columnMenu:{open:!1}}),OQ=e=>{const n=t.useRef(!0);n.current&&(n.current=!1,e())},NQ=(e,n,r)=>{const o=t.useRef(null),i=t.useRef("mui-".concat(Math.round(1e9*Math.random()))),a=t.useCallback((()=>{o.current=e.current.registerPipeProcessor(n,i.current,r)}),[e,r,n]);OQ((()=>{a()}));const s=t.useRef(!0);t.useEffect((()=>(s.current?s.current=!1:a(),()=>{o.current&&(o.current(),o.current=null)})),[a])},MQ=(e,n,r)=>{const o=t.useRef(null),i=t.useRef("mui-".concat(Math.round(1e9*Math.random()))),a=t.useCallback((()=>{o.current=e.current.registerPipeApplier(n,i.current,r)}),[e,r,n]);OQ((()=>{a()}));const s=t.useRef(!0);t.useEffect((()=>(s.current?s.current=!1:a(),()=>{o.current&&(o.current(),o.current=null)})),[a])},LQ=(e,t,n)=>{var r,o,i,a,s;return KP({},e,{columns:LW({apiRef:n,columnsToUpsert:t.columns,initialState:null===(r=t.initialState)||void 0===r?void 0:r.columns,columnVisibilityModel:null!==(o=null!==(i=t.columnVisibilityModel)&&void 0!==i?i:null===(a=t.initialState)||void 0===a||null===(a=a.columns)||void 0===a?void 0:a.columnVisibilityModel)&&void 0!==o?o:{},keepOnlyColumnsToUpsert:!0}),pinnedColumns:null!==(s=e.pinnedColumns)&&void 0!==s?s:HL})};function FQ(e){return t=>KP({},t,{columns:e})}const BQ=(e,t)=>{var n,r,o;return KP({},e,{density:null!==(n=null!==(r=null===(o=t.initialState)||void 0===o?void 0:o.density)&&void 0!==r?r:t.density)&&void 0!==n?n:"standard"})};const jQ=e=>{let{apiRef:t,options:n}=e;const r=KL(t);if(n.fields)return n.fields.reduce(((e,t)=>{const n=r.find((e=>e.field===t));return n&&e.push(n),e}),[]);return(n.allColumns?r:YL(t)).filter((e=>!e.disableExport))},zQ=e=>{var t,n;let{apiRef:r}=e;const o=eG(r),i=DH(r),a=r.current.getSelectedRows(),s=o.filter((e=>"footer"!==i[e].type)),l=BH(r),c=(null===l||void 0===l||null===(t=l.top)||void 0===t?void 0:t.map((e=>e.id)))||[],u=(null===l||void 0===l||null===(n=l.bottom)||void 0===n?void 0:n.map((e=>e.id)))||[];return s.unshift(...c),s.push(...u),a.size>0?s.filter((e=>a.has(e))):s};function VQ(e){return GM("MuiDivider",e)}const UQ=KM("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);function HQ(e){return GM("MuiListItemIcon",e)}const qQ=KM("MuiListItemIcon",["root","alignItemsFlexStart"]);function WQ(e){return GM("MuiListItemText",e)}const GQ=KM("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);function KQ(e){return GM("MuiMenuItem",e)}const QQ=KM("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),YQ=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],XQ=UM(IV,{shouldForwardProp:e=>VM(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})(QF((e=>{let{theme:t}=e;return d(d({},t.typography.body1),{},{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(QQ.selected)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):gA(t.palette.primary.main,t.palette.action.selectedOpacity),["&.".concat(QQ.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):gA(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},["&.".concat(QQ.selected,":hover")]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):gA(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):gA(t.palette.primary.main,t.palette.action.selectedOpacity)}},["&.".concat(QQ.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["&.".concat(QQ.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity},["& + .".concat(UQ.root)]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},["& + .".concat(UQ.inset)]:{marginLeft:52},["& .".concat(GQ.root)]:{marginTop:0,marginBottom:0},["& .".concat(GQ.inset)]:{paddingLeft:36},["& .".concat(qQ.root)]:{minWidth:36},variants:[{props:e=>{let{ownerState:t}=e;return!t.disableGutters},style:{paddingLeft:16,paddingRight:16}},{props:e=>{let{ownerState:t}=e;return t.divider},style:{borderBottom:"1px solid ".concat((t.vars||t).palette.divider),backgroundClip:"padding-box"}},{props:e=>{let{ownerState:t}=e;return!t.dense},style:{[t.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:e=>{let{ownerState:t}=e;return t.dense},style:d(d({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2),{},{["& .".concat(qQ.root," svg")]:{fontSize:"1.25rem"}})}]})}))),$Q=t.forwardRef((function(e,n){const r=$F({props:e,name:"MuiMenuItem"}),{autoFocus:o=!1,component:i="li",dense:s=!1,divider:l=!1,disableGutters:c=!1,focusVisibleClassName:u,role:h="menuitem",tabIndex:p,className:f}=r,m=a(r,YQ),g=t.useContext(Oq),v=t.useMemo((()=>({dense:s||g.dense||!1,disableGutters:c})),[g.dense,s,c]),y=t.useRef(null);eB((()=>{o&&y.current&&y.current.focus()}),[o]);const b=d(d({},r),{},{dense:v.dense,divider:l,disableGutters:c}),w=(e=>{const{disabled:t,dense:n,divider:r,disableGutters:o,selected:i,classes:a}=e,s=nA({root:["root",n&&"dense",t&&"disabled",!o&&"gutters",r&&"divider",i&&"selected"]},KQ,a);return d(d({},a),s)})(r),C=ZF(y,n);let _;return r.disabled||(_=void 0!==p?p:-1),(0,UP.jsx)(Oq.Provider,{value:v,children:(0,UP.jsx)(XQ,d(d({ref:C,role:h,tabIndex:_,component:i,focusVisibleClassName:ZP(w.focusVisible,u),className:ZP(w.root,f)},m),{},{ownerState:b,classes:w}))})})),JQ=$Q,ZQ=$P((function(e,n){var r,o;const{children:i,slotProps:a={}}=e,s=a.button||{},l=a.tooltip||{},c=sF(),u=bL(),d=IB(),h=IB(),[p,f]=t.useState(!1),m=t.useRef(null),g=oA(n,m),v=()=>f(!1);return null==i?null:(0,UP.jsxs)(t.Fragment,{children:[(0,UP.jsx)(u.slots.baseTooltip,KP({title:c.current.getLocaleText("toolbarExportLabel"),enterDelay:1e3},null===(r=u.slotProps)||void 0===r?void 0:r.baseTooltip,l,{children:(0,UP.jsx)(u.slots.baseButton,KP({size:"small",startIcon:(0,UP.jsx)(u.slots.exportIcon,{}),"aria-expanded":p,"aria-label":c.current.getLocaleText("toolbarExportLabel"),"aria-haspopup":"menu","aria-controls":p?h:void 0,id:d},null===(o=u.slotProps)||void 0===o?void 0:o.baseButton,s,{onClick:e=>{var t;f((e=>!e)),null===(t=s.onClick)||void 0===t||t.call(s,e)},ref:g,children:c.current.getLocaleText("toolbarExport")}))})),(0,UP.jsx)(yW,{open:p,target:m.current,onClose:v,position:"bottom-start",children:(0,UP.jsx)(Qq,{id:h,className:YM.menuList,"aria-labelledby":d,onKeyDown:e=>{"Tab"===e.key&&e.preventDefault(),TQ(e.key)&&v()},autoFocusItem:p,children:t.Children.map(i,(e=>t.isValidElement(e)?t.cloneElement(e,{hideMenu:v}):e))})})]})})),eY=["hideMenu","options"],tY=["hideMenu","options"],nY=["csvOptions","printOptions","excelOptions"];function rY(e){const t=sF(),{hideMenu:n,options:r}=e,o=i(e,eY);return(0,UP.jsx)(JQ,KP({onClick:()=>{t.current.exportDataAsCsv(r),null===n||void 0===n||n()}},o,{children:t.current.getLocaleText("toolbarExportCSV")}))}function oY(e){const t=sF(),{hideMenu:n,options:r}=e,o=i(e,tY);return(0,UP.jsx)(JQ,KP({onClick:()=>{t.current.exportDataAsPrint(r),null===n||void 0===n||n()}},o,{children:t.current.getLocaleText("toolbarExportPrint")}))}$P((function(e,n){const r=e,{csvOptions:o={},printOptions:a={},excelOptions:s}=r,l=i(r,nY),c=sF().current.unstable_applyPipeProcessors("exportMenu",[],{excelOptions:s,csvOptions:o,printOptions:a}).sort(((e,t)=>e.componentName>t.componentName?1:-1));return 0===c.length?null:(0,UP.jsx)(ZQ,KP({},l,{ref:n,children:c.map(((e,n)=>t.cloneElement(e.component,{key:n})))}))}));const iY=(e,n)=>{const r=pQ(e,"useGridCsvExport"),o=n.ignoreValueFormatterDuringExport,i=("object"===typeof o?null===o||void 0===o?void 0:o.csvExport:o)||!1,a=t.useCallback((function(){var t,n,o,a,s;let l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r.debug("Get data as CSV");return kQ({columns:jQ({apiRef:e,options:l}),rowIds:(null!==(t=l.getRowsToExport)&&void 0!==t?t:zQ)({apiRef:e}),csvOptions:{delimiter:l.delimiter||",",shouldAppendQuotes:null===(n=l.shouldAppendQuotes)||void 0===n||n,includeHeaders:null===(o=l.includeHeaders)||void 0===o||o,includeColumnGroupsHeaders:null===(a=l.includeColumnGroupsHeaders)||void 0===a||a,escapeFormulas:null===(s=l.escapeFormulas)||void 0===s||s},ignoreValueFormatter:i,apiRef:e})}),[r,e,i]),s=t.useCallback((e=>{r.debug("Export data as CSV");const t=a(e);!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"csv",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.title||"untitled";const r="".concat(n,".").concat(t);if("download"in HTMLAnchorElement.prototype){const t=URL.createObjectURL(e),n=document.createElement("a");return n.href=t,n.download=r,n.click(),void setTimeout((()=>{URL.revokeObjectURL(t)}))}throw new Error("MUI X: exportAs not supported.")}(new Blob([null!==e&&void 0!==e&&e.utf8WithBom?new Uint8Array([239,187,191]):"",t],{type:"text/csv"}),"csv",null===e||void 0===e?void 0:e.fileName)}),[r,a]);MG(e,{getDataAsCsv:a,exportDataAsCsv:s},"public");const l=t.useCallback(((e,t)=>{var n;return null!==(n=t.csvOptions)&&void 0!==n&&n.disableToolbarButton?e:[...e,{component:(0,UP.jsx)(rY,{options:t.csvOptions}),componentName:"csvExport"}]}),[]);NQ(e,"exportMenu",l)},aY=(e,t,n)=>{var r,o;let i=e.paginationModel;const a=e.rowCount,s=null!==(r=null===n||void 0===n?void 0:n.pageSize)&&void 0!==r?r:i.pageSize,l=null!==(o=null===n||void 0===n?void 0:n.page)&&void 0!==o?o:i.page,c=sG(a,s,l);!n||(null===n||void 0===n?void 0:n.page)===i.page&&(null===n||void 0===n?void 0:n.pageSize)===i.pageSize||(i=n);const u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return 0===t?e:Math.max(Math.min(e,t-1),0)}(i.page,c);return u!==i.page&&(i=KP({},i,{page:u})),cG(i.pageSize,t),i};const sY=(e,n)=>{const r=null!==e.current.rootElementRef.current,o=pQ(e,"useGridPrintExport"),i=t.useRef(null),a=t.useRef(null),s=t.useRef({}),l=t.useRef([]),c=t.useRef(null);t.useEffect((()=>{i.current=xF(e.current.rootElementRef.current)}),[e,r]);const u=t.useCallback(((t,n,r)=>new Promise((o=>{const i=jQ({apiRef:e,options:{fields:t,allColumns:n}}).map((e=>e.field)),a=KL(e),s={};a.forEach((e=>{s[e.field]=i.includes(e.field)})),r&&(s[CQ.field]=!0),e.current.setColumnVisibilityModel(s),o()}))),[e]),d=t.useCallback((t=>{const n=t({apiRef:e}).reduce(((t,n)=>{const r=e.current.getRow(n);return r[VH]||t.push(r),t}),[]);e.current.setRows(n)}),[e]),h=t.useCallback(((t,r)=>{var o,a;const s=KP({copyStyles:!0,hideToolbar:!1,hideFooter:!1,includeCheckboxes:!1},r),l=t.contentDocument;if(!l)return;const c=RG(e.current.state),u=e.current.rootElementRef.current,d=u.cloneNode(!0);d.querySelector(".".concat(YM.main)).style.overflow="visible",d.style.contain="size";let h=(null===(o=u.querySelector(".".concat(YM.toolbarContainer)))||void 0===o?void 0:o.offsetHeight)||0,p=(null===(a=u.querySelector(".".concat(YM.footerContainer)))||void 0===a?void 0:a.offsetHeight)||0;var f,m;s.hideToolbar&&(null===(f=d.querySelector(".".concat(YM.toolbarContainer)))||void 0===f||f.remove(),h=0);s.hideFooter&&(null===(m=d.querySelector(".".concat(YM.footerContainer)))||void 0===m||m.remove(),p=0);const g=c.currentPageTotalHeight+FW(e,n)+h+p;if(d.style.height="".concat(g,"px"),d.style.boxSizing="content-box",!s.hideFooter){const e=d.querySelector(".".concat(YM.footerContainer));e.style.position="absolute",e.style.width="100%",e.style.top="".concat(g-p,"px")}const v=document.createElement("div");v.appendChild(d),l.body.style.marginTop="0px",l.body.innerHTML=v.innerHTML;const y="function"===typeof s.pageStyle?s.pageStyle():s.pageStyle;if("string"===typeof y){const e=l.createElement("style");e.appendChild(l.createTextNode(y)),l.head.appendChild(e)}s.bodyClassName&&l.body.classList.add(...s.bodyClassName.split(" "));const b=[];if(s.copyStyles){const e=u.getRootNode(),t=("ShadowRoot"===e.constructor.name?e:i.current).querySelectorAll("style, link[rel='stylesheet']");for(let n=0;n<t.length;n+=1){const e=t[n];if("STYLE"===e.tagName){const t=l.createElement(e.tagName),n=e.sheet;if(n){let e="";for(let t=0;t<n.cssRules.length;t+=1)"string"===typeof n.cssRules[t].cssText&&(e+="".concat(n.cssRules[t].cssText,"\r\n"));t.appendChild(l.createTextNode(e)),l.head.appendChild(t)}}else if(e.getAttribute("href")){const t=l.createElement(e.tagName);for(let n=0;n<e.attributes.length;n+=1){const r=e.attributes[n];r&&t.setAttribute(r.nodeName,r.nodeValue||"")}b.push(new Promise((e=>{t.addEventListener("load",(()=>e()))}))),l.head.appendChild(t)}}}Promise.all(b).then((()=>{t.contentWindow.print()}))}),[e,i,n]),p=t.useCallback((t=>{var n;i.current.body.removeChild(t),e.current.restoreState(a.current||{}),null!==(n=a.current)&&void 0!==n&&null!==(n=n.columns)&&void 0!==n&&n.columnVisibilityModel||e.current.setColumnVisibilityModel(s.current),e.current.setState((e=>KP({},e,{virtualization:c.current}))),e.current.setRows(l.current),a.current=null,s.current={},l.current=[]}),[e]),f=t.useCallback((async t=>{var r;if(o.debug("Export data as Print"),!e.current.rootElementRef.current)throw new Error("MUI X: No grid root element available.");if(a.current=e.current.exportState(),s.current=QL(e),l.current=e.current.getSortedRows().filter((e=>!e[VH])),n.pagination){const t={page:0,pageSize:nG(e)};e.current.setState((e=>KP({},e,{pagination:KP({},e.pagination,{paginationModel:aY(e.pagination,"DataGridPro",t)})})))}c.current=e.current.state.virtualization,e.current.setState((e=>KP({},e,{virtualization:KP({},e.virtualization,{enabled:!1,enabledForColumns:!1})}))),await u(null===t||void 0===t?void 0:t.fields,null===t||void 0===t?void 0:t.allColumns,null===t||void 0===t?void 0:t.includeCheckboxes),d(null!==(r=null===t||void 0===t?void 0:t.getRowsToExport)&&void 0!==r?r:zQ),await new Promise((e=>{requestAnimationFrame((()=>{e()}))}));const f=function(e){const t=document.createElement("iframe");return t.style.position="absolute",t.style.width="0px",t.style.height="0px",t.title=e||document.title,t}(null===t||void 0===t?void 0:t.fileName);f.onload=()=>{h(f,t);f.contentWindow.matchMedia("print").addEventListener("change",(e=>{!1===e.matches&&p(f)}))},i.current.body.appendChild(f)}),[n,o,e,h,p,u,d]);MG(e,{exportDataAsPrint:f},"public");const m=t.useCallback(((e,t)=>{var n;return null!==(n=t.printOptions)&&void 0!==n&&n.disableToolbarButton?e:[...e,{component:(0,UP.jsx)(oY,{options:t.printOptions}),componentName:"printExport"}]}),[]);NQ(e,"exportMenu",m)},lY=(e,n,r,o)=>{const i=t.useCallback((()=>{e.current.registerStrategyProcessor(n,r,o)}),[e,o,r,n]);OQ((()=>{i()}));const a=t.useRef(!0);t.useEffect((()=>{a.current?a.current=!1:i()}),[i])},cY=(e,t,n)=>{var r,o,i;const a=null!==(r=null!==(o=t.filterModel)&&void 0!==o?o:null===(i=t.initialState)||void 0===i||null===(i=i.filter)||void 0===i?void 0:i.filterModel)&&void 0!==r?r:QU();return KP({},e,{filter:{filterModel:JU(a,t.disableMultipleColumnsFiltering,n),filteredRowsLookup:{},filteredChildrenCountLookup:{},filteredDescendantCountLookup:{}},visibleRowsLookup:{}})},uY=e=>e.filteredRowsLookup;function dY(e,t){return e.current.applyStrategyProcessor("visibleRowsLookupCreation",{tree:t.rows.tree,filteredRowsLookup:t.filter.filteredRowsLookup})}function hY(){return IL(Object.values)}const pY=e=>KP({},e,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null},tabIndex:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}});function fY(e,t){return e.closest(".".concat(t))}function mY(e){return e.replace(/["\\]/g,"\\$&")}function gY(e){return".".concat(YM.row,'[data-id="').concat(mY(String(e)),'"]')}function vY(e){return 1===e.target.nodeType&&!e.currentTarget.contains(e.target)}function yY(e,t){return e.rootElementRef.current.querySelector(".".concat(YM[t]))}const bY=e=>{let{api:t,colIndex:n,position:r,filterFn:o}=e;if(null===n)return[];const i=[];return CY(t).forEach((e=>{e.getAttribute("data-id")&&e.querySelectorAll(".".concat(YM["left"===r?"cell--pinnedLeft":"cell--pinnedRight"])).forEach((e=>{const t=_Y(e);null!==t&&o(t)&&i.push(e)}))})),i};const wY=e=>{var t;let{api:n,colIndex:r,position:o,filterFn:i}=e;if(null===(t=n.columnHeadersContainerRef)||void 0===t||!t.current)return[];if(null===r)return[];const a=[];return n.columnHeadersContainerRef.current.querySelectorAll(".".concat(YM["left"===o?"columnHeader--pinnedLeft":"columnHeader--pinnedRight"])).forEach((e=>{const t=_Y(e);null!==t&&i(t,e)&&a.push(e)})),a};function CY(e){return e.virtualScrollerRef.current.querySelectorAll(":scope > div > div > .".concat(YM.row))}function _Y(e){const t=e.getAttribute("aria-colindex");return t?Number(t)-1:null}const xY=e=>{let{currentColIndex:t,firstColIndex:n,lastColIndex:r,isRtl:o}=e;if(o){if(t<r)return t+1}else if(!o&&t>n)return t-1;return null},SY=e=>{let{currentColIndex:t,firstColIndex:n,lastColIndex:r,isRtl:o}=e;if(o){if(t>n)return t-1}else if(!o&&t<r)return t+1;return null};const kY=BL(CG,BH,((e,t)=>(t.top||[]).concat(e.rows,t.bottom||[]))),IY=(e,n)=>{const r=pQ(e,"useGridKeyboardNavigation"),o=QB(),i=n.unstable_listView,a=t.useCallback((()=>kY(e)),[e]),s="DataGrid"!==n.signature&&n.headerFilters,l=t.useCallback((function(t,n){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"left",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"up";const s=$W(e),l=e.current.unstable_getCellColSpanInfo(n,t);l&&l.spannedByColSpan&&("left"===o?t=l.leftVisibleCellIndex:"right"===o&&(t=l.rightVisibleCellIndex));const c=i?UG(e.current.state).field:XL(e)[t],u=function(e,t,n,r){var o;const i=jG(e);if(null===(o=i[t])||void 0===o||!o[n])return t;const a=eG(e);let s=a.indexOf(t)+("down"===r?1:-1);for(;s>=0&&s<a.length;){var l;const e=a[s];if(null===(l=i[e])||void 0===l||!l[n])return e;s+="down"===r?1:-1}return t}(e,n,c,a),d=s.findIndex((e=>e.id===u));r.debug("Navigating to cell row ".concat(d,", col ").concat(t)),e.current.scrollToIndexes({colIndex:t,rowIndex:d}),e.current.setCellFocus(u,c)}),[e,r,i]),c=t.useCallback(((t,n)=>{r.debug("Navigating to header col ".concat(t)),e.current.scrollToIndexes({colIndex:t});const o=e.current.getVisibleColumns()[t].field;e.current.setColumnHeaderFocus(o,n)}),[e,r]),u=t.useCallback(((t,n)=>{r.debug("Navigating to header filter col ".concat(t)),e.current.scrollToIndexes({colIndex:t});const o=e.current.getVisibleColumns()[t].field;e.current.setColumnHeaderFilterFocus(o,n)}),[e,r]),d=t.useCallback(((t,n,o)=>{r.debug("Navigating to header col ".concat(t)),e.current.scrollToIndexes({colIndex:t});const{field:i}=e.current.getVisibleColumns()[t];e.current.setColumnGroupHeaderFocus(i,n,o)}),[e,r]),h=t.useCallback((e=>{var t;return null===(t=a()[e])||void 0===t?void 0:t.id}),[a]),p=t.useCallback(((t,n)=>{const r=n.currentTarget.querySelector(".".concat(YM.columnHeaderTitleContainerContent));if(!!r&&r.contains(n.target)&&t.field!==CQ.field)return;const i=a(),p=e.current.getViewportPageSize(),f=t.field?e.current.getColumnIndex(t.field):0,m=i.length>0?0:null,g=i.length-1,v=YL(e).length-1,y=AW(e);let b=!0;switch(n.key){case"ArrowDown":s?u(f,n):null!==m&&l(f,h(m));break;case"ArrowRight":{const e=SY({currentColIndex:f,firstColIndex:0,lastColIndex:v,isRtl:o});null!==e&&c(e,n);break}case"ArrowLeft":{const e=xY({currentColIndex:f,firstColIndex:0,lastColIndex:v,isRtl:o});null!==e&&c(e,n);break}case"ArrowUp":y>0&&d(f,y-1,n);break;case"PageDown":null!==m&&null!==g&&l(f,h(Math.min(m+p,g)));break;case"Home":c(0,n);break;case"End":c(v,n);break;case"Enter":(n.ctrlKey||n.metaKey)&&e.current.toggleColumnMenu(t.field);break;case" ":break;default:b=!1}b&&n.preventDefault()}),[e,a,s,u,l,h,o,c,d]),f=t.useCallback(((t,n)=>{const r=kW(e)===t.field,i=IW(e)===t.field;if(r||i||!EQ(n.key))return;const s=a(),d=e.current.getViewportPageSize(),p=t.field?e.current.getColumnIndex(t.field):0,f=s.length-1,m=YL(e).length-1;let g=!0;switch(n.key){case"ArrowDown":{const e=h(0);null!=e&&l(p,e);break}case"ArrowRight":{const e=SY({currentColIndex:p,firstColIndex:0,lastColIndex:m,isRtl:o});null!==e&&u(e,n);break}case"ArrowLeft":{const r=xY({currentColIndex:p,firstColIndex:0,lastColIndex:m,isRtl:o});null!==r?u(r,n):e.current.setColumnHeaderFilterFocus(t.field,n);break}case"ArrowUp":c(p,n);break;case"PageDown":null!==f&&l(p,h(Math.min(0+d,f)));break;case"Home":u(0,n);break;case"End":u(m,n);break;case" ":break;default:g=!1}g&&n.preventDefault()}),[e,a,u,o,c,l,h]),m=t.useCallback(((t,n)=>{const r=GG(e);if(null===r)return;const{field:o,depth:i}=r,{fields:s,depth:u,maxDepth:p}=t,f=a(),m=e.current.getViewportPageSize(),g=e.current.getColumnIndex(o),v=o?e.current.getColumnIndex(o):0,y=f.length-1,b=YL(e).length-1;let w=!0;switch(n.key){case"ArrowDown":u===p-1?c(g,n):d(g,i+1,n);break;case"ArrowUp":u>0&&d(g,i-1,n);break;case"ArrowRight":{const e=s.length-s.indexOf(o)-1;g+e+1<=b&&d(g+e+1,i,n);break}case"ArrowLeft":{const e=s.indexOf(o);g-e-1>=0&&d(g-e-1,i,n);break}case"PageDown":null!==y&&l(v,h(Math.min(0+m,y)));break;case"Home":d(0,i,n);break;case"End":d(b,i,n);break;case" ":break;default:w=!1}w&&n.preventDefault()}),[e,a,c,d,l,h]),g=t.useCallback(((t,n)=>{if(vY(n))return;const r=e.current.getCellParams(t.id,t.field);if(r.cellMode===fq.Edit||!EQ(n.key))return;if(!e.current.unstable_applyPipeProcessors("canUpdateFocus",!0,{event:n,cell:r}))return;const d=a();if(0===d.length)return;const p=e.current.getViewportPageSize(),f=i?()=>0:e.current.getColumnIndex,m=t.field?f(t.field):0,g=d.findIndex((e=>e.id===t.id)),v=d.length-1,y=(i?[UG(e.current.state)]:YL(e)).length-1;let b=!0;switch(n.key){case"ArrowDown":g<v&&l(m,h(g+1),o?"right":"left","down");break;case"ArrowUp":g>0?l(m,h(g-1)):s?u(m,n):c(m,n);break;case"ArrowRight":{const e=SY({currentColIndex:m,firstColIndex:0,lastColIndex:y,isRtl:o});null!==e&&l(e,h(g),o?"left":"right");break}case"ArrowLeft":{const e=xY({currentColIndex:m,firstColIndex:0,lastColIndex:y,isRtl:o});null!==e&&l(e,h(g),o?"right":"left");break}case"Tab":n.shiftKey&&m>0?l(m-1,h(g),"left"):!n.shiftKey&&m<y&&l(m+1,h(g),"right");break;case" ":{if(t.field===ZH)break;const e=t.colDef;if(e&&("__tree_data_group__"===e.field||(e=>e===JH||null!==(e=>{const t=e.match(/^__row_group_by_columns_group_(.*)__$/);return t?t[1]:null})(e))(e.field)))break;!n.shiftKey&&g<v&&l(m,h(Math.min(g+p,v)));break}case"PageDown":g<v&&l(m,h(Math.min(g+p,v)));break;case"PageUp":{const e=Math.max(g-p,0);e!==g&&e>=0?l(m,h(e)):c(m,n);break}case"Home":n.ctrlKey||n.metaKey||n.shiftKey?l(0,h(0)):l(0,h(g));break;case"End":n.ctrlKey||n.metaKey||n.shiftKey?l(y,h(v)):l(y,h(g));break;default:b=!1}b&&n.preventDefault()}),[e,a,o,l,h,s,u,c,i]),v=t.useCallback(((e,t)=>{let{event:n}=t;return" "!==n.key&&e}),[]);NQ(e,"canStartEditing",v),vF(e,"columnHeaderKeyDown",p),vF(e,"headerFilterKeyDown",f),vF(e,"columnGroupHeaderKeyDown",m),vF(e,"cellKeyDown",g)},EY=(e,t)=>{var n,r,o,i,a,s,l;const c=KP({},lG(t.autoPageSize),null!==(n=t.paginationModel)&&void 0!==n?n:null===(r=t.initialState)||void 0===r||null===(r=r.pagination)||void 0===r?void 0:r.paginationModel);cG(c.pageSize,t.signature);const u=null!==(o=t.rowCount)&&void 0!==o?o:null===(i=t.initialState)||void 0===i||null===(i=i.pagination)||void 0===i?void 0:i.rowCount,d=null!==(a=null!==(s=t.paginationMeta)&&void 0!==s?s:null===(l=t.initialState)||void 0===l||null===(l=l.pagination)||void 0===l?void 0:l.meta)&&void 0!==a?a:{};return KP({},e,{pagination:KP({},e.pagination,{paginationModel:c,rowCount:u,meta:d,enabled:!0===t.pagination,paginationMode:t.paginationMode})})},TY=(e,n)=>{((e,n)=>{var r;const o=pQ(e,"useGridPaginationMeta"),i=sL(e,fG);e.current.registerControlState({stateId:"paginationMeta",propModel:n.paginationMeta,propOnChange:n.onPaginationMetaChange,stateSelector:fG,changeEvent:"paginationMetaChange"});const a=t.useCallback((t=>{i!==t&&(o.debug("Setting 'paginationMeta' to",t),e.current.setState((e=>KP({},e,{pagination:KP({},e.pagination,{meta:t})}))))}),[e,o,i]);MG(e,{setPaginationMeta:a},"public");const s=t.useCallback(((t,r)=>{var o;const i=fG(e);return r.exportOnlyDirtyModels&&null==n.paginationMeta&&null==(null===(o=n.initialState)||void 0===o||null===(o=o.pagination)||void 0===o?void 0:o.meta)?t:KP({},t,{pagination:KP({},t.pagination,{meta:i})})}),[e,n.paginationMeta,null===(r=n.initialState)||void 0===r||null===(r=r.pagination)||void 0===r?void 0:r.meta]),l=t.useCallback(((t,n)=>{var r;const o=null!==(r=n.stateToRestore.pagination)&&void 0!==r&&r.meta?n.stateToRestore.pagination.meta:fG(e);return e.current.setState((e=>KP({},e,{pagination:KP({},e.pagination,{meta:o})}))),t}),[e]);NQ(e,"exportState",s),NQ(e,"restoreState",l),t.useEffect((()=>{n.paginationMeta&&e.current.setPaginationMeta(n.paginationMeta)}),[e,n.paginationMeta])})(e,n),((e,n)=>{var r;const o=pQ(e,"useGridPaginationModel"),i=sL(e,VL),a=Math.floor(n.rowHeight*i);e.current.registerControlState({stateId:"paginationModel",propModel:n.paginationModel,propOnChange:n.onPaginationModelChange,stateSelector:hG,changeEvent:"paginationModelChange"});const s=t.useCallback((t=>{const n=hG(e);t!==n.page&&(o.debug("Setting page to ".concat(t)),e.current.setPaginationModel({page:t,pageSize:n.pageSize}))}),[e,o]),l=t.useCallback((t=>{const n=hG(e);t!==n.pageSize&&(o.debug("Setting page size to ".concat(t)),e.current.setPaginationModel({pageSize:t,page:n.page}))}),[e,o]),c=t.useCallback((t=>{const r=hG(e);t!==r&&(o.debug("Setting 'paginationModel' to",t),e.current.setState((e=>KP({},e,{pagination:KP({},e.pagination,{paginationModel:aY(e.pagination,n.signature,t)})})),"setPaginationModel"))}),[e,o,n.signature]);MG(e,{setPage:s,setPageSize:l,setPaginationModel:c},"public");const u=t.useCallback(((t,r)=>{var o;const i=hG(e);return!r.exportOnlyDirtyModels||null!=n.paginationModel||null!=(null===(o=n.initialState)||void 0===o||null===(o=o.pagination)||void 0===o?void 0:o.paginationModel)||0!==i.page&&i.pageSize!==(n.autoPageSize?0:100)?KP({},t,{pagination:KP({},t.pagination,{paginationModel:i})}):t}),[e,n.paginationModel,null===(r=n.initialState)||void 0===r||null===(r=r.pagination)||void 0===r?void 0:r.paginationModel,n.autoPageSize]),d=t.useCallback(((t,r)=>{var o,i;const a=null!==(o=r.stateToRestore.pagination)&&void 0!==o&&o.paginationModel?KP({},lG(n.autoPageSize),null===(i=r.stateToRestore.pagination)||void 0===i?void 0:i.paginationModel):hG(e);return e.current.setState((e=>KP({},e,{pagination:KP({},e.pagination,{paginationModel:aY(e.pagination,n.signature,a)})})),"stateRestorePreProcessing"),t}),[e,n.autoPageSize,n.signature]);NQ(e,"exportState",u),NQ(e,"restoreState",d);const h=t.useCallback((()=>{if(!n.autoPageSize)return;const t=e.current.getRootDimensions(),r=Math.floor(t.viewportInnerSize.height/a);e.current.setPageSize(r)}),[e,n.autoPageSize,a]),p=t.useCallback((t=>{if(null==t)return;const n=hG(e),r=vG(e);n.page>r-1&&e.current.setPage(Math.max(0,r-1))}),[e]);vF(e,"viewportInnerSizeChange",h),vF(e,"paginationModelChange",(()=>{var t;const n=hG(e);null!==(t=e.current.virtualScrollerRef)&&void 0!==t&&t.current&&e.current.scrollToIndexes({rowIndex:n.page*n.pageSize})})),vF(e,"rowCountChange",p);const f=t.useRef(!0);t.useEffect((()=>{f.current?f.current=!1:n.pagination&&e.current.setState((e=>KP({},e,{pagination:KP({},e.pagination,{paginationModel:aY(e.pagination,n.signature,n.paginationModel)})})))}),[e,n.paginationModel,n.signature,n.pagination]),t.useEffect((()=>{e.current.setState((e=>{const t=!0===n.pagination;return e.pagination.paginationMode===n.paginationMode||e.pagination.enabled===t?e:KP({},e,{pagination:KP({},e.pagination,{paginationMode:n.paginationMode,enabled:!0===n.pagination})})}))}),[e,n.paginationMode,n.pagination]),t.useEffect(h,[h])})(e,n),((e,n)=>{var r;const o=pQ(e,"useGridRowCount"),i=sL(e,rG),a=sL(e,pG),s=sL(e,fG),l=sL(e,hG),c=$M((()=>hG(e).pageSize));e.current.registerControlState({stateId:"paginationRowCount",propModel:n.rowCount,propOnChange:n.onRowCountChange,stateSelector:pG,changeEvent:"rowCountChange"});const u=t.useCallback((t=>{a!==t&&(o.debug("Setting 'rowCount' to",t),e.current.setState((e=>KP({},e,{pagination:KP({},e.pagination,{rowCount:t})}))))}),[e,o,a]);MG(e,{setRowCount:u},"public");const d=t.useCallback(((t,r)=>{var o;const i=pG(e);return r.exportOnlyDirtyModels&&null==n.rowCount&&null==(null===(o=n.initialState)||void 0===o||null===(o=o.pagination)||void 0===o?void 0:o.rowCount)?t:KP({},t,{pagination:KP({},t.pagination,{rowCount:i})})}),[e,n.rowCount,null===(r=n.initialState)||void 0===r||null===(r=r.pagination)||void 0===r?void 0:r.rowCount]),h=t.useCallback(((t,n)=>{var r;const o=null!==(r=n.stateToRestore.pagination)&&void 0!==r&&r.rowCount?n.stateToRestore.pagination.rowCount:pG(e);return e.current.setState((e=>KP({},e,{pagination:KP({},e.pagination,{rowCount:o})}))),t}),[e]);NQ(e,"exportState",d),NQ(e,"restoreState",h);const p=t.useCallback((t=>{"client"!==n.paginationMode&&c.current&&t.pageSize!==c.current&&(c.current=t.pageSize,-1===a&&e.current.setPage(0))}),[n.paginationMode,c,a,e]);vF(e,"paginationModelChange",p),t.useEffect((()=>{"client"===n.paginationMode?e.current.setRowCount(i):null!=n.rowCount&&e.current.setRowCount(n.rowCount)}),[e,n.paginationMode,i,n.rowCount]);const f=!1===s.hasNextPage;t.useEffect((()=>{f&&-1===a&&e.current.setRowCount(l.pageSize*l.page+i)}),[e,i,f,a,l])})(e,n)},RY=(e,t)=>{var n,r;return KP({},e,{preferencePanel:null!==(n=null===(r=t.initialState)||void 0===r?void 0:r.preferencePanel)&&void 0!==n?n:{open:!1}})},PY=e=>e.editRows,AY=FL(PY,((e,t)=>Boolean(e[t]))),DY=FL(PY,((e,t)=>{var n,r;let{rowId:o,field:i}=t;return null!==(n=null===(r=e[o])||void 0===r?void 0:r[i])&&void 0!==n?n:null})),OY=e=>{switch(e.type){case"boolean":return!1;case"date":case"dateTime":case"number":return;case"singleSelect":return null;default:return""}},NY=["id","field"],MY=["id","field"];var LY=function(e){return e.enterKeyDown="enterKeyDown",e.cellDoubleClick="cellDoubleClick",e.printableKeyDown="printableKeyDown",e.deleteKeyDown="deleteKeyDown",e}(LY||{}),FY=function(e){return e.rowFocusOut="rowFocusOut",e.escapeKeyDown="escapeKeyDown",e.enterKeyDown="enterKeyDown",e.tabKeyDown="tabKeyDown",e.shiftTabKeyDown="shiftTabKeyDown",e}(FY||{});const BY=["id"],jY=["id"],zY=e=>KP({},e,{editRows:{}}),VY=(e,n)=>{((e,n)=>{const[r,o]=t.useState({}),a=t.useRef(r),s=t.useRef({}),{processRowUpdate:c,onProcessRowUpdateError:u,cellModesModel:d,onCellModesModelChange:h}=n,p=e=>function(){n.editMode===pq.Cell&&e(...arguments)},f=t.useCallback(((t,n)=>{const r=e.current.getCellParams(t,n);if(!e.current.isCellEditable(r))throw new Error("MUI X: The cell with id=".concat(t," and field=").concat(n," is not editable."))}),[e]),m=t.useCallback(((t,n,r)=>{if(e.current.getCellMode(t,n)!==r)throw new Error("MUI X: The cell with id=".concat(t," and field=").concat(n," is not in ").concat(r," mode."))}),[e]),g=t.useCallback(((t,n)=>{if(!t.isEditable)return;if(t.cellMode===fq.Edit)return;const r=KP({},t,{reason:dq.cellDoubleClick});e.current.publishEvent("cellEditStart",r,n)}),[e]),v=t.useCallback(((t,n)=>{if(t.cellMode===fq.View)return;if(e.current.getCellMode(t.id,t.field)===fq.View)return;const r=KP({},t,{reason:hq.cellFocusOut});e.current.publishEvent("cellEditStop",r,n)}),[e]),y=t.useCallback(((t,n)=>{if(t.cellMode===fq.Edit){if(229===n.which)return;let r;if("Escape"===n.key?r=hq.escapeKeyDown:"Enter"===n.key?r=hq.enterKeyDown:"Tab"===n.key&&(r=n.shiftKey?hq.shiftTabKeyDown:hq.tabKeyDown,n.preventDefault()),r){const o=KP({},t,{reason:r});e.current.publishEvent("cellEditStop",o,n)}}else if(t.isEditable){let r;if(!e.current.unstable_applyPipeProcessors("canStartEditing",!0,{event:n,cellParams:t,editMode:"cell"}))return;if(IQ(n)?r=dq.printableKeyDown:RQ(n)?r=dq.pasteKeyDown:"Enter"===n.key?r=dq.enterKeyDown:"Backspace"!==n.key&&"Delete"!==n.key||(r=dq.deleteKeyDown),r){const o=KP({},t,{reason:r,key:n.key});e.current.publishEvent("cellEditStart",o,n)}}}),[e]),b=t.useCallback((t=>{const{id:n,field:r,reason:o}=t,i={id:n,field:r};o!==dq.printableKeyDown&&o!==dq.deleteKeyDown&&o!==dq.pasteKeyDown||(i.deleteValue=!0),e.current.startCellEditMode(i)}),[e]),w=t.useCallback((t=>{const{id:n,field:r,reason:o}=t;let i;e.current.runPendingEditCellValueMutation(n,r),o===hq.enterKeyDown?i="below":o===hq.tabKeyDown?i="right":o===hq.shiftTabKeyDown&&(i="left");const a="escapeKeyDown"===o;e.current.stopCellEditMode({id:n,field:r,ignoreModifications:a,cellToFocusAfter:i})}),[e]);vF(e,"cellDoubleClick",p(g)),vF(e,"cellFocusOut",p(v)),vF(e,"cellKeyDown",p(y)),vF(e,"cellEditStart",p(b)),vF(e,"cellEditStop",p(w)),bF(e,"cellEditStart",n.onCellEditStart),bF(e,"cellEditStop",(t=>async function(){if(t){var n;const{id:r,field:o}=arguments.length<=0?void 0:arguments[0];(null===(n=e.current.state.editRows[r][o])||void 0===n?void 0:n.error)||t(...arguments)}})(n.onCellEditStop));const C=t.useCallback(((t,n)=>{const r=PY(e.current.state);return r[t]&&r[t][n]?fq.Edit:fq.View}),[e]),_=dF((t=>{const r=t!==n.cellModesModel;h&&r&&h(t,{api:e.current}),n.cellModesModel&&r||(o(t),a.current=t,e.current.publishEvent("cellModesModelChange",t))})),x=t.useCallback(((e,t,n)=>{const r=KP({},a.current);if(null!==n)r[e]=KP({},r[e],{[t]:KP({},n)});else{const n=i(r[e],[t].map(l));r[e]=n,0===Object.keys(r[e]).length&&delete r[e]}_(r)}),[_]),S=t.useCallback(((t,n,r)=>{e.current.setState((e=>{const o=KP({},e.editRows);return null!==r?o[t]=KP({},o[t],{[n]:KP({},r)}):(delete o[t][n],0===Object.keys(o[t]).length&&delete o[t]),KP({},e,{editRows:o})})),e.current.forceUpdate()}),[e]),k=t.useCallback((e=>{const{id:t,field:n}=e,r=i(e,NY);f(t,n),m(t,n,fq.View),x(t,n,KP({mode:fq.Edit},r))}),[f,m,x]),I=dF((async t=>{const{id:n,field:r,deleteValue:o,initialValue:i}=t,a=e.current.getCellValue(n,r);let s=a;o?s=OY(e.current.getColumn(r)):i&&(s=i);const l=e.current.getColumn(r),c=!!l.preProcessEditCellProps&&o;let u={value:s,error:!1,isProcessingProps:c};if(S(n,r,u),e.current.setCellFocus(n,r),c&&(u=await Promise.resolve(l.preProcessEditCellProps({id:n,row:e.current.getRow(n),props:u,hasChanged:s!==a})),e.current.getCellMode(n,r)===fq.Edit)){const t=PY(e.current.state);S(n,r,KP({},u,{value:t[n][r].value,isProcessingProps:!1}))}})),E=t.useCallback((e=>{const{id:t,field:n}=e,r=i(e,MY);m(t,n,fq.Edit),x(t,n,KP({mode:fq.View},r))}),[m,x]),T=dF((async t=>{const{id:n,field:r,ignoreModifications:o,cellToFocusAfter:i="none"}=t;m(n,r,fq.Edit),e.current.runPendingEditCellValueMutation(n,r);const a=()=>{S(n,r,null),x(n,r,null),"none"!==i&&e.current.moveFocusToRelativeCell(n,r,i)};if(o)return void a();const l=PY(e.current.state),{error:d,isProcessingProps:h}=l[n][r];if(d||h)return s.current[n][r].mode=fq.Edit,void x(n,r,{mode:fq.Edit});const p=e.current.getRowWithUpdatedValuesFromCellEditing(n,r);if(c){const t=e=>{s.current[n][r].mode=fq.Edit,x(n,r,{mode:fq.Edit}),u&&u(e)};try{const r=e.current.getRow(n);Promise.resolve(c(p,r,{rowId:n})).then((t=>{e.current.updateRows([t]),a()})).catch(t)}catch(f){t(f)}}else e.current.updateRows([p]),a()})),R=t.useCallback((async t=>{var n;const{id:r,field:o,value:i,debounceMs:a,unstable_skipValueParser:s}=t;f(r,o),m(r,o,fq.Edit);const l=e.current.getColumn(o),c=e.current.getRow(r);let u=i;l.valueParser&&!s&&(u=l.valueParser(i,c,l,e));let d=PY(e.current.state),h=KP({},d[r][o],{value:u,changeReason:a?"debouncedSetEditCellValue":"setEditCellValue"});if(l.preProcessEditCellProps){const e=i!==d[r][o].value;h=KP({},h,{isProcessingProps:!0}),S(r,o,h),h=await Promise.resolve(l.preProcessEditCellProps({id:r,row:c,props:h,hasChanged:e}))}return e.current.getCellMode(r,o)!==fq.View&&(d=PY(e.current.state),h=KP({},h,{isProcessingProps:!1}),h.value=l.preProcessEditCellProps?d[r][o].value:u,S(r,o,h),d=PY(e.current.state),!(null!==(n=d[r])&&void 0!==n&&null!==(n=n[o])&&void 0!==n&&n.error))}),[e,f,m,S]),P=t.useCallback(((t,n)=>{const r=e.current.getColumn(n),o=PY(e.current.state),i=e.current.getRow(t);if(!o[t]||!o[t][n])return e.current.getRow(t);const{value:a}=o[t][n];return r.valueSetter?r.valueSetter(a,i,r,e):KP({},i,{[n]:a})}),[e]),A={setCellEditingEditCellValue:R,getRowWithUpdatedValuesFromCellEditing:P};MG(e,{getCellMode:C,startCellEditMode:k,stopCellEditMode:E},"public"),MG(e,A,"private"),t.useEffect((()=>{d&&_(d)}),[d,_]),iA((()=>{const t=PH(e),n=s.current;s.current=LB(r),Object.entries(r).forEach((r=>{let[o,i]=r;Object.entries(i).forEach((r=>{var i;let[a,s]=r;const l=(null===(i=n[o])||void 0===i||null===(i=i[a])||void 0===i?void 0:i.mode)||fq.View,c=t[o]?e.current.getRowId(t[o]):o;s.mode===fq.Edit&&l===fq.View?I(KP({id:c,field:a},s)):s.mode===fq.View&&l===fq.Edit&&T(KP({id:c,field:a},s))}))}))}),[e,r,I,T])})(e,n),((e,n)=>{const[r,o]=t.useState({}),a=t.useRef(r),s=t.useRef({}),c=t.useRef(void 0),u=t.useRef(null),{processRowUpdate:d,onProcessRowUpdateError:h,rowModesModel:p,onRowModesModelChange:f}=n,m=e=>function(){n.editMode===pq.Row&&e(...arguments)},g=t.useCallback(((t,n)=>{const r=e.current.getCellParams(t,n);if(!e.current.isCellEditable(r))throw new Error("MUI X: The cell with id=".concat(t," and field=").concat(n," is not editable."))}),[e]),v=t.useCallback(((t,n)=>{if(e.current.getRowMode(t)!==n)throw new Error("MUI X: The row with id=".concat(t," is not in ").concat(n," mode."))}),[e]),y=t.useCallback((t=>{const n=PY(e.current.state);return Object.values(n[t]).some((e=>e.error))}),[e]),b=t.useCallback(((t,n)=>{if(!t.isEditable)return;if(e.current.getRowMode(t.id)===mq.Edit)return;const r=KP({},e.current.getRowParams(t.id),{field:t.field,reason:LY.cellDoubleClick});e.current.publishEvent("rowEditStart",r,n)}),[e]),w=t.useCallback((e=>{u.current=e}),[]),C=t.useCallback(((t,n)=>{t.isEditable&&e.current.getRowMode(t.id)!==mq.View&&(u.current=null,c.current=setTimeout((()=>{var r;if((null===(r=u.current)||void 0===r?void 0:r.id)!==t.id){if(!e.current.getRow(t.id))return;if(e.current.getRowMode(t.id)===mq.View)return;if(y(t.id))return;const r=KP({},e.current.getRowParams(t.id),{field:t.field,reason:FY.rowFocusOut});e.current.publishEvent("rowEditStop",r,n)}})))}),[e,y]);t.useEffect((()=>()=>{clearTimeout(c.current)}),[]);const _=t.useCallback(((t,n)=>{if(t.cellMode===mq.Edit){if(229===n.which)return;let r;if("Escape"===n.key)r=FY.escapeKeyDown;else if("Enter"===n.key)r=FY.enterKeyDown;else if("Tab"===n.key){const o=XL(e).filter((n=>e.current.getColumn(n).type===CW||e.current.isCellEditable(e.current.getCellParams(t.id,n))));if(n.shiftKey?t.field===o[0]&&(r=FY.shiftTabKeyDown):t.field===o[o.length-1]&&(r=FY.tabKeyDown),n.preventDefault(),!r){const r=o.findIndex((e=>e===t.field)),i=o[n.shiftKey?r-1:r+1];e.current.setCellFocus(t.id,i)}}if(r){if(r!==FY.escapeKeyDown&&y(t.id))return;const o=KP({},e.current.getRowParams(t.id),{reason:r,field:t.field});e.current.publishEvent("rowEditStop",o,n)}}else if(t.isEditable){let r;if(!e.current.unstable_applyPipeProcessors("canStartEditing",!0,{event:n,cellParams:t,editMode:"row"}))return;if(IQ(n)||RQ(n)?r=LY.printableKeyDown:"Enter"===n.key?r=LY.enterKeyDown:"Backspace"!==n.key&&"Delete"!==n.key||(r=LY.deleteKeyDown),r){const o=KP({},e.current.getRowParams(t.id),{field:t.field,reason:r});e.current.publishEvent("rowEditStart",o,n)}}}),[e,y]),x=t.useCallback((t=>{const{id:n,field:r,reason:o}=t,i={id:n,fieldToFocus:r};o!==LY.printableKeyDown&&o!==LY.deleteKeyDown||(i.deleteValue=!!r),e.current.startRowEditMode(i)}),[e]),S=t.useCallback((t=>{const{id:n,reason:r,field:o}=t;let i;e.current.runPendingEditCellValueMutation(n),r===FY.enterKeyDown?i="below":r===FY.tabKeyDown?i="right":r===FY.shiftTabKeyDown&&(i="left");const a="escapeKeyDown"===r;e.current.stopRowEditMode({id:n,ignoreModifications:a,field:o,cellToFocusAfter:i})}),[e]);vF(e,"cellDoubleClick",m(b)),vF(e,"cellFocusIn",m(w)),vF(e,"cellFocusOut",m(C)),vF(e,"cellKeyDown",m(_)),vF(e,"rowEditStart",m(x)),vF(e,"rowEditStop",m(S)),bF(e,"rowEditStart",n.onRowEditStart),bF(e,"rowEditStop",n.onRowEditStop);const k=t.useCallback((t=>n.editMode===pq.Cell?mq.View:AY(e,t)?mq.Edit:mq.View),[e,n.editMode]),I=dF((t=>{const r=t!==n.rowModesModel;f&&r&&f(t,{api:e.current}),n.rowModesModel&&r||(o(t),a.current=t,e.current.publishEvent("rowModesModelChange",t))})),E=t.useCallback(((e,t)=>{const n=KP({},a.current);null!==t?n[e]=KP({},t):delete n[e],I(n)}),[I]),T=t.useCallback(((t,n)=>{e.current.setState((e=>{const r=KP({},e.editRows);return null!==n?r[t]=n:delete r[t],KP({},e,{editRows:r})})),e.current.forceUpdate()}),[e]),R=t.useCallback(((t,n,r)=>{e.current.setState((e=>{const o=KP({},e.editRows);return null!==r?o[t]=KP({},o[t],{[n]:KP({},r)}):(delete o[t][n],0===Object.keys(o[t]).length&&delete o[t]),KP({},e,{editRows:o})})),e.current.forceUpdate()}),[e]),P=t.useCallback((e=>{const{id:t}=e,n=i(e,BY);v(t,mq.View),E(t,KP({mode:mq.Edit},n))}),[v,E]),A=dF((t=>{const{id:n,fieldToFocus:r,deleteValue:o,initialValue:i}=t,a=WL(e),s=a.reduce(((t,a)=>{if(!e.current.getCellParams(n,a).isEditable)return t;const s=e.current.getColumn(a);let l=e.current.getCellValue(n,a);return r===a&&(o||i)&&(o?l=OY(s):i&&(l=i)),t[a]={value:l,error:!1,isProcessingProps:!!s.preProcessEditCellProps&&o},t}),{});T(n,s),r&&e.current.setCellFocus(n,r),a.filter((t=>!!e.current.getColumn(t).preProcessEditCellProps&&o)).forEach((t=>{const r=e.current.getColumn(t),a=e.current.getCellValue(n,t),l=o?OY(r):null!==i&&void 0!==i?i:a;Promise.resolve(r.preProcessEditCellProps({id:n,row:e.current.getRow(n),props:s[t],hasChanged:l!==a})).then((r=>{if(e.current.getRowMode(n)===mq.Edit){const o=PY(e.current.state);R(n,t,KP({},r,{value:o[n][t].value,isProcessingProps:!1}))}}))}))})),D=t.useCallback((e=>{const{id:t}=e,n=i(e,jY);v(t,mq.Edit),E(t,KP({mode:mq.View},n))}),[v,E]),O=dF((t=>{const{id:n,ignoreModifications:r,field:o,cellToFocusAfter:i="none"}=t;e.current.runPendingEditCellValueMutation(n);const a=()=>{"none"!==i&&o&&e.current.moveFocusToRelativeCell(n,o,i),T(n,null),E(n,null)};if(r)return void a();const l=PY(e.current.state),c=e.current.getRow(n);if(Object.values(l[n]).some((e=>e.isProcessingProps)))return void(s.current[n].mode=mq.Edit);if(y(n))return s.current[n].mode=mq.Edit,void E(n,{mode:mq.Edit});const u=e.current.getRowWithUpdatedValuesFromRowEditing(n);if(d){const t=e=>{s.current[n].mode=mq.Edit,E(n,{mode:mq.Edit}),h&&h(e)};try{Promise.resolve(d(u,c,{rowId:n})).then((t=>{e.current.updateRows([t]),a()})).catch(t)}catch(p){t(p)}}else e.current.updateRows([u]),a()})),N=t.useCallback((t=>{const{id:n,field:r,value:o,debounceMs:a,unstable_skipValueParser:s}=t;g(n,r);const c=e.current.getColumn(r),u=e.current.getRow(n);let d=o;c.valueParser&&!s&&(d=c.valueParser(o,u,c,e));let h=PY(e.current.state),p=KP({},h[n][r],{value:d,changeReason:a?"debouncedSetEditCellValue":"setEditCellValue"});return c.preProcessEditCellProps||R(n,r,p),new Promise((t=>{const o=[];if(c.preProcessEditCellProps){const a=p.value!==h[n][r].value;p=KP({},p,{isProcessingProps:!0}),R(n,r,p);const s=i(h[n],[r].map(l)),f=Promise.resolve(c.preProcessEditCellProps({id:n,row:u,props:p,hasChanged:a,otherFieldsProps:s})).then((o=>{e.current.getRowMode(n)!==mq.View?(h=PY(e.current.state),(o=KP({},o,{isProcessingProps:!1})).value=c.preProcessEditCellProps?h[n][r].value:d,R(n,r,o)):t(!1)}));o.push(f)}Object.entries(h[n]).forEach((a=>{let[s,c]=a;if(s===r)return;const d=e.current.getColumn(s);if(!d.preProcessEditCellProps)return;c=KP({},c,{isProcessingProps:!0}),R(n,s,c),h=PY(e.current.state);const p=i(h[n],[s].map(l)),f=Promise.resolve(d.preProcessEditCellProps({id:n,row:u,props:c,hasChanged:!1,otherFieldsProps:p})).then((r=>{e.current.getRowMode(n)!==mq.View?(r=KP({},r,{isProcessingProps:!1}),R(n,s,r)):t(!1)}));o.push(f)})),Promise.all(o).then((()=>{e.current.getRowMode(n)===mq.Edit?(h=PY(e.current.state),t(!h[n][r].error)):t(!1)}))}))}),[e,g,R]),M=t.useCallback((t=>{const n=PY(e.current.state),r=e.current.getRow(t);if(!n[t])return e.current.getRow(t);let o=KP({},r);return Object.entries(n[t]).forEach((t=>{let[n,r]=t;const i=e.current.getColumn(n);i.valueSetter?o=i.valueSetter(r.value,o,i,e):o[n]=r.value})),o}),[e]),L={setRowEditingEditCellValue:N,getRowWithUpdatedValuesFromRowEditing:M};MG(e,{getRowMode:k,startRowEditMode:P,stopRowEditMode:D},"public"),MG(e,L,"private"),t.useEffect((()=>{p&&I(p)}),[p,I]),iA((()=>{const t=PH(e),n=s.current;s.current=LB(r);const o=new Set([...Object.keys(r),...Object.keys(n)]);Array.from(o).forEach((o=>{var i,a;const s=null!==(i=r[o])&&void 0!==i?i:{mode:mq.View},l=(null===(a=n[o])||void 0===a?void 0:a.mode)||mq.View,c=t[o]?e.current.getRowId(t[o]):o;s.mode===mq.Edit&&l===mq.View?A(KP({id:c},s)):s.mode===mq.View&&l===mq.Edit&&O(KP({id:c},s))}))}),[e,r,A,O])})(e,n);const r=t.useRef({}),{isCellEditable:o}=n,a=t.useCallback((e=>!GH(e.rowNode)&&(!!e.colDef.editable&&(!!e.colDef.renderEditCell&&(!o||o(e))))),[o]);t.useEffect((()=>{const e=r.current;return()=>{Object.entries(e).forEach((t=>{let[n,r]=t;Object.keys(r).forEach((t=>{const[r]=e[n][t];clearTimeout(r),delete e[n][t]}))}))}}),[]);const s=t.useCallback(((e,t)=>{if(r.current[e])if(t){if(r.current[e][t]){const[,n]=r.current[e][t];n()}}else Object.keys(r.current[e]).forEach((t=>{const[,n]=r.current[e][t];n()}))}),[]),c=t.useCallback((t=>{const{id:o,field:i,debounceMs:a}=t;return new Promise((s=>{((e,t,n,o)=>{if(!n)return void o();if(r.current[e]||(r.current[e]={}),r.current[e][t]){const[n]=r.current[e][t];clearTimeout(n)}const i=setTimeout((()=>{o(),delete r.current[e][t]}),n);r.current[e][t]=[i,()=>{const[n]=r.current[e][t];clearTimeout(n),o(),delete r.current[e][t]}]})(o,i,a,(async()=>{const r=n.editMode===pq.Row?e.current.setRowEditingEditCellValue:e.current.setCellEditingEditCellValue;if(e.current.getCellMode(o,i)===fq.Edit){const e=await r(t);s(e)}}))}))}),[e,n.editMode]),u=t.useCallback(((t,r)=>n.editMode===pq.Cell?e.current.getRowWithUpdatedValuesFromCellEditing(t,r):e.current.getRowWithUpdatedValuesFromRowEditing(t)),[e,n.editMode]),d=t.useCallback(((t,n)=>{var r,o;return null!==(r=null===(o=PY(e.current.state)[t])||void 0===o?void 0:o[n])&&void 0!==r?r:null}),[e]),h={runPendingEditCellValueMutation:s};MG(e,{isCellEditable:a,setEditCellValue:c,getRowWithUpdatedValues:u,unstable_getEditCellMeta:d},"public"),MG(e,h,"private")},UY=(e,t,n)=>{const r=!!t.unstable_dataSource;return n.current.caches.rows=HH({rows:r?[]:t.rows,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),KP({},e,{rows:WH({apiRef:n,rowCountProp:t.rowCount,loadingProp:!!r||t.loading,previousTree:null,previousTreeDepths:null})})},HY=e=>"full"===e.updates.type?(e=>{const t={[zH]:KP({},{type:"group",id:zH,depth:-1,groupingField:null,groupingKey:null,isAutoGenerated:!0,children:[],childrenFromPath:{},childrenExpanded:!0,parent:null},{children:e})};for(let n=0;n<e.length;n+=1){const r=e[n];t[r]={id:r,depth:0,parent:zH,type:"leaf",groupingKey:null}}return{groupingName:cQ,tree:t,treeDepths:{0:e.length},dataRowIds:e}})(e.updates.rows):(e=>{let{previousTree:t,actions:n}=e;const r=KP({},t),o={};for(let s=0;s<n.remove.length;s+=1){const e=n.remove[s];o[e]=!0,delete r[e]}for(let s=0;s<n.insert.length;s+=1){const e=n.insert[s];r[e]={id:e,depth:0,parent:zH,type:"leaf",groupingKey:null}}const i=r[zH];let a=[...i.children,...n.insert];return Object.values(o).length&&(a=a.filter((e=>!o[e]))),r[zH]=KP({},i,{children:a}),{groupingName:cQ,tree:r,treeDepths:{0:a.length},dataRowIds:a}})({previousTree:e.previousTree,actions:e.updates.actions});class qY extends Error{}function WY(e,n){var r;const o=t.useCallback((t=>({field:t,colDef:e.current.getColumn(t)})),[e]),i=t.useCallback((t=>{const n=e.current.getRow(t);if(!n)throw new qY("No row with id #".concat(t," found"));return{id:t,columns:e.current.getAllColumns(),row:n}}),[e]),a=t.useCallback(((t,n,r,o)=>{let{cellMode:i,colDef:a,hasFocus:s,rowNode:l,tabIndex:c}=o;const u=r[n],d=null!==a&&void 0!==a&&a.valueGetter?a.valueGetter(u,r,a,e):u,h={id:t,field:n,row:r,rowNode:l,colDef:a,cellMode:i,hasFocus:s,tabIndex:c,value:d,formattedValue:d,isEditable:!1,api:null};return a&&a.valueFormatter&&(h.formattedValue=a.valueFormatter(d,r,a,e)),h.isEditable=a&&e.current.isCellEditable(h),h}),[e]),s=t.useCallback(((t,r)=>{var o;const i=e.current.getRow(t),a=e.current.getRowNode(t);if(!i||!a)throw new qY("No row with id #".concat(t," found"));const s=qG(e),l=QG(e),c=e.current.getCellMode(t,r);return e.current.getCellParamsForRow(t,r,i,{colDef:n.unstable_listView&&(null===(o=n.unstable_listColumn)||void 0===o?void 0:o.field)===r?UG(e.current.state):e.current.getColumn(r),rowNode:a,hasFocus:null!==s&&s.field===r&&s.id===t,tabIndex:l&&l.field===r&&l.id===t?0:-1,cellMode:c})}),[e,n.unstable_listView,null===(r=n.unstable_listColumn)||void 0===r?void 0:r.field]),l=t.useCallback(((t,n)=>{const r=e.current.getColumn(n),o=e.current.getRow(t);if(!o)throw new qY("No row with id #".concat(t," found"));return r&&r.valueGetter?r.valueGetter(o[r.field],o,r,e):o[n]}),[e]),c=t.useCallback(((t,n)=>{const r=n.field;if(!n||!n.valueGetter)return t[r];const o=t[n.field];return n.valueGetter(o,t,n,e)}),[e]),u=t.useCallback(((t,n)=>{const r=c(t,n);return n&&n.valueFormatter?n.valueFormatter(r,t,n,e):r}),[e,c]),d=t.useCallback((t=>e.current.rootElementRef.current?function(e,t){return e.querySelector('[role="columnheader"][data-field="'.concat(mY(t),'"]'))}(e.current.rootElementRef.current,t):null),[e]),h=t.useCallback((t=>e.current.rootElementRef.current?function(e,t){return e.querySelector(gY(t))}(e.current.rootElementRef.current,t):null),[e]),p=t.useCallback(((t,n)=>e.current.rootElementRef.current?function(e,t){let{id:n,field:r}=t;const o=gY(n),i=".".concat(YM.cell,'[data-field="').concat(mY(r),'"]'),a="".concat(o," ").concat(i);return e.querySelector(a)}(e.current.rootElementRef.current,{id:t,field:n}):null),[e]),f={getCellParamsForRow:a};MG(e,{getCellValue:l,getCellParams:s,getCellElement:p,getRowValue:c,getRowFormattedValue:u,getRowParams:i,getRowElement:h,getColumnHeaderParams:o,getColumnHeaderElement:d},"public"),MG(e,f,"private")}const GY=(e,t)=>null==e||Array.isArray(e)?e:t&&t[0]===e?t:[e],KY=(e,t)=>{var n;return KP({},e,{rowSelection:t.rowSelection&&null!==(n=GY(t.rowSelectionModel))&&void 0!==n?n:[]})},QY=(e,n)=>{var r,o,i,a,s,l,c;const u=pQ(e,"useGridSelection"),d=t.useCallback((e=>function(){n.rowSelection&&e(...arguments)}),[n.rowSelection]),h=n.signature!==fF.DataGrid&&((null===(r=n.rowSelectionPropagation)||void 0===r?void 0:r.parents)||(null===(o=n.rowSelectionPropagation)||void 0===o?void 0:o.descendants)),p=t.useMemo((()=>GY(n.rowSelectionModel,kG(e.current.state))),[e,n.rowSelectionModel]),f=t.useRef(null);e.current.registerControlState({stateId:"rowSelection",propModel:p,propOnChange:n.onRowSelectionModelChange,stateSelector:kG,changeEvent:"rowSelectionChange"});const{checkboxSelection:m,disableRowSelectionOnClick:g,isRowSelectable:v}=n,y=YK(n),b=sL(e,DH),w=sL(e,LH)>1,C=t.useCallback((t=>{var n;let r=t;const o=null!==(n=f.current)&&void 0!==n?n:t,i=e.current.isRowSelected(t);if(i){const t=JW(e),n=t.findIndex((e=>e===o)),i=t.findIndex((e=>e===r));if(n===i)return;r=n>i?t[i+1]:t[i-1]}f.current=t,e.current.selectRowRange({startId:o,endId:r},!i)}),[e]),_=t.useCallback((t=>{if(n.signature===fF.DataGrid&&!y&&Array.isArray(t)&&t.length>1)throw new Error(["MUI X: `rowSelectionModel` can only contain 1 item in DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock multiple selection."].join("\n"));kG(e.current.state)!==t&&(u.debug("Setting selection model"),e.current.setState((e=>KP({},e,{rowSelection:n.rowSelection?t:[]}))),e.current.forceUpdate())}),[e,u,n.rowSelection,n.signature,y]),x=t.useCallback((t=>kG(e.current.state).includes(t)),[e]),S=t.useCallback((t=>{if(!1===n.rowSelection)return!1;if(v&&!v(e.current.getRowParams(t)))return!1;const r=e.current.getRowNode(t);return"footer"!==(null===r||void 0===r?void 0:r.type)&&"pinnedRow"!==(null===r||void 0===r?void 0:r.type)}),[e,n.rowSelection,v]),k=t.useCallback((()=>EG(e)),[e]),I=t.useCallback((function(t){let r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e.current.isRowSelectable(t))if(f.current=t,o){u.debug("Setting selection for row ".concat(t));const o=[],c=e=>{o.push(e)};var i,a,s,l;if(r)if(c(t),h)XK(e,b,t,null!==(i=null===(a=n.rowSelectionPropagation)||void 0===a?void 0:a.descendants)&&void 0!==i&&i,null!==(s=null===(l=n.rowSelectionPropagation)||void 0===l?void 0:l.parents)&&void 0!==s&&s,c);e.current.setRowSelectionModel(o)}else{u.debug("Toggling selection for row ".concat(t));const o=kG(e.current.state),i=new Set(o);i.delete(t);const a=e=>{i.add(e)},s=e=>{i.delete(e)};var c,d,p,m;if(r){if(a(t),h)XK(e,b,t,null!==(c=null===(d=n.rowSelectionPropagation)||void 0===d?void 0:d.descendants)&&void 0!==c&&c,null!==(p=null===(m=n.rowSelectionPropagation)||void 0===m?void 0:m.parents)&&void 0!==p&&p,a)}else if(h){var g,v,w,C;$K(e,b,t,null!==(g=null===(v=n.rowSelectionPropagation)||void 0===v?void 0:v.descendants)&&void 0!==g&&g,null!==(w=null===(C=n.rowSelectionPropagation)||void 0===C?void 0:C.parents)&&void 0!==w&&w,s)}(i.size<2||y)&&e.current.setRowSelectionModel(Array.from(i))}}),[e,u,h,b,null===(i=n.rowSelectionPropagation)||void 0===i?void 0:i.descendants,null===(a=n.rowSelectionPropagation)||void 0===a?void 0:a.parents,y]),E=t.useCallback((function(t){let r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];u.debug("Setting selection for several rows");const i=t.filter((t=>e.current.isRowSelectable(t)));let a;if(o){if(r){if(a=new Set(i),h){const t=e=>{a.add(e)};i.forEach((r=>{var o,i,a,s;XK(e,b,r,null!==(o=null===(i=n.rowSelectionPropagation)||void 0===i?void 0:i.descendants)&&void 0!==o&&o,null!==(a=null===(s=n.rowSelectionPropagation)||void 0===s?void 0:s.parents)&&void 0!==a&&a,t)}))}}else a=new Set;const t=TG(e);if(a.size===Object.keys(t).length&&Array.from(a).every((e=>t[e]===e)))return}else{a=new Set(Object.values(TG(e)));const t=e=>{a.add(e)},o=e=>{a.delete(e)};i.forEach((i=>{var s,l,c,u,d,p,f,m;r?(a.add(i),h&&XK(e,b,i,null!==(s=null===(l=n.rowSelectionPropagation)||void 0===l?void 0:l.descendants)&&void 0!==s&&s,null!==(c=null===(u=n.rowSelectionPropagation)||void 0===u?void 0:u.parents)&&void 0!==c&&c,t)):(o(i),h&&$K(e,b,i,null!==(d=null===(p=n.rowSelectionPropagation)||void 0===p?void 0:p.descendants)&&void 0!==d&&d,null!==(f=null===(m=n.rowSelectionPropagation)||void 0===m?void 0:m.parents)&&void 0!==f&&f,o))}))}(a.size<2||y)&&e.current.setRowSelectionModel(Array.from(a))}),[u,h,y,e,b,null===(s=n.rowSelectionPropagation)||void 0===s?void 0:s.descendants,null===(l=n.rowSelectionPropagation)||void 0===l?void 0:l.parents]),T=t.useCallback((function(t){let{startId:n,endId:r}=t,o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e.current.getRow(n)||!e.current.getRow(r))return;u.debug("Expanding selection from row ".concat(n," to row ").concat(r));const a=JW(e),s=a.indexOf(n),l=a.indexOf(r),[c,d]=s>l?[l,s]:[s,l],h=a.slice(c,d+1);e.current.selectRows(h,o,i)}),[e,u]),R={selectRows:E,selectRowRange:T};MG(e,{selectRow:I,setRowSelectionModel:_,getSelectedRows:k,isRowSelected:x,isRowSelectable:S},"public"),MG(e,R,n.signature===fF.DataGrid?"private":"public");const P=t.useCallback((function(){var t;let r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const o=kG(e.current.state),i=PH(e),a=XW(e),s=KP({},TG(e));let l=!1;o.forEach((e=>{var t;if((e=>"server"===n.filterMode?!i[e]:!0!==a[e])(e)){if(n.keepNonExistentRowsSelected)return;return delete s[e],void(l=!0)}if(null===(t=n.rowSelectionPropagation)||void 0===t||!t.parents)return;const r=b[e];if("group"===r.type){if(r.isAutoGenerated)return delete s[e],void(l=!0);r.children.every((e=>!1===a[e]))||(delete s[e],l=!0)}}));const c=w&&(null===(t=n.rowSelectionPropagation)||void 0===t?void 0:t.parents)&&Object.keys(s).length>0;if(l||c&&!r){const t=Object.values(s);c?e.current.selectRows(t,!0,!0):e.current.setRowSelectionModel(t)}}),[e,w,null===(c=n.rowSelectionPropagation)||void 0===c?void 0:c.parents,n.keepNonExistentRowsSelected,n.filterMode,b]),A=t.useCallback(((t,n)=>{const r=n.metaKey||n.ctrlKey,o=!m&&!r&&!(e=>!!e.key)(n),i=!y||o,a=e.current.isRowSelected(t);i?e.current.selectRow(t,!!o||!a,!0):e.current.selectRow(t,!a,!1)}),[e,y,m]),D=t.useCallback(((t,n)=>{var r;if(g)return;const o=null===(r=n.target.closest(".".concat(YM.cell)))||void 0===r?void 0:r.getAttribute("data-field");if(o===CQ.field)return;if(o===ZH)return;if(o){const t=e.current.getColumn(o);if((null===t||void 0===t?void 0:t.type)===CW)return}"pinnedRow"!==e.current.getRowNode(t.id).type&&(n.shiftKey&&y?C(t.id):A(t.id,n))}),[g,y,e,C,A]),O=t.useCallback(((e,t)=>{var n;y&&t.shiftKey&&(null===(n=window.getSelection())||void 0===n||n.removeAllRanges())}),[y]),N=t.useCallback(((t,n)=>{y&&n.nativeEvent.shiftKey?C(t.id):e.current.selectRow(t.id,t.value,!y)}),[e,C,y]),M=t.useCallback((t=>{const r=n.pagination&&n.checkboxSelectionVisibleOnly&&"client"===n.paginationMode?wG(e):JW(e);e.current.selectRows(r,t.value)}),[e,n.checkboxSelectionVisibleOnly,n.pagination,n.paginationMode]),L=t.useCallback(((t,n)=>{if(e.current.getCellMode(t.id,t.field)!==fq.Edit&&!vY(n)){if(EQ(n.key)&&n.shiftKey){const r=qG(e);if(r&&r.id!==t.id){n.preventDefault();const o=e.current.isRowSelected(r.id);if(!y)return void e.current.selectRow(r.id,!o,!0);const i=e.current.getRowIndexRelativeToVisibleRows(r.id),a=e.current.getRowIndexRelativeToVisibleRows(t.id);let s,l;i>a?o?(s=a,l=i-1):(s=a,l=i):o?(s=i+1,l=a):(s=i,l=a);const c=_G(e).rows.slice(s,l+1).map((e=>e.id));return void e.current.selectRows(c,!o)}}if(" "===n.key&&n.shiftKey)return n.preventDefault(),void A(t.id,n);"A"===String.fromCharCode(n.keyCode)&&(n.ctrlKey||n.metaKey)&&(n.preventDefault(),E(e.current.getAllRowIds(),!0))}}),[e,A,E,y]);vF(e,"sortedRowsSet",d((()=>P(!0)))),vF(e,"filteredRowsSet",d(P)),vF(e,"rowClick",d(D)),vF(e,"rowSelectionCheckboxChange",d(N)),vF(e,"headerSelectionCheckboxChange",M),vF(e,"cellMouseDown",d(O)),vF(e,"cellKeyDown",d(L)),t.useEffect((()=>{void 0!==p&&e.current.setRowSelectionModel(p)}),[e,p,n.rowSelection]),t.useEffect((()=>{n.rowSelection||e.current.setRowSelectionModel([])}),[e,n.rowSelection]);const F=null!=p;t.useEffect((()=>{if(F||!n.rowSelection)return;const t=kG(e.current.state);if(S){const n=t.filter((e=>S(e)));n.length<t.length&&e.current.setRowSelectionModel(n)}}),[e,S,F,n.rowSelection]),t.useEffect((()=>{if(!n.rowSelection||F)return;const t=kG(e.current.state);!y&&t.length>1&&e.current.setRowSelectionModel([])}),[e,y,m,F,n.rowSelection]),t.useEffect((()=>{d(P)}),[P,d])},YY=(e,n)=>{const r=(e=>{const{classes:n}=e;return t.useMemo((()=>nA({cellCheckbox:["cellCheckbox"],columnHeaderCheckbox:["columnHeaderCheckbox"]},QM,n)),[n])})({classes:n.classes}),o=t.useCallback((t=>{const o=KP({},CQ,{cellClassName:r.cellCheckbox,headerClassName:r.columnHeaderCheckbox,headerName:e.current.getLocaleText("checkboxSelectionHeaderName")}),i=n.checkboxSelection,a=null!=t.lookup[wQ];return i&&!a?(t.lookup[wQ]=o,t.orderedFields=[wQ,...t.orderedFields]):!i&&a?(delete t.lookup[wQ],t.orderedFields=t.orderedFields.filter((e=>e!==wQ))):i&&a&&(t.lookup[wQ]=KP({},o,t.lookup[wQ])),t}),[e,r,n.checkboxSelection]);NQ(e,"hydrateColumns",o)},XY=(e,t)=>{var n,r,o;const i=null!==(n=null!==(r=t.sortModel)&&void 0!==r?r:null===(o=t.initialState)||void 0===o||null===(o=o.sorting)||void 0===o?void 0:o.sortModel)&&void 0!==n?n:[];return KP({},e,{sorting:{sortModel:vB(i,t.disableMultipleColumnsSorting),sortedRows:[]}})};function $Y(e){const{containerSize:t,scrollPosition:n,elementSize:r,elementOffset:o}=e,i=o+r;return r>t?o:i-t>n?i-t:o<n?o:void 0}const JY={autoHeight:!1,autoPageSize:!1,autosizeOnMount:!1,checkboxSelection:!1,checkboxSelectionVisibleOnly:!1,clipboardCopyCellDelimiter:"\t",columnBufferPx:150,columnHeaderHeight:56,disableAutosize:!1,disableColumnFilter:!1,disableColumnMenu:!1,disableColumnReorder:!1,disableColumnResize:!1,disableColumnSelector:!1,disableColumnSorting:!1,disableDensitySelector:!1,disableEval:!1,disableMultipleColumnsFiltering:!1,disableMultipleColumnsSorting:!1,disableMultipleRowSelection:!1,disableRowSelectionOnClick:!1,disableVirtualization:!1,editMode:pq.Cell,filterDebounceMs:150,filterMode:"client",hideFooter:!1,hideFooterPagination:!1,hideFooterRowCount:!1,hideFooterSelectedRowCount:!1,ignoreDiacritics:!1,ignoreValueFormatterDuringExport:!1,indeterminateCheckboxAction:"deselect",keepColumnPositionIfDraggedOutside:!1,keepNonExistentRowsSelected:!1,loading:!1,logger:console,logLevel:"error",pageSizeOptions:[25,50,100],pagination:!1,paginationMode:"client",resizeThrottleMs:60,rowBufferPx:150,rowHeight:52,rowPositionsDebounceMs:166,rows:[],rowSelection:!0,rowSpacingType:"margin",showCellVerticalBorder:!1,showColumnVerticalBorder:!1,sortingMode:"client",sortingOrder:["asc","desc",null],throttleRowsMs:0,unstable_rowSpanning:!1,virtualizeColumnsWithAutoRowHeight:!1},ZY={width:0,height:0},eX={isReady:!1,root:ZY,viewportOuterSize:ZY,viewportInnerSize:ZY,contentSize:ZY,minimumSize:ZY,hasScrollX:!1,hasScrollY:!1,scrollbarSize:0,headerHeight:0,groupHeaderHeight:0,headerFilterHeight:0,rowWidth:0,rowHeight:0,columnsTotalWidth:0,leftPinnedWidth:0,rightPinnedWidth:0,headersTotalHeight:0,topContainerHeight:0,bottomContainerHeight:0},tX=e=>KP({},e,{dimensions:eX});function nX(e,n){var r,o;const i=pQ(e,"useResizeContainer"),a=t.useRef(!1),s=t.useRef(ZY),l=sL(e,dL),c=sL(e,RG),u=sL(e,$L),d=sL(e,VL),h=t.useMemo((()=>$H(n.rowHeight,JY.rowHeight)),[n.rowHeight]),p=Math.floor(h*d),f=Math.floor(n.columnHeaderHeight*d),m=Math.floor((null!==(r=n.columnGroupHeaderHeight)&&void 0!==r?r:n.columnHeaderHeight)*d),g=Math.floor((null!==(o=n.headerFilterHeight)&&void 0!==o?o:n.columnHeaderHeight)*d),v=ZG(ZL(e),1),y=FW(e,n),b=u.left.reduce(((e,t)=>e+t.computedWidth),0),w=u.right.reduce(((e,t)=>e+t.computedWidth),0),[C,_]=t.useState(),x=t.useMemo((()=>function(e){let t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;const o=()=>{t=void 0,e(...n)};function i(){for(var e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];n=i,void 0===t&&(t=setTimeout(o,r))}return i.clear=()=>{clearTimeout(t),t=void 0},i}(_,n.resizeThrottleMs)),[n.resizeThrottleMs]);t.useEffect((()=>x.clear),[x]);const S=t.useRef(void 0),k=dF((t=>{e.current.setState((e=>KP({},e,{dimensions:t})))})),I=t.useCallback((()=>{const t=e.current.mainElementRef.current;if(!t)return;const n=SF(t).getComputedStyle(t),r={width:parseFloat(n.width)||0,height:parseFloat(n.height)||0};S.current&&rX(S.current,r)||(e.current.publishEvent("resize",r),S.current=r)}),[e]),E=t.useCallback((()=>{const t=dL(e.current.state);if(!t.isReady)return 0;const r=_G(e,(n.pagination,n.paginationMode));if(n.getRowHeight){const t=OG(e),n=t.lastRowIndex-t.firstRowIndex;return Math.min(n-1,r.rows.length)}const o=Math.floor(t.viewportInnerSize.height/p);return Math.min(o,r.rows.length)}),[e,n.pagination,n.paginationMode,n.getRowHeight,p]),T=t.useCallback((()=>{var t,r;const o=e.current.rootElementRef.current,i=function(e){var t,n;const r=BH(e);return{top:(null===r||void 0===r||null===(t=r.top)||void 0===t?void 0:t.reduce(((t,n)=>t+e.current.unstable_getRowHeight(n.id)),0))||0,bottom:(null===r||void 0===r||null===(n=r.bottom)||void 0===n?void 0:n.reduce(((t,n)=>t+e.current.unstable_getRowHeight(n.id)),0))||0}}(e),a=function(e,t,n){if(void 0!==n)return n;if(null===e||0===t)return 0;const r=xF(e),o=r.createElement("div");o.style.width="99px",o.style.height="99px",o.style.position="absolute",o.style.overflow="scroll",o.className="scrollDiv",e.appendChild(o);const i=o.offsetWidth-o.clientWidth;return e.removeChild(o),i}(o,v,n.scrollbarSize),l=y+i.top,u=i.bottom,d={width:v-b-w,height:ZG(c.currentPageTotalHeight,1)};let h,C,_=!1,x=!1;if(n.autoHeight)x=!1,_=Math.round(v)>Math.round(s.current.width),h={width:s.current.width,height:l+u+d.height},C={width:Math.max(0,h.width-(x?a:0)),height:Math.max(0,h.height-(_?a:0))};else{h={width:s.current.width,height:s.current.height},C={width:Math.max(0,h.width-b-w),height:Math.max(0,h.height-l-u)};const e=d,t=C,n=e.width>t.width,r=e.height>t.height;(n||r)&&(x=r,_=e.width+(x?a:0)>t.width,_&&(x=e.height+a>t.height)),x&&(C.width-=a),_&&(C.height-=a)}const S=Math.max(h.width,v+(x?a:0)),I={width:v,height:l+d.height+u},E={isReady:!0,root:s.current,viewportOuterSize:h,viewportInnerSize:C,contentSize:d,minimumSize:I,hasScrollX:_,hasScrollY:x,scrollbarSize:a,headerHeight:f,groupHeaderHeight:m,headerFilterHeight:g,rowWidth:S,rowHeight:p,columnsTotalWidth:v,leftPinnedWidth:b,rightPinnedWidth:w,headersTotalHeight:y,topContainerHeight:l,bottomContainerHeight:u},T=e.current.state.dimensions;k(E),rX(E.viewportInnerSize,T.viewportInnerSize)||e.current.publishEvent("viewportInnerSizeChange",E.viewportInnerSize),null===(t=(r=e.current).updateRenderContext)||void 0===t||t.call(r)}),[e,k,n.scrollbarSize,n.autoHeight,c.currentPageTotalHeight,p,f,m,g,v,y,b,w]),R={updateDimensions:T,getViewportPageSize:E};MG(e,{resize:I,getRootDimensions:()=>e.current.state.dimensions},"public"),MG(e,R,"private"),iA((()=>{C&&(T(),e.current.publishEvent("debouncedResize",s.current))}),[e,C,T]);const P=e.current.rootElementRef.current;iA((()=>{if(!P)return;const e=(e,t)=>P.style.setProperty(e,t);e("--DataGrid-width","".concat(l.viewportOuterSize.width,"px")),e("--DataGrid-hasScrollX","".concat(Number(l.hasScrollX))),e("--DataGrid-hasScrollY","".concat(Number(l.hasScrollY))),e("--DataGrid-scrollbarSize","".concat(l.scrollbarSize,"px")),e("--DataGrid-rowWidth","".concat(l.rowWidth,"px")),e("--DataGrid-columnsTotalWidth","".concat(l.columnsTotalWidth,"px")),e("--DataGrid-leftPinnedWidth","".concat(l.leftPinnedWidth,"px")),e("--DataGrid-rightPinnedWidth","".concat(l.rightPinnedWidth,"px")),e("--DataGrid-headerHeight","".concat(l.headerHeight,"px")),e("--DataGrid-headersTotalHeight","".concat(l.headersTotalHeight,"px")),e("--DataGrid-topContainerHeight","".concat(l.topContainerHeight,"px")),e("--DataGrid-bottomContainerHeight","".concat(l.bottomContainerHeight,"px")),e("--height","".concat(l.rowHeight,"px"))}),[P,l]);const A=t.useRef(!0),D=t.useCallback((e=>{if(s.current=e,0!==e.height||a.current||n.autoHeight||eK||(i.error(["The parent DOM element of the Data Grid has an empty height.","Please make sure that this element has an intrinsic height.","The grid displays with a height of 0px.","","More details: https://mui.com/r/x-data-grid-no-dimensions."].join("\n")),a.current=!0),0!==e.width||a.current||eK||(i.error(["The parent DOM element of the Data Grid has an empty width.","Please make sure that this element has an intrinsic width.","The grid displays with a width of 0px.","","More details: https://mui.com/r/x-data-grid-no-dimensions."].join("\n")),a.current=!0),A.current)return _(e),void(A.current=!1);x(e)}),[n.autoHeight,x,i]);iA(T,[T]),bF(e,"sortedRowsSet",T),bF(e,"paginationModelChange",T),bF(e,"columnsChange",T),vF(e,"resize",D),bF(e,"debouncedResize",n.onResize)}function rX(e,t){return e.width===t.width&&e.height===t.height}const oX="undefined"!==typeof globalThis.ResizeObserver?globalThis.ResizeObserver:class{observe(){}unobserve(){}disconnect(){}},iX=(e,t,n)=>(n.current.caches.rowsMeta={heights:new Map},KP({},e,{rowsMeta:{currentPageTotalHeight:0,positions:[]}}));function aX(e){const{apiRef:t,lookup:n,columnIndex:r,rowId:o,minFirstColumnIndex:i,maxLastColumnIndex:a,columns:s}=e,l=s.length,c=s[r],u=t.current.getRow(o),d=t.current.getRowValue(u,c),h="function"===typeof c.colSpan?c.colSpan(d,u,c,t):c.colSpan;if(!h||1===h)return sX(n,o,r,{spannedByColSpan:!1,cellProps:{colSpan:1,width:c.computedWidth}}),{colSpan:1};let p=c.computedWidth;for(let f=1;f<h;f+=1){const e=r+f;if(e>=i&&e<a){p+=s[e].computedWidth,sX(n,o,r+f,{spannedByColSpan:!0,rightVisibleCellIndex:Math.min(r+h,l-1),leftVisibleCellIndex:r})}sX(n,o,r,{spannedByColSpan:!1,cellProps:{colSpan:h,width:p}})}return{colSpan:h}}function sX(e,t,n,r){e[t]||(e[t]={}),e[t][n]=r}function lX(e){return void 0!==e.field}const cX=(e,t,n)=>{if(lX(e)){if(void 0!==n[e.field])throw new Error(["MUI X: columnGroupingModel contains duplicated field","column field ".concat(e.field," occurs two times in the grouping model:"),"- ".concat(n[e.field].join(" > ")),"- ".concat(t.join(" > "))].join("\n"));return void(n[e.field]=t)}const{groupId:r,children:o}=e;o.forEach((e=>{cX(e,[...t,r],n)}))},uX=e=>{if(!e)return{};const t={};return e.forEach((e=>{cX(e,[],t)})),t},dX=(e,t,n)=>{const r=e=>{var n;return null!==(n=t[e])&&void 0!==n?n:[]},o=[],i=Math.max(...e.map((e=>r(e).length))),a=(e,t,n)=>MB(r(e).slice(0,n+1),r(t).slice(0,n+1));for(let s=0;s<i;s+=1){const t=e.reduce(((e,t)=>{var o;const i=null!==(o=r(t)[s])&&void 0!==o?o:null;if(0===e.length)return[{columnFields:[t],groupId:i}];const l=e[e.length-1],c=l.columnFields[l.columnFields.length-1];return l.groupId!==i||!a(c,t,s)||(u=c,d=t,null!==n&&void 0!==n&&n.left&&n.left.includes(u)&&!n.left.includes(d)||null!==n&&void 0!==n&&n.right&&!n.right.includes(u)&&n.right.includes(d))?[...e,{columnFields:[t],groupId:i}]:[...e.slice(0,e.length-1),{columnFields:[...l.columnFields,t],groupId:i}];var u,d}),[]);o.push(t)}return o},hX=["groupId","children"],pX=e=>{let t={};return e.forEach((e=>{if(lX(e))return;const{groupId:n,children:r}=e,o=i(e,hX);if(!n)throw new Error("MUI X: An element of the columnGroupingModel does not have either `field` or `groupId`.");const a=KP({},o,{groupId:n}),s=pX(r);if(void 0!==s[n]||void 0!==t[n])throw new Error("MUI X: The groupId ".concat(n," is used multiple times in the columnGroupingModel."));t=KP({},t,s,{[n]:a})})),KP({},t)},fX=(e,t,n)=>{var r,o,i;if(!t.columnGroupingModel)return e;const a=WL(n),s=XL(n),l=pX(null!==(r=t.columnGroupingModel)&&void 0!==r?r:[]),c=uX(null!==(o=t.columnGroupingModel)&&void 0!==o?o:[]),u=dX(a,c,null!==(i=n.current.state.pinnedColumns)&&void 0!==i?i:{}),d=0===s.length?0:Math.max(...s.map((e=>{var t,n;return null!==(t=null===(n=c[e])||void 0===n?void 0:n.length)&&void 0!==t?t:0})));return KP({},e,{columnGrouping:{lookup:l,unwrappedGroupingModel:c,headerStructure:u,maxDepth:d}})},mX={includeHeaders:!0,includeOutliers:!1,outliersFactor:1.5,expand:!1,disableColumnVirtualization:!0};function gX(e,t){if(void 0!==t&&e.changedTouches){for(let n=0;n<e.changedTouches.length;n+=1){const r=e.changedTouches[n];if(r.identifier===t)return{x:r.clientX,y:r.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function vX(e,t,n,r){let o=e;return o+="Right"===r?t-n.left:n.right-t,o}function yX(e){e.preventDefault(),e.stopImmediatePropagation()}function bX(e){const n=t.useRef(void 0),r=()=>AG(e),o=sL(e,r);t.useEffect((()=>{n.current&&!1===o&&(n.current.resolve(),n.current=void 0)}));return()=>{if(!n.current){if(!1===r())return Promise.resolve();n.current=function(){let e,t;const n=new Promise(((n,r)=>{e=n,t=r}));return n.resolve=e,n.reject=t,n}()}return n.current}}function wX(e,t,n){const r={},o=e.current.rootElementRef.current;return o.classList.add(YM.autosizing),n.forEach((n=>{const o=function(e,t){const n=e.virtualScrollerRef.current;return Array.from(n.querySelectorAll(':scope > div > div > div > [data-field="'.concat(mY(t),'"][role="gridcell"]')))}(e.current,n.field),i=o.map((e=>{var t;return null!==(t=e.getBoundingClientRect().width)&&void 0!==t?t:0})),a=t.includeOutliers?i:function(e,t){if(e.length<4)return e;const n=e.slice();n.sort(((e,t)=>e-t));const r=n[Math.floor(.25*n.length)],o=n[Math.floor(.75*n.length)-1],i=o-r,a=i<5?5:i*t;return n.filter((e=>e>r-a&&e<o+a))}(i,t.outliersFactor);if(t.includeHeaders){const t=(c=e.current,u=n.field,c.columnHeadersContainerRef.current.querySelector(':scope > div > [data-field="'.concat(mY(u),'"][role="columnheader"]')));if(t){var s,l;const e=t.querySelector(".".concat(YM.columnHeaderTitle)),n=t.querySelector(".".concat(YM.columnHeaderTitleContainerContent)),r=t.querySelector(".".concat(YM.iconButtonContainer)),o=t.querySelector(".".concat(YM.menuIcon)),i=null!==e&&void 0!==e?e:n,c=window.getComputedStyle(t,null),u=parseInt(c.paddingLeft,10)+parseInt(c.paddingRight,10),d=i.scrollWidth+1+u+(null!==(s=null===r||void 0===r?void 0:r.clientWidth)&&void 0!==s?s:0)+(null!==(l=null===o||void 0===o?void 0:o.clientWidth)&&void 0!==l?l:0);a.push(d)}}var c,u;const d=n.minWidth!==-1/0&&void 0!==n.minWidth,h=n.maxWidth!==1/0&&void 0!==n.maxWidth,p=d?n.minWidth:0,f=h?n.maxWidth:1/0,m=0===a.length?0:Math.max(...a);r[n.field]=OB(m,p,f)})),o.classList.remove(YM.autosizing),r}const CX=e=>KP({},e,{columnResize:{resizingColumnField:""}});function _X(){return{colDef:void 0,initialColWidth:0,initialTotalWidth:0,previousMouseClickEvent:void 0,columnHeaderElement:void 0,headerFilterElement:void 0,groupHeaderElements:[],cellElements:[],leftPinnedCellsAfter:[],rightPinnedCellsBefore:[],fillerLeft:void 0,fillerRight:void 0,leftPinnedHeadersAfter:[],rightPinnedHeadersBefore:[]}}const xX=(e,n)=>{const r=QB(),o=pQ(e,"useGridColumnResize"),i=$M(_X).current,a=t.useRef(null),s=t.useRef(null),l=CF(),c=t.useRef(void 0),u=t=>{o.debug("Updating width to ".concat(t," for col ").concat(i.colDef.field));const n=i.columnHeaderElement.offsetWidth,r=t-n,a=t-i.initialColWidth;if(a>0){var s;const t=i.initialTotalWidth+a;null===(s=e.current.rootElementRef)||void 0===s||null===(s=s.current)||void 0===s||s.style.setProperty("--DataGrid-rowWidth","".concat(t,"px"))}i.colDef.computedWidth=t,i.colDef.width=t,i.colDef.flex=0,i.columnHeaderElement.style.width="".concat(t,"px");const l=i.headerFilterElement;l&&(l.style.width="".concat(t,"px")),i.groupHeaderElements.forEach((e=>{const n=e;let o;o="1"===n.getAttribute("aria-colspan")?"".concat(t,"px"):"".concat(n.offsetWidth+r,"px"),n.style.width=o})),i.cellElements.forEach((e=>{const n=e;let o;o="1"===n.getAttribute("aria-colspan")?"".concat(t,"px"):"".concat(n.offsetWidth+r,"px"),n.style.setProperty("--width",o)}));const c=e.current.unstable_applyPipeProcessors("isColumnPinned",!1,i.colDef.field);c===UL.LEFT&&(SX(i.fillerLeft,"width",r),i.leftPinnedCellsAfter.forEach((e=>{SX(e,"left",r)})),i.leftPinnedHeadersAfter.forEach((e=>{SX(e,"left",r)}))),c===UL.RIGHT&&(SX(i.fillerRight,"width",r),i.rightPinnedCellsBefore.forEach((e=>{SX(e,"right",r)})),i.rightPinnedHeadersBefore.forEach((e=>{SX(e,"right",r)})))},d=t=>{if(y(),i.previousMouseClickEvent){const n=i.previousMouseClickEvent,r=n.timeStamp,o=n.clientX,a=n.clientY;if(t.timeStamp-r<300&&t.clientX===o&&t.clientY===a)return i.previousMouseClickEvent=void 0,void e.current.publishEvent("columnResizeStop",null,t)}if(i.colDef){e.current.setColumnWidth(i.colDef.field,i.colDef.width),o.debug("Updating col ".concat(i.colDef.field," with new width: ").concat(i.colDef.width));const t=qL(e.current.state);i.groupHeaderElements.forEach((e=>{const n=e,r=e.getAttribute("data-fields").slice(2,-2).split("-|-").reduce(((e,n)=>!1!==t.columnVisibilityModel[n]?e+t.lookup[n].computedWidth:e),0),o="".concat(r,"px");n.style.width=o}))}l.start(0,(()=>{e.current.publishEvent("columnResizeStop",null,t)}))},h=(t,n,o)=>{var l;const c=e.current.rootElementRef.current;var u,d;i.initialColWidth=t.computedWidth,i.initialTotalWidth=e.current.getRootDimensions().rowWidth,i.colDef=t,i.columnHeaderElement=(u=e.current.columnHeadersContainerRef.current,d=t.field,u.querySelector('[data-field="'.concat(mY(d),'"]')));const h=c.querySelector(".".concat(YM.headerFilterRow,' [data-field="').concat(mY(t.field),'"]'));h&&(i.headerFilterElement=h),i.groupHeaderElements=function(e,t){var n;return Array.from(null!==(n=e.querySelectorAll('[data-fields*="|-'.concat(mY(t),'-|"]')))&&void 0!==n?n:[])}(null===(l=e.current.columnHeadersContainerRef)||void 0===l?void 0:l.current,t.field),i.cellElements=function(e,t){var n;if(!fY(e,YM.root))throw new Error("MUI X: The root element is not found.");const r=e.getAttribute("aria-colindex");if(!r)return[];const o=Number(r)-1,i=[];return null!==(n=t.virtualScrollerRef)&&void 0!==n&&n.current?(CY(t).forEach((e=>{const n=e.getAttribute("data-id");if(!n)return;let r=o;const a=t.unstable_getCellColSpanInfo(n,o);a&&a.spannedByColSpan&&(r=a.leftVisibleCellIndex);const s=e.querySelector('[data-colindex="'.concat(r,'"]'));s&&i.push(s)})),i):[]}(i.columnHeaderElement,e.current),i.fillerLeft=yY(e.current,r?"filler--pinnedRight":"filler--pinnedLeft"),i.fillerRight=yY(e.current,r?"filler--pinnedLeft":"filler--pinnedRight");const p=e.current.unstable_applyPipeProcessors("isColumnPinned",!1,i.colDef.field);i.leftPinnedCellsAfter=p!==UL.LEFT?[]:function(e,t,n){const r=_Y(t);return bY({api:e,colIndex:r,position:n?"right":"left",filterFn:e=>n?e<r:e>r})}(e.current,i.columnHeaderElement,r),i.rightPinnedCellsBefore=p!==UL.RIGHT?[]:function(e,t,n){const r=_Y(t);return bY({api:e,colIndex:r,position:n?"left":"right",filterFn:e=>n?e>r:e<r})}(e.current,i.columnHeaderElement,r),i.leftPinnedHeadersAfter=p!==UL.LEFT?[]:function(e,t,n){const r=_Y(t);return wY({api:e,position:n?"right":"left",colIndex:r,filterFn:e=>n?e<r:e>r})}(e.current,i.columnHeaderElement,r),i.rightPinnedHeadersBefore=p!==UL.RIGHT?[]:function(e,t,n){const r=_Y(t);return wY({api:e,position:n?"left":"right",colIndex:r,filterFn:(e,t)=>!t.classList.contains(YM["columnHeader--last"])&&(n?e>r:e<r)})}(e.current,i.columnHeaderElement,r),s.current=function(e,t){const n=e.classList.contains(YM["columnSeparator--sideRight"])?"Right":"Left";return t?function(e){return"Right"===e?"Left":"Right"}(n):n}(n,r),a.current=function(e,t,n){return"Left"===n?e-t.left:t.right-e}(o,i.columnHeaderElement.getBoundingClientRect(),s.current)},p=dF(d),f=dF((t=>{if(0===t.buttons)return void p(t);let n=vX(a.current,t.clientX,i.columnHeaderElement.getBoundingClientRect(),s.current);n=OB(n,i.colDef.minWidth,i.colDef.maxWidth),u(n);const r={element:i.columnHeaderElement,colDef:i.colDef,width:n};e.current.publishEvent("columnResize",r,t)})),m=dF((e=>{gX(e,c.current)&&d(e)})),g=dF((t=>{const n=gX(t,c.current);if(!n)return;if("mousemove"===t.type&&0===t.buttons)return void m(t);let r=vX(a.current,n.x,i.columnHeaderElement.getBoundingClientRect(),s.current);r=OB(r,i.colDef.minWidth,i.colDef.maxWidth),u(r);const o={element:i.columnHeaderElement,colDef:i.colDef,width:r};e.current.publishEvent("columnResize",o,t)})),v=dF((t=>{const n=fY(t.target,YM["columnSeparator--resizable"]);if(!n)return;const r=t.changedTouches[0];null!=r&&(c.current=r.identifier);const i=fY(t.target,YM.columnHeader),a=i.getAttribute("data-field");const s=e.current.getColumn(a);o.debug("Start Resize on col ".concat(s.field)),e.current.publishEvent("columnResizeStart",{field:a},t),h(s,n,r.clientX);const l=xF(t.currentTarget);l.addEventListener("touchmove",g),l.addEventListener("touchend",m)})),y=t.useCallback((()=>{const t=xF(e.current.rootElementRef.current);t.body.style.removeProperty("cursor"),t.removeEventListener("mousemove",f),t.removeEventListener("mouseup",p),t.removeEventListener("touchmove",g),t.removeEventListener("touchend",m),setTimeout((()=>{t.removeEventListener("click",yX,!0)}),100),i.columnHeaderElement&&(i.columnHeaderElement.style.pointerEvents="unset")}),[e,i,f,p,g,m]),b=t.useCallback((t=>{let{field:n}=t;e.current.setState((e=>KP({},e,{columnResize:KP({},e.columnResize,{resizingColumnField:n})}))),e.current.forceUpdate()}),[e]),w=t.useCallback((()=>{e.current.setState((e=>KP({},e,{columnResize:KP({},e.columnResize,{resizingColumnField:""})}))),e.current.forceUpdate()}),[e]),C=dF(((t,n)=>{let{colDef:r}=t;if(0!==n.button)return;if(!n.currentTarget.classList.contains(YM["columnSeparator--resizable"]))return;n.preventDefault(),o.debug("Start Resize on col ".concat(r.field)),e.current.publishEvent("columnResizeStart",{field:r.field},n),h(r,n.currentTarget,n.clientX);const a=xF(e.current.rootElementRef.current);a.body.style.cursor="col-resize",i.previousMouseClickEvent=n.nativeEvent,a.addEventListener("mousemove",f),a.addEventListener("mouseup",p),a.addEventListener("click",yX,!0)})),_=dF(((t,r)=>{if(n.disableAutosize)return;if(0!==r.button)return;const o=e.current.state.columns.lookup[t.field];!1!==o.resizable&&e.current.autosizeColumns(KP({},n.autosizeOptions,{disableColumnVirtualization:!1,columns:[o.field]}))})),x=bX(e),S=t.useRef(!1),k=t.useCallback((async t=>{var r,o;if(!(null===(r=e.current.rootElementRef)||void 0===r?void 0:r.current))return;if(S.current)return;S.current=!0;const i=qL(e.current.state),a=KP({},mX,t,{columns:null!==(o=null===t||void 0===t?void 0:t.columns)&&void 0!==o?o:i.orderedFields});a.columns=a.columns.filter((e=>!1!==i.columnVisibilityModel[e]));const s=a.columns.map((t=>e.current.state.columns.lookup[t]));try{!n.disableVirtualization&&a.disableColumnVirtualization&&(e.current.unstable_setColumnVirtualization(!1),await x());const t=wX(e,a,s),r=s.map((e=>KP({},e,{width:t[e.field],computedWidth:t[e.field],flex:0})));if(a.expand){const n=i.orderedFields.map((e=>i.lookup[e])).filter((e=>!1!==i.columnVisibilityModel[e.field])),o=n.reduce(((e,n)=>{var r,o;return e+(null!==(r=null!==(o=t[n.field])&&void 0!==o?o:n.computedWidth)&&void 0!==r?r:n.width)}),0),a=e.current.getRootDimensions(),s=a.viewportInnerSize.width-o;if(s>0){const e=s/(r.length||1);r.forEach((t=>{t.width+=e,t.computedWidth+=e}))}}e.current.updateColumns(r),r.forEach(((t,n)=>{if(t.width!==s[n].width){const n=t.width;e.current.publishEvent("columnWidthChange",{element:e.current.getColumnHeaderElement(t.field),colDef:t,width:n})}}))}finally{n.disableVirtualization||e.current.unstable_setColumnVirtualization(!0),S.current=!1}}),[e,x,n.disableVirtualization]);t.useEffect((()=>y),[y]),ZM((()=>{n.autosizeOnMount&&Promise.resolve().then((()=>{e.current.autosizeColumns(n.autosizeOptions)}))})),fQ(e,(()=>{var t;return null===(t=e.current.columnHeadersContainerRef)||void 0===t?void 0:t.current}),"touchstart",v,{passive:!0}),MG(e,{autosizeColumns:k},"public"),vF(e,"columnResizeStop",w),vF(e,"columnResizeStart",b),vF(e,"columnSeparatorMouseDown",C),vF(e,"columnSeparatorDoubleClick",_),bF(e,"columnResize",n.onColumnResize),bF(e,"columnWidthChange",n.onColumnWidthChange)};function SX(e,t,n){e&&(e.style[t]="".concat(parseInt(e.style[t],10)+n,"px"))}function kX(e){return 0!==e.firstRowIndex||0!==e.lastRowIndex}const IX=(e,t,n)=>{var r;if(!e)return null;let o=e[t.field];const i=null!==(r=t.rowSpanValueGetter)&&void 0!==r?r:t.valueGetter;return i&&(o=i(o,e,t,n)),o},EX={spannedCells:{},hiddenCells:{},hiddenCellOriginMap:{}},TX={firstRowIndex:0,lastRowIndex:0},RX=new Set([wQ,"__reorder__",ZH]),PX=(e,t,n,r,o,i,a)=>{const s=i?{}:KP({},e.current.state.rowSpanning.spannedCells),l=i?{}:KP({},e.current.state.rowSpanning.hiddenCells),c=i?{}:KP({},e.current.state.rowSpanning.hiddenCellOriginMap);return i&&(a=TX),t.forEach((t=>{if(!RX.has(t.field)){for(let a=o.firstRowIndex;a<o.lastRowIndex;a+=1){var i;const u=n[a];if(null!==(i=l[u.id])&&void 0!==i&&i[t.field])continue;const d=IX(u.model,t,e);if(null==d)continue;let h=u.id,p=a,f=0;const m=[];if(a===o.firstRowIndex){let o=a-1,i=n[o];for(;o>=r.firstRowIndex&&i&&IX(i.model,t,e)===d;){const e=n[o+1];l[e.id]?l[e.id][t.field]=!0:l[e.id]={[t.field]:!0},m.push(a),f+=1,h=i.id,p=o,o-=1,i=n[o]}}m.forEach((e=>{c[e]?c[e][t.field]=p:c[e]={[t.field]:p}}));let g=a+1;for(;g<=r.lastRowIndex&&n[g]&&IX(n[g].model,t,e)===d;){const e=n[g];l[e.id]?l[e.id][t.field]=!0:l[e.id]={[t.field]:!0},c[g]?c[g][t.field]=p:c[g]={[t.field]:p},g+=1,f+=1}f>0&&(s[h]?s[h][t.field]=f+1:s[h]={[t.field]:f+1})}a={firstRowIndex:Math.min(a.firstRowIndex,o.firstRowIndex),lastRowIndex:Math.max(a.lastRowIndex,o.lastRowIndex)}}})),{spannedCells:s,hiddenCells:l,hiddenCellOriginMap:c,processedRange:a}},AX=(e,t)=>{const n=FH(t).length;if(e.pagination){const e=gG(t);let r=20;return e>0&&(r=e-1),{firstRowIndex:0,lastRowIndex:Math.min(r,n)}}return{firstRowIndex:0,lastRowIndex:Math.min(20,n)}},DX=(e,t,n)=>{var r;if(!t.unstable_rowSpanning)return KP({},e,{rowSpanning:EX});const o=e.rows.dataRowIds||[],i=e.columns.orderedFields||[],a=e.rows.dataRowIdToModelLookup,s=e.columns.lookup,l=Boolean(e.filter.filterModel.items.length)||Boolean(null===(r=e.filter.filterModel.quickFilterValues)||void 0===r?void 0:r.length);if(!o.length||!i.length||!a||!s||l)return KP({},e,{rowSpanning:EX});const c=AX(t,n),u=o.map((e=>({id:e,model:a[e]}))),d=i.map((e=>s[e])),{spannedCells:h,hiddenCells:p,hiddenCellOriginMap:f}=PX(n,d,u,c,c,!0,TX);return KP({},e,{rowSpanning:{spannedCells:h,hiddenCells:p,hiddenCellOriginMap:f}})};new Set;const OX=(e,t,n)=>KP({},e,{listViewColumn:t.unstable_listColumn?KP({},t.unstable_listColumn,{computedWidth:NX(n)}):void 0});function NX(e){return dL(e.current.state).viewportInnerSize.width}const MX=(e,n)=>{const r=dQ(e,n);return YY(r,n),(e=>{lY(e,cQ,"rowTreeCreation",HY)})(r),hQ(tX,r,n),hQ(KY,r,n),hQ(LQ,r,n),hQ(EY,r,n),hQ(UY,r,n),hQ(zY,r,n),hQ(pY,r,n),hQ(XY,r,n),hQ(RY,r,n),hQ(cY,r,n),hQ(DX,r,n),hQ(BQ,r,n),hQ(CX,r,n),hQ(iX,r,n),hQ(DQ,r,n),hQ(fX,r,n),hQ(FG,r,n),hQ(OX,r,n),IY(r,n),QY(r,n),function(e,n){var r,o;const i=pQ(e,"useGridColumns"),a=t.useRef(n.columns);e.current.registerControlState({stateId:"visibleColumns",propModel:n.columnVisibilityModel,propOnChange:n.onColumnVisibilityModelChange,stateSelector:QL,changeEvent:"columnVisibilityModelChange"});const s=t.useCallback((t=>{var n,r;i.debug("Updating columns state."),e.current.setState(FQ(t)),e.current.publishEvent("columnsChange",t.orderedFields),null===(n=(r=e.current).updateRenderContext)||void 0===n||n.call(r),e.current.forceUpdate()}),[i,e]),l=t.useCallback((t=>GL(e)[t]),[e]),c=t.useCallback((()=>KL(e)),[e]),u=t.useCallback((()=>YL(e)),[e]),d=t.useCallback((function(t){return(arguments.length>1&&void 0!==arguments[1]&&!arguments[1]?KL(e):YL(e)).findIndex((e=>e.field===t))}),[e]),h=t.useCallback((t=>{const n=d(t);return JL(e)[n]}),[e,d]),p=t.useCallback((t=>{var n,r;QL(e)!==t&&(e.current.setState((n=>KP({},n,{columns:LW({apiRef:e,columnsToUpsert:[],initialState:void 0,columnVisibilityModel:t,keepOnlyColumnsToUpsert:!1})}))),null===(n=(r=e.current).updateRenderContext)||void 0===n||n.call(r),e.current.forceUpdate())}),[e]),f=t.useCallback((t=>{const n=LW({apiRef:e,columnsToUpsert:t,initialState:void 0,keepOnlyColumnsToUpsert:!1});s(n)}),[e,s]),m=t.useCallback(((t,n)=>{var r;const o=QL(e);if(n!==(null===(r=o[t])||void 0===r||r)){const r=KP({},o,{[t]:n});e.current.setColumnVisibilityModel(r)}}),[e]),g=t.useCallback((t=>WL(e).findIndex((e=>e===t))),[e]),v=t.useCallback(((t,n)=>{const r=WL(e),o=g(t);if(o===n)return;i.debug("Moving column ".concat(t," to index ").concat(n));const a=[...r],l=a.splice(o,1)[0];a.splice(n,0,l),s(KP({},qL(e.current.state),{orderedFields:a}));const c={column:e.current.getColumn(t),targetIndex:e.current.getColumnIndexRelativeToVisibleColumns(t),oldIndex:o};e.current.publishEvent("columnIndexChange",c)}),[e,i,s,g]),y=t.useCallback(((t,n)=>{i.debug("Updating column ".concat(t," width to ").concat(n));const r=qL(e.current.state),o=KP({},r.lookup[t],{width:n,hasBeenResized:!0});s(NW(KP({},r,{lookup:KP({},r.lookup,{[t]:o})}),e.current.getRootDimensions())),e.current.publishEvent("columnWidthChange",{element:e.current.getColumnHeaderElement(t),colDef:o,width:n})}),[e,i,s]),b={setColumnIndex:v};MG(e,{getColumn:l,getAllColumns:c,getColumnIndex:d,getColumnPosition:h,getVisibleColumns:u,getColumnIndexRelativeToVisibleColumns:g,updateColumns:f,setColumnVisibilityModel:p,setColumnVisibility:m,setColumnWidth:y},"public"),MG(e,b,n.signature===fF.DataGrid?"private":"public");const w=t.useCallback(((t,r)=>{var o,i;const a={},s=QL(e);(!r.exportOnlyDirtyModels||null!=n.columnVisibilityModel||Object.keys(null!==(o=null===(i=n.initialState)||void 0===i||null===(i=i.columns)||void 0===i?void 0:i.columnVisibilityModel)&&void 0!==o?o:{}).length>0||Object.keys(s).length>0)&&(a.columnVisibilityModel=s),a.orderedFields=WL(e);const l=KL(e),c={};return l.forEach((e=>{if(e.hasBeenResized){const t={};DW.forEach((n=>{let r=e[n];r===1/0&&(r=-1),t[n]=r})),c[e.field]=t}})),Object.keys(c).length>0&&(a.dimensions=c),KP({},t,{columns:a})}),[e,n.columnVisibilityModel,null===(r=n.initialState)||void 0===r?void 0:r.columns]),C=t.useCallback(((t,n)=>{var r;const o=null===(r=n.stateToRestore.columns)||void 0===r?void 0:r.columnVisibilityModel,i=n.stateToRestore.columns;if(null==o&&null==i)return t;const a=LW({apiRef:e,columnsToUpsert:[],initialState:i,columnVisibilityModel:o,keepOnlyColumnsToUpsert:!1});return e.current.setState(FQ(a)),null!=i&&e.current.publishEvent("columnsChange",a.orderedFields),t}),[e]),_=t.useCallback(((e,t)=>{if(t===iF.columns){var r;const e=n.slots.columnsPanel;return(0,UP.jsx)(e,KP({},null===(r=n.slotProps)||void 0===r?void 0:r.columnsPanel))}return e}),[n.slots.columnsPanel,null===(o=n.slotProps)||void 0===o?void 0:o.columnsPanel]),x=t.useCallback((e=>n.disableColumnSelector?e:[...e,"columnMenuColumnsItem"]),[n.disableColumnSelector]);NQ(e,"columnMenu",x),NQ(e,"exportState",w),NQ(e,"restoreState",C),NQ(e,"preferencePanel",_);const S=t.useRef(null);vF(e,"viewportInnerSizeChange",(t=>{if(S.current!==t.width){if(S.current=t.width,!YL(e).some((e=>e.flex&&e.flex>0)))return;s(NW(qL(e.current.state),e.current.getRootDimensions()))}}));const k=t.useCallback((()=>{i.info("Columns pipe processing have changed, regenerating the columns");const t=LW({apiRef:e,columnsToUpsert:[],initialState:void 0,keepOnlyColumnsToUpsert:!1});s(t)}),[e,i,s]);MQ(e,"hydrateColumns",k);const I=t.useRef(!0);t.useEffect((()=>{if(I.current)return void(I.current=!1);if(i.info("GridColumns have changed, new length ".concat(n.columns.length)),a.current===n.columns)return;const t=LW({apiRef:e,initialState:void 0,columnsToUpsert:n.columns,keepOnlyColumnsToUpsert:!0});a.current=n.columns,s(t)}),[i,e,s,n.columns]),t.useEffect((()=>{void 0!==n.columnVisibilityModel&&e.current.setColumnVisibilityModel(n.columnVisibilityModel)}),[e,i,n.columnVisibilityModel])}(r,n),((e,n)=>{const r=pQ(e,"useGridRows"),o=t.useRef(Date.now()),i=t.useRef(n.rowCount),a=CF(),s=t.useCallback((t=>{const n=PH(e)[t];if(n)return n;const r=e.current.getRowNode(t);return r&&GH(r)?{[VH]:t}:null}),[e]),l=n.getRowId,c=t.useCallback((e=>VH in e?e[VH]:l?l(e):e.id),[l]),u=t.useCallback((t=>{let{cache:r,throttle:i}=t;const s=()=>{o.current=Date.now(),e.current.setState((t=>KP({},t,{rows:WH({apiRef:e,rowCountProp:n.rowCount,loadingProp:n.loading,previousTree:DH(e),previousTreeDepths:MH(e),previousGroupsToFetch:OH(e)})}))),e.current.publishEvent("rowsSet"),e.current.forceUpdate()};if(a.clear(),e.current.caches.rows=r,!i)return void s();const l=n.throttleRowsMs-(Date.now()-o.current);l>0?a.start(l,s):s()}),[n.throttleRowsMs,n.rowCount,n.loading,e,a]),d=t.useCallback((t=>{r.debug("Updating all rows, new length ".concat(t.length));const o=HH({rows:t,getRowId:n.getRowId,loading:n.loading,rowCount:n.rowCount}),i=e.current.caches.rows;o.rowsBeforePartialUpdates=i.rowsBeforePartialUpdates,u({cache:o,throttle:!0})}),[r,n.getRowId,n.loading,n.rowCount,u,e]),h=t.useCallback((t=>{if(n.signature===fF.DataGrid&&t.length>1)throw new Error(["MUI X: You cannot update several rows at once in `apiRef.current.updateRows` on the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join("\n"));const r=XH(e,t,n.getRowId),o=QH({updates:r,getRowId:n.getRowId,previousCache:e.current.caches.rows});u({cache:o,throttle:!0})}),[n.signature,n.getRowId,u,e]),p=t.useCallback(((t,r)=>{const o=XH(e,t,n.getRowId),i=QH({updates:o,getRowId:n.getRowId,previousCache:e.current.caches.rows,groupKeys:null!==r&&void 0!==r?r:[]});u({cache:i,throttle:!1})}),[n.getRowId,u,e]),f=t.useCallback((t=>{t!==n.loading&&(r.debug("Setting loading to ".concat(t)),e.current.setState((e=>KP({},e,{rows:KP({},e.rows,{loading:t})}))),e.current.caches.rows.loadingPropBeforePartialUpdates=t)}),[n.loading,e,r]),m=t.useCallback((()=>{const t=FH(e),n=PH(e);return new Map(t.map((e=>{var t;return[e,null!==(t=n[e])&&void 0!==t?t:{}]})))}),[e]),g=t.useCallback((()=>EH(e)),[e]),v=t.useCallback((()=>FH(e)),[e]),y=t.useCallback((t=>{const n=e.current.getRow(t),{rowToIndexMap:r}=_G(e);return r.get(n)}),[e]),b=t.useCallback(((t,n)=>{const r=e.current.getRowNode(t);if(!r)throw new Error("MUI X: No row with id #".concat(t," found."));if("group"!==r.type)throw new Error("MUI X: Only group nodes can be expanded or collapsed.");const o=KP({},r,{childrenExpanded:n});e.current.setState((e=>KP({},e,{rows:KP({},e.rows,{tree:KP({},e.rows.tree,{[t]:o})})}))),e.current.forceUpdate(),e.current.publishEvent("rowExpansionChange",o)}),[e]),w=t.useCallback((t=>{var n;return null!==(n=DH(e)[t])&&void 0!==n?n:null}),[e]),C=t.useCallback((t=>{let{skipAutoGeneratedRows:n=!0,groupId:r,applySorting:o,applyFiltering:i}=t;const a=DH(e);let s;if(o){const t=a[r];if(!t)return[];const o=HW(e);s=[];for(let e=o.findIndex((e=>e===r))+1;e<o.length&&a[o[e]].depth>t.depth;e+=1){const t=o[e];n&&GH(a[t])||s.push(t)}}else s=KH(a,r,n);if(i){const t=XW(e);s=s.filter((e=>!1!==t[e]))}return s}),[e]),_=t.useCallback(((t,n)=>{const o=e.current.getRowNode(t);if(!o)throw new Error("MUI X: No row with id #".concat(t," found."));if(o.parent!==zH)throw new Error("MUI X: The row reordering do not support reordering of grouped rows yet.");if("leaf"!==o.type)throw new Error("MUI X: The row reordering do not support reordering of footer or grouping rows.");e.current.setState((o=>{const i=DH(o,e.current.instanceId)[zH],a=i.children,s=a.findIndex((e=>e===t));if(-1===s||s===n)return o;r.debug("Moving row ".concat(t," to index ").concat(n));const l=[...a];return l.splice(n,0,l.splice(s,1)[0]),KP({},o,{rows:KP({},o.rows,{tree:KP({},o.rows.tree,{[zH]:KP({},i,{children:l})})})})})),e.current.publishEvent("rowsSet")}),[e,r]),x=t.useCallback(((t,r)=>{if(n.signature===fF.DataGrid&&r.length>1)throw new Error(["MUI X: You cannot replace rows using `apiRef.current.unstable_replaceRows` on the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join("\n"));if(0===r.length)return;if(LH(e)>1)throw new Error("`apiRef.current.unstable_replaceRows` is not compatible with tree data and row grouping");const o=KP({},DH(e)),i=KP({},PH(e)),a=KP({},AH(e)),s=o[zH],l=[...s.children],c=new Set;for(let e=0;e<r.length;e+=1){const s=r[e],u=UH(s,n.getRowId,"A row was provided without id when calling replaceRows()."),[d]=l.splice(t+e,1,u);c.has(d)||(delete i[d],delete a[d],delete o[d]);const h={id:u,depth:0,parent:zH,type:"leaf",groupingKey:null};i[u]=s,a[u]=u,o[u]=h,c.add(u)}o[zH]=KP({},s,{children:l});const u=l.filter((e=>{var t;return"leaf"===(null===(t=o[e])||void 0===t?void 0:t.type)}));e.current.caches.rows.dataRowIdToModelLookup=i,e.current.caches.rows.dataRowIdToIdLookup=a,e.current.setState((e=>KP({},e,{rows:KP({},e.rows,{dataRowIdToModelLookup:i,dataRowIdToIdLookup:a,dataRowIds:u,tree:o})}))),e.current.publishEvent("rowsSet")}),[e,n.signature,n.getRowId]),S={getRow:s,setLoading:f,getRowId:c,getRowModels:m,getRowsCount:g,getAllRowIds:v,setRows:d,updateRows:h,getRowNode:w,getRowIndexRelativeToVisibleRows:y,unstable_replaceRows:x},k={setRowIndex:_,setRowChildrenExpansion:b,getRowGroupChildren:C},I={updateServerRows:p},E=t.useCallback((()=>{let t;r.info("Row grouping pre-processing have changed, regenerating the row tree"),t=e.current.caches.rows.rowsBeforePartialUpdates===n.rows?KP({},e.current.caches.rows,{updates:{type:"full",rows:FH(e)}}):HH({rows:n.rows,getRowId:n.getRowId,loading:n.loading,rowCount:n.rowCount}),u({cache:t,throttle:!1})}),[r,e,n.rows,n.getRowId,n.loading,n.rowCount,u]),T=$M((()=>n.unstable_dataSource)),R=t.useCallback((e=>{n.unstable_dataSource&&n.unstable_dataSource!==T.current?T.current=n.unstable_dataSource:"rowTreeCreation"===e&&E()}),[E,T,n.unstable_dataSource]),P=t.useCallback((()=>{e.current.getActiveStrategy("rowTree")!==NH(e)&&E()}),[e,E]);vF(e,"activeStrategyProcessorChange",R),vF(e,"strategyAvailabilityChange",P);const A=t.useCallback((()=>{e.current.setState((t=>{const r=e.current.unstable_applyPipeProcessors("hydrateRows",{tree:DH(t,e.current.instanceId),treeDepths:MH(t,e.current.instanceId),dataRowIds:FH(t,e.current.instanceId),dataRowIdToModelLookup:PH(t,e.current.instanceId),dataRowIdToIdLookup:AH(t,e.current.instanceId)});return KP({},t,{rows:KP({},t.rows,r,{totalTopLevelRowCount:qH({tree:r.tree,rowCountProp:n.rowCount})})})})),e.current.publishEvent("rowsSet"),e.current.forceUpdate()}),[e,n.rowCount]);MQ(e,"hydrateRows",A),MG(e,S,"public"),MG(e,k,n.signature===fF.DataGrid?"private":"public"),MG(e,I,"private");const D=t.useRef(!0);t.useEffect((()=>{var t;if(D.current)return void(D.current=!1);let o=!1;n.rowCount!==i.current&&(o=!0,i.current=n.rowCount);const a=e.current.caches.rows.rowsBeforePartialUpdates===n.rows,s=e.current.caches.rows.loadingPropBeforePartialUpdates===n.loading,l=e.current.caches.rows.rowCountPropBeforePartialUpdates===n.rowCount;a&&(s||(e.current.setState((e=>KP({},e,{rows:KP({},e.rows,{loading:n.loading})}))),e.current.caches.rows.loadingPropBeforePartialUpdates=n.loading,e.current.forceUpdate()),l||(e.current.setState((e=>KP({},e,{rows:KP({},e.rows,{totalRowCount:Math.max(n.rowCount||0,e.rows.totalRowCount),totalTopLevelRowCount:Math.max(n.rowCount||0,e.rows.totalTopLevelRowCount)})}))),e.current.caches.rows.rowCountPropBeforePartialUpdates=n.rowCount,e.current.forceUpdate()),!o)||(r.debug("Updating all rows, new length ".concat(null===(t=n.rows)||void 0===t?void 0:t.length)),u({cache:HH({rows:n.rows,getRowId:n.getRowId,loading:n.loading,rowCount:n.rowCount}),throttle:!1}))}),[n.rows,n.rowCount,n.getRowId,n.loading,r,u,e])})(r,n),((e,n)=>{const r=$M((()=>e.current.state.rowSpanning!==EX?AX(n,e):TX)),o=t.useCallback((function(t){let o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{range:i,rows:a}=_G(e,(n.pagination,n.paginationMode));if(null===i||!kX(t))return;o&&(r.current=TX);const s=function(e,t){return e.firstRowIndex>=t.firstRowIndex&&e.lastRowIndex<=t.lastRowIndex?null:e.firstRowIndex>=t.firstRowIndex&&e.lastRowIndex>t.lastRowIndex?{firstRowIndex:t.lastRowIndex,lastRowIndex:e.lastRowIndex}:e.firstRowIndex<t.firstRowIndex&&e.lastRowIndex<=t.lastRowIndex?{firstRowIndex:e.firstRowIndex,lastRowIndex:t.firstRowIndex-1}:e}({firstRowIndex:t.firstRowIndex,lastRowIndex:Math.min(t.lastRowIndex,i.lastRowIndex+1)},r.current);if(null===s)return;const l=YL(e),{spannedCells:c,hiddenCells:u,hiddenCellOriginMap:d,processedRange:h}=PX(e,l,a,i,s,o,r.current);r.current=h;const p=Object.keys(c).length,f=Object.keys(u).length,m=Object.keys(e.current.state.rowSpanning.spannedCells).length,g=Object.keys(e.current.state.rowSpanning.hiddenCells).length;(o||p!==m||f!==g)&&(0!==p||0!==m)&&e.current.setState((e=>KP({},e,{rowSpanning:{spannedCells:c,hiddenCells:u,hiddenCellOriginMap:d}})))}),[e,r,n.pagination,n.paginationMode]),i=t.useCallback((()=>{const t=OG(e);kX(t)&&o(t,!0)}),[e,o]);vF(e,"renderedRowsIntervalChange",FB(n.unstable_rowSpanning,o)),vF(e,"sortedRowsSet",FB(n.unstable_rowSpanning,i)),vF(e,"paginationModelChange",FB(n.unstable_rowSpanning,i)),vF(e,"filteredRowsSet",FB(n.unstable_rowSpanning,i)),vF(e,"columnsChange",FB(n.unstable_rowSpanning,i)),t.useEffect((()=>{n.unstable_rowSpanning?e.current.state.rowSpanning===EX&&i():e.current.state.rowSpanning!==EX&&e.current.setState((e=>KP({},e,{rowSpanning:EX})))}),[e,i,n.unstable_rowSpanning])})(r,n),WY(r,n),(e=>{const n=t.useRef({}),r=()=>{n.current={}},o=t.useCallback((t=>{let{rowId:r,minFirstColumn:o,maxLastColumn:i,columns:a}=t;for(let s=o;s<i;s+=1){const t=aX({apiRef:e,lookup:n.current,columnIndex:s,rowId:r,minFirstColumnIndex:o,maxLastColumnIndex:i,columns:a});t.colSpan>1&&(s+=t.colSpan-1)}}),[e]),i={resetColSpan:r,calculateColSpan:o};MG(e,{unstable_getCellColSpanInfo:(e,t)=>{var r;return null===(r=n.current[e])||void 0===r?void 0:r[t]}},"public"),MG(e,i,"private"),vF(e,"columnOrderChange",r)})(r),((e,n)=>{const r=t.useCallback((t=>{var n;return null!==(n=TW(e)[t])&&void 0!==n?n:[]}),[e]),o=t.useCallback((()=>RW(e)),[e]);MG(e,{getColumnGroupPath:r,getAllGroupDetails:o},"public");const i=t.useCallback((()=>{var t;const r=uX(null!==(t=n.columnGroupingModel)&&void 0!==t?t:[]);e.current.setState((e=>{var t,n,o;const i=null!==(t=null===(n=e.columns)||void 0===n?void 0:n.orderedFields)&&void 0!==t?t:[],a=null!==(o=e.pinnedColumns)&&void 0!==o?o:{},s=dX(i,r,a);return KP({},e,{columnGrouping:KP({},e.columnGrouping,{headerStructure:s})})}))}),[e,n.columnGroupingModel]),a=t.useCallback((t=>{var n,r,o;const i=null!==(n=null===(r=(o=e.current).getPinnedColumns)||void 0===r?void 0:r.call(o))&&void 0!==n?n:{},a=WL(e),s=XL(e),l=pX(null!==t&&void 0!==t?t:[]),c=uX(null!==t&&void 0!==t?t:[]),u=dX(a,c,i),d=0===s.length?0:Math.max(...s.map((e=>{var t,n;return null!==(t=null===(n=c[e])||void 0===n?void 0:n.length)&&void 0!==t?t:0})));e.current.setState((e=>KP({},e,{columnGrouping:{lookup:l,unwrappedGroupingModel:c,headerStructure:u,maxDepth:d}})))}),[e]);vF(e,"columnIndexChange",i),vF(e,"columnsChange",(()=>{a(n.columnGroupingModel)})),vF(e,"columnVisibilityModelChange",(()=>{a(n.columnGroupingModel)})),t.useEffect((()=>{a(n.columnGroupingModel)}),[a,n.columnGroupingModel])})(r,n),VY(r,n),((e,n)=>{const r=pQ(e,"useGridFocus"),o=t.useRef(null),i=null!==e.current.rootElementRef.current,a=t.useCallback(((t,n)=>{t&&e.current.getRow(t.id)&&e.current.publishEvent("cellFocusOut",e.current.getCellParams(t.id,t.field),n)}),[e]),s=t.useCallback(((t,n)=>{const o=qG(e);(null===o||void 0===o?void 0:o.id)===t&&(null===o||void 0===o?void 0:o.field)===n||(e.current.setState((e=>(r.debug("Focusing on cell with id=".concat(t," and field=").concat(n)),KP({},e,{tabIndex:{cell:{id:t,field:n},columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null},focus:{cell:{id:t,field:n},columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}})))),e.current.forceUpdate(),e.current.getRow(t)&&(o&&a(o,{}),e.current.publishEvent("cellFocusIn",e.current.getCellParams(t,n))))}),[e,r,a]),l=t.useCallback((function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=qG(e);a(o,n),e.current.setState((e=>(r.debug("Focusing on column header with colIndex=".concat(t)),KP({},e,{tabIndex:{columnHeader:{field:t},columnHeaderFilter:null,cell:null,columnGroupHeader:null},focus:{columnHeader:{field:t},columnHeaderFilter:null,cell:null,columnGroupHeader:null}})))),e.current.forceUpdate()}),[e,r,a]),c=t.useCallback((function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=qG(e);a(o,n),e.current.setState((e=>(r.debug("Focusing on column header filter with colIndex=".concat(t)),KP({},e,{tabIndex:{columnHeader:null,columnHeaderFilter:{field:t},cell:null,columnGroupHeader:null},focus:{columnHeader:null,columnHeaderFilter:{field:t},cell:null,columnGroupHeader:null}})))),e.current.forceUpdate()}),[e,r,a]),u=t.useCallback((function(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=qG(e);o&&e.current.publishEvent("cellFocusOut",e.current.getCellParams(o.id,o.field),r),e.current.setState((e=>KP({},e,{tabIndex:{columnGroupHeader:{field:t,depth:n},columnHeader:null,columnHeaderFilter:null,cell:null},focus:{columnGroupHeader:{field:t,depth:n},columnHeader:null,columnHeaderFilter:null,cell:null}}))),e.current.forceUpdate()}),[e]),d=t.useCallback((()=>GG(e)),[e]),h=t.useCallback(((t,r,o)=>{let i=e.current.getColumnIndex(r);const a=YL(e),s=_G(e,(n.pagination,n.paginationMode)),l=BH(e),c=[].concat(l.top||[],s.rows,l.bottom||[]);let u=c.findIndex((e=>e.id===t));"right"===o?i+=1:"left"===o?i-=1:u+=1,i>=a.length?(u+=1,u<c.length&&(i=0)):i<0&&(u-=1,u>=0&&(i=a.length-1)),u=OB(u,0,c.length-1);const d=c[u];if(!d)return;const h=e.current.unstable_getCellColSpanInfo(d.id,i);h&&h.spannedByColSpan&&("left"===o||"below"===o?i=h.leftVisibleCellIndex:"right"===o&&(i=h.rightVisibleCellIndex)),i=OB(i,0,a.length-1);const p=a[i];e.current.setCellFocus(d.id,p.field)}),[e,n.pagination,n.paginationMode]),p=t.useCallback((t=>{let{id:n,field:r}=t;e.current.setCellFocus(n,r)}),[e]),f=t.useCallback(((t,n)=>{"Enter"===n.key||"Tab"===n.key||"Shift"===n.key||EQ(n.key)||e.current.setCellFocus(t.id,t.field)}),[e]),m=t.useCallback(((t,n)=>{let{field:r}=t;n.target===n.currentTarget&&e.current.setColumnHeaderFocus(r,n)}),[e]),g=t.useCallback(((t,n)=>{let{fields:r,depth:o}=t;if(n.target!==n.currentTarget)return;const i=GG(e);null!==i&&i.depth===o&&r.includes(i.field)||e.current.setColumnGroupHeaderFocus(r[0],o,n)}),[e]),v=t.useCallback(((t,n)=>{var o;null!==(o=n.relatedTarget)&&void 0!==o&&null!==(o=o.getAttribute("class"))&&void 0!==o&&o.includes(YM.columnHeader)||(r.debug("Clearing focus"),e.current.setState((e=>KP({},e,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}))))}),[r,e]),y=t.useCallback((e=>{o.current=e}),[]),b=t.useCallback((t=>{const n=o.current;o.current=null;const r=qG(e);if(!e.current.unstable_applyPipeProcessors("canUpdateFocus",!0,{event:t,cell:n}))return;if(!r)return void(n&&e.current.setCellFocus(n.id,n.field));if((null===n||void 0===n?void 0:n.id)===r.id&&(null===n||void 0===n?void 0:n.field)===r.field)return;const i=e.current.getCellElement(r.id,r.field);null!==i&&void 0!==i&&i.contains(t.target)||(n?e.current.setCellFocus(n.id,n.field):(e.current.setState((e=>KP({},e,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}))),e.current.forceUpdate(),a(r,t)))}),[e,a]),w=t.useCallback((t=>{if("view"===t.cellMode)return;const n=qG(e);(null===n||void 0===n?void 0:n.id)===t.id&&(null===n||void 0===n?void 0:n.field)===t.field||e.current.setCellFocus(t.id,t.field)}),[e]),C=t.useCallback((()=>{const t=qG(e);if(t&&!e.current.getRow(t.id)){const o=t.id;let i=null;if("undefined"!==typeof o){var r;const t=e.current.getRowElement(o),a=null!==t&&void 0!==t&&t.dataset.rowindex?Number(null===t||void 0===t?void 0:t.dataset.rowindex):0,s=_G(e,(n.pagination,n.paginationMode)),l=s.rows[OB(a,0,s.rows.length-1)];i=null!==(r=null===l||void 0===l?void 0:l.id)&&void 0!==r?r:null}e.current.setState((e=>KP({},e,{focus:{cell:null===i?null:{id:i,field:t.field},columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}})))}}),[e,n.pagination,n.paginationMode]),_=dF((()=>{const t=qG(e);if(!t)return;const r=_G(e,(n.pagination,n.paginationMode));if(r.rows.find((e=>e.id===t.id)))return;const o=YL(e);e.current.setState((e=>KP({},e,{tabIndex:{cell:{id:r.rows[0].id,field:o[0].field},columnGroupHeader:null,columnHeader:null,columnHeaderFilter:null}})))})),x={moveFocusToRelativeCell:h,setColumnGroupHeaderFocus:u,getColumnGroupHeaderFocus:d};MG(e,{setCellFocus:s,setColumnHeaderFocus:l,setColumnHeaderFilterFocus:c},"public"),MG(e,x,"private"),t.useEffect((()=>{const t=xF(e.current.rootElementRef.current);return t.addEventListener("mouseup",b),()=>{t.removeEventListener("mouseup",b)}}),[e,i,b]),vF(e,"columnHeaderBlur",v),vF(e,"cellDoubleClick",p),vF(e,"cellMouseDown",y),vF(e,"cellKeyDown",f),vF(e,"cellModeChange",w),vF(e,"columnHeaderFocus",m),vF(e,"columnGroupHeaderFocus",g),vF(e,"rowsSet",C),vF(e,"paginationModelChange",_)})(r,n),((e,n)=>{var r;const o=pQ(e,"useGridPreferencesPanel"),i=t.useCallback((()=>{e.current.setState((t=>{if(!t.preferencePanel.open)return t;o.debug("Hiding Preferences Panel");const n=rF(t);return e.current.publishEvent("preferencePanelClose",{openedPanelValue:n.openedPanelValue}),KP({},t,{preferencePanel:{open:!1}})}))}),[e,o]),a=t.useCallback(((t,n,r)=>{o.debug("Opening Preferences Panel"),e.current.setState((e=>KP({},e,{preferencePanel:KP({},e.preferencePanel,{open:!0,openedPanelValue:t,panelId:n,labelId:r})}))),e.current.publishEvent("preferencePanelOpen",{openedPanelValue:t})}),[o,e]);MG(e,{showPreferences:a,hidePreferences:i},"public");const s=t.useCallback(((t,r)=>{var o;const i=rF(e.current.state);return!r.exportOnlyDirtyModels||null!=(null===(o=n.initialState)||void 0===o?void 0:o.preferencePanel)||i.open?KP({},t,{preferencePanel:i}):t}),[e,null===(r=n.initialState)||void 0===r?void 0:r.preferencePanel]),l=t.useCallback(((t,n)=>{const r=n.stateToRestore.preferencePanel;return null!=r&&e.current.setState((e=>KP({},e,{preferencePanel:r}))),t}),[e]);NQ(e,"exportState",s),NQ(e,"restoreState",l)})(r,n),((e,n)=>{var r,o;const i=pQ(e,"useGridFilter");e.current.registerControlState({stateId:"filter",propModel:n.filterModel,propOnChange:n.onFilterModelChange,stateSelector:QW,changeEvent:"filterModelChange"});const a=t.useCallback((()=>{e.current.setState((t=>{const n=QW(t,e.current.instanceId),r=e.current.getFilterState(n),o=KP({},t,{filter:KP({},t.filter,r)});return KP({},o,{visibleRowsLookup:dY(e,o)})})),e.current.publishEvent("filteredRowsSet")}),[e]),s=t.useCallback(((e,t)=>null==t||!1===t.filterable||n.disableColumnFilter?e:[...e,"columnMenuFilterItem"]),[n.disableColumnFilter]),l=t.useCallback((()=>{a(),e.current.forceUpdate()}),[e,a]),c=t.useCallback((t=>{const n=QW(e),r=[...n.items],o=r.findIndex((e=>e.id===t.id));-1===o?r.push(t):r[o]=t,e.current.setFilterModel(KP({},n,{items:r}),"upsertFilterItem")}),[e]),u=t.useCallback((t=>{const n=QW(e),r=[...n.items];t.forEach((e=>{const t=r.findIndex((t=>t.id===e.id));-1===t?r.push(e):r[t]=e})),e.current.setFilterModel(KP({},n,{items:r}),"upsertFilterItems")}),[e]),d=t.useCallback((t=>{const n=QW(e),r=n.items.filter((e=>e.id!==t.id));r.length!==n.items.length&&e.current.setFilterModel(KP({},n,{items:r}),"deleteFilterItem")}),[e]),h=t.useCallback(((t,r,o)=>{if(i.debug("Displaying filter panel"),t){const r=QW(e),o=r.items.filter((t=>{var n;if(void 0!==t.value)return!Array.isArray(t.value)||0!==t.value.length;const r=null===(n=e.current.getColumn(t.field).filterOperators)||void 0===n?void 0:n.find((e=>e.value===t.operator));return!("undefined"===typeof(null===r||void 0===r?void 0:r.requiresFilterValue)||(null===r||void 0===r?void 0:r.requiresFilterValue))}));let i;const a=o.find((e=>e.field===t)),s=e.current.getColumn(t);i=a?o:n.disableMultipleColumnsFiltering?[$U({field:t,operator:s.filterOperators[0].value},e)]:[...o,$U({field:t,operator:s.filterOperators[0].value},e)],e.current.setFilterModel(KP({},r,{items:i}))}e.current.showPreferences(iF.filters,r,o)}),[e,i,n.disableMultipleColumnsFiltering]),p=t.useCallback((()=>{i.debug("Hiding filter panel"),e.current.hidePreferences()}),[e,i]),f=t.useCallback((t=>{const n=QW(e);n.logicOperator!==t&&e.current.setFilterModel(KP({},n,{logicOperator:t}),"changeLogicOperator")}),[e]),m=t.useCallback((t=>{const n=QW(e);MB(n.quickFilterValues,t)||e.current.setFilterModel(KP({},n,{quickFilterValues:[...t]}))}),[e]),g=t.useCallback(((t,r)=>{QW(e)!==t&&(i.debug("Setting filter model"),e.current.updateControlState("filter",ZU(t,n.disableMultipleColumnsFiltering,e),r),e.current.unstable_applyFilters())}),[e,i,n.disableMultipleColumnsFiltering]),v=t.useCallback((t=>{const r=JU(t,n.disableMultipleColumnsFiltering,e),o="client"===n.filterMode?iH(r,e,n.disableEval):null;return KP({},e.current.applyStrategyProcessor("filtering",{isRowMatchingFilters:o,filterModel:null!==r&&void 0!==r?r:QU()}),{filterModel:r})}),[n.disableMultipleColumnsFiltering,n.filterMode,n.disableEval,e]),y={setFilterLogicOperator:f,unstable_applyFilters:l,deleteFilterItem:d,upsertFilterItem:c,upsertFilterItems:u,setFilterModel:g,showFilterPanel:h,hideFilterPanel:p,setQuickFilterValues:m,ignoreDiacritics:n.ignoreDiacritics,getFilterState:v};MG(e,y,"public");const b=t.useCallback(((t,r)=>{var o;const i=QW(e);return r.exportOnlyDirtyModels&&null==n.filterModel&&null==(null===(o=n.initialState)||void 0===o||null===(o=o.filter)||void 0===o?void 0:o.filterModel)&&MB(i,QU())?t:KP({},t,{filter:{filterModel:i}})}),[e,n.filterModel,null===(r=n.initialState)||void 0===r||null===(r=r.filter)||void 0===r?void 0:r.filterModel]),w=t.useCallback(((t,r)=>{var o;const i=null===(o=r.stateToRestore.filter)||void 0===o?void 0:o.filterModel;return null==i?t:(e.current.updateControlState("filter",ZU(i,n.disableMultipleColumnsFiltering,e),"restoreState"),KP({},t,{callbacks:[...t.callbacks,e.current.unstable_applyFilters]}))}),[e,n.disableMultipleColumnsFiltering]),C=t.useCallback(((e,t)=>{if(t===iF.filters){var r;const e=n.slots.filterPanel;return(0,UP.jsx)(e,KP({},null===(r=n.slotProps)||void 0===r?void 0:r.filterPanel))}return e}),[n.slots.filterPanel,null===(o=n.slotProps)||void 0===o?void 0:o.filterPanel]),{getRowId:_}=n,x=$M(hY),S=t.useCallback((t=>{if("client"!==n.filterMode||!t.isRowMatchingFilters)return{filteredRowsLookup:{},filteredChildrenCountLookup:{},filteredDescendantCountLookup:{}};const r=PH(e),o={},{isRowMatchingFilters:i}=t,a={},s={passingFilterItems:null,passingQuickFilterValues:null},l=x.current(e.current.state.rows.dataRowIdToModelLookup);for(let n=0;n<l.length;n+=1){const r=l[n],c=_?_(r):r.id;i(r,void 0,s);const u=sH([s.passingFilterItems],[s.passingQuickFilterValues],t.filterModel,e,a);o[c]=u}const c="auto-generated-group-footer-root";return r[c]&&(o[c]=!0),{filteredRowsLookup:o,filteredChildrenCountLookup:{},filteredDescendantCountLookup:{}}}),[e,n.filterMode,_,x]);NQ(e,"columnMenu",s),NQ(e,"exportState",b),NQ(e,"restoreState",w),NQ(e,"preferencePanel",C),lY(e,cQ,"filtering",S),lY(e,cQ,"visibleRowsLookupCreation",uY);const k=t.useCallback((()=>{i.debug("onColUpdated - GridColumns changed, applying filters");const t=QW(e),n=GL(e),r=t.items.filter((e=>e.field&&n[e.field]));r.length<t.items.length&&e.current.setFilterModel(KP({},t,{items:r}))}),[e,i]),I=t.useCallback((t=>{"filtering"===t&&e.current.unstable_applyFilters()}),[e]),E=t.useCallback((()=>{e.current.setState((t=>KP({},t,{visibleRowsLookup:dY(e,t)}))),e.current.forceUpdate()}),[e]);vF(e,"rowsSet",a),vF(e,"columnsChange",k),vF(e,"activeStrategyProcessorChange",I),vF(e,"rowExpansionChange",E),vF(e,"columnVisibilityModelChange",(()=>{const t=QW(e);t.quickFilterValues&&oH(t)&&e.current.unstable_applyFilters()})),OQ((()=>{e.current.unstable_applyFilters()})),iA((()=>{void 0!==n.filterModel&&e.current.setFilterModel(n.filterModel)}),[e,i,n.filterModel])})(r,n),((e,n)=>{var r;const o=pQ(e,"useGridSorting");e.current.registerControlState({stateId:"sortModel",propModel:n.sortModel,propOnChange:n.onSortModelChange,stateSelector:WW,changeEvent:"sortModelChange"});const i=t.useCallback(((t,n)=>{const r=WW(e),o=r.findIndex((e=>e.field===t));let i=[...r];return o>-1?null==(null===n||void 0===n?void 0:n.sort)?i.splice(o,1):i.splice(o,1,n):i=[...r,n],i}),[e]),a=t.useCallback(((t,r)=>{var o;const i=WW(e).find((e=>e.field===t.field));if(i){var a;const e=void 0===r?bB(null!==(a=t.sortingOrder)&&void 0!==a?a:n.sortingOrder,i.sort):r;return void 0===e?void 0:KP({},i,{sort:e})}return{field:t.field,sort:void 0===r?bB(null!==(o=t.sortingOrder)&&void 0!==o?o:n.sortingOrder):r}}),[e,n.sortingOrder]),s=t.useCallback(((e,t)=>null==t||!1===t.sortable||n.disableColumnSorting?e:(t.sortingOrder||n.sortingOrder).some((e=>!!e))?[...e,"columnMenuSortItem"]:e),[n.sortingOrder,n.disableColumnSorting]),l=t.useCallback((()=>{e.current.setState((t=>{if("server"===n.sortingMode)return o.debug("Skipping sorting rows as sortingMode = server"),KP({},t,{sorting:KP({},t.sorting,{sortedRows:KH(DH(e),zH,!1)})});const r=((e,t)=>{const n=e.map((e=>((e,t)=>{const n=t.current.getColumn(e.field);if(!n||null===e.sort)return null;let r;return r=n.getSortComparator?n.getSortComparator(e.sort):"desc"===e.sort?function(){return-1*n.sortComparator(...arguments)}:n.sortComparator,r?{getSortCellParams:e=>({id:e,field:n.field,rowNode:t.current.getRowNode(e),value:t.current.getCellValue(e,n.field),api:t.current}),comparator:r}:null})(e,t))).filter((e=>!!e));return 0===n.length?null:e=>e.map((e=>({node:e,params:n.map((t=>t.getSortCellParams(e.id)))}))).sort(((e,t)=>{return r=e,o=t,n.reduce(((e,t,n)=>{if(0!==e)return e;const i=r.params[n],a=o.params[n];return t.comparator(i.value,a.value,i,a)}),0);var r,o})).map((e=>e.node.id))})(WW(t,e.current.instanceId),e),i=e.current.applyStrategyProcessor("sorting",{sortRowList:r});return KP({},t,{sorting:KP({},t.sorting,{sortedRows:i})})})),e.current.publishEvent("sortedRowsSet"),e.current.forceUpdate()}),[e,o,n.sortingMode]),c=t.useCallback((t=>{WW(e)!==t&&(o.debug("Setting sort model"),e.current.setState(yB(t,n.disableMultipleColumnsSorting)),e.current.forceUpdate(),e.current.applySorting())}),[e,o,n.disableMultipleColumnsSorting]),u=t.useCallback(((t,r,o)=>{const s=e.current.getColumn(t),l=a(s,r);let c;c=!o||n.disableMultipleColumnsSorting?null==(null===l||void 0===l?void 0:l.sort)?[]:[l]:i(s.field,l),e.current.setSortModel(c)}),[e,i,a,n.disableMultipleColumnsSorting]),d=t.useCallback((()=>WW(e)),[e]),h=t.useCallback((()=>qW(e).map((e=>e.model))),[e]),p=t.useCallback((()=>HW(e)),[e]),f=t.useCallback((t=>e.current.getSortedRowIds()[t]),[e]);MG(e,{getSortModel:d,getSortedRows:h,getSortedRowIds:p,getRowIdFromRowIndex:f,setSortModel:c,sortColumn:u,applySorting:l},"public");const m=t.useCallback(((t,r)=>{var o;const i=WW(e);return!r.exportOnlyDirtyModels||null!=n.sortModel||null!=(null===(o=n.initialState)||void 0===o||null===(o=o.sorting)||void 0===o?void 0:o.sortModel)||i.length>0?KP({},t,{sorting:{sortModel:i}}):t}),[e,n.sortModel,null===(r=n.initialState)||void 0===r||null===(r=r.sorting)||void 0===r?void 0:r.sortModel]),g=t.useCallback(((t,r)=>{var o;const i=null===(o=r.stateToRestore.sorting)||void 0===o?void 0:o.sortModel;return null==i?t:(e.current.setState(yB(i,n.disableMultipleColumnsSorting)),KP({},t,{callbacks:[...t.callbacks,e.current.applySorting]}))}),[e,n.disableMultipleColumnsSorting]),v=t.useCallback((t=>{const n=DH(e),r=n[zH],o=t.sortRowList?t.sortRowList(r.children.map((e=>n[e]))):[...r.children];return null!=r.footerId&&o.push(r.footerId),o}),[e]);NQ(e,"exportState",m),NQ(e,"restoreState",g),lY(e,cQ,"sorting",v);const y=t.useCallback(((e,t)=>{let{field:r,colDef:o}=e;if(!o.sortable||n.disableColumnSorting)return;const i=t.shiftKey||t.metaKey||t.ctrlKey;u(r,void 0,i)}),[u,n.disableColumnSorting]),b=t.useCallback(((e,t)=>{let{field:r,colDef:o}=e;o.sortable&&!n.disableColumnSorting&&("Enter"!==t.key||t.ctrlKey||t.metaKey||u(r,void 0,t.shiftKey))}),[u,n.disableColumnSorting]),w=t.useCallback((()=>{const t=WW(e),n=GL(e);if(t.length>0){const r=t.filter((e=>n[e.field]));r.length<t.length&&e.current.setSortModel(r)}}),[e]),C=t.useCallback((t=>{"sorting"===t&&e.current.applySorting()}),[e]);NQ(e,"columnMenu",s),vF(e,"columnHeaderClick",y),vF(e,"columnHeaderKeyDown",b),vF(e,"rowsSet",e.current.applySorting),vF(e,"columnsChange",w),vF(e,"activeStrategyProcessorChange",C),OQ((()=>{e.current.applySorting()})),iA((()=>{void 0!==n.sortModel&&e.current.setSortModel(n.sortModel)}),[e,n.sortModel])})(r,n),((e,n)=>{var r;const o=pQ(e,"useDensity");e.current.registerControlState({stateId:"density",propModel:n.density,propOnChange:n.onDensityChange,stateSelector:zL,changeEvent:"densityChange"});const i=dF((t=>{zL(e.current.state)!==t&&(o.debug("Set grid density to ".concat(t)),e.current.setState((e=>KP({},e,{density:t}))))}));MG(e,{setDensity:i},"public");const a=t.useCallback(((t,r)=>{var o;const i=zL(e.current.state);return r.exportOnlyDirtyModels&&null==n.density&&null==(null===(o=n.initialState)||void 0===o?void 0:o.density)?t:KP({},t,{density:i})}),[e,n.density,null===(r=n.initialState)||void 0===r?void 0:r.density]),s=t.useCallback(((t,n)=>{var r;const o=null!==(r=n.stateToRestore)&&void 0!==r&&r.density?n.stateToRestore.density:zL(e.current.state);return e.current.setState((e=>KP({},e,{density:o}))),t}),[e]);NQ(e,"exportState",a),NQ(e,"restoreState",s),t.useEffect((()=>{n.density&&e.current.setDensity(n.density)}),[e,n.density])})(r,n),xX(r,n),TY(r,n),((e,n)=>{const{getRowHeight:r,getRowSpacing:o,getEstimatedRowHeight:i}=n,a=e.current.caches.rowsMeta.heights,s=t.useRef(-1),l=t.useRef(!1),c=t.useRef(!1),u=sL(e,VL),d=sL(e,QW),h=sL(e,uG),p=sL(e,WW),f=xG(e),m=sL(e,BH),g=sL(e,(()=>dL(e.current.state).rowHeight)),v=t.useCallback((t=>{const n=dL(e.current.state).rowHeight,a=e.current.getRowHeightEntry(t.id);if(r){const e=r(KP({},t,{densityFactor:u}));if("auto"===e){if(a.needsFirstMeasurement){const e=i?i(KP({},t,{densityFactor:u})):n;a.content=null!==e&&void 0!==e?e:n}l.current=!0,a.autoHeight=!0}else a.content=$H(e,n),a.needsFirstMeasurement=!1,a.autoHeight=!1}else a.content=n,a.needsFirstMeasurement=!1;if(o){var s,c;const n=e.current.getRowIndexRelativeToVisibleRows(t.id),r=o(KP({},t,{isFirstVisible:0===n,isLastVisible:n===f.rows.length-1,indexRelativeToCurrentPage:n}));a.spacingTop=null!==(s=r.top)&&void 0!==s?s:0,a.spacingBottom=null!==(c=r.bottom)&&void 0!==c?c:0}else a.spacingTop=0,a.spacingBottom=0;return e.current.unstable_applyPipeProcessors("rowHeight",a,t),a}),[e,f.rows,r,i,g,o,u]),y=t.useCallback((()=>{l.current=!1,m.top.forEach(v),m.bottom.forEach(v);const t=[],n=f.rows.reduce(((e,n)=>{t.push(e);const r=v(n);return e+(r.content+r.spacingTop+r.spacingBottom+r.detail)}),0);l.current||(s.current=1/0),e.current.setState((e=>KP({},e,{rowsMeta:{currentPageTotalHeight:n,positions:t}}))),c.current=!0}),[e,m,f.rows,v]),b=$M((()=>new oX((t=>{for(let n=0;n<t.length;n+=1){const r=t[n],o=r.borderBoxSize&&r.borderBoxSize.length>0?r.borderBoxSize[0].blockSize:r.contentRect.height,i=r.target.__mui_id;e.current.unstable_storeRowHeightMeasurement(i,o)}c.current||e.current.requestPipeProcessorsApplication("rowHeight")})))).current;MQ(e,"rowHeight",y),iA((()=>{y()}),[d,h,p,y]);const w={unstable_getRowHeight:e=>{var t,n;return null!==(t=null===(n=a.get(e))||void 0===n?void 0:n.content)&&void 0!==t?t:g},unstable_setLastMeasuredRowIndex:e=>{l.current&&e>s.current&&(s.current=e)},unstable_storeRowHeightMeasurement:(t,n)=>{const r=e.current.getRowHeightEntry(t),o=r.content!==n;r.needsFirstMeasurement=!1,r.content=n,c.current&&(c.current=!o)},resetRowHeights:()=>{a.clear(),y()}},C={hydrateRowsMeta:y,observeRowHeight:(e,t)=>(e.__mui_id=t,b.observe(e),()=>b.unobserve(e)),rowHasAutoHeight:e=>{var t,n;return null!==(t=null===(n=a.get(e))||void 0===n?void 0:n.autoHeight)&&void 0!==t&&t},getRowHeightEntry:e=>{let t=a.get(e);return void 0===t&&(t={content:g,spacingTop:0,spacingBottom:0,detail:0,autoHeight:!1,needsFirstMeasurement:!0},a.set(e,t)),t},getLastMeasuredRowIndex:()=>s.current};MG(e,w,"public"),MG(e,C,"private")})(r,n),((e,n)=>{const r=QB(),o=pQ(e,"useGridScroll"),i=e.current.columnHeadersContainerRef,a=e.current.virtualScrollerRef,s=sL(e,$W),l=t.useCallback((t=>{const r=dL(e.current.state),i=EH(e),l=n.unstable_listView?[UG(e.current.state)]:YL(e);if(null!=t.rowIndex&&0===i||0===l.length)return!1;o.debug("Scrolling to cell at row ".concat(t.rowIndex,", col: ").concat(t.colIndex," "));let c={};if(void 0!==t.colIndex){const n=JL(e);let o;if("undefined"!==typeof t.rowIndex){var u;const n=null===(u=s[t.rowIndex])||void 0===u?void 0:u.id,r=e.current.unstable_getCellColSpanInfo(n,t.colIndex);r&&!r.spannedByColSpan&&(o=r.cellProps.width)}"undefined"===typeof o&&(o=l[t.colIndex].computedWidth),c.left=$Y({containerSize:r.viewportOuterSize.width,scrollPosition:Math.abs(a.current.scrollLeft),elementSize:o,elementOffset:n[t.colIndex]})}if(void 0!==t.rowIndex){const o=RG(e.current.state),i=mG(e),s=gG(e),l=n.pagination?t.rowIndex-i*s:t.rowIndex,u=o.positions[l+1]?o.positions[l+1]-o.positions[l]:o.currentPageTotalHeight-o.positions[l];c.top=$Y({containerSize:r.viewportInnerSize.height,scrollPosition:a.current.scrollTop,elementSize:u,elementOffset:o.positions[l]})}return c=e.current.unstable_applyPipeProcessors("scrollToIndexes",c,t),(void 0!==typeof c.left||void 0!==typeof c.top)&&(e.current.scroll(c),!0)}),[o,e,a,n.pagination,s,n.unstable_listView]),c=t.useCallback((e=>{if(a.current&&void 0!==e.left&&i.current){const t=r?-1:1;i.current.scrollLeft=e.left,a.current.scrollLeft=t*e.left,o.debug("Scrolling left: ".concat(e.left))}a.current&&void 0!==e.top&&(a.current.scrollTop=e.top,o.debug("Scrolling top: ".concat(e.top))),o.debug("Scrolling, updating container, and viewport")}),[a,r,i,o]),u=t.useCallback((()=>null!==a&&void 0!==a&&a.current?{top:a.current.scrollTop,left:a.current.scrollLeft}:{top:0,left:0}),[a]);MG(e,{scroll:c,scrollToIndexes:l,getScrollPosition:u},"public")})(r,n),(e=>{const n=pQ(e,"useGridColumnMenu"),r=t.useCallback((t=>{const r=gK(e.current.state),o=t;(!0!==r.open||o!==r.field)&&(e.current.setState((e=>e.columnMenu.open&&e.columnMenu.field===t?e:(n.debug("Opening Column Menu"),KP({},e,{columnMenu:{open:!0,field:t}})))),e.current.hidePreferences())}),[e,n]),o=t.useCallback((()=>{const t=gK(e.current.state);if(t.field){const n=GL(e),r=QL(e),o=WL(e);let i=t.field;if(n[i]||(i=o[0]),!1===r[i]){const e=o.filter((e=>e===i||!1!==r[e])),t=e.indexOf(i);i=e[t+1]||e[t-1]}e.current.setColumnHeaderFocus(i)}const r={open:!1,field:void 0};(r.open!==t.open||r.field!==t.field)&&e.current.setState((e=>(n.debug("Hiding Column Menu"),KP({},e,{columnMenu:r}))))}),[e,n]),i=t.useCallback((t=>{n.debug("Toggle Column Menu");const i=gK(e.current.state);i.open&&i.field===t?o():r(t)}),[e,n,r,o]);MG(e,{showColumnMenu:r,hideColumnMenu:o,toggleColumnMenu:i},"public"),vF(e,"columnResizeStart",o),vF(e,"virtualScrollerWheel",e.current.hideColumnMenu),vF(e,"virtualScrollerTouchMove",e.current.hideColumnMenu)})(r),iY(r,n),sY(r,n),AQ(r,n),nX(r,n),function(e,t){bF(e,"columnHeaderClick",t.onColumnHeaderClick),bF(e,"columnHeaderContextMenu",t.onColumnHeaderContextMenu),bF(e,"columnHeaderDoubleClick",t.onColumnHeaderDoubleClick),bF(e,"columnHeaderOver",t.onColumnHeaderOver),bF(e,"columnHeaderOut",t.onColumnHeaderOut),bF(e,"columnHeaderEnter",t.onColumnHeaderEnter),bF(e,"columnHeaderLeave",t.onColumnHeaderLeave),bF(e,"cellClick",t.onCellClick),bF(e,"cellDoubleClick",t.onCellDoubleClick),bF(e,"cellKeyDown",t.onCellKeyDown),bF(e,"preferencePanelClose",t.onPreferencePanelClose),bF(e,"preferencePanelOpen",t.onPreferencePanelOpen),bF(e,"menuOpen",t.onMenuOpen),bF(e,"menuClose",t.onMenuClose),bF(e,"rowDoubleClick",t.onRowDoubleClick),bF(e,"rowClick",t.onRowClick),bF(e,"stateChange",t.onStateChange)}(r,n),(e=>{const n=t.useCallback((function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.current.unstable_applyPipeProcessors("exportState",{},t)}),[e]),r=t.useCallback((t=>{e.current.unstable_applyPipeProcessors("restoreState",{callbacks:[]},{stateToRestore:t}).callbacks.forEach((e=>{e()})),e.current.forceUpdate()}),[e]);MG(e,{exportState:n,restoreState:r},"public")})(r),function(e,n){const r=t=>{e.current.setState((e=>KP({},e,{virtualization:KP({},e.virtualization,{enabled:t,enabledForColumns:t,enabledForRows:t&&!n.autoHeight})})))},o={unstable_setVirtualization:r,unstable_setColumnVirtualization:t=>{e.current.setState((e=>KP({},e,{virtualization:KP({},e.virtualization,{enabledForColumns:t})})))}};MG(e,o,"public"),t.useEffect((()=>{r(!n.disableVirtualization)}),[n.disableVirtualization,n.autoHeight])}(r,n),function(e,n){const r=()=>{e.current.setState((t=>t.listViewColumn?KP({},t,{listViewColumn:KP({},t.listViewColumn,{computedWidth:NX(e)})}):t))},o=t.useRef(null);vF(e,"viewportInnerSizeChange",(e=>{o.current!==e.width&&(o.current=e.width,r())})),vF(e,"columnVisibilityModelChange",r),iA((()=>{const t=n.unstable_listColumn;t&&e.current.setState((n=>KP({},n,{listViewColumn:KP({},t,{computedWidth:NX(e)})})))}),[e,n.unstable_listColumn]),t.useEffect((()=>{n.unstable_listView&&n.unstable_listColumn}),[n.unstable_listView,n.unstable_listColumn])}(r,n),r};function LX(e){let{props:t,name:n,defaultTheme:r,themeId:o}=e,i=qF(r);return o&&(i=i[o]||i),function(e){const{theme:t,name:n,props:r}=e;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?_F(t.components[n].defaultProps,r):r}({theme:i,name:n,props:t})}const FX={noRowsLabel:"No rows",noResultsOverlayLabel:"No results found.",toolbarDensity:"Density",toolbarDensityLabel:"Density",toolbarDensityCompact:"Compact",toolbarDensityStandard:"Standard",toolbarDensityComfortable:"Comfortable",toolbarColumns:"Columns",toolbarColumnsLabel:"Select columns",toolbarFilters:"Filters",toolbarFiltersLabel:"Show filters",toolbarFiltersTooltipHide:"Hide filters",toolbarFiltersTooltipShow:"Show filters",toolbarFiltersTooltipActive:e=>"".concat(e,1!==e?" active filters":" active filter"),toolbarQuickFilterPlaceholder:"Search\u2026",toolbarQuickFilterLabel:"Search",toolbarQuickFilterDeleteIconLabel:"Clear",toolbarExport:"Export",toolbarExportLabel:"Export",toolbarExportCSV:"Download as CSV",toolbarExportPrint:"Print",toolbarExportExcel:"Download as Excel",columnsManagementSearchTitle:"Search",columnsManagementNoColumns:"No columns",columnsManagementShowHideAllText:"Show/Hide All",columnsManagementReset:"Reset",columnsManagementDeleteIconLabel:"Clear",filterPanelAddFilter:"Add filter",filterPanelRemoveAll:"Remove all",filterPanelDeleteIconLabel:"Delete",filterPanelLogicOperator:"Logic operator",filterPanelOperator:"Operator",filterPanelOperatorAnd:"And",filterPanelOperatorOr:"Or",filterPanelColumns:"Columns",filterPanelInputLabel:"Value",filterPanelInputPlaceholder:"Filter value",filterOperatorContains:"contains",filterOperatorDoesNotContain:"does not contain",filterOperatorEquals:"equals",filterOperatorDoesNotEqual:"does not equal",filterOperatorStartsWith:"starts with",filterOperatorEndsWith:"ends with",filterOperatorIs:"is",filterOperatorNot:"is not",filterOperatorAfter:"is after",filterOperatorOnOrAfter:"is on or after",filterOperatorBefore:"is before",filterOperatorOnOrBefore:"is on or before",filterOperatorIsEmpty:"is empty",filterOperatorIsNotEmpty:"is not empty",filterOperatorIsAnyOf:"is any of","filterOperator=":"=","filterOperator!=":"!=","filterOperator>":">","filterOperator>=":">=","filterOperator<":"<","filterOperator<=":"<=",headerFilterOperatorContains:"Contains",headerFilterOperatorDoesNotContain:"Does not contain",headerFilterOperatorEquals:"Equals",headerFilterOperatorDoesNotEqual:"Does not equal",headerFilterOperatorStartsWith:"Starts with",headerFilterOperatorEndsWith:"Ends with",headerFilterOperatorIs:"Is",headerFilterOperatorNot:"Is not",headerFilterOperatorAfter:"Is after",headerFilterOperatorOnOrAfter:"Is on or after",headerFilterOperatorBefore:"Is before",headerFilterOperatorOnOrBefore:"Is on or before",headerFilterOperatorIsEmpty:"Is empty",headerFilterOperatorIsNotEmpty:"Is not empty",headerFilterOperatorIsAnyOf:"Is any of","headerFilterOperator=":"Equals","headerFilterOperator!=":"Not equals","headerFilterOperator>":"Greater than","headerFilterOperator>=":"Greater than or equal to","headerFilterOperator<":"Less than","headerFilterOperator<=":"Less than or equal to",filterValueAny:"any",filterValueTrue:"true",filterValueFalse:"false",columnMenuLabel:"Menu",columnMenuShowColumns:"Show columns",columnMenuManageColumns:"Manage columns",columnMenuFilter:"Filter",columnMenuHideColumn:"Hide column",columnMenuUnsort:"Unsort",columnMenuSortAsc:"Sort by ASC",columnMenuSortDesc:"Sort by DESC",columnHeaderFiltersTooltipActive:e=>"".concat(e,1!==e?" active filters":" active filter"),columnHeaderFiltersLabel:"Show filters",columnHeaderSortIconLabel:"Sort",footerRowSelected:e=>"".concat(e.toLocaleString(),1!==e?" rows selected":" row selected"),footerTotalRows:"Total Rows:",footerTotalVisibleRows:(e,t)=>"".concat(e.toLocaleString()," of ").concat(t.toLocaleString()),checkboxSelectionHeaderName:"Checkbox selection",checkboxSelectionSelectAllRows:"Select all rows",checkboxSelectionUnselectAllRows:"Unselect all rows",checkboxSelectionSelectRow:"Select row",checkboxSelectionUnselectRow:"Unselect row",booleanCellTrueLabel:"yes",booleanCellFalseLabel:"no",actionsCellMore:"more",pinToLeft:"Pin to left",pinToRight:"Pin to right",unpin:"Unpin",treeDataGroupingHeaderName:"Group",treeDataExpand:"see children",treeDataCollapse:"hide children",groupingColumnHeaderName:"Group",groupColumn:e=>"Group by ".concat(e),unGroupColumn:e=>"Stop grouping by ".concat(e),detailPanelToggle:"Detail panel toggle",expandDetailPanel:"Expand",collapseDetailPanel:"Collapse",MuiTablePagination:{},rowReorderingHeaderName:"Row reordering",aggregationMenuItemHeader:"Aggregation",aggregationFunctionLabelSum:"sum",aggregationFunctionLabelAvg:"avg",aggregationFunctionLabelMin:"min",aggregationFunctionLabelMax:"max",aggregationFunctionLabelSize:"size"};function BX(e){return String(e).match(/[\d.\-+]*\s*(.*)/)[1]||""}function jX(e){return parseFloat(e)}function zX(e){return GM("MuiSkeleton",e)}KM("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const VX=["animation","className","component","height","style","variant","width"];var UX,HX,qX,WX;const GX=zF(UX||(UX=Xz(["\n  0% {\n    opacity: 1;\n  }\n\n  50% {\n    opacity: 0.4;\n  }\n\n  100% {\n    opacity: 1;\n  }\n"]))),KX=zF(HX||(HX=Xz(["\n  0% {\n    transform: translateX(-100%);\n  }\n\n  50% {\n    /* +0.5s of delay between each loop */\n    transform: translateX(100%);\n  }\n\n  100% {\n    transform: translateX(100%);\n  }\n"]))),QX="string"!==typeof GX?jF(qX||(qX=Xz(["\n        animation: "," 2s ease-in-out 0.5s infinite;\n      "])),GX):null,YX="string"!==typeof KX?jF(WX||(WX=Xz(["\n        &::after {\n          animation: "," 2s linear 0.5s infinite;\n        }\n      "])),KX):null,XX=UM("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!1!==n.animation&&t[n.animation],n.hasChildren&&t.withChildren,n.hasChildren&&!n.width&&t.fitContent,n.hasChildren&&!n.height&&t.heightAuto]}})(QF((e=>{let{theme:t}=e;const n=BX(t.shape.borderRadius)||"px",r=jX(t.shape.borderRadius);return{display:"block",backgroundColor:t.vars?t.vars.palette.Skeleton.bg:gA(t.palette.text.primary,"light"===t.palette.mode?.11:.13),height:"1.2em",variants:[{props:{variant:"text"},style:{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:"".concat(r).concat(n,"/").concat(Math.round(r/.6*10)/10).concat(n),"&:empty:before":{content:'"\\00a0"'}}},{props:{variant:"circular"},style:{borderRadius:"50%"}},{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:e=>{let{ownerState:t}=e;return t.hasChildren},style:{"& > *":{visibility:"hidden"}}},{props:e=>{let{ownerState:t}=e;return t.hasChildren&&!t.width},style:{maxWidth:"fit-content"}},{props:e=>{let{ownerState:t}=e;return t.hasChildren&&!t.height},style:{height:"auto"}},{props:{animation:"pulse"},style:QX||{animation:"".concat(GX," 2s ease-in-out 0.5s infinite")}},{props:{animation:"wave"},style:{position:"relative",overflow:"hidden",WebkitMaskImage:"-webkit-radial-gradient(white, black)","&::after":{background:"linear-gradient(\n                90deg,\n                transparent,\n                ".concat((t.vars||t).palette.action.hover,",\n                transparent\n              )"),content:'""',position:"absolute",transform:"translateX(-100%)",bottom:0,left:0,right:0,top:0}}},{props:{animation:"wave"},style:YX||{"&::after":{animation:"".concat(KX," 2s linear 0.5s infinite")}}}]}}))),$X=t.forwardRef((function(e,t){const n=$F({props:e,name:"MuiSkeleton"}),{animation:r="pulse",className:o,component:i="span",height:s,style:l,variant:c="text",width:u}=n,h=a(n,VX),p=d(d({},n),{},{animation:r,component:i,variant:c,hasChildren:Boolean(h.children)}),f=(e=>{const{classes:t,variant:n,animation:r,hasChildren:o,width:i,height:a}=e;return nA({root:["root",n,r,o&&"withChildren",o&&!i&&"fitContent",o&&!a&&"heightAuto"]},zX,t)})(p);return(0,UP.jsx)(XX,d(d({as:i,ref:t,className:ZP(f.root,o),ownerState:p},h),{},{style:d({width:u,height:s},l)}))})),JX=$X,ZX=["field","type","align","width","height","empty","style","className"],e$="1.3em",t$=[40,80],n$={number:[40,60],string:[40,80],date:[40,60],dateTime:[60,80],singleSelect:[40,80]},r$=function(e){const t=function(e){return()=>{let t=e+=1831565813;return t=Math.imul(t^t>>>15,1|t),t^=t+Math.imul(t^t>>>7,61|t),((t^t>>>14)>>>0)/4294967296}}(e);return(e,n)=>e+(n-e)*t()}(12345);const o$=lA((function(e){const{field:n,type:r,align:o,width:a,height:s,empty:l=!1,style:c,className:u}=e,d=i(e,ZX),h=(e=>{const{align:t,classes:n,empty:r}=e;return nA({root:["cell","cellSkeleton","cell--text".concat(t?tA(t):"Left"),r&&"cellEmpty"]},QM,n)})({classes:bL().classes,align:o,empty:l}),p=t.useMemo((()=>{var e;if("boolean"===r||"actions"===r)return{variant:"circular",width:e$,height:e$};const[t,n]=r&&null!==(e=n$[r])&&void 0!==e?e:t$;return{variant:"text",width:"".concat(Math.round(r$(t,n)),"%"),height:"1.2em"}}),[r]);return(0,UP.jsx)("div",KP({"data-field":n,className:ZP(h.root,u),style:KP({height:s,maxWidth:a,minWidth:a},c)},d,{children:!l&&(0,UP.jsx)(JX,KP({},p))}))})),i$=["className"],a$=uF("div",{name:"MuiDataGrid",slot:"IconButtonContainer",overridesResolver:(e,t)=>t.iconButtonContainer})((()=>({display:"flex",visibility:"hidden",width:0}))),s$=$P((function(e,t){const{className:n}=e,r=i(e,i$),o=bL(),a=(e=>{const{classes:t}=e;return nA({root:["iconButtonContainer"]},QM,t)})(o);return(0,UP.jsx)(a$,KP({className:ZP(a.root,n),ownerState:o},r,{ref:t}))}));function l$(e){var n,r;const{counter:o,field:i,onClick:a}=e,s=sF(),l=bL(),c=(e=>{const{classes:t}=e;return nA({icon:["filterIcon"]},QM,t)})(KP({},e,{classes:l.classes})),u=IB(),d=lL(s,oF,u),h=IB(),p=t.useCallback((e=>{e.preventDefault(),e.stopPropagation();const{open:t,openedPanelValue:n}=rF(s.current.state);t&&n===iF.filters?s.current.hideFilterPanel():s.current.showFilterPanel(void 0,h,u),a&&a(s.current.getColumnHeaderParams(i),e)}),[s,i,a,h,u]);if(!o)return null;const f=(0,UP.jsx)(l.slots.baseIconButton,KP({id:u,onClick:p,color:"default","aria-label":s.current.getLocaleText("columnHeaderFiltersLabel"),size:"small",tabIndex:-1,"aria-haspopup":"menu","aria-expanded":d,"aria-controls":d?h:void 0},null===(n=l.slotProps)||void 0===n?void 0:n.baseIconButton,{children:(0,UP.jsx)(l.slots.columnFilteredIcon,{className:c.icon,fontSize:"small"})}));return(0,UP.jsx)(l.slots.baseTooltip,KP({title:s.current.getLocaleText("columnHeaderFiltersTooltipActive")(o),enterDelay:1e3},null===(r=l.slotProps)||void 0===r?void 0:r.baseTooltip,{children:(0,UP.jsxs)(s$,{children:[o>1&&(0,UP.jsx)(l.slots.baseBadge,{badgeContent:o,color:"default",children:f}),1===o&&f]})}))}const c$=["direction","index","sortingOrder","disabled"];function u$(e){var t;const{direction:n,index:r,sortingOrder:o,disabled:a}=e,s=i(e,c$),l=sF(),c=bL(),u=(e=>{const{classes:t}=e;return nA({icon:["sortIcon"]},QM,t)})(KP({},e,{classes:c.classes})),d=function(e,t,n,r){let o;const i={};return"asc"===t?o=e.columnSortedAscendingIcon:"desc"===t?o=e.columnSortedDescendingIcon:(o=e.columnUnsortedIcon,i.sortingOrder=r),o?(0,UP.jsx)(o,KP({fontSize:"small",className:n},i)):null}(c.slots,n,u.icon,o);if(!d)return null;const h=(0,UP.jsx)(c.slots.baseIconButton,KP({tabIndex:-1,"aria-label":l.current.getLocaleText("columnHeaderSortIconLabel"),title:l.current.getLocaleText("columnHeaderSortIconLabel"),size:"small",disabled:a},null===(t=c.slotProps)||void 0===t?void 0:t.baseIconButton,s,{children:d}));return(0,UP.jsxs)(s$,{children:[null!=r&&(0,UP.jsx)(c.slots.baseBadge,{badgeContent:r,color:"default",overlap:"circular",children:h}),null==r&&h]})}const d$=t.memo(u$),h$=["className","selectedRowCount"],p$=uF("div",{name:"MuiDataGrid",slot:"SelectedRowCount",overridesResolver:(e,t)=>t.selectedRowCount})((e=>{let{theme:t}=e;return{alignItems:"center",display:"flex",margin:t.spacing(0,2),visibility:"hidden",width:0,height:0,[t.breakpoints.up("sm")]:{visibility:"visible",width:"auto",height:"auto"}}})),f$=$P((function(e,t){const{className:n,selectedRowCount:r}=e,o=i(e,h$),a=sF(),s=bL(),l=(e=>{const{classes:t}=e;return nA({root:["selectedRowCount"]},QM,t)})(s),c=a.current.getLocaleText("footerRowSelected")(r);return(0,UP.jsx)(p$,KP({className:ZP(l.root,n),ownerState:s},o,{ref:t,children:c}))})),m$=["className"],g$=uF("div",{name:"MuiDataGrid",slot:"FooterContainer",overridesResolver:(e,t)=>t.footerContainer})({display:"flex",justifyContent:"space-between",alignItems:"center",minHeight:52,borderTop:"1px solid"}),v$=$P((function(e,t){const{className:n}=e,r=i(e,m$),o=bL(),a=(e=>{const{classes:t}=e;return nA({root:["footerContainer","withBorderColor"]},QM,t)})(o);return(0,UP.jsx)(g$,KP({className:ZP(a.root,n),ownerState:o},r,{ref:t}))})),y$=$P((function(e,t){var n,r;const o=sF(),i=bL(),a=sL(o,RH),s=sL(o,IG),l=sL(o,rG),c=!i.hideFooterSelectedRowCount&&s>0?(0,UP.jsx)(f$,{selectedRowCount:s}):(0,UP.jsx)("div",{}),u=i.hideFooterRowCount||i.pagination?null:(0,UP.jsx)(i.slots.footerRowCount,KP({},null===(n=i.slotProps)||void 0===n?void 0:n.footerRowCount,{rowCount:a,visibleRowCount:l})),d=i.pagination&&!i.hideFooterPagination&&i.slots.pagination&&(0,UP.jsx)(i.slots.pagination,KP({},null===(r=i.slotProps)||void 0===r?void 0:r.pagination));return(0,UP.jsxs)(v$,KP({},e,{ref:t,children:[c,u,d]}))})),b$=["className","rowCount","visibleRowCount"],w$=uF("div",{name:"MuiDataGrid",slot:"RowCount",overridesResolver:(e,t)=>t.rowCount})((e=>{let{theme:t}=e;return{alignItems:"center",display:"flex",margin:t.spacing(0,2)}})),C$=$P((function(e,t){const{className:n,rowCount:r,visibleRowCount:o}=e,a=i(e,b$),s=sF(),l=bL(),c=(e=>{const{classes:t}=e;return nA({root:["rowCount"]},QM,t)})(l);if(0===r)return null;const u=o<r?s.current.getLocaleText("footerTotalVisibleRows")(o,r):r.toLocaleString();return(0,UP.jsxs)(w$,KP({className:ZP(c.root,n),ownerState:l},a,{ref:t,children:[s.current.getLocaleText("footerTotalRows")," ",u]}))}));function _$(e){return GM("MuiLinearProgress",e)}KM("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","bar1","bar2","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const x$=["className","color","value","valueBuffer","variant"];var S$,k$,I$,E$,T$,R$;const P$=zF(S$||(S$=Xz(["\n  0% {\n    left: -35%;\n    right: 100%;\n  }\n\n  60% {\n    left: 100%;\n    right: -90%;\n  }\n\n  100% {\n    left: 100%;\n    right: -90%;\n  }\n"]))),A$="string"!==typeof P$?jF(k$||(k$=Xz(["\n        animation: "," 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;\n      "])),P$):null,D$=zF(I$||(I$=Xz(["\n  0% {\n    left: -200%;\n    right: 100%;\n  }\n\n  60% {\n    left: 107%;\n    right: -8%;\n  }\n\n  100% {\n    left: 107%;\n    right: -8%;\n  }\n"]))),O$="string"!==typeof D$?jF(E$||(E$=Xz(["\n        animation: "," 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;\n      "])),D$):null,N$=zF(T$||(T$=Xz(["\n  0% {\n    opacity: 1;\n    background-position: 0 -23px;\n  }\n\n  60% {\n    opacity: 0;\n    background-position: 0 -23px;\n  }\n\n  100% {\n    opacity: 1;\n    background-position: -200px -23px;\n  }\n"]))),M$="string"!==typeof N$?jF(R$||(R$=Xz(["\n        animation: "," 3s infinite linear;\n      "])),N$):null,L$=(e,t)=>e.vars?e.vars.palette.LinearProgress["".concat(t,"Bg")]:"light"===e.palette.mode?wA(e.palette[t].main,.62):yA(e.palette[t].main,.5),F$=UM("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["color".concat(JF(n.color))],t[n.variant]]}})(QF((e=>{let{theme:t}=e;return{position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},variants:[...Object.entries(t.palette).filter(Gz()).map((e=>{let[n]=e;return{props:{color:n},style:{backgroundColor:L$(t,n)}}})),{props:e=>{let{ownerState:t}=e;return"inherit"===t.color&&"buffer"!==t.variant},style:{"&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}}},{props:{variant:"buffer"},style:{backgroundColor:"transparent"}},{props:{variant:"query"},style:{transform:"rotate(180deg)"}}]}}))),B$=UM("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.dashed,t["dashedColor".concat(JF(n.color))]]}})(QF((e=>{let{theme:t}=e;return{position:"absolute",marginTop:0,height:"100%",width:"100%",backgroundSize:"10px 10px",backgroundPosition:"0 -23px",variants:[{props:{color:"inherit"},style:{opacity:.3,backgroundImage:"radial-gradient(currentColor 0%, currentColor 16%, transparent 42%)"}},...Object.entries(t.palette).filter(Gz()).map((e=>{let[n]=e;const r=L$(t,n);return{props:{color:n},style:{backgroundImage:"radial-gradient(".concat(r," 0%, ").concat(r," 16%, transparent 42%)")}}}))]}})),M$||{animation:"".concat(N$," 3s infinite linear")}),j$=UM("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.bar,t.bar1,t["barColor".concat(JF(n.color))],("indeterminate"===n.variant||"query"===n.variant)&&t.bar1Indeterminate,"determinate"===n.variant&&t.bar1Determinate,"buffer"===n.variant&&t.bar1Buffer]}})(QF((e=>{let{theme:t}=e;return{width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[{props:{color:"inherit"},style:{backgroundColor:"currentColor"}},...Object.entries(t.palette).filter(Gz()).map((e=>{let[n]=e;return{props:{color:n},style:{backgroundColor:(t.vars||t).palette[n].main}}})),{props:{variant:"determinate"},style:{transition:"transform .".concat(4,"s linear")}},{props:{variant:"buffer"},style:{zIndex:1,transition:"transform .".concat(4,"s linear")}},{props:e=>{let{ownerState:t}=e;return"indeterminate"===t.variant||"query"===t.variant},style:{width:"auto"}},{props:e=>{let{ownerState:t}=e;return"indeterminate"===t.variant||"query"===t.variant},style:A$||{animation:"".concat(P$," 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite")}}]}}))),z$=UM("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.bar,t.bar2,t["barColor".concat(JF(n.color))],("indeterminate"===n.variant||"query"===n.variant)&&t.bar2Indeterminate,"buffer"===n.variant&&t.bar2Buffer]}})(QF((e=>{let{theme:t}=e;return{width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[...Object.entries(t.palette).filter(Gz()).map((e=>{let[n]=e;return{props:{color:n},style:{"--LinearProgressBar2-barColor":(t.vars||t).palette[n].main}}})),{props:e=>{let{ownerState:t}=e;return"buffer"!==t.variant&&"inherit"!==t.color},style:{backgroundColor:"var(--LinearProgressBar2-barColor, currentColor)"}},{props:e=>{let{ownerState:t}=e;return"buffer"!==t.variant&&"inherit"===t.color},style:{backgroundColor:"currentColor"}},{props:{color:"inherit"},style:{opacity:.3}},...Object.entries(t.palette).filter(Gz()).map((e=>{let[n]=e;return{props:{color:n,variant:"buffer"},style:{backgroundColor:L$(t,n),transition:"transform .".concat(4,"s linear")}}})),{props:e=>{let{ownerState:t}=e;return"indeterminate"===t.variant||"query"===t.variant},style:{width:"auto"}},{props:e=>{let{ownerState:t}=e;return"indeterminate"===t.variant||"query"===t.variant},style:O$||{animation:"".concat(D$," 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite")}}]}}))),V$=t.forwardRef((function(e,t){const n=$F({props:e,name:"MuiLinearProgress"}),{className:r,color:o="primary",value:i,valueBuffer:s,variant:l="indeterminate"}=n,c=a(n,x$),u=d(d({},n),{},{color:o,variant:l}),h=(e=>{const{classes:t,variant:n,color:r}=e;return nA({root:["root","color".concat(JF(r)),n],dashed:["dashed","dashedColor".concat(JF(r))],bar1:["bar","bar1","barColor".concat(JF(r)),("indeterminate"===n||"query"===n)&&"bar1Indeterminate","determinate"===n&&"bar1Determinate","buffer"===n&&"bar1Buffer"],bar2:["bar","bar2","buffer"!==n&&"barColor".concat(JF(r)),"buffer"===n&&"color".concat(JF(r)),("indeterminate"===n||"query"===n)&&"bar2Indeterminate","buffer"===n&&"bar2Buffer"]},_$,t)})(u),p=QB(),f={},m={bar1:{},bar2:{}};if("determinate"===l||"buffer"===l)if(void 0!==i){f["aria-valuenow"]=Math.round(i),f["aria-valuemin"]=0,f["aria-valuemax"]=100;let e=i-100;p&&(e=-e),m.bar1.transform="translateX(".concat(e,"%)")}else 0;if("buffer"===l)if(void 0!==s){let e=(s||0)-100;p&&(e=-e),m.bar2.transform="translateX(".concat(e,"%)")}else 0;return(0,UP.jsxs)(F$,d(d(d({className:ZP(h.root,r),ownerState:u,role:"progressbar"},f),{},{ref:t},c),{},{children:["buffer"===l?(0,UP.jsx)(B$,{className:h.dashed,ownerState:u}):null,(0,UP.jsx)(j$,{className:h.bar1,ownerState:u,style:m.bar1}),"determinate"===l?null:(0,UP.jsx)(z$,{className:h.bar2,ownerState:u,style:m.bar2})]}))})),U$=V$,H$=["className"],q$=uF("div",{name:"MuiDataGrid",slot:"Overlay",overridesResolver:(e,t)=>t.overlay})({width:"100%",height:"100%",display:"flex",alignSelf:"center",alignItems:"center",justifyContent:"center",backgroundColor:"var(--unstable_DataGrid-overlayBackground)"}),W$=$P((function(e,t){const{className:n}=e,r=i(e,H$),o=bL(),a=(e=>{const{classes:t}=e;return nA({root:["overlay"]},QM,t)})(o);return(0,UP.jsx)(q$,KP({className:ZP(a.root,n),ownerState:o},r,{ref:t}))})),G$=(e,t,n,r,o,i)=>{let a;switch(e){case eq.LEFT:a=r[n];break;case eq.RIGHT:a=o-r[n]-t+i;break;default:a=void 0}return a},K$=(e,t,n,r,o)=>{const i=t===n-1;return!(e!==eq.LEFT||!i)||!!r&&(e===eq.LEFT||(e===eq.RIGHT?!i:!i||o))},Q$=(e,t)=>e===eq.RIGHT&&0===t,Y$={root:YM.scrollbarFiller,header:YM["scrollbarFiller--header"],borderTop:YM["scrollbarFiller--borderTop"],borderBottom:YM["scrollbarFiller--borderBottom"],pinnedRight:YM["scrollbarFiller--pinnedRight"]};function X$(e){let{header:t,borderTop:n=!0,borderBottom:r,pinnedRight:o}=e;return(0,UP.jsx)("div",{role:"presentation",className:ZP(Y$.root,t&&Y$.header,n&&Y$.borderTop,r&&Y$.borderBottom,o&&Y$.pinnedRight)})}const $$=(e,t)=>{if(e)if(t){if(e===eq.LEFT)return"right";if(e===eq.RIGHT)return"left"}else{if(e===eq.LEFT)return"left";if(e===eq.RIGHT)return"right"}};function J$(e,t,n,r){const o=$$(n,t);return o&&void 0!==r?(e[o]=r,e):e}const Z$=uF("div",{name:"MuiDataGrid",slot:"SkeletonLoadingOverlay",overridesResolver:(e,t)=>t.skeletonLoadingOverlay})({minWidth:"100%",width:"max-content",height:"100%",overflow:"clip"}),eJ=e=>parseInt(e.getAttribute("data-colindex"),10),tJ=$P((function(e,n){var r;const o=bL(),{slots:i}=o,a=QB(),s=(e=>{const{classes:t}=e;return nA({root:["skeletonLoadingOverlay"]},QM,t)})({classes:o.classes}),l=t.useRef(null),c=oA(l,n),u=sF(),d=sL(u,dL),h=null!==(r=null===d||void 0===d?void 0:d.viewportInnerSize.height)&&void 0!==r?r:0,p=Math.ceil(h/d.rowHeight),f=sL(u,ZL),m=sL(u,JL),g=t.useMemo((()=>m.filter((e=>e<=f)).length),[f,m]),v=sL(u,YL),y=t.useMemo((()=>v.slice(0,g)),[v,g]),b=sL(u,$L),w=t.useCallback((e=>-1!==b.left.findIndex((t=>t.field===e))?eq.LEFT:-1!==b.right.findIndex((t=>t.field===e))?eq.RIGHT:void 0),[b.left,b.right]),C=t.useMemo((()=>{const e=[];for(let t=0;t<p;t+=1){const n=[];for(let e=0;e<y.length;e+=1){const r=y[e],s=w(r.field),l=s===eq.LEFT,c=s===eq.RIGHT,u=$$(s,a),h=u?b[u].length:y.length-b.left.length-b.right.length,p=u?b[u].findIndex((e=>e.field===r.field)):e-b.left.length,f=d.hasScrollY?d.scrollbarSize:0,g=J$({},a,s,G$(s,r.computedWidth,e,m,d.columnsTotalWidth,f)),v=d.columnsTotalWidth<d.viewportOuterSize.width,C=K$(s,p,h,o.showCellVerticalBorder,v),_=Q$(s,p),x=e===y.length-1,S=c&&0===p,k=S&&v,I=x&&!S&&v,E=d.viewportOuterSize.width-d.columnsTotalWidth,T=Math.max(0,E),R=(0,UP.jsx)(i.skeletonCell,{width:T,empty:!0},"skeleton-filler-column-".concat(t)),P=x&&0!==f;k&&n.push(R),n.push((0,UP.jsx)(i.skeletonCell,{field:r.field,type:r.type,align:r.align,width:"var(--width)",height:d.rowHeight,"data-colindex":e,className:ZP(l&&YM["cell--pinnedLeft"],c&&YM["cell--pinnedRight"],C&&YM["cell--withRightBorder"],_&&YM["cell--withLeftBorder"]),style:KP({"--width":"".concat(r.computedWidth,"px")},g)},"skeleton-column-".concat(t,"-").concat(r.field))),I&&n.push(R),P&&n.push((0,UP.jsx)(X$,{pinnedRight:b.right.length>0},"skeleton-scrollbar-filler-".concat(t)))}e.push((0,UP.jsx)("div",{className:ZP(YM.row,YM.rowSkeleton,0===t&&YM["row--firstVisible"]),children:n},"skeleton-row-".concat(t)))}return e}),[i,y,b,p,o.showCellVerticalBorder,d,m,w,a]);return vF(u,"columnResize",(e=>{var t;const{colDef:n,width:r}=e,o=null===(t=l.current)||void 0===t?void 0:t.querySelectorAll('[data-field="'.concat(mY(n.field),'"]'));if(!o)throw new Error("MUI X: Expected skeleton cells to be defined with `data-field` attribute.");const i=y.findIndex((e=>e.field===n.field)),a=w(n.field),s=a===eq.LEFT,c=a===eq.RIGHT,u=getComputedStyle(o[0]).getPropertyValue("--width"),d=parseInt(u,10)-r;if(o&&o.forEach((e=>{e.style.setProperty("--width","".concat(r,"px"))})),s){var h;const e=null===(h=l.current)||void 0===h?void 0:h.querySelectorAll(".".concat(YM["cell--pinnedLeft"]));null===e||void 0===e||e.forEach((e=>{eJ(e)>i&&(e.style.left="".concat(parseInt(getComputedStyle(e).left,10)-d,"px"))}))}if(c){var p;const e=null===(p=l.current)||void 0===p?void 0:p.querySelectorAll(".".concat(YM["cell--pinnedRight"]));null===e||void 0===e||e.forEach((e=>{eJ(e)<i&&(e.style.right="".concat(parseInt(getComputedStyle(e).right,10)+d,"px"))}))}})),(0,UP.jsx)(Z$,KP({className:s.root},e,{ref:c,children:C}))})),nJ=["variant","noRowsVariant","style"],rJ={"circular-progress":{component:UV,style:{}},"linear-progress":{component:U$,style:{display:"block"}},skeleton:{component:tJ,style:{display:"block"}}},oJ=$P((function(e,t){const{variant:n="circular-progress",noRowsVariant:r="circular-progress",style:o}=e,a=i(e,nJ),s=sF(),l=sL(s,EH),c=rJ[0===l?r:n];return(0,UP.jsx)(W$,KP({style:KP({},c.style,o)},a,{ref:t,children:(0,UP.jsx)(c.component,{})}))})),iJ=$P((function(e,t){const n=sF().current.getLocaleText("noRowsLabel");return(0,UP.jsx)(W$,KP({},e,{ref:t,children:n}))})),aJ=kF,sJ=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function lJ(e){const t=[],n=[];return Array.from(e.querySelectorAll(sJ)).forEach(((e,r)=>{const o=function(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==o&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;const t=t=>e.ownerDocument.querySelector('input[type="radio"]'.concat(t));let n=t('[name="'.concat(e.name,'"]:checked'));return n||(n=t('[name="'.concat(e.name,'"]'))),n!==e}(e))}(e)&&(0===o?t.push(e):n.push({documentOrder:r,tabIndex:o,node:e}))})),n.sort(((e,t)=>e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex)).map((e=>e.node)).concat(t)}function cJ(){return!0}const uJ=function(e){const{children:n,disableAutoFocus:r=!1,disableEnforceFocus:o=!1,disableRestoreFocus:i=!1,getTabbable:a=lJ,isEnabled:s=cJ,open:l}=e,c=t.useRef(!1),u=t.useRef(null),d=t.useRef(null),h=t.useRef(null),p=t.useRef(null),f=t.useRef(!1),m=t.useRef(null),g=oA(wz(n),m),v=t.useRef(null);t.useEffect((()=>{l&&m.current&&(f.current=!r)}),[r,l]),t.useEffect((()=>{if(!l||!m.current)return;const e=xF(m.current);return m.current.contains(e.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex","-1"),f.current&&m.current.focus()),()=>{i||(h.current&&h.current.focus&&(c.current=!0,h.current.focus()),h.current=null)}}),[l]),t.useEffect((()=>{if(!l||!m.current)return;const e=xF(m.current),t=t=>{v.current=t,!o&&s()&&"Tab"===t.key&&e.activeElement===m.current&&t.shiftKey&&(c.current=!0,d.current&&d.current.focus())},n=()=>{const t=m.current;if(null===t)return;if(!e.hasFocus()||!s()||c.current)return void(c.current=!1);if(t.contains(e.activeElement))return;if(o&&e.activeElement!==u.current&&e.activeElement!==d.current)return;if(e.activeElement!==p.current)p.current=null;else if(null!==p.current)return;if(!f.current)return;let n=[];if(e.activeElement!==u.current&&e.activeElement!==d.current||(n=a(m.current)),n.length>0){var r,i;const e=Boolean((null===(r=v.current)||void 0===r?void 0:r.shiftKey)&&"Tab"===(null===(i=v.current)||void 0===i?void 0:i.key)),t=n[0],o=n[n.length-1];"string"!==typeof t&&"string"!==typeof o&&(e?o.focus():t.focus())}else t.focus()};e.addEventListener("focusin",n),e.addEventListener("keydown",t,!0);const r=setInterval((()=>{e.activeElement&&"BODY"===e.activeElement.tagName&&n()}),50);return()=>{clearInterval(r),e.removeEventListener("focusin",n),e.removeEventListener("keydown",t,!0)}}),[r,o,i,s,l,a]);const y=e=>{null===h.current&&(h.current=e.relatedTarget),f.current=!0};return(0,UP.jsxs)(t.Fragment,{children:[(0,UP.jsx)("div",{tabIndex:l?0:-1,onFocus:y,ref:u,"data-testid":"sentinelStart"}),t.cloneElement(n,{ref:g,onFocus:e=>{null===h.current&&(h.current=e.relatedTarget),f.current=!0,p.current=e.target;const t=n.props.onFocus;t&&t(e)}}),(0,UP.jsx)("div",{tabIndex:l?0:-1,onFocus:y,ref:d,"data-testid":"sentinelEnd"})]})},dJ=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],hJ=["ownerState"],pJ={entering:{opacity:1},entered:{opacity:1}},fJ=t.forwardRef((function(e,n){const r=jz(),o={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:i,appear:s=!0,children:l,easing:c,in:u,onEnter:h,onEntered:p,onEntering:f,onExit:m,onExited:g,onExiting:v,style:y,timeout:b=o,TransitionComponent:w=iW}=e,C=a(e,dJ),_=t.useRef(null),x=ZF(_,wz(l),n),S=e=>t=>{if(e){const n=_.current;void 0===t?e(n):e(n,t)}},k=S(f),I=S(((e,t)=>{aW(e);const n=sW({style:y,timeout:b,easing:c},{mode:"enter"});e.style.webkitTransition=r.transitions.create("opacity",n),e.style.transition=r.transitions.create("opacity",n),h&&h(e,t)})),E=S(p),T=S(v),R=S((e=>{const t=sW({style:y,timeout:b,easing:c},{mode:"exit"});e.style.webkitTransition=r.transitions.create("opacity",t),e.style.transition=r.transitions.create("opacity",t),m&&m(e)})),P=S(g);return(0,UP.jsx)(w,d(d({appear:s,in:u,nodeRef:_,onEnter:I,onEntered:E,onEntering:k,onExit:R,onExited:P,onExiting:T,addEndListener:e=>{i&&i(_.current,e)},timeout:b},C),{},{children:(e,n)=>{let{ownerState:r}=n,o=a(n,hJ);return t.cloneElement(l,d({style:d(d(d({opacity:0,visibility:"exited"!==e||u?void 0:"hidden"},pJ[e]),y),l.props.style),ref:x},o))}}))})),mJ=fJ;function gJ(e){return GM("MuiBackdrop",e)}KM("MuiBackdrop",["root","invisible"]);const vJ=["children","className","component","invisible","open","components","componentsProps","slotProps","slots","TransitionComponent","transitionDuration"],yJ=UM("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),bJ=t.forwardRef((function(e,t){const n=$F({props:e,name:"MuiBackdrop"}),{children:r,className:o,component:i="div",invisible:s=!1,open:l,components:c={},componentsProps:u={},slotProps:h={},slots:p={},TransitionComponent:f,transitionDuration:m}=n,g=a(n,vJ),v=d(d({},n),{},{component:i,invisible:s}),y=(e=>{const{classes:t,invisible:n}=e;return nA({root:["root",n&&"invisible"]},gJ,t)})(v),b={slots:d({transition:f,root:c.Root},p),slotProps:d(d({},u),h)},[w,C]=SU("root",{elementType:yJ,externalForwardedProps:b,className:ZP(y.root,o),ownerState:v}),[_,x]=SU("transition",{elementType:mJ,externalForwardedProps:b,ownerState:v});return(0,UP.jsx)(_,d(d(d({in:l,timeout:m},g),x),{},{children:(0,UP.jsx)(w,d(d({"aria-hidden":!0},C),{},{classes:y,ref:t,children:r}))}))})),wJ=bJ;function CJ(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(((e,t)=>null==t?e:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];e.apply(this,r),t.apply(this,r)}),(()=>{}))}function _J(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function xJ(e){return parseInt(SF(e).getComputedStyle(e).paddingRight,10)||0}function SJ(e,t,n,r,o){const i=[t,n,...r];[].forEach.call(e.children,(e=>{const t=!i.includes(e),n=!function(e){const t=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(e.tagName),n="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||n}(e);t&&n&&_J(e,o)}))}function kJ(e,t){let n=-1;return e.some(((e,r)=>!!t(e)&&(n=r,!0))),n}function IJ(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(function(e){const t=xF(e);return t.body===e?SF(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){const e=jq(SF(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight="".concat(xJ(r)+e,"px");const t=xF(r).querySelectorAll(".mui-fixed");[].forEach.call(t,(t=>{n.push({value:t.style.paddingRight,property:"padding-right",el:t}),t.style.paddingRight="".concat(xJ(t)+e,"px")}))}let e;if(r.parentNode instanceof DocumentFragment)e=xF(r).body;else{const t=r.parentElement,n=SF(r);e="HTML"===(null===t||void 0===t?void 0:t.nodeName)&&"scroll"===n.getComputedStyle(t).overflowY?t:r}n.push({value:e.style.overflow,property:"overflow",el:e},{value:e.style.overflowX,property:"overflow-x",el:e},{value:e.style.overflowY,property:"overflow-y",el:e}),e.style.overflow="hidden"}return()=>{n.forEach((e=>{let{value:t,el:n,property:r}=e;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}const EJ=()=>{},TJ=new class{constructor(){this.modals=[],this.containers=[]}add(e,t){let n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&_J(e.modalRef,!1);const r=function(e){const t=[];return[].forEach.call(e.children,(e=>{"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);SJ(t,e.mount,e.modalRef,r,!0);const o=kJ(this.containers,(e=>e.container===t));return-1!==o?(this.containers[o].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}mount(e,t){const n=kJ(this.containers,(t=>t.modals.includes(e))),r=this.containers[n];r.restore||(r.restore=IJ(r,t))}remove(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.modals.indexOf(e);if(-1===n)return n;const r=kJ(this.containers,(t=>t.modals.includes(e))),o=this.containers[r];if(o.modals.splice(o.modals.indexOf(e),1),this.modals.splice(n,1),0===o.modals.length)o.restore&&o.restore(),e.modalRef&&_J(e.modalRef,t),SJ(o.container,e.mount,e.modalRef,o.hiddenSiblings,!1),this.containers.splice(r,1);else{const e=o.modals[o.modals.length-1];e.modalRef&&_J(e.modalRef,!1)}return n}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}};const RJ=function(e){const{container:n,disableEscapeKeyDown:r=!1,disableScrollLock:o=!1,closeAfterTransition:i=!1,onTransitionEnter:a,onTransitionExited:s,children:l,onClose:c,open:u,rootRef:h}=e,p=t.useRef({}),f=t.useRef(null),m=t.useRef(null),g=oA(m,h),[v,y]=t.useState(!u),b=function(e){return!!e&&e.props.hasOwnProperty("in")}(l);let w=!0;"false"!==e["aria-hidden"]&&!1!==e["aria-hidden"]||(w=!1);const C=()=>(p.current.modalRef=m.current,p.current.mount=f.current,p.current),_=()=>{TJ.mount(C(),{disableScrollLock:o}),m.current&&(m.current.scrollTop=0)},x=dF((()=>{const e=function(e){return"function"===typeof e?e():e}(n)||xF(f.current).body;TJ.add(C(),e),m.current&&_()})),S=()=>TJ.isTopModal(C()),k=dF((e=>{f.current=e,e&&(u&&S()?_():m.current&&_J(m.current,w))})),I=t.useCallback((()=>{TJ.remove(C(),w)}),[w]);t.useEffect((()=>()=>{I()}),[I]),t.useEffect((()=>{u?x():b&&i||I()}),[u,I,b,i,x]);const E=e=>t=>{var n;null===(n=e.onKeyDown)||void 0===n||n.call(e,t),"Escape"===t.key&&229!==t.which&&S()&&(r||(t.stopPropagation(),c&&c(t,"escapeKeyDown")))},T=e=>t=>{var n;null===(n=e.onClick)||void 0===n||n.call(e,t),t.target===t.currentTarget&&c&&c(t,"backdropClick")};return{getRootProps:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=pz(e);delete n.onTransitionEnter,delete n.onTransitionExited;const r=d(d({},n),t);return d(d({role:"presentation"},r),{},{onKeyDown:E(r),ref:g})},getBackdropProps:function(){const e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d(d({"aria-hidden":!0},e),{},{onClick:T(e),open:u})},getTransitionProps:()=>{var e,t;return{onEnter:CJ((()=>{y(!1),a&&a()}),null!==(e=null===l||void 0===l?void 0:l.props.onEnter)&&void 0!==e?e:EJ),onExited:CJ((()=>{y(!0),s&&s(),i&&I()}),null!==(t=null===l||void 0===l?void 0:l.props.onExited)&&void 0!==t?t:EJ)}},rootRef:g,portalRef:k,isTopModal:S,exited:v,hasTransition:b}};function PJ(e){return GM("MuiModal",e)}KM("MuiModal",["root","hidden","backdrop"]);const AJ=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],DJ=UM("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})(QF((e=>{let{theme:t}=e;return{position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:e=>{let{ownerState:t}=e;return!t.open&&t.exited},style:{visibility:"hidden"}}]}}))),OJ=UM(wJ,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),NJ=t.forwardRef((function(e,n){const r=$F({name:"MuiModal",props:e}),{BackdropComponent:o=OJ,BackdropProps:i,classes:s,className:l,closeAfterTransition:c=!1,children:u,container:h,component:p,components:f={},componentsProps:m={},disableAutoFocus:g=!1,disableEnforceFocus:v=!1,disableEscapeKeyDown:y=!1,disablePortal:b=!1,disableRestoreFocus:w=!1,disableScrollLock:C=!1,hideBackdrop:_=!1,keepMounted:x=!1,onBackdropClick:S,onClose:k,onTransitionEnter:I,onTransitionExited:E,open:T,slotProps:R={},slots:P={},theme:A}=r,D=a(r,AJ),O=d(d({},r),{},{closeAfterTransition:c,disableAutoFocus:g,disableEnforceFocus:v,disableEscapeKeyDown:y,disablePortal:b,disableRestoreFocus:w,disableScrollLock:C,hideBackdrop:_,keepMounted:x}),{getRootProps:N,getBackdropProps:M,getTransitionProps:L,portalRef:F,isTopModal:B,exited:j,hasTransition:z}=RJ(d(d({},O),{},{rootRef:n})),V=d(d({},O),{},{exited:j}),U=(e=>{const{open:t,exited:n,classes:r}=e;return nA({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},PJ,r)})(V),H={};if(void 0===u.props.tabIndex&&(H.tabIndex="-1"),z){const{onEnter:e,onExited:t}=L();H.onEnter=e,H.onExited=t}const q=d(d({},D),{},{slots:d({root:f.Root,backdrop:f.Backdrop},P),slotProps:d(d({},m),R)}),[W,G]=SU("root",{elementType:DJ,externalForwardedProps:q,getSlotProps:N,additionalProps:{ref:n,as:p},ownerState:V,className:ZP(l,null===U||void 0===U?void 0:U.root,!V.open&&V.exited&&(null===U||void 0===U?void 0:U.hidden))}),[K,Q]=SU("backdrop",{elementType:o,externalForwardedProps:q,additionalProps:i,getSlotProps:e=>M(d(d({},e),{},{onClick:t=>{S&&S(t),null!==e&&void 0!==e&&e.onClick&&e.onClick(t)}})),className:ZP(null===i||void 0===i?void 0:i.className,null===U||void 0===U?void 0:U.backdrop),ownerState:V}),Y=ZF(null===i||void 0===i?void 0:i.ref,Q.ref);return x||T||z&&!j?(0,UP.jsx)(Cz,{ref:F,container:h,disablePortal:b,children:(0,UP.jsxs)(W,d(d({},G),{},{children:[!_&&o?(0,UP.jsx)(K,d(d({},Q),{},{ref:Y})):null,(0,UP.jsx)(uJ,{disableEnforceFocus:v,disableAutoFocus:g,disableRestoreFocus:w,isEnabled:B,open:T,children:t.cloneElement(u,H)})]}))}):null})),MJ=NJ;function LJ(e){return GM("MuiPopover",e)}KM("MuiPopover",["root","paper"]);const FJ=["onEntering"],BJ=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],jJ=["slotProps"];function zJ(e,t){let n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function VJ(e,t){let n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function UJ(e){return[e.horizontal,e.vertical].map((e=>"number"===typeof e?"".concat(e,"px"):e)).join(" ")}function HJ(e){return"function"===typeof e?e():e}const qJ=UM(MJ,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),WJ=UM(qz,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),GJ=t.forwardRef((function(e,n){var r;const o=$F({props:e,name:"MuiPopover"}),{action:i,anchorEl:s,anchorOrigin:l={vertical:"top",horizontal:"left"},anchorPosition:c,anchorReference:u="anchorEl",children:h,className:p,container:f,elevation:m=8,marginThreshold:g=16,open:v,PaperProps:y={},slots:b={},slotProps:w={},transformOrigin:C={vertical:"top",horizontal:"left"},TransitionComponent:_=fW,transitionDuration:x="auto",TransitionProps:{onEntering:S}={},disableScrollLock:k=!1}=o,I=a(o.TransitionProps,FJ),E=a(o,BJ),T=null!==(r=null===w||void 0===w?void 0:w.paper)&&void 0!==r?r:y,R=t.useRef(),P=d(d({},o),{},{anchorOrigin:l,anchorReference:u,elevation:m,marginThreshold:g,externalPaperSlotProps:T,transformOrigin:C,TransitionComponent:_,transitionDuration:x,TransitionProps:I}),A=(e=>{const{classes:t}=e;return nA({root:["root"],paper:["paper"]},LJ,t)})(P),D=t.useCallback((()=>{if("anchorPosition"===u)return c;const e=HJ(s),t=(e&&1===e.nodeType?e:Dq(R.current).body).getBoundingClientRect();return{top:t.top+zJ(t,l.vertical),left:t.left+VJ(t,l.horizontal)}}),[s,l.horizontal,l.vertical,c,u]),O=t.useCallback((e=>({vertical:zJ(e,C.vertical),horizontal:VJ(e,C.horizontal)})),[C.horizontal,C.vertical]),N=t.useCallback((e=>{const t={width:e.offsetWidth,height:e.offsetHeight},n=O(t);if("none"===u)return{top:null,left:null,transformOrigin:UJ(n)};const r=D();let o=r.top-n.vertical,i=r.left-n.horizontal;const a=o+t.height,l=i+t.width,c=Vq(HJ(s)),d=c.innerHeight-g,h=c.innerWidth-g;if(null!==g&&o<g){const e=o-g;o-=e,n.vertical+=e}else if(null!==g&&a>d){const e=a-d;o-=e,n.vertical+=e}if(null!==g&&i<g){const e=i-g;i-=e,n.horizontal+=e}else if(l>h){const e=l-h;i-=e,n.horizontal+=e}return{top:"".concat(Math.round(o),"px"),left:"".concat(Math.round(i),"px"),transformOrigin:UJ(n)}}),[s,u,D,O,g]),[M,L]=t.useState(v),F=t.useCallback((()=>{const e=R.current;if(!e)return;const t=N(e);null!==t.top&&e.style.setProperty("top",t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin,L(!0)}),[N]);t.useEffect((()=>(k&&window.addEventListener("scroll",F),()=>window.removeEventListener("scroll",F))),[s,k,F]);t.useEffect((()=>{v&&F()})),t.useImperativeHandle(i,(()=>v?{updatePosition:()=>{F()}}:null),[v,F]),t.useEffect((()=>{if(!v)return;const e=aJ((()=>{F()})),t=Vq(s);return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}}),[s,v,F]);let B=x;"auto"!==x||_.muiSupportAuto||(B=void 0);const j=f||(s?Dq(HJ(s)).body:void 0),z={slots:b,slotProps:d(d({},w),{},{paper:T})},[V,U]=SU("paper",{elementType:WJ,externalForwardedProps:z,additionalProps:{elevation:m,className:ZP(A.paper,null===T||void 0===T?void 0:T.className),style:M?T.style:d(d({},T.style),{},{opacity:0})},ownerState:P}),[H,q]=SU("root",{elementType:qJ,externalForwardedProps:z,additionalProps:{slotProps:{backdrop:{invisible:!0}},container:j,open:v},ownerState:P,className:ZP(A.root,p)}),{slotProps:W}=q,G=a(q,jJ),K=ZF(R,U.ref);return(0,UP.jsx)(H,d(d(d(d({},G),!AF(H)&&{slotProps:W,disableScrollLock:k}),E),{},{ref:n,children:(0,UP.jsx)(_,d(d({appear:!0,in:v,onEntering:(e,t)=>{S&&S(e,t),F()},onExited:()=>{L(!1)},timeout:B},I),{},{children:(0,UP.jsx)(V,d(d({},U),{},{ref:K,children:h}))}))}))})),KJ=GJ;function QJ(e){return GM("MuiMenu",e)}KM("MuiMenu",["root","paper","list"]);const YJ=["onEntering"],XJ=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],$J={vertical:"top",horizontal:"right"},JJ={vertical:"top",horizontal:"left"},ZJ=UM(KJ,{shouldForwardProp:e=>VM(e)||"classes"===e,name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),eZ=UM(WJ,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),tZ=UM(Qq,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),nZ=t.forwardRef((function(e,n){var r,o;const i=$F({props:e,name:"MuiMenu"}),{autoFocus:s=!0,children:l,className:c,disableAutoFocusItem:u=!1,MenuListProps:h={},onClose:p,open:f,PaperProps:m={},PopoverClasses:g,transitionDuration:v="auto",TransitionProps:{onEntering:y}={},variant:b="selectedMenu",slots:w={},slotProps:C={}}=i,_=a(i.TransitionProps,YJ),x=a(i,XJ),S=QB(),k=d(d({},i),{},{autoFocus:s,disableAutoFocusItem:u,MenuListProps:h,onEntering:y,PaperProps:m,transitionDuration:v,TransitionProps:_,variant:b}),I=(e=>{const{classes:t}=e;return nA({root:["root"],paper:["paper"],list:["list"]},QJ,t)})(k),E=s&&!u&&f,T=t.useRef(null);let R=-1;t.Children.map(l,((e,n)=>{t.isValidElement(e)&&(e.props.disabled||("selectedMenu"===b&&e.props.selected||-1===R)&&(R=n))}));const P=null!==(r=w.paper)&&void 0!==r?r:eZ,A=null!==(o=C.paper)&&void 0!==o?o:m,D=yz({elementType:w.root,externalSlotProps:C.root,ownerState:k,className:[I.root,c]}),O=yz({elementType:P,externalSlotProps:A,ownerState:k,className:I.paper});return(0,UP.jsx)(ZJ,d(d({onClose:p,anchorOrigin:{vertical:"bottom",horizontal:S?"right":"left"},transformOrigin:S?$J:JJ,slots:{paper:P,root:w.root},slotProps:{root:D,paper:O},open:f,ref:n,transitionDuration:v,TransitionProps:d({onEntering:(e,t)=>{T.current&&T.current.adjustStyleForScrollbar(e,{direction:S?"rtl":"ltr"}),y&&y(e,t)}},_),ownerState:k},x),{},{classes:g,children:(0,UP.jsx)(tZ,d(d({onKeyDown:e=>{"Tab"===e.key&&(e.preventDefault(),p&&p(e,"tabKeyDown"))},actions:T,autoFocus:s&&(-1===R||u),autoFocusItem:E,variant:b},h),{},{className:ZP(I.list,h.className),children:l}))}))})),rZ=nZ;function oZ(e){return GM("MuiNativeSelect",e)}const iZ=KM("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),aZ=["className","disabled","error","IconComponent","inputRef","variant"],sZ=UM("select")((e=>{let{theme:t}=e;return{MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},["&.".concat(iZ.disabled)]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},variants:[{props:e=>{let{ownerState:t}=e;return"filled"!==t.variant&&"outlined"!==t.variant},style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}}]}})),lZ=UM(sZ,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:VM,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],n.error&&t.error,{["&.".concat(iZ.multiple)]:t.multiple}]}})({}),cZ=UM("svg")((e=>{let{theme:t}=e;return{position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,["&.".concat(iZ.disabled)]:{color:(t.vars||t).palette.action.disabled},variants:[{props:e=>{let{ownerState:t}=e;return t.open},style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]}})),uZ=UM(cZ,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t["icon".concat(JF(n.variant))],n.open&&t.iconOpen]}})({}),dZ=t.forwardRef((function(e,n){const{className:r,disabled:o,error:i,IconComponent:s,inputRef:l,variant:c="standard"}=e,u=a(e,aZ),h=d(d({},e),{},{disabled:o,variant:c,error:i}),p=(e=>{const{classes:t,variant:n,disabled:r,multiple:o,open:i,error:a}=e;return nA({select:["select",n,r&&"disabled",o&&"multiple",a&&"error"],icon:["icon","icon".concat(JF(n)),i&&"iconOpen",r&&"disabled"]},oZ,t)})(h);return(0,UP.jsxs)(t.Fragment,{children:[(0,UP.jsx)(lZ,d({ownerState:h,className:ZP(p.select,r),disabled:o,ref:l||n},u)),e.multiple?null:(0,UP.jsx)(uZ,{as:s,ownerState:h,className:p.icon})]})})),hZ=dZ,pZ=BB;function fZ(e){return GM("MuiSelect",e)}const mZ=KM("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),gZ=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","required","SelectDisplayProps","tabIndex","type","value","variant"];var vZ;const yZ=UM(sZ,{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["&.".concat(mZ.select)]:t.select},{["&.".concat(mZ.select)]:t[n.variant]},{["&.".concat(mZ.error)]:t.error},{["&.".concat(mZ.multiple)]:t.multiple}]}})({["&.".concat(mZ.select)]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),bZ=UM(cZ,{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t["icon".concat(JF(n.variant))],n.open&&t.iconOpen]}})({}),wZ=UM("input",{shouldForwardProp:e=>zM(e)&&"classes"!==e,name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function CZ(e,t){return"object"===typeof t&&null!==t?e===t:String(e)===String(t)}function _Z(e){return null==e||"string"===typeof e&&!e.trim()}const xZ=t.forwardRef((function(e,n){var r;const{"aria-describedby":o,"aria-label":i,autoFocus:s,autoWidth:l,children:c,className:u,defaultOpen:h,defaultValue:p,disabled:f,displayEmpty:m,error:g=!1,IconComponent:v,inputRef:y,labelId:b,MenuProps:w={},multiple:C,name:_,onBlur:x,onChange:S,onClose:k,onFocus:I,onOpen:E,open:T,readOnly:R,renderValue:P,required:A,SelectDisplayProps:D={},tabIndex:O,type:N,value:M,variant:L="standard"}=e,F=a(e,gZ),[B,j]=pZ({controlled:M,default:p,name:"Select"}),[z,V]=pZ({controlled:T,default:h,name:"Select"}),U=t.useRef(null),H=t.useRef(null),[q,W]=t.useState(null),{current:G}=t.useRef(null!=T),[K,Q]=t.useState(),Y=ZF(n,y),X=t.useCallback((e=>{H.current=e,e&&W(e)}),[]),$=null===q||void 0===q?void 0:q.parentNode;t.useImperativeHandle(Y,(()=>({focus:()=>{H.current.focus()},node:U.current,value:B})),[B]),t.useEffect((()=>{h&&z&&q&&!G&&(Q(l?null:$.clientWidth),H.current.focus())}),[q,l]),t.useEffect((()=>{s&&H.current.focus()}),[s]),t.useEffect((()=>{if(!b)return;const e=Dq(H.current).getElementById(b);if(e){const t=()=>{getSelection().isCollapsed&&H.current.focus()};return e.addEventListener("click",t),()=>{e.removeEventListener("click",t)}}}),[b]);const J=(e,t)=>{e?E&&E(t):k&&k(t),G||(Q(l?null:$.clientWidth),V(e))},Z=t.Children.toArray(c),ee=e=>t=>{let n;if(t.currentTarget.hasAttribute("tabindex")){if(C){n=Array.isArray(B)?B.slice():[];const t=B.indexOf(e.props.value);-1===t?n.push(e.props.value):n.splice(t,1)}else n=e.props.value;if(e.props.onClick&&e.props.onClick(t),B!==n&&(j(n),S)){const r=t.nativeEvent||t,o=new r.constructor(r.type,r);Object.defineProperty(o,"target",{writable:!0,value:{value:n,name:_}}),S(o,e)}C||J(!1,t)}},te=null!==q&&z;let ne,re;delete F["aria-invalid"];const oe=[];let ie=!1,ae=!1;(nB({value:B})||m)&&(P?ne=P(B):ie=!0);const se=Z.map((e=>{if(!t.isValidElement(e))return null;let n;if(C){if(!Array.isArray(B))throw new Error(eA(2));n=B.some((t=>CZ(t,e.props.value))),n&&ie&&oe.push(e.props.children)}else n=CZ(B,e.props.value),n&&ie&&(re=e.props.children);return n&&(ae=!0),t.cloneElement(e,{"aria-selected":n?"true":"false",onClick:ee(e),onKeyUp:t=>{" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:n,value:void 0,"data-value":e.props.value})}));ie&&(ne=C?0===oe.length?null:oe.reduce(((e,t,n)=>(e.push(t),n<oe.length-1&&e.push(", "),e)),[]):re);let le,ce=K;!l&&G&&q&&(ce=$.clientWidth),le="undefined"!==typeof O?O:f?null:0;const ue=D.id||(_?"mui-component-select-".concat(_):void 0),de=d(d({},e),{},{variant:L,value:B,open:te,error:g}),he=(e=>{const{classes:t,variant:n,disabled:r,multiple:o,open:i,error:a}=e;return nA({select:["select",n,r&&"disabled",o&&"multiple",a&&"error"],icon:["icon","icon".concat(JF(n)),i&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]},fZ,t)})(de),pe=d(d({},w.PaperProps),null===(r=w.slotProps)||void 0===r?void 0:r.paper),fe=IB();return(0,UP.jsxs)(t.Fragment,{children:[(0,UP.jsx)(yZ,d(d({as:"div",ref:X,tabIndex:le,role:"combobox","aria-controls":te?fe:void 0,"aria-disabled":f?"true":void 0,"aria-expanded":te?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[b,ue].filter(Boolean).join(" ")||void 0,"aria-describedby":o,"aria-required":A?"true":void 0,"aria-invalid":g?"true":void 0,onKeyDown:e=>{if(!R){[" ","ArrowUp","ArrowDown","Enter"].includes(e.key)&&(e.preventDefault(),J(!0,e))}},onMouseDown:f||R?null:e=>{0===e.button&&(e.preventDefault(),H.current.focus(),J(!0,e))},onBlur:e=>{!te&&x&&(Object.defineProperty(e,"target",{writable:!0,value:{value:B,name:_}}),x(e))},onFocus:I},D),{},{ownerState:de,className:ZP(D.className,he.select,u),id:ue,children:_Z(ne)?vZ||(vZ=(0,UP.jsx)("span",{className:"notranslate","aria-hidden":!0,children:"\u200b"})):ne})),(0,UP.jsx)(wZ,d(d({"aria-invalid":g,value:Array.isArray(B)?B.join(","):B,name:_,ref:U,"aria-hidden":!0,onChange:e=>{const t=Z.find((t=>t.props.value===e.target.value));void 0!==t&&(j(t.props.value),S&&S(e,t))},tabIndex:-1,disabled:f,className:he.nativeInput,autoFocus:s,required:A},F),{},{ownerState:de})),(0,UP.jsx)(bZ,{as:v,className:he.icon,ownerState:de}),(0,UP.jsx)(rZ,d(d({id:"menu-".concat(_||""),anchorEl:$,open:te,onClose:e=>{J(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},w),{},{MenuListProps:d({"aria-labelledby":b,role:"listbox","aria-multiselectable":C?"true":void 0,disableListWrap:!0,id:fe},w.MenuListProps),slotProps:d(d({},w.slotProps),{},{paper:d(d({},pe),{},{style:d({minWidth:ce},null!=pe?pe.style:null)})}),children:se}))]})})),SZ=xZ,kZ=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],IZ=UM(cB,{shouldForwardProp:e=>VM(e)||"classes"===e,name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...sB(e,t),!n.disableUnderline&&t.underline]}})(QF((e=>{let{theme:t}=e;let n="light"===t.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(n="rgba(".concat(t.vars.palette.common.onBackgroundChannel," / ").concat(t.vars.opacity.inputUnderline,")")),{position:"relative",variants:[{props:e=>{let{ownerState:t}=e;return t.formControl},style:{"label + &":{marginTop:16}}},{props:e=>{let{ownerState:t}=e;return!t.disableUnderline},style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},["&.".concat(hU.focused,":after")]:{transform:"scaleX(1) translateX(0)"},["&.".concat(hU.error)]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:"1px solid ".concat(n),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},["&:hover:not(.".concat(hU.disabled,", .").concat(hU.error,"):before")]:{borderBottom:"2px solid ".concat((t.vars||t).palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(n)}},["&.".concat(hU.disabled,":before")]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(Gz()).map((e=>{let[n]=e;return{props:{color:n,disableUnderline:!1},style:{"&::after":{borderBottom:"2px solid ".concat((t.vars||t).palette[n].main)}}}}))]}}))),EZ=UM(uB,{name:"MuiInput",slot:"Input",overridesResolver:lB})({}),TZ=t.forwardRef((function(e,t){var n,r,o,i;const s=$F({props:e,name:"MuiInput"}),{disableUnderline:l=!1,components:c={},componentsProps:u,fullWidth:h=!1,inputComponent:p="input",multiline:f=!1,slotProps:m,slots:g={},type:v="text"}=s,y=a(s,kZ),b=(e=>{const{classes:t,disableUnderline:n}=e,r=nA({root:["root",!n&&"underline"],input:["input"]},dU,t);return d(d({},t),r)})(s),w={root:{ownerState:{disableUnderline:l}}},C=(null!==m&&void 0!==m?m:u)?dO(null!==m&&void 0!==m?m:u,w):w,_=null!==(n=null!==(r=g.root)&&void 0!==r?r:c.Root)&&void 0!==n?n:IZ,x=null!==(o=null!==(i=g.input)&&void 0!==i?i:c.Input)&&void 0!==o?o:EZ;return(0,UP.jsx)(pB,d(d({slots:{root:_,input:x},slotProps:C,fullWidth:h,inputComponent:p,multiline:f,ref:t,type:v},y),{},{classes:b}))}));TZ.muiName="Input";const RZ=TZ,PZ=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],AZ=UM(cB,{shouldForwardProp:e=>VM(e)||"classes"===e,name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...sB(e,t),!n.disableUnderline&&t.underline]}})(QF((e=>{let{theme:t}=e;const n="light"===t.palette.mode,r=n?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",o=n?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",i=n?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=n?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:o,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:i,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:o}},["&.".concat(gU.focused)]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:o},["&.".concat(gU.disabled)]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:a},variants:[{props:e=>{let{ownerState:t}=e;return!t.disableUnderline},style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},["&.".concat(gU.focused,":after")]:{transform:"scaleX(1) translateX(0)"},["&.".concat(gU.error)]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:"1px solid ".concat(t.vars?"rgba(".concat(t.vars.palette.common.onBackgroundChannel," / ").concat(t.vars.opacity.inputUnderline,")"):r),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},["&:hover:not(.".concat(gU.disabled,", .").concat(gU.error,"):before")]:{borderBottom:"1px solid ".concat((t.vars||t).palette.text.primary)},["&.".concat(gU.disabled,":before")]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(Gz()).map((e=>{var n;let[r]=e;return{props:{disableUnderline:!1,color:r},style:{"&::after":{borderBottom:"2px solid ".concat(null===(n=(t.vars||t).palette[r])||void 0===n?void 0:n.main)}}}})),{props:e=>{let{ownerState:t}=e;return t.startAdornment},style:{paddingLeft:12}},{props:e=>{let{ownerState:t}=e;return t.endAdornment},style:{paddingRight:12}},{props:e=>{let{ownerState:t}=e;return t.multiline},style:{padding:"25px 12px 8px"}},{props:e=>{let{ownerState:t,size:n}=e;return t.multiline&&"small"===n},style:{paddingTop:21,paddingBottom:4}},{props:e=>{let{ownerState:t}=e;return t.multiline&&t.hiddenLabel},style:{paddingTop:16,paddingBottom:17}},{props:e=>{let{ownerState:t}=e;return t.multiline&&t.hiddenLabel&&"small"===t.size},style:{paddingTop:8,paddingBottom:9}}]}}))),DZ=UM(uB,{name:"MuiFilledInput",slot:"Input",overridesResolver:lB})(QF((e=>{let{theme:t}=e;return d(d(d({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}}),t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}}),{},{variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:e=>{let{ownerState:t}=e;return t.hiddenLabel},style:{paddingTop:16,paddingBottom:17}},{props:e=>{let{ownerState:t}=e;return t.startAdornment},style:{paddingLeft:0}},{props:e=>{let{ownerState:t}=e;return t.endAdornment},style:{paddingRight:0}},{props:e=>{let{ownerState:t}=e;return t.hiddenLabel&&"small"===t.size},style:{paddingTop:8,paddingBottom:9}},{props:e=>{let{ownerState:t}=e;return t.multiline},style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]})}))),OZ=t.forwardRef((function(e,t){var n,r,o,i;const s=$F({props:e,name:"MuiFilledInput"}),{disableUnderline:l=!1,components:c={},componentsProps:u,fullWidth:h=!1,hiddenLabel:p,inputComponent:f="input",multiline:m=!1,slotProps:g,slots:v={},type:y="text"}=s,b=a(s,PZ),w=d(d({},s),{},{disableUnderline:l,fullWidth:h,inputComponent:f,multiline:m,type:y}),C=(e=>{const{classes:t,disableUnderline:n,startAdornment:r,endAdornment:o,size:i,hiddenLabel:a,multiline:s}=e,l=nA({root:["root",!n&&"underline",r&&"adornedStart",o&&"adornedEnd","small"===i&&"size".concat(JF(i)),a&&"hiddenLabel",s&&"multiline"],input:["input"]},mU,t);return d(d({},t),l)})(s),_={root:{ownerState:w},input:{ownerState:w}},x=(null!==g&&void 0!==g?g:u)?dO(_,null!==g&&void 0!==g?g:u):_,S=null!==(n=null!==(r=v.root)&&void 0!==r?r:c.Root)&&void 0!==n?n:AZ,k=null!==(o=null!==(i=v.input)&&void 0!==i?i:c.Input)&&void 0!==o?o:DZ;return(0,UP.jsx)(pB,d(d({slots:{root:S,input:k},slotProps:x,fullWidth:h,inputComponent:f,multiline:m,ref:t,type:y},b),{},{classes:C}))}));OZ.muiName="Input";const NZ=OZ,MZ=["children","classes","className","label","notched"];var LZ;const FZ=UM("fieldset",{shouldForwardProp:VM})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),BZ=UM("legend",{shouldForwardProp:VM})(QF((e=>{let{theme:t}=e;return{float:"unset",width:"auto",overflow:"hidden",variants:[{props:e=>{let{ownerState:t}=e;return!t.withLabel},style:{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})}},{props:e=>{let{ownerState:t}=e;return t.withLabel},style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:e=>{let{ownerState:t}=e;return t.withLabel&&t.notched},style:{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}]}})));const jZ=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],zZ=UM(cB,{shouldForwardProp:e=>VM(e)||"classes"===e,name:"MuiOutlinedInput",slot:"Root",overridesResolver:sB})(QF((e=>{let{theme:t}=e;const n="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(t.vars||t).shape.borderRadius,["&:hover .".concat(fU.notchedOutline)]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{["&:hover .".concat(fU.notchedOutline)]:{borderColor:t.vars?"rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):n}},["&.".concat(fU.focused," .").concat(fU.notchedOutline)]:{borderWidth:2},variants:[...Object.entries(t.palette).filter(Gz()).map((e=>{let[n]=e;return{props:{color:n},style:{["&.".concat(fU.focused," .").concat(fU.notchedOutline)]:{borderColor:(t.vars||t).palette[n].main}}}})),{props:{},style:{["&.".concat(fU.error," .").concat(fU.notchedOutline)]:{borderColor:(t.vars||t).palette.error.main},["&.".concat(fU.disabled," .").concat(fU.notchedOutline)]:{borderColor:(t.vars||t).palette.action.disabled}}},{props:e=>{let{ownerState:t}=e;return t.startAdornment},style:{paddingLeft:14}},{props:e=>{let{ownerState:t}=e;return t.endAdornment},style:{paddingRight:14}},{props:e=>{let{ownerState:t}=e;return t.multiline},style:{padding:"16.5px 14px"}},{props:e=>{let{ownerState:t,size:n}=e;return t.multiline&&"small"===n},style:{padding:"8.5px 14px"}}]}}))),VZ=UM((function(e){const{children:t,classes:n,className:r,label:o,notched:i}=e,s=a(e,MZ),l=null!=o&&""!==o,c=d(d({},e),{},{notched:i,withLabel:l});return(0,UP.jsx)(FZ,d(d({"aria-hidden":!0,className:r,ownerState:c},s),{},{children:(0,UP.jsx)(BZ,{ownerState:c,children:l?(0,UP.jsx)("span",{children:o}):LZ||(LZ=(0,UP.jsx)("span",{className:"notranslate","aria-hidden":!0,children:"\u200b"}))})}))}),{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})(QF((e=>{let{theme:t}=e;const n="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?"rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):n}}))),UZ=UM(uB,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:lB})(QF((e=>{let{theme:t}=e;return d(d(d({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderRadius:"inherit"}}),t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}}),{},{variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:e=>{let{ownerState:t}=e;return t.multiline},style:{padding:0}},{props:e=>{let{ownerState:t}=e;return t.startAdornment},style:{paddingLeft:0}},{props:e=>{let{ownerState:t}=e;return t.endAdornment},style:{paddingRight:0}}]})}))),HZ=t.forwardRef((function(e,n){var r,o,i,s,l;const c=$F({props:e,name:"MuiOutlinedInput"}),{components:u={},fullWidth:h=!1,inputComponent:p="input",label:f,multiline:m=!1,notched:g,slots:v={},type:y="text"}=c,b=a(c,jZ),w=(e=>{const{classes:t}=e,n=nA({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},pU,t);return d(d({},t),n)})(c),C=NF(),_=DF({props:c,muiFormControl:C,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),x=d(d({},c),{},{color:_.color||"primary",disabled:_.disabled,error:_.error,focused:_.focused,formControl:C,fullWidth:h,hiddenLabel:_.hiddenLabel,multiline:m,size:_.size,type:y}),S=null!==(r=null!==(o=v.root)&&void 0!==o?o:u.Root)&&void 0!==r?r:zZ,k=null!==(i=null!==(s=v.input)&&void 0!==s?s:u.Input)&&void 0!==i?i:UZ;return(0,UP.jsx)(pB,d(d({slots:{root:S,input:k},renderSuffix:e=>(0,UP.jsx)(VZ,{ownerState:x,className:w.notchedOutline,label:null!=f&&""!==f&&_.required?l||(l=(0,UP.jsxs)(t.Fragment,{children:[f,"\u2009","*"]})):f,notched:"undefined"!==typeof g?g:Boolean(e.startAdornment||e.filled||e.focused)}),fullWidth:h,inputComponent:p,multiline:m,ref:n,type:y},b),{},{classes:d(d({},w),{},{notchedOutline:null})}))}));HZ.muiName="Input";const qZ=HZ,WZ=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],GZ=["root"],KZ={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>VM(e)&&"variant"!==e,slot:"Root"},QZ=UM(RZ,KZ)(""),YZ=UM(qZ,KZ)(""),XZ=UM(NZ,KZ)(""),$Z=t.forwardRef((function(e,n){const r=$F({name:"MuiSelect",props:e}),{autoWidth:o=!1,children:i,classes:s={},className:l,defaultOpen:c=!1,displayEmpty:u=!1,IconComponent:h=yU,id:p,input:f,inputProps:m,label:g,labelId:v,MenuProps:y,multiple:b=!1,native:w=!1,onClose:C,onOpen:_,open:x,renderValue:S,SelectDisplayProps:k,variant:I="outlined"}=r,E=a(r,WZ),T=w?hZ:SZ,R=DF({props:r,muiFormControl:NF(),states:["variant","error"]}),P=R.variant||I,A=d(d({},r),{},{variant:P,classes:s}),D=(e=>{const{classes:t}=e,n=nA({root:["root"]},fZ,t);return d(d({},t),n)})(A),{root:O}=D,N=a(D,GZ),M=f||{standard:(0,UP.jsx)(QZ,{ownerState:A}),outlined:(0,UP.jsx)(YZ,{label:g,ownerState:A}),filled:(0,UP.jsx)(XZ,{ownerState:A})}[P],L=ZF(n,wz(M));return(0,UP.jsx)(t.Fragment,{children:t.cloneElement(M,d(d(d({inputComponent:T,inputProps:d(d(d({children:i,error:R.error,IconComponent:h,variant:P,type:void 0,multiple:b},w?{id:p}:{autoWidth:o,defaultOpen:c,displayEmpty:u,labelId:v,MenuProps:y,onClose:C,onOpen:_,open:x,renderValue:S,SelectDisplayProps:d({id:p},k)}),m),{},{classes:m?dO(N,m.classes):N},f?f.props.inputProps:{})},(b&&w||u)&&"outlined"===P?{notched:!0}:{}),{},{ref:L,className:ZP(M.props.className,l,D.root)},!f&&{variant:P}),E))})}));$Z.muiName="Select";const JZ=$Z;const ZZ=t.createContext();const e0=t.createContext();function t0(e){return GM("MuiTableCell",e)}const n0=KM("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),r0=["align","className","component","padding","scope","size","sortDirection","variant"],o0=UM("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t["size".concat(JF(n.size))],"normal"!==n.padding&&t["padding".concat(JF(n.padding))],"inherit"!==n.align&&t["align".concat(JF(n.align))],n.stickyHeader&&t.stickyHeader]}})(QF((e=>{let{theme:t}=e;return d(d({},t.typography.body2),{},{display:"table-cell",verticalAlign:"inherit",borderBottom:t.vars?"1px solid ".concat(t.vars.palette.TableCell.border):"1px solid\n    ".concat("light"===t.palette.mode?wA(gA(t.palette.divider,1),.88):yA(gA(t.palette.divider,1),.68)),textAlign:"left",padding:16,variants:[{props:{variant:"head"},style:{color:(t.vars||t).palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium}},{props:{variant:"body"},style:{color:(t.vars||t).palette.text.primary}},{props:{variant:"footer"},style:{color:(t.vars||t).palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)}},{props:{size:"small"},style:{padding:"6px 16px",["&.".concat(n0.paddingCheckbox)]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}}},{props:{padding:"checkbox"},style:{width:48,padding:"0 0 0 4px"}},{props:{padding:"none"},style:{padding:0}},{props:{align:"left"},style:{textAlign:"left"}},{props:{align:"center"},style:{textAlign:"center"}},{props:{align:"right"},style:{textAlign:"right",flexDirection:"row-reverse"}},{props:{align:"justify"},style:{textAlign:"justify"}},{props:e=>{let{ownerState:t}=e;return t.stickyHeader},style:{position:"sticky",top:0,zIndex:2,backgroundColor:(t.vars||t).palette.background.default}}]})}))),i0=t.forwardRef((function(e,n){const r=$F({props:e,name:"MuiTableCell"}),{align:o="inherit",className:i,component:s,padding:l,scope:c,size:u,sortDirection:h,variant:p}=r,f=a(r,r0),m=t.useContext(ZZ),g=t.useContext(e0),v=g&&"head"===g.variant;let y;y=s||(v?"th":"td");let b=c;"td"===y?b=void 0:!b&&v&&(b="col");const w=p||g&&g.variant,C=d(d({},r),{},{align:o,component:y,padding:l||(m&&m.padding?m.padding:"normal"),size:u||(m&&m.size?m.size:"medium"),sortDirection:h,stickyHeader:"head"===w&&m&&m.stickyHeader,variant:w}),_=(e=>{const{classes:t,variant:n,align:r,padding:o,size:i,stickyHeader:a}=e;return nA({root:["root",n,a&&"stickyHeader","inherit"!==r&&"align".concat(JF(r)),"normal"!==o&&"padding".concat(JF(o)),"size".concat(JF(i))]},t0,t)})(C);let x=null;return h&&(x="asc"===h?"ascending":"descending"),(0,UP.jsx)(o0,d({as:y,ref:n,className:ZP(_.root,i),"aria-sort":x,scope:b,ownerState:C},f))})),a0=i0;function s0(e){return GM("MuiToolbar",e)}KM("MuiToolbar",["root","gutters","regular","dense"]);const l0=["className","component","disableGutters","variant"],c0=UM("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableGutters&&t.gutters,t[n.variant]]}})(QF((e=>{let{theme:t}=e;return{position:"relative",display:"flex",alignItems:"center",variants:[{props:e=>{let{ownerState:t}=e;return!t.disableGutters},style:{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:t.mixins.toolbar}]}}))),u0=t.forwardRef((function(e,t){const n=$F({props:e,name:"MuiToolbar"}),{className:r,component:o="div",disableGutters:i=!1,variant:s="regular"}=n,l=a(n,l0),c=d(d({},n),{},{component:o,disableGutters:i,variant:s}),u=(e=>{const{classes:t,disableGutters:n,variant:r}=e;return nA({root:["root",!n&&"gutters",r]},s0,t)})(c);return(0,UP.jsx)(c0,d({as:o,className:ZP(u.root,r),ref:t,ownerState:c},l))})),d0=u0,h0=tU((0,UP.jsx)("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),p0=tU((0,UP.jsx)("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight"),f0=tU((0,UP.jsx)("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),"LastPage"),m0=tU((0,UP.jsx)("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),"FirstPage"),g0=["backIconButtonProps","count","disabled","getItemAriaLabel","nextIconButtonProps","onPageChange","page","rowsPerPage","showFirstButton","showLastButton","slots","slotProps"],v0=t.forwardRef((function(e,t){var n,r,o,i,s,l,c,u;const{backIconButtonProps:h,count:p,disabled:f=!1,getItemAriaLabel:m,nextIconButtonProps:g,onPageChange:v,page:y,rowsPerPage:b,showFirstButton:w,showLastButton:C,slots:_={},slotProps:x={}}=e,S=a(e,g0),k=QB(),I=null!==(n=_.firstButton)&&void 0!==n?n:YV,E=null!==(r=_.lastButton)&&void 0!==r?r:YV,T=null!==(o=_.nextButton)&&void 0!==o?o:YV,R=null!==(i=_.previousButton)&&void 0!==i?i:YV,P=null!==(s=_.firstButtonIcon)&&void 0!==s?s:m0,A=null!==(l=_.lastButtonIcon)&&void 0!==l?l:f0,D=null!==(c=_.nextButtonIcon)&&void 0!==c?c:p0,O=null!==(u=_.previousButtonIcon)&&void 0!==u?u:h0,N=k?E:I,M=k?T:R,L=k?R:T,F=k?I:E,B=k?x.lastButton:x.firstButton,j=k?x.nextButton:x.previousButton,z=k?x.previousButton:x.nextButton,V=k?x.firstButton:x.lastButton;return(0,UP.jsxs)("div",d(d({ref:t},S),{},{children:[w&&(0,UP.jsx)(N,d(d({onClick:e=>{v(e,0)},disabled:f||0===y,"aria-label":m("first",y),title:m("first",y)},B),{},{children:k?(0,UP.jsx)(A,d({},x.lastButtonIcon)):(0,UP.jsx)(P,d({},x.firstButtonIcon))})),(0,UP.jsx)(M,d(d({onClick:e=>{v(e,y-1)},disabled:f||0===y,color:"inherit","aria-label":m("previous",y),title:m("previous",y)},null!==j&&void 0!==j?j:h),{},{children:k?(0,UP.jsx)(D,d({},x.nextButtonIcon)):(0,UP.jsx)(O,d({},x.previousButtonIcon))})),(0,UP.jsx)(L,d(d({onClick:e=>{v(e,y+1)},disabled:f||-1!==p&&y>=Math.ceil(p/b)-1,color:"inherit","aria-label":m("next",y),title:m("next",y)},null!==z&&void 0!==z?z:g),{},{children:k?(0,UP.jsx)(O,d({},x.previousButtonIcon)):(0,UP.jsx)(D,d({},x.nextButtonIcon))})),C&&(0,UP.jsx)(F,d(d({onClick:e=>{v(e,Math.max(0,Math.ceil(p/b)-1))},disabled:f||y>=Math.ceil(p/b)-1,"aria-label":m("last",y),title:m("last",y)},V),{},{children:k?(0,UP.jsx)(P,d({},x.firstButtonIcon)):(0,UP.jsx)(A,d({},x.lastButtonIcon))}))]}))})),y0=v0;function b0(e){return GM("MuiTablePagination",e)}const w0=KM("MuiTablePagination",["root","toolbar","spacer","selectLabel","selectRoot","select","selectIcon","input","menuItem","displayedRows","actions"]),C0=["ActionsComponent","backIconButtonProps","colSpan","component","count","disabled","getItemAriaLabel","labelDisplayedRows","labelRowsPerPage","nextIconButtonProps","onPageChange","onRowsPerPageChange","page","rowsPerPage","rowsPerPageOptions","SelectProps","showFirstButton","showLastButton","slotProps","slots"];var _0;const x0=UM(a0,{name:"MuiTablePagination",slot:"Root",overridesResolver:(e,t)=>t.root})(QF((e=>{let{theme:t}=e;return{overflow:"auto",color:(t.vars||t).palette.text.primary,fontSize:t.typography.pxToRem(14),"&:last-child":{padding:0}}}))),S0=UM(d0,{name:"MuiTablePagination",slot:"Toolbar",overridesResolver:(e,t)=>d({["& .".concat(w0.actions)]:t.actions},t.toolbar)})(QF((e=>{let{theme:t}=e;return{minHeight:52,paddingRight:2,["".concat(t.breakpoints.up("xs")," and (orientation: landscape)")]:{minHeight:52},[t.breakpoints.up("sm")]:{minHeight:52,paddingRight:2},["& .".concat(w0.actions)]:{flexShrink:0,marginLeft:20}}}))),k0=UM("div",{name:"MuiTablePagination",slot:"Spacer",overridesResolver:(e,t)=>t.spacer})({flex:"1 1 100%"}),I0=UM("p",{name:"MuiTablePagination",slot:"SelectLabel",overridesResolver:(e,t)=>t.selectLabel})(QF((e=>{let{theme:t}=e;return d(d({},t.typography.body2),{},{flexShrink:0})}))),E0=UM(JZ,{name:"MuiTablePagination",slot:"Select",overridesResolver:(e,t)=>d(d({["& .".concat(w0.selectIcon)]:t.selectIcon,["& .".concat(w0.select)]:t.select},t.input),t.selectRoot)})({color:"inherit",fontSize:"inherit",flexShrink:0,marginRight:32,marginLeft:8,["& .".concat(w0.select)]:{paddingLeft:8,paddingRight:24,textAlign:"right",textAlignLast:"right"}}),T0=UM(JQ,{name:"MuiTablePagination",slot:"MenuItem",overridesResolver:(e,t)=>t.menuItem})({}),R0=UM("p",{name:"MuiTablePagination",slot:"DisplayedRows",overridesResolver:(e,t)=>t.displayedRows})(QF((e=>{let{theme:t}=e;return d(d({},t.typography.body2),{},{flexShrink:0})})));function P0(e){let{from:t,to:n,count:r}=e;return"".concat(t,"\u2013").concat(n," of ").concat(-1!==r?r:"more than ".concat(n))}function A0(e){return"Go to ".concat(e," page")}const D0=t.forwardRef((function(e,n){var r;const o=$F({props:e,name:"MuiTablePagination"}),{ActionsComponent:i=y0,backIconButtonProps:s,colSpan:l,component:c=a0,count:u,disabled:h=!1,getItemAriaLabel:p=A0,labelDisplayedRows:f=P0,labelRowsPerPage:m="Rows per page:",nextIconButtonProps:g,onPageChange:v,onRowsPerPageChange:y,page:b,rowsPerPage:w,rowsPerPageOptions:C=[10,25,50,100],SelectProps:_={},showFirstButton:x=!1,showLastButton:S=!1,slotProps:k={},slots:I={}}=o,E=a(o,C0),T=o,R=(e=>{const{classes:t}=e;return nA({root:["root"],toolbar:["toolbar"],spacer:["spacer"],selectLabel:["selectLabel"],select:["select"],input:["input"],selectIcon:["selectIcon"],menuItem:["menuItem"],displayedRows:["displayedRows"],actions:["actions"]},b0,t)})(T),P=null!==(r=null===k||void 0===k?void 0:k.select)&&void 0!==r?r:_,A=P.native?"option":T0;let D;c!==a0&&"td"!==c||(D=l||1e3);const O=Wz(P.id),N=Wz(P.labelId),M={slots:I,slotProps:k},[L,F]=SU("root",{ref:n,className:R.root,elementType:x0,externalForwardedProps:d(d({},M),{},{component:c},E),ownerState:T,additionalProps:{colSpan:D}}),[B,j]=SU("toolbar",{className:R.toolbar,elementType:S0,externalForwardedProps:M,ownerState:T}),[z,V]=SU("spacer",{className:R.spacer,elementType:k0,externalForwardedProps:M,ownerState:T}),[U,H]=SU("selectLabel",{className:R.selectLabel,elementType:I0,externalForwardedProps:M,ownerState:T,additionalProps:{id:N}}),[q,W]=SU("select",{className:R.select,elementType:E0,externalForwardedProps:M,ownerState:T}),[G,K]=SU("menuItem",{className:R.menuItem,elementType:A,externalForwardedProps:M,ownerState:T}),[Q,Y]=SU("displayedRows",{className:R.displayedRows,elementType:R0,externalForwardedProps:M,ownerState:T});return(0,UP.jsx)(L,d(d({},F),{},{children:(0,UP.jsxs)(B,d(d({},j),{},{children:[(0,UP.jsx)(z,d({},V)),C.length>1&&(0,UP.jsx)(U,d(d({},H),{},{children:m})),C.length>1&&(0,UP.jsx)(q,d(d(d(d({variant:"standard"},!P.variant&&{input:_0||(_0=(0,UP.jsx)(pB,{}))}),{},{value:w,onChange:y,id:O,labelId:N},P),{},{classes:d(d({},P.classes),{},{root:ZP(R.input,R.selectRoot,(P.classes||{}).root),select:ZP(R.select,(P.classes||{}).select),icon:ZP(R.selectIcon,(P.classes||{}).icon)}),disabled:h},W),{},{children:C.map((e=>(0,t.createElement)(G,d(d({},K),{},{key:e.label?e.label:e,value:e.value?e.value:e}),e.label?e.label:e)))})),(0,UP.jsx)(Q,d(d({},Y),{},{children:f({from:0===u?0:b*w+1,to:-1===u?(b+1)*w:-1===w?u:Math.min(u,(b+1)*w),count:-1===u?-1:u,page:b})})),(0,UP.jsx)(i,{className:R.actions,backIconButtonProps:s,count:u,nextIconButtonProps:g,onPageChange:v,page:b,rowsPerPage:w,showFirstButton:x,showLastButton:S,slotProps:k.actions,slots:I.actions,getItemAriaLabel:p,disabled:h})]}))}))})),O0=UM(D0)((e=>{let{theme:t}=e;return{maxHeight:"calc(100% + 1px)",flexGrow:1,["& .".concat(w0.selectLabel)]:{display:"none",[t.breakpoints.up("sm")]:{display:"block"}},["& .".concat(w0.input)]:{display:"none",[t.breakpoints.up("sm")]:{display:"inline-flex"}}}})),N0=e=>{let{from:t,to:n,count:r,estimated:o}=e;return o?"".concat(t,"\u2013").concat(n," of ").concat(-1!==r?r:"more than ".concat(o>n?o:n)):"".concat(t,"\u2013").concat(n," of ").concat(-1!==r?r:"more than ".concat(n))},M0=$P((function(e,n){const r=sF(),o=bL(),i=sL(r,hG),a=sL(r,pG),s=sL(r,vG),{paginationMode:l,loading:c,estimatedRowCount:u}=o,d=t.useMemo((()=>-1===a&&"server"===l&&c?{backIconButtonProps:{disabled:!0},nextIconButtonProps:{disabled:!0}}:{}),[c,l,a]),h=t.useMemo((()=>Math.max(0,s-1)),[s]),p=t.useMemo((()=>-1===a||i.page<=h?i.page:h),[h,i.page,a]),f=t.useCallback((e=>{const t=Number(e.target.value);r.current.setPageSize(t)}),[r]),m=t.useCallback(((e,t)=>{r.current.setPage(t)}),[r]);const g=(e=>{for(let t=0;t<o.pageSizeOptions.length;t+=1){const n=o.pageSizeOptions[t];if("number"===typeof n){if(n===e)return!0}else if(n.value===e)return!0}return!1})(i.pageSize)?o.pageSizeOptions:[],v=r.current.getLocaleText("MuiTablePagination"),y=(b=v.labelDisplayedRows||N0,w=u,e=>{let{from:t,to:n,count:r,page:o}=e;return b({from:t,to:n,count:r,page:o,estimated:w})});var b,w;return(0,UP.jsx)(O0,KP({component:"div",count:a,page:p,rowsPerPageOptions:g,rowsPerPage:i.pageSize,onPageChange:m,onRowsPerPageChange:f},d,v,{labelDisplayedRows:y},e,{ref:n}))})),L0=["className"],F0=uF("div",{name:"MuiDataGrid",slot:"PanelContent",overridesResolver:(e,t)=>t.panelContent})({display:"flex",flexDirection:"column",overflow:"auto",flex:"1 1",maxHeight:400});function B0(e){const{className:t}=e,n=i(e,L0),r=bL(),o=(e=>{const{classes:t}=e;return nA({root:["panelContent"]},QM,t)})(r);return(0,UP.jsx)(F0,KP({className:ZP(o.root,t),ownerState:r},n))}const j0=["className"],z0=uF("div",{name:"MuiDataGrid",slot:"PanelFooter",overridesResolver:(e,t)=>t.panelFooter})((e=>{let{theme:t}=e;return{padding:t.spacing(.5),display:"flex",justifyContent:"space-between"}}));function V0(e){const{className:t}=e,n=i(e,j0),r=bL(),o=(e=>{const{classes:t}=e;return nA({root:["panelFooter"]},QM,t)})(r);return(0,UP.jsx)(z0,KP({className:ZP(o.root,t),ownerState:r},n))}const U0=["className","slotProps"],H0=UM("div",{name:"MuiDataGrid",slot:"PanelWrapper",overridesResolver:(e,t)=>t.panelWrapper})({display:"flex",flexDirection:"column",flex:1,"&:focus":{outline:0}}),q0=()=>!0,W0=$P((function(e,t){const{className:n,slotProps:r={}}=e,o=i(e,U0),a=bL(),s=(e=>{const{classes:t}=e;return nA({root:["panelWrapper"]},QM,t)})(a);return(0,UP.jsx)(uJ,KP({open:!0,disableEnforceFocus:!0,isEnabled:q0},r.TrapFocus,{children:(0,UP.jsx)(H0,KP({tabIndex:-1,className:ZP(s.root,n),ownerState:a},o,{ref:t}))}))})),G0=["item","hasMultipleFilters","deleteFilter","applyFilterChanges","showMultiFilterOperators","disableMultiFilterOperator","applyMultiFilterOperatorChanges","focusElementRef","logicOperators","columnsSort","filterColumns","deleteIconProps","logicOperatorInputProps","operatorInputProps","columnInputProps","valueInputProps","readOnly","children"],K0=["InputComponentProps"],Q0=UM("div",{name:"MuiDataGrid",slot:"FilterForm",overridesResolver:(e,t)=>t.filterForm})((e=>{let{theme:t}=e;return{display:"flex",padding:t.spacing(1)}})),Y0=UM("div",{name:"MuiDataGrid",slot:"FilterFormDeleteIcon",overridesResolver:(e,t)=>t.filterFormDeleteIcon})((e=>{let{theme:t}=e;return{flexShrink:0,justifyContent:"flex-end",marginRight:t.spacing(.5),marginBottom:t.spacing(.2)}})),X0=UM("div",{name:"MuiDataGrid",slot:"FilterFormLogicOperatorInput",overridesResolver:(e,t)=>t.filterFormLogicOperatorInput})({minWidth:55,marginRight:5,justifyContent:"end"}),$0=UM("div",{name:"MuiDataGrid",slot:"FilterFormColumnInput",overridesResolver:(e,t)=>t.filterFormColumnInput})({width:150}),J0=UM("div",{name:"MuiDataGrid",slot:"FilterFormOperatorInput",overridesResolver:(e,t)=>t.filterFormOperatorInput})({width:150}),Z0=UM("div",{name:"MuiDataGrid",slot:"FilterFormValueInput",overridesResolver:(e,t)=>t.filterFormValueInput})({width:190}),e1=e=>e.headerName||e.field,t1=new Intl.Collator,n1=$P((function(e,n){var r,o,a,s,l,c,u,d,h,p,f;const{item:m,hasMultipleFilters:g,deleteFilter:v,applyFilterChanges:y,showMultiFilterOperators:b,disableMultiFilterOperator:w,applyMultiFilterOperatorChanges:C,focusElementRef:_,logicOperators:x=[KU.And,KU.Or],columnsSort:S,filterColumns:k,deleteIconProps:I={},logicOperatorInputProps:E={},operatorInputProps:T={},columnInputProps:R={},valueInputProps:P={},readOnly:A}=e,D=i(e,G0),O=sF(),N=sL(O,GL),M=sL(O,eF),L=sL(O,QW),F=IB(),B=IB(),j=IB(),z=IB(),V=bL(),U=(e=>{const{classes:t}=e;return nA({root:["filterForm"],deleteIcon:["filterFormDeleteIcon"],logicOperatorInput:["filterFormLogicOperatorInput"],columnInput:["filterFormColumnInput"],operatorInput:["filterFormOperatorInput"],valueInput:["filterFormValueInput"]},QM,t)})(V),H=t.useRef(null),q=t.useRef(null),W=null!==(r=L.logicOperator)&&void 0!==r?r:KU.And,G=g&&x.length>0,K=(null===(o=V.slotProps)||void 0===o?void 0:o.baseFormControl)||{},Q=null!==(s=((null===(a=V.slotProps)||void 0===a?void 0:a.baseSelect)||{}).native)&&void 0!==s&&s,Y=(null===(l=V.slotProps)||void 0===l?void 0:l.baseInputLabel)||{},X=(null===(c=V.slotProps)||void 0===c?void 0:c.baseSelectOption)||{},{InputComponentProps:$}=P,J=i(P,K0),{filteredColumns:Z,selectedField:ee}=t.useMemo((()=>{let e=m.field;const t=!1===N[m.field].filterable?N[m.field]:null;if(t)return{filteredColumns:[t],selectedField:e};if(void 0===k||"function"!==typeof k)return{filteredColumns:M,selectedField:e};const n=k({field:m.field,columns:M,currentFilters:(null===L||void 0===L?void 0:L.items)||[]});return{filteredColumns:M.filter((t=>{const r=n.includes(t.field);return t.field!==m.field||r||(e=void 0),r})),selectedField:e}}),[k,null===L||void 0===L?void 0:L.items,M,m.field,N]),te=t.useMemo((()=>{switch(S){case"asc":return Z.sort(((e,t)=>t1.compare(e1(e),e1(t))));case"desc":return Z.sort(((e,t)=>-t1.compare(e1(e),e1(t))));default:return Z}}),[Z,S]),ne=m.field?O.current.getColumn(m.field):null,re=t.useMemo((()=>{var e;return m.operator&&ne?null===(e=ne.filterOperators)||void 0===e?void 0:e.find((e=>e.value===m.operator)):null}),[m,ne]),oe=t.useCallback((e=>{const t=e.target.value,n=O.current.getColumn(t);if(n.field===ne.field)return;const r=n.filterOperators.find((e=>e.value===m.operator))||n.filterOperators[0];let o=!r.InputComponent||r.InputComponent!==(null===re||void 0===re?void 0:re.InputComponent)||n.type!==ne.type?void 0:m.value;if("singleSelect"===n.type&&void 0!==o){const e=n,t=vq(e);Array.isArray(o)?o=o.filter((n=>void 0!==yq(n,t,null===e||void 0===e?void 0:e.getOptionValue))):void 0===yq(m.value,t,null===e||void 0===e?void 0:e.getOptionValue)&&(o=void 0)}y(KP({},m,{field:t,operator:r.value,value:o}))}),[O,y,m,ne,re]),ie=t.useCallback((e=>{const t=e.target.value,n=null===ne||void 0===ne?void 0:ne.filterOperators.find((e=>e.value===t)),r=!(null!==n&&void 0!==n&&n.InputComponent)||(null===n||void 0===n?void 0:n.InputComponent)!==(null===re||void 0===re?void 0:re.InputComponent);y(KP({},m,{operator:t,value:r?void 0:m.value}))}),[y,m,ne,re]),ae=t.useCallback((e=>{const t=e.target.value===KU.And.toString()?KU.And:KU.Or;C(t)}),[C]);return t.useImperativeHandle(_,(()=>({focus:()=>{var e;null!==re&&void 0!==re&&re.InputComponent?null===H||void 0===H||null===(e=H.current)||void 0===e||e.focus():q.current.focus()}})),[re]),(0,UP.jsxs)(Q0,KP({className:U.root,"data-id":m.id,ownerState:V},D,{ref:n,children:[(0,UP.jsx)(Y0,KP({variant:"standard",as:V.slots.baseFormControl},K,I,{className:ZP(U.deleteIcon,K.className,I.className),ownerState:V,children:(0,UP.jsx)(V.slots.baseIconButton,KP({"aria-label":O.current.getLocaleText("filterPanelDeleteIconLabel"),title:O.current.getLocaleText("filterPanelDeleteIconLabel"),onClick:()=>{v(m)},size:"small",disabled:A},null===(u=V.slotProps)||void 0===u?void 0:u.baseIconButton,{children:(0,UP.jsx)(V.slots.filterPanelDeleteIcon,{fontSize:"small"})}))})),(0,UP.jsx)(X0,KP({variant:"standard",as:V.slots.baseFormControl},K,E,{sx:[G?{display:"flex"}:{display:"none"},b?{visibility:"visible"}:{visibility:"hidden"},K.sx,E.sx],className:ZP(U.logicOperatorInput,K.className,E.className),ownerState:V,children:(0,UP.jsx)(V.slots.baseSelect,KP({inputProps:{"aria-label":O.current.getLocaleText("filterPanelLogicOperator")},value:null!==W&&void 0!==W?W:"",onChange:ae,disabled:!!w||1===x.length,native:Q},null===(d=V.slotProps)||void 0===d?void 0:d.baseSelect,{children:x.map((e=>(0,t.createElement)(V.slots.baseSelectOption,KP({},X,{native:Q,key:e.toString(),value:e.toString()}),O.current.getLocaleText((e=>{switch(e){case KU.And:return"filterPanelOperatorAnd";case KU.Or:return"filterPanelOperatorOr";default:throw new Error("MUI X: Invalid `logicOperator` property in the `GridFilterPanel`.")}})(e)))))}))})),(0,UP.jsxs)($0,KP({variant:"standard",as:V.slots.baseFormControl},K,R,{className:ZP(U.columnInput,K.className,R.className),ownerState:V,children:[(0,UP.jsx)(V.slots.baseInputLabel,KP({},Y,{htmlFor:F,id:B,children:O.current.getLocaleText("filterPanelColumns")})),(0,UP.jsx)(V.slots.baseSelect,KP({labelId:B,id:F,label:O.current.getLocaleText("filterPanelColumns"),value:null!==ee&&void 0!==ee?ee:"",onChange:oe,native:Q,disabled:A},null===(h=V.slotProps)||void 0===h?void 0:h.baseSelect,{children:te.map((e=>(0,t.createElement)(V.slots.baseSelectOption,KP({},X,{native:Q,key:e.field,value:e.field}),e1(e))))}))]})),(0,UP.jsxs)(J0,KP({variant:"standard",as:V.slots.baseFormControl},K,T,{className:ZP(U.operatorInput,K.className,T.className),ownerState:V,children:[(0,UP.jsx)(V.slots.baseInputLabel,KP({},Y,{htmlFor:j,id:z,children:O.current.getLocaleText("filterPanelOperator")})),(0,UP.jsx)(V.slots.baseSelect,KP({labelId:z,label:O.current.getLocaleText("filterPanelOperator"),id:j,value:m.operator,onChange:ie,native:Q,inputRef:q,disabled:A},null===(p=V.slotProps)||void 0===p?void 0:p.baseSelect,{children:null===ne||void 0===ne||null===(f=ne.filterOperators)||void 0===f?void 0:f.map((e=>(0,t.createElement)(V.slots.baseSelectOption,KP({},X,{native:Q,key:e.value,value:e.value}),e.label||O.current.getLocaleText("filterOperator".concat(tA(e.value))))))}))]})),(0,UP.jsx)(Z0,KP({variant:"standard",as:V.slots.baseFormControl},K,J,{className:ZP(U.valueInput,K.className,J.className),ownerState:V,children:null!==re&&void 0!==re&&re.InputComponent?(0,UP.jsx)(re.InputComponent,KP({apiRef:O,item:m,applyValue:y,focusElementRef:H,disabled:A},re.InputComponentProps,$),m.field):null}))]}))})),r1=["logicOperators","columnsSort","filterFormProps","getColumnForNewFilter","children","disableAddFilterButton","disableRemoveAllButton"],o1=e=>({field:e.field,operator:e.filterOperators[0].value,id:Math.round(1e5*Math.random())}),i1=$P((function(e,n){var r,o;const a=sF(),s=bL(),l=sL(a,QW),c=sL(a,eF),u=sL(a,tF),d=t.useRef(null),h=t.useRef(null),{logicOperators:p=[KU.And,KU.Or],columnsSort:f,filterFormProps:m,getColumnForNewFilter:g,disableAddFilterButton:v=!1,disableRemoveAllButton:y=!1}=e,b=i(e,r1),w=a.current.upsertFilterItem,C=t.useCallback((e=>{a.current.setFilterLogicOperator(e)}),[a]),_=t.useCallback((()=>{let e;if(g&&"function"===typeof g){const t=g({currentFilters:(null===l||void 0===l?void 0:l.items)||[],columns:c});if(null===t)return null;e=c.find((e=>{let{field:n}=e;return n===t}))}else e=c.find((e=>{var t;return null===(t=e.filterOperators)||void 0===t?void 0:t.length}));return e?o1(e):null}),[null===l||void 0===l?void 0:l.items,c,g]),x=t.useCallback((()=>{if(void 0===g||"function"!==typeof g)return _();const e=l.items.length?l.items:[_()].filter(Boolean),t=g({currentFilters:e,columns:c});if(null===t)return null;const n=c.find((e=>{let{field:n}=e;return n===t}));return n?o1(n):null}),[l.items,c,g,_]),S=t.useMemo((()=>l.items.length?l.items:(h.current||(h.current=_()),h.current?[h.current]:[])),[l.items,_]),k=S.length>1,{readOnlyFilters:I,validFilters:E}=t.useMemo((()=>S.reduce(((e,t)=>(u[t.field]?e.validFilters.push(t):e.readOnlyFilters.push(t),e)),{readOnlyFilters:[],validFilters:[]})),[S,u]),T=t.useCallback((()=>{const e=x();e&&a.current.upsertFilterItems([...S,e])}),[a,x,S]),R=t.useCallback((e=>{const t=1===E.length;a.current.deleteFilterItem(e),t&&a.current.hideFilterPanel()}),[a,E.length]),P=t.useCallback((()=>1===E.length&&void 0===E[0].value?(a.current.deleteFilterItem(E[0]),a.current.hideFilterPanel()):a.current.setFilterModel(KP({},l,{items:I}),"removeAllFilterItems")),[a,I,l,E]);return t.useEffect((()=>{p.length>0&&l.logicOperator&&!p.includes(l.logicOperator)&&C(p[0])}),[p,C,l.logicOperator]),t.useEffect((()=>{E.length>0&&d.current.focus()}),[E.length]),(0,UP.jsxs)(W0,KP({},b,{ref:n,children:[(0,UP.jsxs)(B0,{children:[I.map(((e,t)=>(0,UP.jsx)(n1,KP({item:e,applyFilterChanges:w,deleteFilter:R,hasMultipleFilters:k,showMultiFilterOperators:t>0,disableMultiFilterOperator:1!==t,applyMultiFilterOperatorChanges:C,focusElementRef:null,readOnly:!0,logicOperators:p,columnsSort:f},m),null==e.id?t:e.id))),E.map(((e,t)=>(0,UP.jsx)(n1,KP({item:e,applyFilterChanges:w,deleteFilter:R,hasMultipleFilters:k,showMultiFilterOperators:I.length+t>0,disableMultiFilterOperator:I.length+t!==1,applyMultiFilterOperatorChanges:C,focusElementRef:t===E.length-1?d:null,logicOperators:p,columnsSort:f},m),null==e.id?t+I.length:e.id)))]}),s.disableMultipleColumnsFiltering||v&&y?null:(0,UP.jsxs)(V0,{children:[v?(0,UP.jsx)("span",{}):(0,UP.jsx)(s.slots.baseButton,KP({onClick:T,startIcon:(0,UP.jsx)(s.slots.filterPanelAddIcon,{})},null===(r=s.slotProps)||void 0===r?void 0:r.baseButton,{children:a.current.getLocaleText("filterPanelAddFilter")})),!y&&E.length>0?(0,UP.jsx)(s.slots.baseButton,KP({onClick:P,startIcon:(0,UP.jsx)(s.slots.filterPanelRemoveAllIcon,{})},null===(o=s.slotProps)||void 0===o?void 0:o.baseButton,{children:a.current.getLocaleText("filterPanelRemoveAll")})):null]})]}))}));function a1(e){return GM("MuiTypography",e)}const s1=KM("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),l1=["color"],c1=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],u1={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},d1=LF,h1=UM("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t["align".concat(JF(n.align))],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})(QF((e=>{var t;let{theme:n}=e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(n.typography).filter((e=>{let[t,n]=e;return"inherit"!==t&&n&&"object"===typeof n})).map((e=>{let[t,n]=e;return{props:{variant:t},style:n}})),...Object.entries(n.palette).filter(Gz()).map((e=>{let[t]=e;return{props:{color:t},style:{color:(n.vars||n).palette[t].main}}})),...Object.entries((null===(t=n.palette)||void 0===t?void 0:t.text)||{}).filter((e=>{let[,t]=e;return"string"===typeof t})).map((e=>{let[t]=e;return{props:{color:"text".concat(JF(t))},style:{color:(n.vars||n).palette.text[t]}}})),{props:e=>{let{ownerState:t}=e;return"inherit"!==t.align},style:{textAlign:"var(--Typography-textAlign)"}},{props:e=>{let{ownerState:t}=e;return t.noWrap},style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:e=>{let{ownerState:t}=e;return t.gutterBottom},style:{marginBottom:"0.35em"}},{props:e=>{let{ownerState:t}=e;return t.paragraph},style:{marginBottom:16}}]}}))),p1={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},f1=t.forwardRef((function(e,t){const n=$F({props:e,name:"MuiTypography"}),{color:r}=n,o=a(n,l1),i=!u1[r],s=d1(d(d({},o),i&&{color:r})),{align:l="inherit",className:c,component:u,gutterBottom:h=!1,noWrap:p=!1,paragraph:f=!1,variant:m="body1",variantMapping:g=p1}=s,v=a(s,c1),y=d(d({},s),{},{align:l,color:r,className:c,component:u,gutterBottom:h,noWrap:p,paragraph:f,variant:m,variantMapping:g}),b=u||(f?"p":g[m]||p1[m])||"span",w=(e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:o,variant:i,classes:a}=e;return nA({root:["root",i,"inherit"!==e.align&&"align".concat(JF(t)),n&&"gutterBottom",r&&"noWrap",o&&"paragraph"]},a1,a)})(y);return(0,UP.jsx)(h1,d(d({as:b,ref:t,className:ZP(w.root,c)},v),{},{ownerState:y,style:d(d({},"inherit"!==l&&{"--Typography-textAlign":l}),v.style)}))})),m1=f1;function g1(e){return GM("MuiFormControlLabel",e)}const v1=KM("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),y1=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slots","slotProps","value"],b1=UM("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["& .".concat(v1.label)]:t.label},t.root,t["labelPlacement".concat(JF(n.labelPlacement))]]}})(QF((e=>{let{theme:t}=e;return{display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,["&.".concat(v1.disabled)]:{cursor:"default"},["& .".concat(v1.label)]:{["&.".concat(v1.disabled)]:{color:(t.vars||t).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:e=>{let{labelPlacement:t}=e;return"start"===t||"top"===t||"bottom"===t},style:{marginLeft:16}}]}}))),w1=UM("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(QF((e=>{let{theme:t}=e;return{["&.".concat(v1.error)]:{color:(t.vars||t).palette.error.main}}}))),C1=t.forwardRef((function(e,n){var r;const o=$F({props:e,name:"MuiFormControlLabel"}),{checked:i,className:s,componentsProps:l={},control:c,disabled:u,disableTypography:h,inputRef:p,label:f,labelPlacement:m="end",name:g,onChange:v,required:y,slots:b={},slotProps:w={},value:C}=o,_=a(o,y1),x=NF(),S=null!==(r=null!==u&&void 0!==u?u:c.props.disabled)&&void 0!==r?r:null===x||void 0===x?void 0:x.disabled,k=null!==y&&void 0!==y?y:c.props.required,I={disabled:S,required:k};["checked","name","onChange","value","inputRef"].forEach((e=>{"undefined"===typeof c.props[e]&&"undefined"!==typeof o[e]&&(I[e]=o[e])}));const E=DF({props:o,muiFormControl:x,states:["error"]}),T=d(d({},o),{},{disabled:S,labelPlacement:m,required:k,error:E.error}),R=(e=>{const{classes:t,disabled:n,labelPlacement:r,error:o,required:i}=e;return nA({root:["root",n&&"disabled","labelPlacement".concat(JF(r)),o&&"error",i&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",o&&"error"]},g1,t)})(T),P={slots:b,slotProps:d(d({},l),w)},[A,D]=SU("typography",{elementType:m1,externalForwardedProps:P,ownerState:T});let O=f;return null==O||O.type===m1||h||(O=(0,UP.jsx)(A,d(d({component:"span"},D),{},{className:ZP(R.label,null===D||void 0===D?void 0:D.className),children:O}))),(0,UP.jsxs)(b1,d(d({className:ZP(R.root,s),ownerState:T,ref:n},_),{},{children:[t.cloneElement(c,I),k?(0,UP.jsxs)("div",{children:[O,(0,UP.jsxs)(w1,{ownerState:T,"aria-hidden":!0,className:R.asterisk,children:["\u2009","*"]})]}):O]}))})),_1=C1;function x1(e){return GM("MuiFormLabel",e)}const S1=KM("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),k1=["children","className","color","component","disabled","error","filled","focused","required"],I1=UM("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"secondary"===n.color&&t.colorSecondary,n.filled&&t.filled]}})(QF((e=>{let{theme:t}=e;return d(d({color:(t.vars||t).palette.text.secondary},t.typography.body1),{},{lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(t.palette).filter(Gz()).map((e=>{let[n]=e;return{props:{color:n},style:{["&.".concat(S1.focused)]:{color:(t.vars||t).palette[n].main}}}})),{props:{},style:{["&.".concat(S1.disabled)]:{color:(t.vars||t).palette.text.disabled},["&.".concat(S1.error)]:{color:(t.vars||t).palette.error.main}}}]})}))),E1=UM("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(QF((e=>{let{theme:t}=e;return{["&.".concat(S1.error)]:{color:(t.vars||t).palette.error.main}}}))),T1=t.forwardRef((function(e,t){const n=$F({props:e,name:"MuiFormLabel"}),{children:r,className:o,color:i,component:s="label",disabled:l,error:c,filled:u,focused:h,required:p}=n,f=a(n,k1),m=DF({props:n,muiFormControl:NF(),states:["color","required","focused","disabled","error","filled"]}),g=d(d({},n),{},{color:m.color||"primary",component:s,disabled:m.disabled,error:m.error,filled:m.filled,focused:m.focused,required:m.required}),v=(e=>{const{classes:t,color:n,focused:r,disabled:o,error:i,filled:a,required:s}=e;return nA({root:["root","color".concat(JF(n)),o&&"disabled",i&&"error",a&&"filled",r&&"focused",s&&"required"],asterisk:["asterisk",i&&"error"]},x1,t)})(g);return(0,UP.jsxs)(I1,d(d({as:s,ownerState:g,className:ZP(v.root,o),ref:t},f),{},{children:[r,m.required&&(0,UP.jsxs)(E1,{ownerState:g,"aria-hidden":!0,className:v.asterisk,children:["\u2009","*"]})]}))})),R1=T1;function P1(e){return GM("MuiInputLabel",e)}KM("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const A1=["disableAnimation","margin","shrink","variant","className"],D1=UM(R1,{shouldForwardProp:e=>VM(e)||"classes"===e,name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["& .".concat(S1.asterisk)]:t.asterisk},t.root,n.formControl&&t.formControl,"small"===n.size&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,n.focused&&t.focused,t[n.variant]]}})(QF((e=>{let{theme:t}=e;return{display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:e=>{let{ownerState:t}=e;return t.formControl},style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:e=>{let{ownerState:t}=e;return t.shrink},style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:e=>{let{ownerState:t}=e;return!t.disableAnimation},style:{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:e=>{let{variant:t,ownerState:n}=e;return"filled"===t&&n.shrink},style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:e=>{let{variant:t,ownerState:n,size:r}=e;return"filled"===t&&n.shrink&&"small"===r},style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:e=>{let{variant:t,ownerState:n}=e;return"outlined"===t&&n.shrink},style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}}))),O1=t.forwardRef((function(e,t){const n=$F({name:"MuiInputLabel",props:e}),{disableAnimation:r=!1,margin:o,shrink:i,variant:s,className:l}=n,c=a(n,A1),u=NF();let h=i;"undefined"===typeof h&&u&&(h=u.filled||u.focused||u.adornedStart);const p=DF({props:n,muiFormControl:u,states:["size","variant","required","focused"]}),f=d(d({},n),{},{disableAnimation:r,formControl:u,shrink:h,size:p.size,variant:p.variant,required:p.required,focused:p.focused}),m=(e=>{const{classes:t,formControl:n,size:r,shrink:o,disableAnimation:i,variant:a,required:s}=e,l=nA({root:["root",n&&"formControl",!i&&"animated",o&&"shrink",r&&"normal"!==r&&"size".concat(JF(r)),a],asterisk:[s&&"asterisk"]},P1,t);return d(d({},t),l)})(f);return(0,UP.jsx)(D1,d(d({"data-shrink":h,ref:t,className:ZP(m.root,l)},c),{},{ownerState:f,classes:m}))})),N1=O1;const M1=function(e,n){var r,o;return t.isValidElement(e)&&-1!==n.indexOf(null!==(r=e.type.muiName)&&void 0!==r?r:null===(o=e.type)||void 0===o||null===(o=o._payload)||void 0===o||null===(o=o.value)||void 0===o?void 0:o.muiName)};function L1(e){return GM("MuiFormControl",e)}KM("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const F1=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],B1=UM("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["margin".concat(JF(n.margin))],n.fullWidth&&t.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),j1=t.forwardRef((function(e,n){const r=$F({props:e,name:"MuiFormControl"}),{children:o,className:i,color:s="primary",component:l="div",disabled:c=!1,error:u=!1,focused:h,fullWidth:p=!1,hiddenLabel:f=!1,margin:m="none",required:g=!1,size:v="medium",variant:y="outlined"}=r,b=a(r,F1),w=d(d({},r),{},{color:s,component:l,disabled:c,error:u,fullWidth:p,hiddenLabel:f,margin:m,required:g,size:v,variant:y}),C=(e=>{const{classes:t,margin:n,fullWidth:r}=e;return nA({root:["root","none"!==n&&"margin".concat(JF(n)),r&&"fullWidth"]},L1,t)})(w),[_,x]=t.useState((()=>{let e=!1;return o&&t.Children.forEach(o,(t=>{if(!M1(t,["Input","Select"]))return;const n=M1(t,["Select"])?t.props.input:t;n&&n.props.startAdornment&&(e=!0)})),e})),[S,k]=t.useState((()=>{let e=!1;return o&&t.Children.forEach(o,(t=>{M1(t,["Input","Select"])&&(nB(t.props,!0)||nB(t.props.inputProps,!0))&&(e=!0)})),e})),[I,E]=t.useState(!1);c&&I&&E(!1);const T=void 0===h||c?I:h;let R;t.useRef(!1);const P=t.useCallback((()=>{k(!0)}),[]),A=t.useCallback((()=>{k(!1)}),[]),D=t.useMemo((()=>({adornedStart:_,setAdornedStart:x,color:s,disabled:c,error:u,filled:S,focused:T,fullWidth:p,hiddenLabel:f,size:v,onBlur:()=>{E(!1)},onFocus:()=>{E(!0)},onEmpty:A,onFilled:P,registerEffect:R,required:g,variant:y})),[_,s,c,u,S,T,p,f,R,A,P,g,v,y]);return(0,UP.jsx)(OF.Provider,{value:D,children:(0,UP.jsx)(B1,d(d({as:l,ownerState:w,className:ZP(C.root,i),ref:n},b),{},{children:o}))})})),z1=j1;function V1(e){return GM("MuiFormHelperText",e)}const U1=KM("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),H1=["children","className","component","disabled","error","filled","focused","margin","required","variant"];var q1;const W1=UM("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size&&t["size".concat(JF(n.size))],n.contained&&t.contained,n.filled&&t.filled]}})(QF((e=>{let{theme:t}=e;return d(d({color:(t.vars||t).palette.text.secondary},t.typography.caption),{},{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,["&.".concat(U1.disabled)]:{color:(t.vars||t).palette.text.disabled},["&.".concat(U1.error)]:{color:(t.vars||t).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:e=>{let{ownerState:t}=e;return t.contained},style:{marginLeft:14,marginRight:14}}]})}))),G1=t.forwardRef((function(e,t){const n=$F({props:e,name:"MuiFormHelperText"}),{children:r,className:o,component:i="p",disabled:s,error:l,filled:c,focused:u,margin:h,required:p,variant:f}=n,m=a(n,H1),g=DF({props:n,muiFormControl:NF(),states:["variant","size","disabled","error","filled","focused","required"]}),v=d(d({},n),{},{component:i,contained:"filled"===g.variant||"outlined"===g.variant,variant:g.variant,size:g.size,disabled:g.disabled,error:g.error,filled:g.filled,focused:g.focused,required:g.required});delete v.ownerState;const y=(e=>{const{classes:t,contained:n,size:r,disabled:o,error:i,filled:a,focused:s,required:l}=e;return nA({root:["root",o&&"disabled",i&&"error",r&&"size".concat(JF(r)),n&&"contained",s&&"focused",a&&"filled",l&&"required"]},V1,t)})(v);return(0,UP.jsx)(W1,d(d({as:i,className:ZP(y.root,o),ref:t},m),{},{ownerState:v,children:" "===r?q1||(q1=(0,UP.jsx)("span",{className:"notranslate","aria-hidden":!0,children:"\u200b"})):r}))})),K1=G1;function Q1(e){return GM("MuiTextField",e)}KM("MuiTextField",["root"]);const Y1=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","slots","slotProps","type","value","variant"],X1={standard:RZ,filled:NZ,outlined:qZ},$1=UM(z1,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),J1=t.forwardRef((function(e,t){const n=$F({props:e,name:"MuiTextField"}),{autoComplete:r,autoFocus:o=!1,children:i,className:s,color:l="primary",defaultValue:c,disabled:u=!1,error:h=!1,FormHelperTextProps:p,fullWidth:f=!1,helperText:m,id:g,InputLabelProps:v,inputProps:y,InputProps:b,inputRef:w,label:C,maxRows:_,minRows:x,multiline:S=!1,name:k,onBlur:I,onChange:E,onFocus:T,placeholder:R,required:P=!1,rows:A,select:D=!1,SelectProps:O,slots:N={},slotProps:M={},type:L,value:F,variant:B="outlined"}=n,j=a(n,Y1),z=d(d({},n),{},{autoFocus:o,color:l,disabled:u,error:h,fullWidth:f,multiline:S,required:P,select:D,variant:B}),V=(e=>{const{classes:t}=e;return nA({root:["root"]},Q1,t)})(z);const U=IB(g),H=m&&U?"".concat(U,"-helper-text"):void 0,q=C&&U?"".concat(U,"-label"):void 0,W=X1[B],G={slots:N,slotProps:d({input:b,inputLabel:v,htmlInput:y,formHelperText:p,select:O},M)},K={},Q=G.slotProps.inputLabel;"outlined"===B&&(Q&&"undefined"!==typeof Q.shrink&&(K.notched=Q.shrink),K.label=C),D&&(O&&O.native||(K.id=void 0),K["aria-describedby"]=void 0);const[Y,X]=SU("input",{elementType:W,externalForwardedProps:G,additionalProps:K,ownerState:z}),[$,J]=SU("inputLabel",{elementType:N1,externalForwardedProps:G,ownerState:z}),[Z,ee]=SU("htmlInput",{elementType:"input",externalForwardedProps:G,ownerState:z}),[te,ne]=SU("formHelperText",{elementType:K1,externalForwardedProps:G,ownerState:z}),[re,oe]=SU("select",{elementType:JZ,externalForwardedProps:G,ownerState:z}),ie=(0,UP.jsx)(Y,d({"aria-describedby":H,autoComplete:r,autoFocus:o,defaultValue:c,fullWidth:f,multiline:S,name:k,rows:A,maxRows:_,minRows:x,type:L,value:F,id:U,inputRef:w,onBlur:I,onChange:E,onFocus:T,placeholder:R,inputProps:ee,slots:{input:N.htmlInput?Z:void 0}},X));return(0,UP.jsxs)($1,d(d({className:ZP(V.root,s),disabled:u,error:h,fullWidth:f,ref:t,required:P,color:l,variant:B,ownerState:z},j),{},{children:[null!=C&&""!==C&&(0,UP.jsx)($,d(d({htmlFor:U,id:q},J),{},{children:C})),D?(0,UP.jsx)(re,d(d({"aria-describedby":H,id:U,labelId:q,value:F,input:ie},oe),{},{children:i})):ie,m&&(0,UP.jsx)(te,d(d({id:H},ne),{},{children:m}))]}))})),Z1=J1,e2=(e,t)=>(e.headerName||e.field).toLowerCase().indexOf(t)>-1,t2=new Intl.Collator;const n2=UM("div",{name:"MuiDataGrid",slot:"ColumnsManagement",overridesResolver:(e,t)=>t.columnsManagement})((e=>{let{theme:t}=e;return{padding:t.spacing(0,3,1.5),display:"flex",flexDirection:"column",overflow:"auto",flex:"1 1",maxHeight:400,alignItems:"flex-start"}})),r2=UM("div",{name:"MuiDataGrid",slot:"ColumnsManagementHeader",overridesResolver:(e,t)=>t.columnsManagementHeader})((e=>{let{theme:t}=e;return{padding:t.spacing(1.5,3)}})),o2=UM(Z1,{name:"MuiDataGrid",slot:"ColumnsManagementSearchInput",overridesResolver:(e,t)=>t.columnsManagementSearchInput})((e=>{let{theme:t}=e;return{["& .".concat(oB.root)]:{padding:t.spacing(0,1.5,0,1.5)},["& .".concat(oB.input,"::-webkit-search-decoration,\n  & .").concat(oB.input,"::-webkit-search-cancel-button,\n  & .").concat(oB.input,"::-webkit-search-results-button,\n  & .").concat(oB.input,"::-webkit-search-results-decoration")]:{display:"none"}}})),i2=UM("div",{name:"MuiDataGrid",slot:"ColumnsManagementFooter",overridesResolver:(e,t)=>t.columnsManagementFooter})((e=>{let{theme:t}=e;return{padding:t.spacing(.5,1,.5,3),display:"flex",justifyContent:"space-between",borderTop:"1px solid ".concat(t.palette.divider)}})),a2=UM("div")((e=>{let{theme:t}=e;return{padding:t.spacing(.5,0),color:t.palette.grey[500]}})),s2=["children","className","classes"],l2=KM("MuiDataGrid",["panel","paper"]),c2=UM(Oz,{name:"MuiDataGrid",slot:"Panel",overridesResolver:(e,t)=>t.panel})((e=>{let{theme:t}=e;return{zIndex:t.zIndex.modal}})),u2=UM(qz,{name:"MuiDataGrid",slot:"Paper",overridesResolver:(e,t)=>t.paper})((e=>{let{theme:t}=e;return{backgroundColor:(t.vars||t).palette.background.paper,minWidth:300,maxHeight:450,display:"flex",maxWidth:"calc(100vw - ".concat(t.spacing(.5),")"),overflow:"auto"}})),d2=$P(((e,n)=>{const{children:r,className:o}=e,a=i(e,s2),s=sF(),l=bL(),c=l2,[u,d]=t.useState(!1),h=t.useCallback((()=>{s.current.hidePreferences()}),[s]),p=t.useCallback((e=>{"Escape"===e.key&&s.current.hidePreferences()}),[s]),f=t.useMemo((()=>[{name:"flip",enabled:!0,options:{rootBoundary:"document"}},{name:"isPlaced",enabled:!0,phase:"main",fn:()=>{d(!0)},effect:()=>()=>{d(!1)}}]),[]),[m,g]=t.useState(null);return t.useEffect((()=>{var e;const t=null===(e=s.current.rootElementRef)||void 0===e||null===(e=e.current)||void 0===e?void 0:e.querySelector('[data-id="gridPanelAnchor"]');t&&g(t)}),[s]),m?(0,UP.jsx)(c2,KP({placement:"bottom-start",className:ZP(c.panel,o),ownerState:l,anchorEl:m,modifiers:f},a,{ref:n,children:(0,UP.jsx)(Xq,{mouseEvent:"onPointerUp",touchEvent:!1,onClickAway:h,children:(0,UP.jsx)(u2,{className:c.paper,ownerState:l,elevation:8,onKeyDown:p,children:u&&r})})})):null}));const h2=["selected","rowId","row","index","style","rowHeight","className","visibleColumns","pinnedColumns","offsetLeft","columnsTotalWidth","firstColumnIndex","lastColumnIndex","focusedColumnIndex","isFirstVisible","isLastVisible","isNotVisible","showBottomBorder","scrollbarWidth","gridHasFiller","onClick","onDoubleClick","onMouseEnter","onMouseLeave","onMouseOut","onMouseOver"],p2=FL(PY,((e,t)=>{if(!t)return!1;return!!function(e){for(const t in e)return!1;return!0}(e)})),f2=$P((function(e,n){const{selected:r,rowId:o,row:a,index:s,style:l,rowHeight:c,className:u,visibleColumns:d,pinnedColumns:h,offsetLeft:p,columnsTotalWidth:f,firstColumnIndex:m,lastColumnIndex:g,focusedColumnIndex:v,isFirstVisible:y,isLastVisible:b,isNotVisible:w,showBottomBorder:C,scrollbarWidth:_,gridHasFiller:x,onClick:S,onDoubleClick:k,onMouseEnter:I,onMouseLeave:E,onMouseOut:T,onMouseOver:R}=e,P=i(e,h2),A=uL(),D=bK(),O=t.useRef(null),N=bL(),M=xG(A),L=sL(A,WW),F=sL(A,LH),B=sL(A,JL),j=N.rowReordering,z=lL(A,p2,j),V=oA(O,n),U=A.current.getRowNode(o),H=lL(A,AY,o),q=N.editMode===pq.Row,W=void 0!==v,G=W&&v>=h.left.length&&v<m,K=W&&v<d.length-h.right.length&&v>=g,Q=function(e,t){return nA(t,QM,e)}(N.classes,{root:["row",r&&"selected",q&&"row--editable",H&&"row--editing",y&&"row--firstVisible",b&&"row--lastVisible",C&&"row--borderBottom","auto"===c&&"row--dynamicHeight"]}),Y=D.hooks.useGridRowAriaAttributes();t.useLayoutEffect((()=>{if(M.range){const e=A.current.getRowIndexRelativeToVisibleRows(o);void 0!==e&&A.current.unstable_setLastMeasuredRowIndex(e)}if(O.current&&"auto"===c)return A.current.observeRowHeight(O.current,o)}),[A,M.range,c,o]);const X=t.useCallback(((e,t)=>n=>{vY(n)||A.current.getRow(o)&&(A.current.publishEvent(e,A.current.getRowParams(o),n),t&&t(n))}),[A,o]),$=t.useCallback((e=>{const t=fY(e.target,YM.cell),n=null===t||void 0===t?void 0:t.getAttribute("data-field");if(n){if(n===CQ.field)return;if(n===ZH)return;if("__reorder__"===n)return;if(A.current.getCellMode(o,n)===fq.Edit)return;const e=A.current.getColumn(n);if((null===e||void 0===e?void 0:e.type)===CW)return}X("rowClick",S)(e)}),[A,S,X,o]),{slots:J,slotProps:Z,disableColumnReorder:ee}=N,te=sL(A,(()=>KP({},A.current.getRowHeightEntry(o))),oL),ne=t.useMemo((()=>{if(w)return{opacity:0,width:0,height:0};const e=KP({},l,{maxHeight:"auto"===c?"none":c,minHeight:c,"--height":"number"===typeof c?"".concat(c,"px"):c});if(te.spacingTop){e["border"===N.rowSpacingType?"borderTopWidth":"marginTop"]=te.spacingTop}if(te.spacingBottom){const t="border"===N.rowSpacingType?"borderBottomWidth":"marginBottom";let n=e[t];"number"!==typeof n&&(n=parseInt(n||"0",10)),n+=te.spacingBottom,e[t]=n}return e}),[w,c,l,te,N.rowSpacingType]),re=A.current.unstable_applyPipeProcessors("rowClassName",[],o),oe=U?Y(U,s):void 0;if("function"===typeof N.getRowClassName){var ie;const e=s-((null===(ie=M.range)||void 0===ie?void 0:ie.firstRowIndex)||0),t=KP({},A.current.getRowParams(o),{isFirstVisible:0===e,isLastVisible:e===M.rows.length-1,indexRelativeToCurrentPage:e});re.push(N.getRowClassName(t))}if(!U)return null;const ae=function(e,t,n,r){var i,s;let l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:eq.NONE;const u=A.current.unstable_getCellColSpanInfo(o,n);if(null!==u&&void 0!==u&&u.spannedByColSpan)return null;const d=null!==(i=null===u||void 0===u?void 0:u.cellProps.width)&&void 0!==i?i:e.computedWidth,h=null!==(s=null===u||void 0===u?void 0:u.cellProps.colSpan)&&void 0!==s?s:1,p=G$(l,e.computedWidth,n,B,f,_);if("skeletonRow"===(null===U||void 0===U?void 0:U.type))return(0,UP.jsx)(J.skeletonCell,{type:e.type,width:d,height:c,field:e.field,align:e.align},e.field);const m="__reorder__"===e.field,g=!(ee||e.disableReorder),v=z&&!L.length&&F<=1,y=!(g||m&&v),b=l===eq.VIRTUAL,w=Q$(l,t),C=K$(l,t,r,N.showCellVerticalBorder,x);return(0,UP.jsx)(J.cell,KP({column:e,width:d,rowId:o,align:e.align||"left",colIndex:n,colSpan:h,disableDragEvents:y,isNotVisible:b,pinnedOffset:p,pinnedPosition:l,showLeftBorder:w,showRightBorder:C,row:a,rowNode:U},null===Z||void 0===Z?void 0:Z.cell),e.field)},se=h.left.map(((e,t)=>ae(e,t,t,h.left.length,eq.LEFT))),le=h.right.map(((e,t)=>{const n=d.length-h.right.length+t;return ae(e,t,n,h.right.length,eq.RIGHT)})),ce=d.length-h.left.length-h.right.length,ue=[];G&&ue.push(ae(d[v],v-h.left.length,v,ce,eq.VIRTUAL));for(let t=m;t<g;t+=1){const e=d[t],n=t-h.left.length;e&&ue.push(ae(e,n,t,ce))}K&&ue.push(ae(d[v],v-h.left.length,v,ce,eq.VIRTUAL));const de=a?{onClick:$,onDoubleClick:X("rowDoubleClick",k),onMouseEnter:X("rowMouseEnter",I),onMouseLeave:X("rowMouseLeave",E),onMouseOut:X("rowMouseOut",T),onMouseOver:X("rowMouseOver",R)}:null;return(0,UP.jsxs)("div",KP({"data-id":o,"data-rowindex":s,role:"row",className:ZP(...re,Q.root,u),style:ne},oe,de,P,{ref:V,children:[se,(0,UP.jsx)("div",{role:"presentation",className:YM.cellOffsetLeft,style:{width:p}}),ue,(0,UP.jsx)("div",{role:"presentation",className:ZP(YM.cell,YM.cellEmpty)}),le,0!==_&&(0,UP.jsx)(X$,{pinnedRight:h.right.length>0})]}))})),m2=lA(f2);let g2;const v2=["column","row","rowId","rowNode","align","children","colIndex","width","className","style","colSpan","disableDragEvents","isNotVisible","pinnedOffset","pinnedPosition","showRightBorder","showLeftBorder","onClick","onDoubleClick","onMouseDown","onMouseUp","onMouseOver","onKeyDown","onKeyUp","onDragEnter","onDragOver"],y2=["changeReason","unstable_updateValueOnRender"];eq.LEFT,UL.LEFT,eq.RIGHT,UL.RIGHT,eq.NONE,eq.VIRTUAL;const b2=$P((function(e,n){var r,o,a,s,l,c,u;const{column:d,row:h,rowId:p,rowNode:f,align:m,colIndex:g,width:v,className:y,style:b,colSpan:w,disableDragEvents:C,isNotVisible:_,pinnedOffset:x,pinnedPosition:S,showRightBorder:k,showLeftBorder:I,onClick:E,onDoubleClick:T,onMouseDown:R,onMouseUp:P,onMouseOver:A,onKeyDown:D,onKeyUp:O,onDragEnter:N,onDragOver:M}=e,L=i(e,v2),F=uL(),B=bL(),j=QB(),z=d.field,V=lL(F,DY,{rowId:p,field:z}),U=V?fq.Edit:fq.View,H=F.current.getCellParamsForRow(p,z,h,{colDef:d,cellMode:U,rowNode:f,tabIndex:sL(F,(()=>{const e=QG(F);return e&&e.field===z&&e.id===p?0:-1})),hasFocus:sL(F,(()=>{const e=qG(F);return(null===e||void 0===e?void 0:e.id)===p&&e.field===z}))});H.api=F.current;const q=sL(F,(()=>F.current.unstable_applyPipeProcessors("isCellSelected",!1,{id:p,field:z}))),W=sL(F,jG),G=sL(F,zG),{hasFocus:K,isEditable:Q=!1,value:Y}=H,X="actions"===d.type&&(null===(r=d.getActions)||void 0===r?void 0:r.call(d,F.current.getRowParams(p)).some((e=>!e.props.disabled))),$="view"!==U&&Q||X?-1:H.tabIndex,{classes:J,getCellClassName:Z}=B,ee=[sL(F,(()=>F.current.unstable_applyPipeProcessors("cellClassName",[],{id:p,field:z}).filter(Boolean).join(" ")))];d.cellClassName&&ee.push("function"===typeof d.cellClassName?d.cellClassName(H):d.cellClassName),"flex"===d.display&&ee.push(YM["cell--flex"]),Z&&ee.push(Z(H));const te=null!==(o=H.formattedValue)&&void 0!==o?o:Y,ne=t.useRef(null),re=oA(n,ne),oe=t.useRef(null),ie=null!==(a=B.cellSelection)&&void 0!==a&&a,ae=(e=>{const{align:t,showLeftBorder:n,showRightBorder:r,pinnedPosition:o,isEditable:i,isSelected:a,isSelectionMode:s,classes:l}=e;return nA({root:["cell","cell--text".concat(tA(t)),a&&"selected",i&&"cell--editable",n&&"cell--withLeftBorder",r&&"cell--withRightBorder",o===eq.LEFT&&"cell--pinnedLeft",o===eq.RIGHT&&"cell--pinnedRight",s&&!i&&"cell--selectionMode"]},QM,l)})({align:m,showLeftBorder:I,showRightBorder:k,isEditable:Q,classes:B.classes,pinnedPosition:S,isSelected:q,isSelectionMode:ie}),se=t.useCallback((e=>t=>{const n=F.current.getCellParams(p,z||"");F.current.publishEvent(e,n,t),P&&P(t)}),[F,z,P,p]),le=t.useCallback((e=>t=>{const n=F.current.getCellParams(p,z||"");F.current.publishEvent(e,n,t),R&&R(t)}),[F,z,R,p]),ce=t.useCallback(((e,t)=>n=>{if(!F.current.getRow(p))return;const r=F.current.getCellParams(p,z||"");F.current.publishEvent(e,r,n),t&&t(n)}),[F,z,p]),ue=null!==(s=null===(l=W[p])||void 0===l?void 0:l[z])&&void 0!==s&&s,de=null!==(c=null===(u=G[p])||void 0===u?void 0:u[z])&&void 0!==c?c:1,he=t.useMemo((()=>{if(_)return{padding:0,opacity:0,width:0,height:0,border:0};const e=J$(KP({"--width":"".concat(v,"px")},b),j,S,x),t=S===eq.LEFT,n=S===eq.RIGHT;return de>1&&(e.height="calc(var(--height) * ".concat(de,")"),e.zIndex=5,(t||n)&&(e.zIndex=6)),e}),[v,_,b,x,S,j,de]);if(t.useEffect((()=>{if(!K||U===fq.Edit)return;const e=xF(F.current.rootElementRef.current);if(ne.current&&!ne.current.contains(e.activeElement)){const e=ne.current.querySelector('[tabindex="0"]'),t=oe.current||e||ne.current;if(void 0===g2&&document.createElement("div").focus({get preventScroll(){return g2=!0,!1}}),g2)t.focus({preventScroll:!0});else{const e=F.current.getScrollPosition();t.focus(),F.current.scroll(e)}}}),[K,U,F]),ue)return(0,UP.jsx)("div",{"data-colindex":g,role:"presentation",style:KP({width:"var(--width)"},he)});let pe,fe,me=L.onFocus;if(null===V&&d.renderCell&&(pe=d.renderCell(H)),null!==V&&d.renderEditCell){const e=F.current.getRowWithUpdatedValues(p,d.field),t=i(V,y2),n=KP({},H,{row:e,formattedValue:d.valueFormatter?d.valueFormatter(V.value,e,d,F):H.formattedValue},t);pe=d.renderEditCell(n),ee.push(YM["cell--editing"]),ee.push(null===J||void 0===J?void 0:J["cell--editing"])}if(void 0===pe){const e=null===te||void 0===te?void 0:te.toString();pe=e,fe=e}t.isValidElement(pe)&&X&&(pe=t.cloneElement(pe,{focusElementRef:oe}));const ge=C?null:{onDragEnter:ce("cellDragEnter",N),onDragOver:ce("cellDragOver",M)};return(0,UP.jsx)("div",KP({className:ZP(ae.root,ee,y),role:"gridcell","data-field":z,"data-colindex":g,"aria-colindex":g+1,"aria-colspan":w,"aria-rowspan":de,style:he,title:fe,tabIndex:$,onClick:ce("cellClick",E),onDoubleClick:ce("cellDoubleClick",T),onMouseOver:ce("cellMouseOver",A),onMouseDown:le("cellMouseDown"),onMouseUp:se("cellMouseUp"),onKeyDown:ce("cellKeyDown",D),onKeyUp:ce("cellKeyUp",O)},ge,L,{onFocus:me,ref:re,children:pe}))})),w2=lA(b2),C2=t.memo((e=>{var n,r;const{colDef:o,open:i,columnMenuId:a,columnMenuButtonId:s,iconButtonRef:l}=e,c=sF(),u=bL(),d=(e=>{const{classes:t,open:n}=e;return nA({root:["menuIcon",n&&"menuOpen"],button:["menuIconButton"]},QM,t)})(KP({},e,{classes:u.classes})),h=t.useCallback((e=>{e.preventDefault(),e.stopPropagation(),c.current.toggleColumnMenu(o.field)}),[c,o.field]);return(0,UP.jsx)("div",{className:d.root,children:(0,UP.jsx)(u.slots.baseTooltip,KP({title:c.current.getLocaleText("columnMenuLabel"),enterDelay:1e3},null===(n=u.slotProps)||void 0===n?void 0:n.baseTooltip,{children:(0,UP.jsx)(u.slots.baseIconButton,KP({ref:l,tabIndex:-1,className:d.button,"aria-label":c.current.getLocaleText("columnMenuLabel"),size:"small",onClick:h,"aria-haspopup":"menu","aria-expanded":i,"aria-controls":i?a:void 0,id:s},null===(r=u.slotProps)||void 0===r?void 0:r.baseIconButton,{children:(0,UP.jsx)(u.slots.columnMenuIcon,{fontSize:"inherit"})}))}))})}));function _2(e){let{columnMenuId:t,columnMenuButtonId:n,ContentComponent:r,contentComponentProps:o,field:i,open:a,target:s,onExited:l}=e;const c=sF(),u=c.current.getColumn(i),d=dF((e=>{e&&(e.stopPropagation(),null!==s&&void 0!==s&&s.contains(e.target))||c.current.hideColumnMenu()}));return s&&u?(0,UP.jsx)(yW,{placement:"bottom-".concat("right"===u.align?"start":"end"),open:a,target:s,onClose:d,onExited:l,children:(0,UP.jsx)(r,KP({colDef:u,hideMenu:d,open:a,id:t,labelledby:n},o))}):null}const x2=["className","aria-label"],S2=uF("div",{name:"MuiDataGrid",slot:"ColumnHeaderTitle",overridesResolver:(e,t)=>t.columnHeaderTitle})({textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",fontWeight:"var(--unstable_DataGrid-headWeight)",lineHeight:"normal"}),k2=$P((function(e,t){const{className:n}=e,r=i(e,x2),o=bL(),a=(e=>{const{classes:t}=e;return nA({root:["columnHeaderTitle"]},QM,t)})(o);return(0,UP.jsx)(S2,KP({className:ZP(a.root,n),ownerState:o},r,{ref:t}))}));function I2(e){var n;const{label:r,description:o}=e,i=bL(),a=t.useRef(null),[s,l]=t.useState(""),c=t.useCallback((()=>{if(!o&&null!==a&&void 0!==a&&a.current){const t=(e=a.current).scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth;l(t?r:"")}var e}),[o,r]);return(0,UP.jsx)(i.slots.baseTooltip,KP({title:o||s},null===(n=i.slotProps)||void 0===n?void 0:n.baseTooltip,{children:(0,UP.jsx)(k2,{onMouseOver:c,ref:a,children:r})}))}const E2=["resizable","resizing","height","side"];var T2=function(e){return e.Left="left",e.Right="right",e}(T2||{});function R2(e){const{height:n,side:r=T2.Right}=e,o=i(e,E2),a=bL(),s=(e=>{const{resizable:t,resizing:n,classes:r,side:o}=e;return nA({root:["columnSeparator",t&&"columnSeparator--resizable",n&&"columnSeparator--resizing",o&&"columnSeparator--side".concat(tA(o))],icon:["iconSeparator"]},QM,r)})(KP({},e,{side:r,classes:a.classes})),l=t.useCallback((e=>{e.preventDefault(),e.stopPropagation()}),[]);return(0,UP.jsx)("div",KP({className:s.root,style:{minHeight:n}},o,{onClick:l,children:(0,UP.jsx)(a.slots.columnResizeIcon,{className:s.icon})}))}const P2=t.memo(R2),A2=["classes","columnMenuOpen","colIndex","height","isResizing","sortDirection","hasFocus","tabIndex","separatorSide","isDraggable","headerComponent","description","elementId","width","columnMenuIconButton","columnMenu","columnTitleIconButtons","headerClassName","label","resizable","draggableContainerProps","columnHeaderSeparatorProps","style"],D2=$P((function(e,n){const{classes:r,colIndex:o,height:a,isResizing:s,sortDirection:l,hasFocus:c,tabIndex:u,separatorSide:d,isDraggable:h,headerComponent:p,description:f,width:m,columnMenuIconButton:g=null,columnMenu:v=null,columnTitleIconButtons:y=null,headerClassName:b,label:w,resizable:C,draggableContainerProps:_,columnHeaderSeparatorProps:x,style:S}=e,k=i(e,A2),I=uL(),E=bL(),T=t.useRef(null),R=oA(T,n);let P="none";return null!=l&&(P="asc"===l?"ascending":"descending"),t.useLayoutEffect((()=>{const e=I.current.state.columnMenu;if(c&&!e.open){var t;const e=T.current.querySelector('[tabindex="0"]')||T.current;null===e||void 0===e||e.focus(),null!==(t=I.current.columnHeadersContainerRef)&&void 0!==t&&t.current&&(I.current.columnHeadersContainerRef.current.scrollLeft=0)}}),[I,c]),(0,UP.jsxs)("div",KP({className:ZP(r.root,b),style:KP({},S,{height:a,width:m}),role:"columnheader",tabIndex:u,"aria-colindex":o+1,"aria-sort":P},k,{ref:R,children:[(0,UP.jsxs)("div",KP({className:r.draggableContainer,draggable:h,role:"presentation"},_,{children:[(0,UP.jsxs)("div",{className:r.titleContainer,role:"presentation",children:[(0,UP.jsx)("div",{className:r.titleContainerContent,children:void 0!==p?p:(0,UP.jsx)(I2,{label:w,description:f,columnWidth:m})}),y]}),g]})),(0,UP.jsx)(P2,KP({resizable:!E.disableColumnResize&&!!C,resizing:s,height:a,side:d},x)),v]}))}));const O2=lA((function(e){var n,r,o,i,a;const{colDef:s,columnMenuOpen:l,colIndex:c,headerHeight:u,isResizing:d,isLast:h,sortDirection:p,sortIndex:f,filterItemsCounter:m,hasFocus:g,tabIndex:v,disableReorder:y,separatorSide:b,showLeftBorder:w,showRightBorder:C,pinnedPosition:_,pinnedOffset:x}=e,S=uL(),k=bL(),I=QB(),E=t.useRef(null),T=IB(),R=IB(),P=t.useRef(null),[A,D]=t.useState(l),O=t.useMemo((()=>!k.disableColumnReorder&&!y&&!s.disableReorder),[k.disableColumnReorder,y,s.disableReorder]);let N;s.renderHeader&&(N=s.renderHeader(S.current.getColumnHeaderParams(s.field)));const M=(e=>{const{colDef:t,classes:n,isDragging:r,sortDirection:o,showRightBorder:i,showLeftBorder:a,filterItemsCounter:s,pinnedPosition:l,isLastUnpinned:c,isSiblingFocused:u}=e,d=null!=o,h=null!=s&&s>0,p="number"===t.type;return nA({root:["columnHeader","left"===t.headerAlign&&"columnHeader--alignLeft","center"===t.headerAlign&&"columnHeader--alignCenter","right"===t.headerAlign&&"columnHeader--alignRight",t.sortable&&"columnHeader--sortable",r&&"columnHeader--moving",d&&"columnHeader--sorted",h&&"columnHeader--filtered",p&&"columnHeader--numeric","withBorderColor",i&&"columnHeader--withRightBorder",a&&"columnHeader--withLeftBorder",l===eq.LEFT&&"columnHeader--pinnedLeft",l===eq.RIGHT&&"columnHeader--pinnedRight",c&&"columnHeader--lastUnpinned",u&&"columnHeader--siblingFocused"],draggableContainer:["columnHeaderDraggableContainer"],titleContainer:["columnHeaderTitleContainer"],titleContainerContent:["columnHeaderTitleContainerContent"]},QM,n)})(KP({},e,{classes:k.classes,showRightBorder:C,showLeftBorder:w})),L=t.useCallback((e=>t=>{vY(t)||S.current.publishEvent(e,S.current.getColumnHeaderParams(s.field),t)}),[S,s.field]),F=t.useMemo((()=>({onClick:L("columnHeaderClick"),onContextMenu:L("columnHeaderContextMenu"),onDoubleClick:L("columnHeaderDoubleClick"),onMouseOver:L("columnHeaderOver"),onMouseOut:L("columnHeaderOut"),onMouseEnter:L("columnHeaderEnter"),onMouseLeave:L("columnHeaderLeave"),onKeyDown:L("columnHeaderKeyDown"),onFocus:L("columnHeaderFocus"),onBlur:L("columnHeaderBlur")})),[L]),B=t.useMemo((()=>O?{onDragStart:L("columnHeaderDragStart"),onDragEnter:L("columnHeaderDragEnter"),onDragOver:L("columnHeaderDragOver"),onDragEnd:L("columnHeaderDragEnd")}:{}),[O,L]),j=t.useMemo((()=>({onMouseDown:L("columnSeparatorMouseDown"),onDoubleClick:L("columnSeparatorDoubleClick")})),[L]);t.useEffect((()=>{A||D(l)}),[A,l]);const z=t.useCallback((()=>{D(!1)}),[]),V=!k.disableColumnMenu&&!s.disableColumnMenu&&(0,UP.jsx)(C2,{colDef:s,columnMenuId:T,columnMenuButtonId:R,open:A,iconButtonRef:P}),U=(0,UP.jsx)(_2,{columnMenuId:T,columnMenuButtonId:R,field:s.field,open:l,target:P.current,ContentComponent:k.slots.columnMenu,contentComponentProps:null===(n=k.slotProps)||void 0===n?void 0:n.columnMenu,onExited:z}),H=null!==(r=s.sortingOrder)&&void 0!==r?r:k.sortingOrder,q=(s.sortable||null!=p)&&!s.hideSortIcons&&!k.disableColumnSorting,W=(0,UP.jsxs)(t.Fragment,{children:[!k.disableColumnFilter&&(0,UP.jsx)(k.slots.columnHeaderFilterIconButton,KP({field:s.field,counter:m},null===(o=k.slotProps)||void 0===o?void 0:o.columnHeaderFilterIconButton)),q&&(0,UP.jsx)(k.slots.columnHeaderSortIcon,KP({field:s.field,direction:p,index:f,sortingOrder:H,disabled:!s.sortable},null===(i=k.slotProps)||void 0===i?void 0:i.columnHeaderSortIcon))]});t.useLayoutEffect((()=>{const e=S.current.state.columnMenu;if(g&&!e.open){var t;const e=E.current.querySelector('[tabindex="0"]')||E.current;null===e||void 0===e||e.focus(),null!==(t=S.current.columnHeadersContainerRef)&&void 0!==t&&t.current&&(S.current.columnHeadersContainerRef.current.scrollLeft=0)}}),[S,g]);const G="function"===typeof s.headerClassName?s.headerClassName({field:s.field,colDef:s}):s.headerClassName,K=null!==(a=s.headerName)&&void 0!==a?a:s.field,Q=t.useMemo((()=>J$(KP({},e.style),I,_,x)),[_,x,e.style,I]);return(0,UP.jsx)(D2,KP({ref:E,classes:M,columnMenuOpen:l,colIndex:c,height:u,isResizing:d,sortDirection:p,hasFocus:g,tabIndex:v,separatorSide:b,isDraggable:O,headerComponent:N,description:s.description,elementId:s.field,width:s.computedWidth,columnMenuIconButton:V,columnTitleIconButtons:W,headerClassName:ZP(G,h&&YM["columnHeader--last"]),label:K,resizable:!k.disableColumnResize&&!!s.resizable,"data-field":s.field,columnMenu:U,draggableContainerProps:B,columnHeaderSeparatorProps:j,style:Q},F))}));function N2(e){var n;const{groupId:r,width:o,depth:i,maxDepth:a,fields:s,height:l,colIndex:c,hasFocus:u,tabIndex:d,isLastColumn:h,pinnedPosition:p,pinnedOffset:f}=e,m=bL(),g=QB(),v=t.useRef(null),y=sF(),b=sL(y,RW),w=r?b[r]:{},{headerName:C=(null!==r&&void 0!==r?r:""),description:_="",headerAlign:x}=w;let S;const k=r&&(null===(n=b[r])||void 0===n?void 0:n.renderHeaderGroup),I=t.useMemo((()=>({groupId:r,headerName:C,description:_,depth:i,maxDepth:a,fields:s,colIndex:c,isLastColumn:h})),[r,C,_,i,a,s,c,h]);r&&k&&(S=k(I));const E=KP({},e,{classes:m.classes,headerAlign:x,depth:i,isDragging:!1}),T=null!==C&&void 0!==C?C:r,R=IB(),P=null===r?"empty-group-cell-".concat(R):r,A=(e=>{const{classes:t,headerAlign:n,isDragging:r,isLastColumn:o,showLeftBorder:i,showRightBorder:a,groupId:s,pinnedPosition:l}=e;return nA({root:["columnHeader","left"===n&&"columnHeader--alignLeft","center"===n&&"columnHeader--alignCenter","right"===n&&"columnHeader--alignRight",r&&"columnHeader--moving",a&&"columnHeader--withRightBorder",i&&"columnHeader--withLeftBorder","withBorderColor",null===s?"columnHeader--emptyGroup":"columnHeader--filledGroup",l===eq.LEFT&&"columnHeader--pinnedLeft",l===eq.RIGHT&&"columnHeader--pinnedRight",o&&"columnHeader--last"],draggableContainer:["columnHeaderDraggableContainer"],titleContainer:["columnHeaderTitleContainer","withBorderColor"],titleContainerContent:["columnHeaderTitleContainerContent"]},QM,t)})(E);t.useLayoutEffect((()=>{if(u){const e=v.current.querySelector('[tabindex="0"]')||v.current;null===e||void 0===e||e.focus()}}),[y,u]);const D=t.useCallback((e=>t=>{vY(t)||y.current.publishEvent(e,I,t)}),[y,I]),O=t.useMemo((()=>({onKeyDown:D("columnGroupHeaderKeyDown"),onFocus:D("columnGroupHeaderFocus"),onBlur:D("columnGroupHeaderBlur")})),[D]),N="function"===typeof w.headerClassName?w.headerClassName(I):w.headerClassName,M=t.useMemo((()=>J$(KP({},e.style),g,p,f)),[p,f,e.style,g]);return(0,UP.jsx)(D2,KP({ref:v,classes:A,columnMenuOpen:!1,colIndex:c,height:l,isResizing:!1,sortDirection:null,hasFocus:!1,tabIndex:d,isDraggable:!1,headerComponent:S,headerClassName:N,description:_,elementId:P,width:o,columnMenuIconButton:null,columnTitleIconButtons:null,resizable:!1,label:T,"aria-colspan":s.length,"data-fields":"|-".concat(s.join("-|-"),"-|"),style:M},O))}const M2=UM("div",{name:"MuiDataGrid",slot:"ColumnHeaderRow",overridesResolver:(e,t)=>t.columnHeaderRow})({display:"flex"}),L2=["className"],F2=uF("div",{name:"MuiDataGrid",slot:"ColumnHeaders",overridesResolver:(e,t)=>t.columnHeaders})({display:"flex",flexDirection:"column",borderTopLeftRadius:"var(--unstable_DataGrid-radius)",borderTopRightRadius:"var(--unstable_DataGrid-radius)"}),B2=$P((function(e,t){const{className:n}=e,r=i(e,L2),o=bL(),a=(e=>{const{classes:t}=e;return nA({root:["columnHeaders"]},QM,t)})(o);return(0,UP.jsx)(F2,KP({className:ZP(a.root,n),ownerState:o},r,{role:"presentation",ref:t}))})),j2=["className","visibleColumns","sortColumnLookup","filterColumnLookup","columnHeaderTabIndexState","columnGroupHeaderTabIndexState","columnHeaderFocus","columnGroupHeaderFocus","headerGroupingMaxDepth","columnMenuState","columnVisibility","columnGroupsHeaderStructure","hasOtherElementInTabSequence"],z2=$P((function(e,n){const{visibleColumns:r,sortColumnLookup:o,filterColumnLookup:a,columnHeaderTabIndexState:s,columnGroupHeaderTabIndexState:l,columnHeaderFocus:c,columnGroupHeaderFocus:u,headerGroupingMaxDepth:d,columnMenuState:h,columnVisibility:p,columnGroupsHeaderStructure:f,hasOtherElementInTabSequence:m}=e,g=i(e,j2),{getInnerProps:v,getColumnHeadersRow:y,getColumnGroupHeadersRows:b}=(e=>{const{visibleColumns:n,sortColumnLookup:r,filterColumnLookup:o,columnHeaderTabIndexState:i,columnGroupHeaderTabIndexState:a,columnHeaderFocus:s,columnGroupHeaderFocus:l,headerGroupingMaxDepth:c,columnMenuState:u,columnVisibility:d,columnGroupsHeaderStructure:h,hasOtherElementInTabSequence:p}=e,[f,m]=t.useState(""),[g,v]=t.useState(""),y=uL(),b=bL(),w=sL(y,dL),C=sL(y,TW),_=sL(y,JL),x=sL(y,NG),S=sL(y,$L),k=sL(y,GL),I=uK(_,x,S.left.length),E=w.columnsTotalWidth<w.viewportOuterSize.width;t.useEffect((()=>{y.current.columnHeadersContainerRef.current&&(y.current.columnHeadersContainerRef.current.scrollLeft=0)}),[y]);const T=t.useCallback((e=>v(e.field)),[]),R=t.useCallback((()=>v("")),[]),P=t.useCallback((e=>m(e.field)),[]),A=t.useCallback((()=>m("")),[]),D=t.useMemo((()=>S.left.length?{firstColumnIndex:0,lastColumnIndex:S.left.length}:null),[S.left.length]),O=t.useMemo((()=>S.right.length?{firstColumnIndex:n.length-S.right.length,lastColumnIndex:n.length}:null),[S.right.length,n.length]);vF(y,"columnResizeStart",T),vF(y,"columnResizeStop",R),vF(y,"columnHeaderDragStart",P),vF(y,"columnHeaderDragEnd",A);const N=e=>{const{renderContext:t=x}=e||{},r=t.firstColumnIndex,o=t.lastColumnIndex;return{renderedColumns:n.slice(r,o),firstColumnToRender:r,lastColumnToRender:o}},M=function(e,n,r){let o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=(null===e||void 0===e?void 0:e.position)===eq.RIGHT,a=void 0===(null===e||void 0===e?void 0:e.position),s=S.right.length>0&&i||0===S.right.length&&a,l=I-r;return(0,UP.jsxs)(t.Fragment,{children:[a&&(0,UP.jsx)("div",{role:"presentation",style:{width:l}}),n,a&&(0,UP.jsx)("div",{role:"presentation",className:ZP(YM.filler,o&&YM["filler--borderBottom"])}),s&&(0,UP.jsx)(X$,{header:!0,pinnedRight:i,borderBottom:o,borderTop:!1})]})},L=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{renderedColumns:n,firstColumnToRender:a}=N(e),l=[];for(let c=0;c<n.length;c+=1){const d=n[c],h=a+c,m=0===h,v=null!==i&&i.field===d.field||m&&!p?0:-1,y=null!==s&&s.field===d.field,C=u.open&&u.field===d.field,x=null===e||void 0===e?void 0:e.position,k=w.hasScrollY?w.scrollbarSize:0,I=G$(x,d.computedWidth,h,_,w.columnsTotalWidth,k),T=x===eq.RIGHT?n[c-1]:n[c+1],R=!!T&&null!==s&&s.field===T.field,P=h+1===_.length-S.right.length,A=c,D=n.length,O=Q$(x,A),N=K$(x,A,D,b.showCellVerticalBorder,E);l.push((0,UP.jsx)(O2,KP({},r[d.field],{columnMenuOpen:C,filterItemsCounter:o[d.field]&&o[d.field].length,headerHeight:w.headerHeight,isDragging:d.field===f,colDef:d,colIndex:h,isResizing:g===d.field,isLast:h===_.length-1,hasFocus:y,tabIndex:v,pinnedPosition:x,pinnedOffset:I,isLastUnpinned:P,isSiblingFocused:R,showLeftBorder:O,showRightBorder:N},t),d.field))}return M(e,l,0)},F=e=>{var t,r,o,i;let{depth:s,params:u}=e;const p=N(u);if(0===p.renderedColumns.length)return null;const{firstColumnToRender:f,lastColumnToRender:m}=p,g=h[s],v=n[f].field,y=null!==(t=null===(r=C[v])||void 0===r?void 0:r[s])&&void 0!==t?t:null,x=g.findIndex((e=>{let{groupId:t,columnFields:n}=e;return t===y&&n.includes(v)})),S=n[m-1].field,I=null!==(o=null===(i=C[S])||void 0===i?void 0:i[s])&&void 0!==o?o:null,T=g.findIndex((e=>{let{groupId:t,columnFields:n}=e;return t===I&&n.includes(S)})),R=g.slice(x,T+1).map((e=>KP({},e,{columnFields:e.columnFields.filter((e=>!1!==d[e]))}))).filter((e=>e.columnFields.length>0)),P=R[0].columnFields.indexOf(v),A=R[0].columnFields.slice(0,P).reduce(((e,t)=>{var n;return e+(null!==(n=k[t].computedWidth)&&void 0!==n?n:0)}),0);let D=f;const O=R.map(((e,t)=>{let{groupId:n,columnFields:r}=e;const o=null!==l&&l.depth===s&&r.includes(l.field),i=null!==a&&a.depth===s&&r.includes(a.field)?0:-1,d={groupId:n,width:r.reduce(((e,t)=>e+k[t].computedWidth),0),fields:r,colIndex:D,hasFocus:o,tabIndex:i},h=u.position,p=w.hasScrollY?w.scrollbarSize:0,f=G$(h,d.width,D,_,w.columnsTotalWidth,p);D+=r.length;let m=t;return h===eq.LEFT&&(m=D-1),(0,UP.jsx)(N2,{groupId:n,width:d.width,fields:d.fields,colIndex:d.colIndex,depth:s,isLastColumn:t===R.length-1,maxDepth:c,height:w.groupHeaderHeight,hasFocus:o,tabIndex:i,pinnedPosition:h,pinnedOffset:f,showLeftBorder:Q$(h,m),showRightBorder:K$(h,m,R.length,b.showCellVerticalBorder,E)},t)}));return M(u,O,A)};return{renderContext:x,leftRenderContext:D,rightRenderContext:O,pinnedColumns:S,visibleColumns:n,columnPositions:_,getFillers:M,getColumnHeadersRow:()=>(0,UP.jsxs)(M2,{role:"row","aria-rowindex":c+1,ownerState:b,className:YM["row--borderBottom"],children:[D&&L({position:eq.LEFT,renderContext:D},{disableReorder:!0}),L({renderContext:x}),O&&L({position:eq.RIGHT,renderContext:O},{disableReorder:!0,separatorSide:T2.Left})]}),getColumnsToRender:N,getColumnGroupHeadersRows:()=>{if(0===c)return null;const e=[];for(let t=0;t<c;t+=1)e.push((0,UP.jsxs)(M2,{role:"row","aria-rowindex":t+1,ownerState:b,children:[D&&F({depth:t,params:{position:eq.LEFT,renderContext:D,maxLastColumn:D.lastColumnIndex}}),F({depth:t,params:{renderContext:x}}),O&&F({depth:t,params:{position:eq.RIGHT,renderContext:O,maxLastColumn:O.lastColumnIndex}})]},t));return e},getPinnedCellOffset:G$,isDragging:!!f,getInnerProps:()=>({role:"rowgroup"})}})({visibleColumns:r,sortColumnLookup:o,filterColumnLookup:a,columnHeaderTabIndexState:s,columnGroupHeaderTabIndexState:l,columnHeaderFocus:c,columnGroupHeaderFocus:u,headerGroupingMaxDepth:d,columnMenuState:h,columnVisibility:p,columnGroupsHeaderStructure:f,hasOtherElementInTabSequence:m});return(0,UP.jsxs)(B2,KP({},g,v(),{ref:n,children:[b(),y()]}))})),V2=lA(z2),U2=["displayOrder"],H2=["hideMenu","colDef","id","labelledby","className","children","open"],q2=UM(Qq)((()=>({minWidth:248}))),W2=$P((function(e,n){const{hideMenu:r,id:o,labelledby:a,className:s,children:l,open:c}=e,u=i(e,H2),d=t.useCallback((e=>{"Tab"===e.key&&e.preventDefault(),TQ(e.key)&&r(e)}),[r]);return(0,UP.jsx)(q2,KP({id:o,className:ZP(YM.menuList,s),"aria-labelledby":a,onKeyDown:d,autoFocus:c},u,{ref:n,children:l}))})),G2=["className"],K2=UM("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"flex-start"===n.alignItems&&t.alignItemsFlexStart]}})(QF((e=>{let{theme:t}=e;return{minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex",variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}}))),Q2=t.forwardRef((function(e,n){const r=$F({props:e,name:"MuiListItemIcon"}),{className:o}=r,i=a(r,G2),s=t.useContext(Oq),l=d(d({},r),{},{alignItems:s.alignItems}),c=(e=>{const{alignItems:t,classes:n}=e;return nA({root:["root","flex-start"===t&&"alignItemsFlexStart"]},HQ,n)})(l);return(0,UP.jsx)(K2,d({className:ZP(c.root,o),ownerState:l,ref:n},i))})),Y2=Q2,X2=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps","slots","slotProps"],$2=UM("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["& .".concat(GQ.primary)]:t.primary},{["& .".concat(GQ.secondary)]:t.secondary},t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[".".concat(s1.root,":where(& .").concat(GQ.primary,")")]:{display:"block"},[".".concat(s1.root,":where(& .").concat(GQ.secondary,")")]:{display:"block"},variants:[{props:e=>{let{ownerState:t}=e;return t.primary&&t.secondary},style:{marginTop:6,marginBottom:6}},{props:e=>{let{ownerState:t}=e;return t.inset},style:{paddingLeft:56}}]}),J2=t.forwardRef((function(e,n){const r=$F({props:e,name:"MuiListItemText"}),{children:o,className:i,disableTypography:s=!1,inset:l=!1,primary:c,primaryTypographyProps:u,secondary:h,secondaryTypographyProps:p,slots:f={},slotProps:m={}}=r,g=a(r,X2),{dense:v}=t.useContext(Oq);let y=null!=c?c:o,b=h;const w=d(d({},r),{},{disableTypography:s,inset:l,primary:!!y,secondary:!!b,dense:v}),C=(e=>{const{classes:t,inset:n,primary:r,secondary:o,dense:i}=e;return nA({root:["root",n&&"inset",i&&"dense",r&&o&&"multiline"],primary:["primary"],secondary:["secondary"]},WQ,t)})(w),_={slots:f,slotProps:d({primary:u,secondary:p},m)},[x,S]=SU("primary",{className:C.primary,elementType:m1,externalForwardedProps:_,ownerState:w}),[k,I]=SU("secondary",{className:C.secondary,elementType:m1,externalForwardedProps:_,ownerState:w});return null==y||y.type===m1||s||(y=(0,UP.jsx)(x,d(d({variant:v?"body2":"body1",component:null!==S&&void 0!==S&&S.variant?void 0:"span"},S),{},{children:y}))),null==b||b.type===m1||s||(b=(0,UP.jsx)(k,d(d({variant:"body2",color:"textSecondary"},I),{},{children:b}))),(0,UP.jsxs)($2,d(d({className:ZP(C.root,i),ownerState:w,ref:n},g),{},{children:[y,b]}))})),Z2=J2;function e5(e){const{colDef:n,onClick:r}=e,o=sF(),i=bL(),a=1===YL(o).filter((e=>!0!==e.disableColumnMenu)).length,s=t.useCallback((e=>{a||(o.current.setColumnVisibility(n.field,!1),r(e))}),[o,n.field,r,a]);return i.disableColumnSelector||!1===n.hideable?null:(0,UP.jsxs)(JQ,{onClick:s,disabled:a,children:[(0,UP.jsx)(Y2,{children:(0,UP.jsx)(i.slots.columnMenuHideIcon,{fontSize:"small"})}),(0,UP.jsx)(Z2,{children:o.current.getLocaleText("columnMenuHideColumn")})]})}function t5(e){const{onClick:n}=e,r=sF(),o=bL(),i=t.useCallback((e=>{n(e),r.current.showPreferences(iF.columns)}),[r,n]);return o.disableColumnSelector?null:(0,UP.jsxs)(JQ,{onClick:i,children:[(0,UP.jsx)(Y2,{children:(0,UP.jsx)(o.slots.columnMenuManageColumnsIcon,{fontSize:"small"})}),(0,UP.jsx)(Z2,{children:r.current.getLocaleText("columnMenuManageColumns")})]})}const n5=["defaultSlots","defaultSlotProps","slots","slotProps"],r5={columnMenuSortItem:function(e){var n;const{colDef:r,onClick:o}=e,i=sF(),a=sL(i,WW),s=bL(),l=t.useMemo((()=>{if(!r)return null;const e=a.find((e=>e.field===r.field));return null===e||void 0===e?void 0:e.sort}),[r,a]),c=null!==(n=r.sortingOrder)&&void 0!==n?n:s.sortingOrder,u=t.useCallback((e=>{o(e);const t=e.currentTarget.getAttribute("data-value")||null;i.current.sortColumn(r.field,t===l?null:t)}),[i,r,o,l]);if(s.disableColumnSorting||!r||!r.sortable||!c.some((e=>!!e)))return null;const d=e=>{const t=i.current.getLocaleText(e);return"function"===typeof t?t(r):t};return(0,UP.jsxs)(t.Fragment,{children:[c.includes("asc")&&"asc"!==l?(0,UP.jsxs)(JQ,{onClick:u,"data-value":"asc",children:[(0,UP.jsx)(Y2,{children:(0,UP.jsx)(s.slots.columnMenuSortAscendingIcon,{fontSize:"small"})}),(0,UP.jsx)(Z2,{children:d("columnMenuSortAsc")})]}):null,c.includes("desc")&&"desc"!==l?(0,UP.jsxs)(JQ,{onClick:u,"data-value":"desc",children:[(0,UP.jsx)(Y2,{children:(0,UP.jsx)(s.slots.columnMenuSortDescendingIcon,{fontSize:"small"})}),(0,UP.jsx)(Z2,{children:d("columnMenuSortDesc")})]}):null,c.includes(null)&&null!=l?(0,UP.jsxs)(JQ,{onClick:u,children:[(0,UP.jsx)(Y2,{}),(0,UP.jsx)(Z2,{children:i.current.getLocaleText("columnMenuUnsort")})]}):null]})},columnMenuFilterItem:function(e){const{colDef:n,onClick:r}=e,o=sF(),i=bL(),a=t.useCallback((e=>{r(e),o.current.showFilterPanel(n.field)}),[o,n.field,r]);return i.disableColumnFilter||!n.filterable?null:(0,UP.jsxs)(JQ,{onClick:a,children:[(0,UP.jsx)(Y2,{children:(0,UP.jsx)(i.slots.columnMenuFilterIcon,{fontSize:"small"})}),(0,UP.jsx)(Z2,{children:o.current.getLocaleText("columnMenuFilter")})]})},columnMenuColumnsItem:function(e){return(0,UP.jsxs)(t.Fragment,{children:[(0,UP.jsx)(e5,KP({},e)),(0,UP.jsx)(t5,KP({},e))]})}},o5={columnMenuSortItem:{displayOrder:10},columnMenuFilterItem:{displayOrder:20},columnMenuColumnsItem:{displayOrder:30}},i5=$P((function(e,n){const{defaultSlots:r,defaultSlotProps:o,slots:a,slotProps:s}=e,l=i(e,n5),c=(e=>{const n=uL(),r=bL(),{defaultSlots:o,defaultSlotProps:a,slots:s={},slotProps:l={},hideMenu:c,colDef:u,addDividers:d=!0}=e,h=t.useMemo((()=>KP({},o,s)),[o,s]),p=t.useMemo((()=>{if(!l||0===Object.keys(l).length)return a;const e=KP({},l);return Object.entries(a).forEach((t=>{let[n,r]=t;e[n]=KP({},r,l[n]||{})})),e}),[a,l]),f=n.current.unstable_applyPipeProcessors("columnMenu",[],e.colDef),m=t.useMemo((()=>{const e=Object.keys(o);return Object.keys(s).filter((t=>!e.includes(t)))}),[s,o]);return t.useMemo((()=>{const e=Array.from(new Set([...f,...m])).filter((e=>null!=h[e])).sort(((e,t)=>{const n=p[e],r=p[t];return(Number.isFinite(null===n||void 0===n?void 0:n.displayOrder)?n.displayOrder:100)-(Number.isFinite(null===r||void 0===r?void 0:r.displayOrder)?r.displayOrder:100)}));return e.reduce(((t,n,o)=>{let a={colDef:u,onClick:c};const s=p[n];return s&&(a=KP({},a,i(s,U2))),d&&o!==e.length-1?[...t,[h[n],a],[r.slots.baseDivider,{}]]:[...t,[h[n],a]]}),[])}),[d,u,f,c,h,p,m,r.slots.baseDivider])})(KP({},l,{defaultSlots:r,defaultSlotProps:o,slots:a,slotProps:s}));return(0,UP.jsx)(W2,KP({},l,{ref:n,children:c.map(((e,t)=>{let[n,r]=e;return(0,UP.jsx)(n,KP({},r),t)}))}))})),a5=$P((function(e,t){return(0,UP.jsx)(i5,KP({},e,{ref:t,defaultSlots:r5,defaultSlotProps:o5}))}));const s5=$P((function(e,t){const n=sF().current.getLocaleText("noResultsOverlayLabel");return(0,UP.jsx)(W$,KP({},e,{ref:t,children:n}))}));const l5=function(e){const{badgeContent:t,invisible:n=!1,max:r=99,showZero:o=!1}=e,i=jB({badgeContent:t,max:r});let a=n;!1!==n||0!==t||o||(a=!0);const{badgeContent:s,max:l=r}=a?i:e;return{badgeContent:s,invisible:a,max:l,displayValue:s&&Number(s)>l?"".concat(l,"+"):s}};function c5(e){return GM("MuiBadge",e)}const u5=KM("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),d5=["anchorOrigin","className","classes","component","components","componentsProps","children","overlap","color","invisible","max","badgeContent","slots","slotProps","showZero","variant"],h5=UM("span",{name:"MuiBadge",slot:"Root",overridesResolver:(e,t)=>t.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),p5=UM("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.badge,t[n.variant],t["anchorOrigin".concat(JF(n.anchorOrigin.vertical)).concat(JF(n.anchorOrigin.horizontal)).concat(JF(n.overlap))],"default"!==n.color&&t["color".concat(JF(n.color))],n.invisible&&t.invisible]}})(QF((e=>{let{theme:t}=e;return{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(12),minWidth:20,lineHeight:1,padding:"0 6px",height:20,borderRadius:10,zIndex:1,transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.enteringScreen}),variants:[...Object.entries(t.palette).filter(Gz(["contrastText"])).map((e=>{let[n]=e;return{props:{color:n},style:{backgroundColor:(t.vars||t).palette[n].main,color:(t.vars||t).palette[n].contrastText}}})),{props:{variant:"dot"},style:{borderRadius:4,height:8,minWidth:8,padding:0}},{props:e=>{let{ownerState:t}=e;return"top"===t.anchorOrigin.vertical&&"right"===t.anchorOrigin.horizontal&&"rectangular"===t.overlap},style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",["&.".concat(u5.invisible)]:{transform:"scale(0) translate(50%, -50%)"}}},{props:e=>{let{ownerState:t}=e;return"bottom"===t.anchorOrigin.vertical&&"right"===t.anchorOrigin.horizontal&&"rectangular"===t.overlap},style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",["&.".concat(u5.invisible)]:{transform:"scale(0) translate(50%, 50%)"}}},{props:e=>{let{ownerState:t}=e;return"top"===t.anchorOrigin.vertical&&"left"===t.anchorOrigin.horizontal&&"rectangular"===t.overlap},style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",["&.".concat(u5.invisible)]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:e=>{let{ownerState:t}=e;return"bottom"===t.anchorOrigin.vertical&&"left"===t.anchorOrigin.horizontal&&"rectangular"===t.overlap},style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",["&.".concat(u5.invisible)]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:e=>{let{ownerState:t}=e;return"top"===t.anchorOrigin.vertical&&"right"===t.anchorOrigin.horizontal&&"circular"===t.overlap},style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",["&.".concat(u5.invisible)]:{transform:"scale(0) translate(50%, -50%)"}}},{props:e=>{let{ownerState:t}=e;return"bottom"===t.anchorOrigin.vertical&&"right"===t.anchorOrigin.horizontal&&"circular"===t.overlap},style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",["&.".concat(u5.invisible)]:{transform:"scale(0) translate(50%, 50%)"}}},{props:e=>{let{ownerState:t}=e;return"top"===t.anchorOrigin.vertical&&"left"===t.anchorOrigin.horizontal&&"circular"===t.overlap},style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",["&.".concat(u5.invisible)]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:e=>{let{ownerState:t}=e;return"bottom"===t.anchorOrigin.vertical&&"left"===t.anchorOrigin.horizontal&&"circular"===t.overlap},style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",["&.".concat(u5.invisible)]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.leavingScreen})}}]}})));function f5(e){var t,n;return{vertical:null!==(t=null===e||void 0===e?void 0:e.vertical)&&void 0!==t?t:"top",horizontal:null!==(n=null===e||void 0===e?void 0:e.horizontal)&&void 0!==n?n:"right"}}const m5=t.forwardRef((function(e,t){var n,r,o,i,s,l;const c=$F({props:e,name:"MuiBadge"}),{anchorOrigin:u,className:h,classes:p,component:f,components:m={},componentsProps:g={},children:v,overlap:y="rectangular",color:b="default",invisible:w=!1,max:C=99,badgeContent:_,slots:x,slotProps:S,showZero:k=!1,variant:I="standard"}=c,E=a(c,d5),{badgeContent:T,invisible:R,max:P,displayValue:A}=l5({max:C,invisible:w,badgeContent:_,showZero:k}),D=jB({anchorOrigin:f5(u),color:b,overlap:y,variant:I,badgeContent:_}),O=R||null==T&&"dot"!==I,{color:N=b,overlap:M=y,anchorOrigin:L,variant:F=I}=O?D:c,B=f5(L),j="dot"!==F?A:void 0,z=d(d({},c),{},{badgeContent:T,invisible:O,max:P,displayValue:j,showZero:k,anchorOrigin:B,color:N,overlap:M,variant:F}),V=(e=>{const{color:t,anchorOrigin:n,invisible:r,overlap:o,variant:i,classes:a={}}=e;return nA({root:["root"],badge:["badge",i,r&&"invisible","anchorOrigin".concat(JF(n.vertical)).concat(JF(n.horizontal)),"anchorOrigin".concat(JF(n.vertical)).concat(JF(n.horizontal)).concat(JF(o)),"overlap".concat(JF(o)),"default"!==t&&"color".concat(JF(t))]},c5,a)})(z),U=null!==(n=null!==(r=null===x||void 0===x?void 0:x.root)&&void 0!==r?r:m.Root)&&void 0!==n?n:h5,H=null!==(o=null!==(i=null===x||void 0===x?void 0:x.badge)&&void 0!==i?i:m.Badge)&&void 0!==o?o:p5,q=null!==(s=null===S||void 0===S?void 0:S.root)&&void 0!==s?s:g.root,W=null!==(l=null===S||void 0===S?void 0:S.badge)&&void 0!==l?l:g.badge,G=yz({elementType:U,externalSlotProps:q,externalForwardedProps:E,additionalProps:{ref:t,as:f},ownerState:z,className:ZP(null===q||void 0===q?void 0:q.className,V.root,h)}),K=yz({elementType:H,externalSlotProps:W,ownerState:z,className:ZP(V.badge,null===W||void 0===W?void 0:W.className)});return(0,UP.jsxs)(U,d(d({},G),{},{children:[v,(0,UP.jsx)(H,d(d({},K),{},{children:j}))]}))})),g5=m5;function v5(e){return GM("PrivateSwitchBase",e)}KM("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const y5=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],b5=UM(IV)({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:e=>{let{edge:t,ownerState:n}=e;return"start"===t&&"small"!==n.size},style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:e=>{let{edge:t,ownerState:n}=e;return"end"===t&&"small"!==n.size},style:{marginRight:-12}}]}),w5=UM("input",{shouldForwardProp:VM})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),C5=t.forwardRef((function(e,t){const{autoFocus:n,checked:r,checkedIcon:o,className:i,defaultChecked:s,disabled:l,disableFocusRipple:c=!1,edge:u=!1,icon:h,id:p,inputProps:f,inputRef:m,name:g,onBlur:v,onChange:y,onFocus:b,readOnly:w,required:C=!1,tabIndex:_,type:x,value:S}=e,k=a(e,y5),[I,E]=pZ({controlled:r,default:Boolean(s),name:"SwitchBase",state:"checked"}),T=NF();let R=l;T&&"undefined"===typeof R&&(R=T.disabled);const P="checkbox"===x||"radio"===x,A=d(d({},e),{},{checked:I,disabled:R,disableFocusRipple:c,edge:u}),D=(e=>{const{classes:t,checked:n,disabled:r,edge:o}=e;return nA({root:["root",n&&"checked",r&&"disabled",o&&"edge".concat(JF(o))],input:["input"]},v5,t)})(A);return(0,UP.jsxs)(b5,d(d({component:"span",className:ZP(D.root,i),centerRipple:!0,focusRipple:!c,disabled:R,tabIndex:null,role:void 0,onFocus:e=>{b&&b(e),T&&T.onFocus&&T.onFocus(e)},onBlur:e=>{v&&v(e),T&&T.onBlur&&T.onBlur(e)},ownerState:A,ref:t},k),{},{children:[(0,UP.jsx)(w5,d(d({autoFocus:n,checked:r,defaultChecked:s,className:D.input,disabled:R,id:P?p:void 0,name:g,onChange:e=>{if(e.nativeEvent.defaultPrevented)return;const t=e.target.checked;E(t),y&&y(e,t)},readOnly:w,ref:m,required:C,ownerState:A,tabIndex:_,type:x},"checkbox"===x&&void 0===S?{}:{value:S}),f)),I?o:h]}))})),_5=C5,x5=tU((0,UP.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),S5=tU((0,UP.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),k5=tU((0,UP.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function I5(e){return GM("MuiCheckbox",e)}const E5=KM("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),T5=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","disableRipple","className"],R5=UM(_5,{shouldForwardProp:e=>VM(e)||"classes"===e,name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.indeterminate&&t.indeterminate,t["size".concat(JF(n.size))],"default"!==n.color&&t["color".concat(JF(n.color))]]}})(QF((e=>{let{theme:t}=e;return{color:(t.vars||t).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.activeChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):gA(t.palette.action.active,t.palette.action.hoverOpacity)}}},...Object.entries(t.palette).filter(Gz()).map((e=>{let[n]=e;return{props:{color:n,disableRipple:!1},style:{"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette[n].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):gA(t.palette[n].main,t.palette.action.hoverOpacity)}}}})),...Object.entries(t.palette).filter(Gz()).map((e=>{let[n]=e;return{props:{color:n},style:{["&.".concat(E5.checked,", &.").concat(E5.indeterminate)]:{color:(t.vars||t).palette[n].main},["&.".concat(E5.disabled)]:{color:(t.vars||t).palette.action.disabled}}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}}))),P5=(0,UP.jsx)(S5,{}),A5=(0,UP.jsx)(x5,{}),D5=(0,UP.jsx)(k5,{}),O5=t.forwardRef((function(e,n){var r,o;const i=$F({props:e,name:"MuiCheckbox"}),{checkedIcon:s=P5,color:l="primary",icon:c=A5,indeterminate:u=!1,indeterminateIcon:h=D5,inputProps:p,size:f="medium",disableRipple:m=!1,className:g}=i,v=a(i,T5),y=u?h:c,b=u?h:s,w=d(d({},i),{},{disableRipple:m,color:l,indeterminate:u,size:f}),C=(e=>{const{classes:t,indeterminate:n,color:r,size:o}=e,i=nA({root:["root",n&&"indeterminate","color".concat(JF(r)),"size".concat(JF(o))]},I5,t);return d(d({},t),i)})(w);return(0,UP.jsx)(R5,d(d({type:"checkbox",inputProps:d({"data-indeterminate":u},p),icon:t.cloneElement(y,{fontSize:null!==(r=y.props.fontSize)&&void 0!==r?r:f}),checkedIcon:t.cloneElement(b,{fontSize:null!==(o=b.props.fontSize)&&void 0!==o?o:f}),ownerState:w,ref:n,className:ZP(C.root,g),disableRipple:m},v),{},{classes:C}))})),N5=O5,M5=["absolute","children","className","orientation","component","flexItem","light","role","textAlign","variant"],L5=UM("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.absolute&&t.absolute,t[n.variant],n.light&&t.light,"vertical"===n.orientation&&t.vertical,n.flexItem&&t.flexItem,n.children&&t.withChildren,n.children&&"vertical"===n.orientation&&t.withChildrenVertical,"right"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignRight,"left"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignLeft]}})(QF((e=>{let{theme:t}=e;return{margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:t.vars?"rgba(".concat(t.vars.palette.dividerChannel," / 0.08)"):gA(t.palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:t.spacing(2),marginRight:t.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:t.spacing(1),marginBottom:t.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:e=>{let{ownerState:t}=e;return!!t.children},style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:e=>{let{ownerState:t}=e;return t.children&&"vertical"!==t.orientation},style:{"&::before, &::after":{width:"100%",borderTop:"thin solid ".concat((t.vars||t).palette.divider),borderTopStyle:"inherit"}}},{props:e=>{let{ownerState:t}=e;return"vertical"===t.orientation&&t.children},style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:"thin solid ".concat((t.vars||t).palette.divider),borderLeftStyle:"inherit"}}},{props:e=>{let{ownerState:t}=e;return"right"===t.textAlign&&"vertical"!==t.orientation},style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:e=>{let{ownerState:t}=e;return"left"===t.textAlign&&"vertical"!==t.orientation},style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}}))),F5=UM("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.wrapper,"vertical"===n.orientation&&t.wrapperVertical]}})(QF((e=>{let{theme:t}=e;return{display:"inline-block",paddingLeft:"calc(".concat(t.spacing(1)," * 1.2)"),paddingRight:"calc(".concat(t.spacing(1)," * 1.2)"),whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:"calc(".concat(t.spacing(1)," * 1.2)"),paddingBottom:"calc(".concat(t.spacing(1)," * 1.2)")}}]}}))),B5=t.forwardRef((function(e,t){const n=$F({props:e,name:"MuiDivider"}),{absolute:r=!1,children:o,className:i,orientation:s="horizontal",component:l=(o||"vertical"===s?"div":"hr"),flexItem:c=!1,light:u=!1,role:h=("hr"!==l?"separator":void 0),textAlign:p="center",variant:f="fullWidth"}=n,m=a(n,M5),g=d(d({},n),{},{absolute:r,component:l,flexItem:c,light:u,orientation:s,role:h,textAlign:p,variant:f}),v=(e=>{const{absolute:t,children:n,classes:r,flexItem:o,light:i,orientation:a,textAlign:s,variant:l}=e;return nA({root:["root",t&&"absolute",l,i&&"light","vertical"===a&&"vertical",o&&"flexItem",n&&"withChildren",n&&"vertical"===a&&"withChildrenVertical","right"===s&&"vertical"!==a&&"textAlignRight","left"===s&&"vertical"!==a&&"textAlignLeft"],wrapper:["wrapper","vertical"===a&&"wrapperVertical"]},VQ,r)})(g);return(0,UP.jsx)(L5,d(d({as:l,className:ZP(v.root,i),role:h,ref:t,ownerState:g,"aria-orientation":"separator"!==h||"hr"===l&&"vertical"!==s?void 0:s},m),{},{children:o?(0,UP.jsx)(F5,{className:v.wrapper,ownerState:g,children:o}):null}))}));B5&&(B5.muiSkipListHighlight=!0);const j5=B5;function z5(e){return GM("MuiButton",e)}const V5=KM("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]);const U5=t.createContext({});const H5=t.createContext(void 0),q5=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","id","loading","loadingIndicator","loadingPosition","size","startIcon","type","variant"],W5=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],G5=UM(IV,{shouldForwardProp:e=>VM(e)||"classes"===e,name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t["".concat(n.variant).concat(JF(n.color))],t["size".concat(JF(n.size))],t["".concat(n.variant,"Size").concat(JF(n.size))],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth,n.loading&&t.loading]}})(QF((e=>{let{theme:t}=e;const n="light"===t.palette.mode?t.palette.grey[300]:t.palette.grey[800],r="light"===t.palette.mode?t.palette.grey.A100:t.palette.grey[700];return d(d({},t.typography.button),{},{minWidth:64,padding:"6px 16px",border:0,borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":{textDecoration:"none"},["&.".concat(V5.disabled)]:{color:(t.vars||t).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(t.vars||t).shadows[2],"&:hover":{boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2]}},"&:active":{boxShadow:(t.vars||t).shadows[8]},["&.".concat(V5.focusVisible)]:{boxShadow:(t.vars||t).shadows[6]},["&.".concat(V5.disabled)]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",["&.".concat(V5.disabled)]:{border:"1px solid ".concat((t.vars||t).palette.action.disabledBackground)}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(t.palette).filter(Gz()).map((e=>{let[n]=e;return{props:{color:n},style:{"--variant-textColor":(t.vars||t).palette[n].main,"--variant-outlinedColor":(t.vars||t).palette[n].main,"--variant-outlinedBorder":t.vars?"rgba(".concat(t.vars.palette[n].mainChannel," / 0.5)"):gA(t.palette[n].main,.5),"--variant-containedColor":(t.vars||t).palette[n].contrastText,"--variant-containedBg":(t.vars||t).palette[n].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(t.vars||t).palette[n].dark,"--variant-textBg":t.vars?"rgba(".concat(t.vars.palette[n].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):gA(t.palette[n].main,t.palette.action.hoverOpacity),"--variant-outlinedBorder":(t.vars||t).palette[n].main,"--variant-outlinedBg":t.vars?"rgba(".concat(t.vars.palette[n].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):gA(t.palette[n].main,t.palette.action.hoverOpacity)}}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedBg:n,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedHoverBg:r,"--variant-textBg":t.vars?"rgba(".concat(t.vars.palette.text.primaryChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):gA(t.palette.text.primary,t.palette.action.hoverOpacity),"--variant-outlinedBg":t.vars?"rgba(".concat(t.vars.palette.text.primaryChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):gA(t.palette.text.primary,t.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:t.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},["&.".concat(V5.focusVisible)]:{boxShadow:"none"},"&:active":{boxShadow:"none"},["&.".concat(V5.disabled)]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),["&.".concat(V5.loading)]:{color:"transparent"}}}]})}))),K5=UM("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,n.loading&&t.startIconLoadingStart,t["iconSize".concat(JF(n.size))]]}})((e=>{let{theme:t}=e;return{display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...W5]}})),Q5=UM("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,n.loading&&t.endIconLoadingEnd,t["iconSize".concat(JF(n.size))]]}})((e=>{let{theme:t}=e;return{display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...W5]}})),Y5=UM("span",{name:"MuiButton",slot:"LoadingIndicator",overridesResolver:(e,t)=>t.loadingIndicator})((e=>{let{theme:t}=e;return{display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(t.vars||t).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]}})),X5=UM("span",{name:"MuiButton",slot:"LoadingIconPlaceholder",overridesResolver:(e,t)=>t.loadingIconPlaceholder})({display:"inline-block",width:"1em",height:"1em"}),$5=t.forwardRef((function(e,n){const r=t.useContext(U5),o=t.useContext(H5),i=$F({props:_F(r,e),name:"MuiButton"}),{children:s,color:l="primary",component:c="button",className:u,disabled:h=!1,disableElevation:p=!1,disableFocusRipple:f=!1,endIcon:m,focusVisibleClassName:g,fullWidth:v=!1,id:y,loading:b=null,loadingIndicator:w,loadingPosition:C="center",size:_="medium",startIcon:x,type:S,variant:k="text"}=i,I=a(i,q5),E=Wz(y),T=null!==w&&void 0!==w?w:(0,UP.jsx)(UV,{"aria-labelledby":E,color:"inherit",size:16}),R=d(d({},i),{},{color:l,component:c,disabled:h,disableElevation:p,disableFocusRipple:f,fullWidth:v,loading:b,loadingIndicator:T,loadingPosition:C,size:_,type:S,variant:k}),P=(e=>{const{color:t,disableElevation:n,fullWidth:r,size:o,variant:i,loading:a,loadingPosition:s,classes:l}=e,c=nA({root:["root",a&&"loading",i,"".concat(i).concat(JF(t)),"size".concat(JF(o)),"".concat(i,"Size").concat(JF(o)),"color".concat(JF(t)),n&&"disableElevation",r&&"fullWidth",a&&"loadingPosition".concat(JF(s))],startIcon:["icon","startIcon","iconSize".concat(JF(o))],endIcon:["icon","endIcon","iconSize".concat(JF(o))],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},z5,l);return d(d({},l),c)})(R),A=(x||b&&"start"===C)&&(0,UP.jsx)(K5,{className:P.startIcon,ownerState:R,children:x||(0,UP.jsx)(X5,{className:P.loadingIconPlaceholder,ownerState:R})}),D=(m||b&&"end"===C)&&(0,UP.jsx)(Q5,{className:P.endIcon,ownerState:R,children:m||(0,UP.jsx)(X5,{className:P.loadingIconPlaceholder,ownerState:R})}),O=o||"",N="boolean"===typeof b?(0,UP.jsx)("span",{className:P.loadingWrapper,style:{display:"contents"},children:b&&(0,UP.jsx)(Y5,{className:P.loadingIndicator,ownerState:R,children:T})}):null;return(0,UP.jsxs)(G5,d(d({ownerState:R,className:ZP(r.className,P.root,u,O),component:c,disabled:h||b,focusRipple:!f,focusVisibleClassName:ZP(P.focusVisible,g),ref:n,type:S,id:E},I),{},{classes:P,children:[A,"end"!==C&&N,s,"end"===C&&N,D]}))})),J5=$5;function Z5(e){return GM("MuiInputAdornment",e)}const e4=KM("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]),t4=["children","className","component","disablePointerEvents","disableTypography","position","variant"];var n4;const r4=UM("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["position".concat(JF(n.position))],!0===n.disablePointerEvents&&t.disablePointerEvents,t[n.variant]]}})(QF((e=>{let{theme:t}=e;return{display:"flex",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active,variants:[{props:{variant:"filled"},style:{["&.".concat(e4.positionStart,"&:not(.").concat(e4.hiddenLabel,")")]:{marginTop:16}}},{props:{position:"start"},style:{marginRight:8}},{props:{position:"end"},style:{marginLeft:8}},{props:{disablePointerEvents:!0},style:{pointerEvents:"none"}}]}}))),o4=t.forwardRef((function(e,n){const r=$F({props:e,name:"MuiInputAdornment"}),{children:o,className:i,component:s="div",disablePointerEvents:l=!1,disableTypography:c=!1,position:u,variant:h}=r,p=a(r,t4),f=NF()||{};let m=h;h&&f.variant,f&&!m&&(m=f.variant);const g=d(d({},r),{},{hiddenLabel:f.hiddenLabel,size:f.size,disablePointerEvents:l,position:u,variant:m}),v=(e=>{const{classes:t,disablePointerEvents:n,hiddenLabel:r,position:o,size:i,variant:a}=e;return nA({root:["root",n&&"disablePointerEvents",o&&"position".concat(JF(o)),a,r&&"hiddenLabel",i&&"size".concat(JF(i))]},Z5,t)})(g);return(0,UP.jsx)(OF.Provider,{value:null,children:(0,UP.jsx)(r4,d(d({as:s,ownerState:g,className:ZP(v.root,i),ref:n},p),{},{children:"string"!==typeof o||c?(0,UP.jsxs)(t.Fragment,{children:["start"===u?n4||(n4=(0,UP.jsx)("span",{className:"notranslate","aria-hidden":!0,children:"\u200b"})):null,o]}):(0,UP.jsx)(m1,{color:"textSecondary",children:o})}))})})),i4=o4;function a4(e){return GM("MuiTooltip",e)}const s4=KM("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),l4=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];const c4=UM(Oz,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.popper,!n.disableInteractive&&t.popperInteractive,n.arrow&&t.popperArrow,!n.open&&t.popperClose]}})(QF((e=>{let{theme:t}=e;return{zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none",variants:[{props:e=>{let{ownerState:t}=e;return!t.disableInteractive},style:{pointerEvents:"auto"}},{props:e=>{let{open:t}=e;return!t},style:{pointerEvents:"none"}},{props:e=>{let{ownerState:t}=e;return t.arrow},style:{['&[data-popper-placement*="bottom"] .'.concat(s4.arrow)]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},['&[data-popper-placement*="top"] .'.concat(s4.arrow)]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},['&[data-popper-placement*="right"] .'.concat(s4.arrow)]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},['&[data-popper-placement*="left"] .'.concat(s4.arrow)]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:e=>{let{ownerState:t}=e;return t.arrow&&!t.isRtl},style:{['&[data-popper-placement*="right"] .'.concat(s4.arrow)]:{left:0,marginLeft:"-0.71em"}}},{props:e=>{let{ownerState:t}=e;return t.arrow&&!!t.isRtl},style:{['&[data-popper-placement*="right"] .'.concat(s4.arrow)]:{right:0,marginRight:"-0.71em"}}},{props:e=>{let{ownerState:t}=e;return t.arrow&&!t.isRtl},style:{['&[data-popper-placement*="left"] .'.concat(s4.arrow)]:{right:0,marginRight:"-0.71em"}}},{props:e=>{let{ownerState:t}=e;return t.arrow&&!!t.isRtl},style:{['&[data-popper-placement*="left"] .'.concat(s4.arrow)]:{left:0,marginLeft:"-0.71em"}}}]}}))),u4=UM("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.tooltip,n.touch&&t.touch,n.arrow&&t.tooltipArrow,t["tooltipPlacement".concat(JF(n.placement.split("-")[0]))]]}})(QF((e=>{let{theme:t}=e;return{backgroundColor:t.vars?t.vars.palette.Tooltip.bg:gA(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium,[".".concat(s4.popper,'[data-popper-placement*="left"] &')]:{transformOrigin:"right center"},[".".concat(s4.popper,'[data-popper-placement*="right"] &')]:{transformOrigin:"left center"},[".".concat(s4.popper,'[data-popper-placement*="top"] &')]:{transformOrigin:"center bottom",marginBottom:"14px"},[".".concat(s4.popper,'[data-popper-placement*="bottom"] &')]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:e=>{let{ownerState:t}=e;return t.arrow},style:{position:"relative",margin:0}},{props:e=>{let{ownerState:t}=e;return t.touch},style:{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:"".concat((n=16/14,Math.round(1e5*n)/1e5),"em"),fontWeight:t.typography.fontWeightRegular}},{props:e=>{let{ownerState:t}=e;return!t.isRtl},style:{[".".concat(s4.popper,'[data-popper-placement*="left"] &')]:{marginRight:"14px"},[".".concat(s4.popper,'[data-popper-placement*="right"] &')]:{marginLeft:"14px"}}},{props:e=>{let{ownerState:t}=e;return!t.isRtl&&t.touch},style:{[".".concat(s4.popper,'[data-popper-placement*="left"] &')]:{marginRight:"24px"},[".".concat(s4.popper,'[data-popper-placement*="right"] &')]:{marginLeft:"24px"}}},{props:e=>{let{ownerState:t}=e;return!!t.isRtl},style:{[".".concat(s4.popper,'[data-popper-placement*="left"] &')]:{marginLeft:"14px"},[".".concat(s4.popper,'[data-popper-placement*="right"] &')]:{marginRight:"14px"}}},{props:e=>{let{ownerState:t}=e;return!!t.isRtl&&t.touch},style:{[".".concat(s4.popper,'[data-popper-placement*="left"] &')]:{marginLeft:"24px"},[".".concat(s4.popper,'[data-popper-placement*="right"] &')]:{marginRight:"24px"}}},{props:e=>{let{ownerState:t}=e;return t.touch},style:{[".".concat(s4.popper,'[data-popper-placement*="top"] &')]:{marginBottom:"24px"}}},{props:e=>{let{ownerState:t}=e;return t.touch},style:{[".".concat(s4.popper,'[data-popper-placement*="bottom"] &')]:{marginTop:"24px"}}}]};var n}))),d4=UM("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(e,t)=>t.arrow})(QF((e=>{let{theme:t}=e;return{overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:gA(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}})));let h4=!1;const p4=new wF;let f4={x:0,y:0};function m4(e,t){return function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];t&&t(n,...o),e(n,...o)}}const g4=t.forwardRef((function(e,n){var r,o,i;const s=$F({props:e,name:"MuiTooltip"}),{arrow:l=!1,children:c,classes:u,components:h={},componentsProps:p={},describeChild:f=!1,disableFocusListener:m=!1,disableHoverListener:g=!1,disableInteractive:v=!1,disableTouchListener:y=!1,enterDelay:b=100,enterNextDelay:w=0,enterTouchDelay:C=700,followCursor:_=!1,id:x,leaveDelay:S=0,leaveTouchDelay:k=1500,onClose:I,onOpen:E,open:T,placement:R="bottom",PopperComponent:P,PopperProps:A={},slotProps:D={},slots:O={},title:N,TransitionComponent:M,TransitionProps:L}=s,F=a(s,l4),B=t.isValidElement(c)?c:(0,UP.jsx)("span",{children:c}),j=jz(),z=QB(),[V,U]=t.useState(),[H,q]=t.useState(null),W=t.useRef(!1),G=v||_,K=CF(),Q=CF(),Y=CF(),X=CF(),[$,J]=pZ({controlled:T,default:!1,name:"Tooltip",state:"open"});let Z=$;const ee=Wz(x),te=t.useRef(),ne=Qz((()=>{void 0!==te.current&&(document.body.style.WebkitUserSelect=te.current,te.current=void 0),X.clear()}));t.useEffect((()=>ne),[ne]);const re=e=>{p4.clear(),h4=!0,J(!0),E&&!Z&&E(e)},oe=Qz((e=>{p4.start(800+S,(()=>{h4=!1})),J(!1),I&&Z&&I(e),K.start(j.transitions.duration.shortest,(()=>{W.current=!1}))})),ie=e=>{W.current&&"touchstart"!==e.type||(V&&V.removeAttribute("title"),Q.clear(),Y.clear(),b||h4&&w?Q.start(h4?w:b,(()=>{re(e)})):re(e))},ae=e=>{Q.clear(),Y.start(S,(()=>{oe(e)}))},[,se]=t.useState(!1),le=e=>{Kz(e.target)||(se(!1),ae(e))},ce=e=>{V||U(e.currentTarget),Kz(e.target)&&(se(!0),ie(e))},ue=e=>{W.current=!0;const t=B.props;t.onTouchStart&&t.onTouchStart(e)},de=e=>{ue(e),Y.clear(),K.clear(),ne(),te.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",X.start(C,(()=>{document.body.style.WebkitUserSelect=te.current,ie(e)}))},he=e=>{B.props.onTouchEnd&&B.props.onTouchEnd(e),ne(),Y.start(k,(()=>{oe(e)}))};t.useEffect((()=>{if(Z)return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)};function e(e){"Escape"===e.key&&oe(e)}}),[oe,Z]);const pe=ZF(wz(B),U,n);N||0===N||(Z=!1);const fe=t.useRef(),me={},ge="string"===typeof N;f?(me.title=Z||!ge||g?null:N,me["aria-describedby"]=Z?ee:null):(me["aria-label"]=ge?N:null,me["aria-labelledby"]=Z&&!ge?ee:null);const ve=d(d(d(d({},me),F),B.props),{},{className:ZP(F.className,B.props.className),onTouchStart:ue,ref:pe},_?{onMouseMove:e=>{const t=B.props;t.onMouseMove&&t.onMouseMove(e),f4={x:e.clientX,y:e.clientY},fe.current&&fe.current.update()}}:{});const ye={};y||(ve.onTouchStart=de,ve.onTouchEnd=he),g||(ve.onMouseOver=m4(ie,ve.onMouseOver),ve.onMouseLeave=m4(ae,ve.onMouseLeave),G||(ye.onMouseOver=ie,ye.onMouseLeave=ae)),m||(ve.onFocus=m4(ce,ve.onFocus),ve.onBlur=m4(le,ve.onBlur),G||(ye.onFocus=ce,ye.onBlur=le));const be=d(d({},s),{},{isRtl:z,arrow:l,disableInteractive:G,placement:R,PopperComponentProp:P,touch:W.current}),we="function"===typeof D.popper?D.popper(be):D.popper,Ce=t.useMemo((()=>{var e,t;let n=[{name:"arrow",enabled:Boolean(H),options:{element:H,padding:4}}];return null!==(e=A.popperOptions)&&void 0!==e&&e.modifiers&&(n=n.concat(A.popperOptions.modifiers)),null!==we&&void 0!==we&&null!==(t=we.popperOptions)&&void 0!==t&&t.modifiers&&(n=n.concat(we.popperOptions.modifiers)),d(d(d({},A.popperOptions),null===we||void 0===we?void 0:we.popperOptions),{},{modifiers:n})}),[H,A.popperOptions,null===we||void 0===we?void 0:we.popperOptions]),_e=(e=>{const{classes:t,disableInteractive:n,arrow:r,touch:o,placement:i}=e;return nA({popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",o&&"touch","tooltipPlacement".concat(JF(i.split("-")[0]))],arrow:["arrow"]},a4,t)})(be),xe="function"===typeof D.transition?D.transition(be):D.transition,Se={slots:d({popper:h.Popper,transition:null!==(r=h.Transition)&&void 0!==r?r:M,tooltip:h.Tooltip,arrow:h.Arrow},O),slotProps:{arrow:null!==(o=D.arrow)&&void 0!==o?o:p.arrow,popper:d(d({},A),null!==we&&void 0!==we?we:p.popper),tooltip:null!==(i=D.tooltip)&&void 0!==i?i:p.tooltip,transition:d(d({},L),null!==xe&&void 0!==xe?xe:p.transition)}},[ke,Ie]=SU("popper",{elementType:c4,externalForwardedProps:Se,ownerState:be,className:ZP(_e.popper,null===A||void 0===A?void 0:A.className)}),[Ee,Te]=SU("transition",{elementType:fW,externalForwardedProps:Se,ownerState:be}),[Re,Pe]=SU("tooltip",{elementType:u4,className:_e.tooltip,externalForwardedProps:Se,ownerState:be}),[Ae,De]=SU("arrow",{elementType:d4,className:_e.arrow,externalForwardedProps:Se,ownerState:be,ref:q});return(0,UP.jsxs)(t.Fragment,{children:[t.cloneElement(B,ve),(0,UP.jsx)(ke,d(d(d({as:null!==P&&void 0!==P?P:Oz,placement:R,anchorEl:_?{getBoundingClientRect:()=>({top:f4.y,left:f4.x,right:f4.x,bottom:f4.y,width:0,height:0})}:V,popperRef:fe,open:!!V&&Z,id:ee,transition:!0},ye),Ie),{},{popperOptions:Ce,children:e=>{let{TransitionProps:t}=e;return(0,UP.jsx)(Ee,d(d(d({timeout:j.transitions.duration.shorter},t),Te),{},{children:(0,UP.jsxs)(Re,d(d({},Pe),{},{children:[N,l?(0,UP.jsx)(Ae,d({},De)):null]}))}))}}))]})})),v4=g4,y4=["sortingOrder"],b4=t.memo((function(e){const{sortingOrder:t}=e,n=i(e,y4),r=bL(),[o]=t,a="asc"===o?r.slots.columnSortedAscendingIcon:r.slots.columnSortedDescendingIcon;return a?(0,UP.jsx)(a,KP({},n)):null})),w4=tU((0,UP.jsx)("path",{d:"M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"}),"ArrowUpward"),C4=tU((0,UP.jsx)("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward"),_4=tU((0,UP.jsx)("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"KeyboardArrowRight"),x4=tU((0,UP.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),S4=tU((0,UP.jsx)("path",{d:"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"}),"FilterList"),k4=tU((0,UP.jsx)("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61z"}),"FilterAlt"),I4=tU((0,UP.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search"),E4=(tU((0,UP.jsx)("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu"),tU((0,UP.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckCircle"),tU((0,UP.jsx)("path",{d:"M6 5H3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm14 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm-7 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1z"}),"ColumnIcon")),T4=tU((0,UP.jsx)("rect",{width:"1",height:"24",x:"11.5",rx:"0.5"}),"Separator"),R4=tU((0,UP.jsx)("path",{d:"M4 15h16v-2H4v2zm0 4h16v-2H4v2zm0-8h16V9H4v2zm0-6v2h16V5H4z"}),"ViewHeadline"),P4=tU((0,UP.jsx)("path",{d:"M21,8H3V4h18V8z M21,10H3v4h18V10z M21,16H3v4h18V16z"}),"TableRows"),A4=tU((0,UP.jsx)("path",{d:"M4 18h17v-6H4v6zM4 5v6h17V5H4z"}),"ViewStream"),D4=tU((0,UP.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"TripleDotsVertical"),O4=tU((0,UP.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),N4=tU((0,UP.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add"),M4=tU((0,UP.jsx)("path",{d:"M19 13H5v-2h14v2z"}),"Remove"),L4=tU((0,UP.jsx)("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"}),"Load"),F4=tU((0,UP.jsx)("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"Drag"),B4=tU((0,UP.jsx)("path",{d:"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"}),"SaveAlt"),j4=tU((0,UP.jsx)("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),z4=tU((0,UP.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert"),V4=tU((0,UP.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"}),"VisibilityOff"),U4=tU((0,UP.jsx)("g",{children:(0,UP.jsx)("path",{d:"M14.67,5v14H9.33V5H14.67z M15.67,19H21V5h-5.33V19z M8.33,19V5H3v14H8.33z"})}),"ViewColumn"),H4=tU((0,UP.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear"),q4=(tU((0,UP.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete"),tU((0,UP.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"Delete")),W4=["native"];const G4=KP({},{booleanCellTrueIcon:j4,booleanCellFalseIcon:O4,columnMenuIcon:D4,openFilterButtonIcon:S4,filterPanelDeleteIcon:O4,columnFilteredIcon:k4,columnSelectorIcon:E4,columnUnsortedIcon:b4,columnSortedAscendingIcon:w4,columnSortedDescendingIcon:C4,columnResizeIcon:T4,densityCompactIcon:R4,densityStandardIcon:P4,densityComfortableIcon:A4,exportIcon:B4,moreActionsIcon:z4,treeDataCollapseIcon:x4,treeDataExpandIcon:_4,groupingCriteriaCollapseIcon:x4,groupingCriteriaExpandIcon:_4,detailPanelExpandIcon:N4,detailPanelCollapseIcon:M4,rowReorderIcon:F4,quickFilterIcon:I4,quickFilterClearIcon:O4,columnMenuHideIcon:V4,columnMenuSortAscendingIcon:w4,columnMenuSortDescendingIcon:C4,columnMenuFilterIcon:k4,columnMenuManageColumnsIcon:U4,columnMenuClearIcon:H4,loadIcon:L4,filterPanelAddIcon:N4,filterPanelRemoveAllIcon:q4,columnReorderIcon:F4},{baseBadge:g5,baseCheckbox:N5,baseDivider:j5,baseTextField:Z1,baseFormControl:z1,baseSelect:JZ,baseButton:J5,baseIconButton:YV,baseInputAdornment:i4,baseTooltip:v4,basePopper:Oz,baseInputLabel:N1,baseSelectOption:function(e){let{native:t}=e,n=i(e,W4);return t?(0,UP.jsx)("option",KP({},n)):(0,UP.jsx)(JQ,KP({},n))},baseChip:uU}),K4=KP({},G4,{cell:w2,skeletonCell:o$,columnHeaderFilterIconButton:function(e){return e.counter?(0,UP.jsx)(l$,KP({},e)):null},columnHeaderSortIcon:d$,columnMenu:a5,columnHeaders:V2,detailPanels:function(e){return null},footer:y$,footerRowCount:C$,toolbar:null,pinnedRows:function(e){return null},loadingOverlay:oJ,noResultsOverlay:s5,noRowsOverlay:iJ,pagination:M0,filterPanel:i1,columnsPanel:function(e){var t;const n=bL();return(0,UP.jsx)(W0,KP({},e,{children:(0,UP.jsx)(n.slots.columnsManagement,KP({},null===(t=n.slotProps)||void 0===t?void 0:t.columnsManagement))}))},columnsManagement:function(e){var n,r,o,i;const a=sF(),s=t.useRef(null),l=sL(a,KL),c=$M((()=>QL(a))).current,u=sL(a,QL),d=bL(),[h,p]=t.useState(""),f=(e=>{const{classes:t}=e;return nA({root:["columnsManagement"],header:["columnsManagementHeader"],searchInput:["columnsManagementSearchInput"],footer:["columnsManagementFooter"],row:["columnsManagementRow"]},QM,t)})(d),{sort:m,searchPredicate:g=e2,autoFocusSearchField:v=!0,disableShowHideToggle:y=!1,disableResetButton:b=!1,toggleAllMode:w="all",getTogglableColumns:C,searchInputProps:_}=e,x=t.useMemo((()=>((e,t)=>{const n=new Set(Object.keys(e).filter((t=>!1===e[t]))),r=new Set(Object.keys(t).filter((e=>!1===t[e])));if(n.size!==r.size)return!1;let o=!0;return n.forEach((e=>{r.has(e)||(o=!1)})),o})(u,c)),[u,c]),S=t.useMemo((()=>{switch(m){case"asc":return[...l].sort(((e,t)=>t2.compare(e.headerName||e.field,t.headerName||t.field)));case"desc":return[...l].sort(((e,t)=>-t2.compare(e.headerName||e.field,t.headerName||t.field)));default:return l}}),[l,m]),k=e=>{const{name:t}=e.target;a.current.setColumnVisibility(t,!1===u[t])},I=t.useMemo((()=>{const e=C?C(S):null,t=e?S.filter((t=>{let{field:n}=t;return e.includes(n)})):S;return h?t.filter((e=>g(e,h.toLowerCase()))):t}),[S,h,g,C]),E=t.useCallback((e=>{const t=KP({},QL(a)),n=C?C(l):null;return("filteredOnly"===w?I:l).forEach((r=>{r.hideable&&(null==n||n.includes(r.field))&&(e?delete t[r.field]:t[r.field]=!1)})),a.current.setColumnVisibilityModel(t)}),[a,l,C,w,I]),T=t.useCallback((e=>{p(e.target.value)}),[]),R=t.useMemo((()=>I.filter((e=>e.hideable))),[I]),P=t.useMemo((()=>R.every((e=>null==u[e.field]||!1!==u[e.field]))),[u,R]),A=t.useMemo((()=>R.every((e=>!1===u[e.field]))),[u,R]),D=t.useRef(null);t.useEffect((()=>{v?s.current.focus():D.current&&"function"===typeof D.current.focus&&D.current.focus()}),[v]);let O=!1;const N=e=>!1===O&&!1!==e.hideable&&(O=!0,!0),M=t.useCallback((()=>{p(""),s.current.focus()}),[]);return(0,UP.jsxs)(t.Fragment,{children:[(0,UP.jsx)(r2,{className:f.header,ownerState:d,children:(0,UP.jsx)(o2,KP({as:d.slots.baseTextField,ownerState:d,placeholder:a.current.getLocaleText("columnsManagementSearchTitle"),inputRef:s,className:f.searchInput,value:h,onChange:T,variant:"outlined",size:"small",type:"search",InputProps:{startAdornment:(0,UP.jsx)(d.slots.baseInputAdornment,{position:"start",children:(0,UP.jsx)(d.slots.quickFilterIcon,{})}),endAdornment:(0,UP.jsx)(d.slots.baseIconButton,KP({"aria-label":a.current.getLocaleText("columnsManagementDeleteIconLabel"),size:"small",sx:[h?{visibility:"visible"}:{visibility:"hidden"}],tabIndex:-1,onClick:M},null===(n=d.slotProps)||void 0===n?void 0:n.baseIconButton,{children:(0,UP.jsx)(d.slots.quickFilterClearIcon,{fontSize:"small"})}))},inputProps:{"aria-label":a.current.getLocaleText("columnsManagementSearchTitle")},autoComplete:"off",fullWidth:!0},null===(r=d.slotProps)||void 0===r?void 0:r.baseTextField,_))}),(0,UP.jsxs)(n2,{className:f.root,ownerState:d,children:[I.map((e=>{var t;return(0,UP.jsx)(_1,{className:f.row,control:(0,UP.jsx)(d.slots.baseCheckbox,KP({disabled:!1===e.hideable,checked:!1!==u[e.field],onClick:k,name:e.field,sx:{p:.5},inputRef:N(e)?D:void 0},null===(t=d.slotProps)||void 0===t?void 0:t.baseCheckbox)),label:e.headerName||e.field},e.field)})),0===I.length&&(0,UP.jsx)(a2,{ownerState:d,children:a.current.getLocaleText("columnsManagementNoColumns")})]}),y&&b||!(I.length>0)?null:(0,UP.jsxs)(i2,{ownerState:d,className:f.footer,children:[y?(0,UP.jsx)("span",{}):(0,UP.jsx)(_1,{control:(0,UP.jsx)(d.slots.baseCheckbox,KP({disabled:0===R.length,checked:P,indeterminate:!P&&!A,onClick:()=>E(!P),name:a.current.getLocaleText("columnsManagementShowHideAllText"),sx:{p:.5}},null===(o=d.slotProps)||void 0===o?void 0:o.baseCheckbox)),label:a.current.getLocaleText("columnsManagementShowHideAllText")}),b?null:(0,UP.jsx)(d.slots.baseButton,KP({onClick:()=>a.current.setColumnVisibilityModel(c),disabled:x},null===(i=d.slotProps)||void 0===i?void 0:i.baseButton,{children:a.current.getLocaleText("columnsManagementReset")}))]})]})},panel:d2,row:m2});function Q4(e){return t.useMemo((()=>function(e){var t,n;if(null!==(t=e.slotProps)&&void 0!==t&&t.root)return e;const r=Object.keys(e);if(!r.some((e=>e.startsWith("aria-")||e.startsWith("data-"))))return e;const o={},i=null!==(n=e.forwardedProps)&&void 0!==n?n:{};for(let a=0;a<r.length;a+=1){const t=r[a];t.startsWith("aria-")||t.startsWith("data-")?i[t]=e[t]:o[t]=e[t]}return o.forwardedProps=i,o}(e)),[e])}const Y4={disableMultipleColumnsFiltering:!0,disableMultipleColumnsSorting:!0,throttleRowsMs:void 0,hideFooterRowCount:!1,pagination:!0,checkboxSelectionVisibleOnly:!1,disableColumnReorder:!0,keepColumnPositionIfDraggedOutside:!1,signature:"DataGrid",unstable_listView:!1},X4=K4,$4=e=>{const n=Q4(function(e){let{props:t,name:n}=e;return LX({props:t,name:n,defaultTheme:BM,themeId:jM})}({props:e,name:"MuiDataGrid"})),r=t.useMemo((()=>KP({},FX,n.localeText)),[n.localeText]),o=t.useMemo((()=>function(e){let{defaultSlots:t,slots:n}=e;const r=n;if(!r||0===Object.keys(r).length)return t;const o=KP({},t);return Object.keys(r).forEach((e=>{const t=e;void 0!==r[t]&&(o[t]=r[t])})),o}({defaultSlots:X4,slots:n.slots})),[n.slots]),i=t.useMemo((()=>Object.keys(JY).reduce(((e,t)=>{var r;return e[t]=null!==(r=n[t])&&void 0!==r?r:JY[t],e}),{})),[n]);return t.useMemo((()=>KP({},n,i,{localeText:r,slots:o},Y4)),[n,r,o,i])},J4={hooks:{useGridAriaAttributes:()=>{const e=uL(),t=bL(),n=sL(e,YL),r=sL(e,nG),o=sL(e,AW),i=sL(e,jH);return{role:"grid","aria-colcount":n.length,"aria-rowcount":o+1+i+r,"aria-multiselectable":YK(t)}},useGridRowAriaAttributes:()=>{const e=uL(),n=sL(e,TG),r=sL(e,AW);return t.useCallback(((t,o)=>{const i={},a=o+r+2;return i["aria-rowindex"]=a,e.current.isRowSelectable(t.id)&&(i["aria-selected"]=void 0!==n[t.id]),i}),[e,n,r])}}},Z4=$P((function(e,t){var n;const r=$4(e),o=MX(r.apiRef,r);return(0,UP.jsx)(JK,{privateApiRef:o,configuration:J4,props:r,children:(0,UP.jsx)(KK,KP({className:r.className,style:r.style,sx:r.sx},r.forwardedProps,null===(n=r.slotProps)||void 0===n?void 0:n.root,{ref:t}))})})),e3=t.memo(Z4);Z4.propTypes={apiRef:YP().shape({current:YP().object.isRequired}),"aria-label":YP().string,"aria-labelledby":YP().string,autoHeight:YP().bool,autoPageSize:YP().bool,autosizeOnMount:YP().bool,autosizeOptions:YP().shape({columns:YP().arrayOf(YP().string),disableColumnVirtualization:YP().bool,expand:YP().bool,includeHeaders:YP().bool,includeOutliers:YP().bool,outliersFactor:YP().number}),cellModesModel:YP().object,checkboxSelection:YP().bool,classes:YP().object,clipboardCopyCellDelimiter:YP().string,columnBufferPx:YP().number,columnGroupHeaderHeight:YP().number,columnGroupingModel:YP().arrayOf(YP().object),columnHeaderHeight:YP().number,columns:YP().arrayOf(YP().object).isRequired,columnVisibilityModel:YP().object,density:YP().oneOf(["comfortable","compact","standard"]),disableAutosize:YP().bool,disableColumnFilter:YP().bool,disableColumnMenu:YP().bool,disableColumnResize:YP().bool,disableColumnSelector:YP().bool,disableColumnSorting:YP().bool,disableDensitySelector:YP().bool,disableEval:YP().bool,disableMultipleRowSelection:YP().bool,disableRowSelectionOnClick:YP().bool,disableVirtualization:YP().bool,editMode:YP().oneOf(["cell","row"]),estimatedRowCount:YP().number,experimentalFeatures:YP().shape({warnIfFocusStateIsNotSynced:YP().bool}),filterDebounceMs:YP().number,filterMode:YP().oneOf(["client","server"]),filterModel:YP().shape({items:YP().arrayOf(YP().shape({field:YP().string.isRequired,id:YP().oneOfType([YP().number,YP().string]),operator:YP().string.isRequired,value:YP().any})).isRequired,logicOperator:YP().oneOf(["and","or"]),quickFilterExcludeHiddenColumns:YP().bool,quickFilterLogicOperator:YP().oneOf(["and","or"]),quickFilterValues:YP().array}),forwardedProps:YP().object,getCellClassName:YP().func,getDetailPanelContent:YP().func,getEstimatedRowHeight:YP().func,getRowClassName:YP().func,getRowHeight:YP().func,getRowId:YP().func,getRowSpacing:YP().func,hideFooter:YP().bool,hideFooterPagination:YP().bool,hideFooterSelectedRowCount:YP().bool,ignoreDiacritics:YP().bool,ignoreValueFormatterDuringExport:YP().oneOfType([YP().shape({clipboardExport:YP().bool,csvExport:YP().bool}),YP().bool]),indeterminateCheckboxAction:YP().oneOf(["deselect","select"]),initialState:YP().object,isCellEditable:YP().func,isRowSelectable:YP().func,keepNonExistentRowsSelected:YP().bool,loading:YP().bool,localeText:YP().object,logger:YP().shape({debug:YP().func.isRequired,error:YP().func.isRequired,info:YP().func.isRequired,warn:YP().func.isRequired}),logLevel:YP().oneOf(["debug","error","info","warn",!1]),nonce:YP().string,onCellClick:YP().func,onCellDoubleClick:YP().func,onCellEditStart:YP().func,onCellEditStop:YP().func,onCellKeyDown:YP().func,onCellModesModelChange:YP().func,onClipboardCopy:YP().func,onColumnHeaderClick:YP().func,onColumnHeaderContextMenu:YP().func,onColumnHeaderDoubleClick:YP().func,onColumnHeaderEnter:YP().func,onColumnHeaderLeave:YP().func,onColumnHeaderOut:YP().func,onColumnHeaderOver:YP().func,onColumnOrderChange:YP().func,onColumnResize:YP().func,onColumnVisibilityModelChange:YP().func,onColumnWidthChange:YP().func,onDensityChange:YP().func,onFilterModelChange:YP().func,onMenuClose:YP().func,onMenuOpen:YP().func,onPaginationMetaChange:YP().func,onPaginationModelChange:YP().func,onPreferencePanelClose:YP().func,onPreferencePanelOpen:YP().func,onProcessRowUpdateError:YP().func,onResize:YP().func,onRowClick:YP().func,onRowCountChange:YP().func,onRowDoubleClick:YP().func,onRowEditStart:YP().func,onRowEditStop:YP().func,onRowModesModelChange:YP().func,onRowSelectionModelChange:YP().func,onSortModelChange:YP().func,onStateChange:YP().func,pageSizeOptions:YP().arrayOf(YP().oneOfType([YP().number,YP().shape({label:YP().string.isRequired,value:YP().number.isRequired})]).isRequired),pagination:YP().oneOf([!0]),paginationMeta:YP().shape({hasNextPage:YP().bool}),paginationMode:YP().oneOf(["client","server"]),paginationModel:YP().shape({page:YP().number.isRequired,pageSize:YP().number.isRequired}),processRowUpdate:YP().func,resizeThrottleMs:YP().number,rowBufferPx:YP().number,rowCount:YP().number,rowHeight:YP().number,rowModesModel:YP().object,rowPositionsDebounceMs:YP().number,rows:YP().arrayOf(YP().object),rowSelection:YP().bool,rowSelectionModel:YP().oneOfType([YP().arrayOf(YP().oneOfType([YP().number,YP().string]).isRequired),YP().number,YP().string]),rowSpacingType:YP().oneOf(["border","margin"]),scrollbarSize:YP().number,showCellVerticalBorder:YP().bool,showColumnVerticalBorder:YP().bool,slotProps:YP().object,slots:YP().object,sortingMode:YP().oneOf(["client","server"]),sortingOrder:YP().arrayOf(YP().oneOf(["asc","desc"])),sortModel:YP().arrayOf(YP().shape({field:YP().string.isRequired,sort:YP().oneOf(["asc","desc"])})),sx:YP().oneOfType([YP().arrayOf(YP().oneOfType([YP().func,YP().object,YP().bool])),YP().func,YP().object]),unstable_rowSpanning:YP().bool,virtualizeColumnsWithAutoRowHeight:YP().bool};var t3=n(9938);const n3=function(e,t){const n="string"==typeof e?e:t||"(default)",r=Mr("object"==typeof e?e:Gr(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=Ft("firestore");e&&VI(r,...e)}return r}();function r3(){return(r3=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o3(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t.indexOf(n=i[r])>=0||(o[n]=e[n]);return o}function i3(e){var n=(0,t.useRef)(e),r=(0,t.useRef)((function(e){n.current&&n.current(e)}));return n.current=e,r.current}var a3=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),e>n?n:e<t?t:e},s3=function(e){return"touches"in e},l3=function(e){return e&&e.ownerDocument.defaultView||self},c3=function(e,t,n){var r=e.getBoundingClientRect(),o=s3(t)?function(e,t){for(var n=0;n<e.length;n++)if(e[n].identifier===t)return e[n];return e[0]}(t.touches,n):t;return{left:a3((o.pageX-(r.left+l3(e).pageXOffset))/r.width),top:a3((o.pageY-(r.top+l3(e).pageYOffset))/r.height)}},u3=function(e){!s3(e)&&e.preventDefault()},d3=t.memo((function(e){var n=e.onMove,r=e.onKey,o=o3(e,["onMove","onKey"]),i=(0,t.useRef)(null),a=i3(n),s=i3(r),l=(0,t.useRef)(null),c=(0,t.useRef)(!1),u=(0,t.useMemo)((function(){var e=function(e){u3(e),(s3(e)?e.touches.length>0:e.buttons>0)&&i.current?a(c3(i.current,e,l.current)):n(!1)},t=function(){return n(!1)};function n(n){var r=c.current,o=l3(i.current),a=n?o.addEventListener:o.removeEventListener;a(r?"touchmove":"mousemove",e),a(r?"touchend":"mouseup",t)}return[function(e){var t=e.nativeEvent,r=i.current;if(r&&(u3(t),!function(e,t){return t&&!s3(e)}(t,c.current)&&r)){if(s3(t)){c.current=!0;var o=t.changedTouches||[];o.length&&(l.current=o[0].identifier)}r.focus(),a(c3(r,t,l.current)),n(!0)}},function(e){var t=e.which||e.keyCode;t<37||t>40||(e.preventDefault(),s({left:39===t?.05:37===t?-.05:0,top:40===t?.05:38===t?-.05:0}))},n]}),[s,a]),d=u[0],h=u[1],p=u[2];return(0,t.useEffect)((function(){return p}),[p]),t.createElement("div",r3({},o,{onTouchStart:d,onMouseDown:d,className:"react-colorful__interactive",ref:i,onKeyDown:h,tabIndex:0,role:"slider"}))})),h3=function(e){return e.filter(Boolean).join(" ")},p3=function(e){var n=e.color,r=e.left,o=e.top,i=void 0===o?.5:o,a=h3(["react-colorful__pointer",e.className]);return t.createElement("div",{className:a,style:{top:100*i+"%",left:100*r+"%"}},t.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:n}}))},f3=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=Math.pow(10,t)),Math.round(n*e)/n},m3=(Math.PI,function(e){return x3(g3(e))}),g3=function(e){return"#"===e[0]&&(e=e.substring(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?f3(parseInt(e[3]+e[3],16)/255,2):1}:{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16),a:8===e.length?f3(parseInt(e.substring(6,8),16)/255,2):1}},v3=function(e){return _3(w3(e))},y3=function(e){var t=e.s,n=e.v,r=e.a,o=(200-t)*n/100;return{h:f3(e.h),s:f3(o>0&&o<200?t*n/100/(o<=100?o:200-o)*100:0),l:f3(o/2),a:f3(r,2)}},b3=function(e){var t=y3(e);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},w3=function(e){var t=e.h,n=e.s,r=e.v,o=e.a;t=t/360*6,n/=100,r/=100;var i=Math.floor(t),a=r*(1-n),s=r*(1-(t-i)*n),l=r*(1-(1-t+i)*n),c=i%6;return{r:f3(255*[r,s,a,a,l,r][c]),g:f3(255*[l,r,r,s,a,a][c]),b:f3(255*[a,a,l,r,r,s][c]),a:f3(o,2)}},C3=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},_3=function(e){var t=e.r,n=e.g,r=e.b,o=e.a,i=o<1?C3(f3(255*o)):"";return"#"+C3(t)+C3(n)+C3(r)+i},x3=function(e){var t=e.r,n=e.g,r=e.b,o=e.a,i=Math.max(t,n,r),a=i-Math.min(t,n,r),s=a?i===t?(n-r)/a:i===n?2+(r-t)/a:4+(t-n)/a:0;return{h:f3(60*(s<0?s+6:s)),s:f3(i?a/i*100:0),v:f3(i/255*100),a:o}},S3=t.memo((function(e){var n=e.hue,r=e.onChange,o=h3(["react-colorful__hue",e.className]);return t.createElement("div",{className:o},t.createElement(d3,{onMove:function(e){r({h:360*e.left})},onKey:function(e){r({h:a3(n+360*e.left,0,360)})},"aria-label":"Hue","aria-valuenow":f3(n),"aria-valuemax":"360","aria-valuemin":"0"},t.createElement(p3,{className:"react-colorful__hue-pointer",left:n/360,color:b3({h:n,s:100,v:100,a:1})})))})),k3=t.memo((function(e){var n=e.hsva,r=e.onChange,o={backgroundColor:b3({h:n.h,s:100,v:100,a:1})};return t.createElement("div",{className:"react-colorful__saturation",style:o},t.createElement(d3,{onMove:function(e){r({s:100*e.left,v:100-100*e.top})},onKey:function(e){r({s:a3(n.s+100*e.left,0,100),v:a3(n.v-100*e.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+f3(n.s)+"%, Brightness "+f3(n.v)+"%"},t.createElement(p3,{className:"react-colorful__saturation-pointer",top:1-n.v/100,left:n.s/100,color:b3(n)})))})),I3=function(e,t){if(e===t)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0},E3=function(e,t){return e.toLowerCase()===t.toLowerCase()||I3(g3(e),g3(t))};function T3(e,n,r){var o=i3(r),i=(0,t.useState)((function(){return e.toHsva(n)})),a=i[0],s=i[1],l=(0,t.useRef)({color:n,hsva:a});(0,t.useEffect)((function(){if(!e.equal(n,l.current.color)){var t=e.toHsva(n);l.current={hsva:t,color:n},s(t)}}),[n,e]),(0,t.useEffect)((function(){var t;I3(a,l.current.hsva)||e.equal(t=e.fromHsva(a),l.current.color)||(l.current={hsva:a,color:t},o(t))}),[a,e,o]);var c=(0,t.useCallback)((function(e){s((function(t){return Object.assign({},t,e)}))}),[]);return[a,c]}var R3,P3="undefined"!=typeof window?t.useLayoutEffect:t.useEffect,A3=new Map,D3=function(e){P3((function(){var t=e.current?e.current.ownerDocument:document;if(void 0!==t&&!A3.has(t)){var r=t.createElement("style");r.innerHTML='.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>\')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}',A3.set(t,r);var o=R3||n.nc;o&&r.setAttribute("nonce",o),t.head.appendChild(r)}}),[])},O3=function(e){var n=e.className,r=e.colorModel,o=e.color,i=void 0===o?r.defaultColor:o,a=e.onChange,s=o3(e,["className","colorModel","color","onChange"]),l=(0,t.useRef)(null);D3(l);var c=T3(r,i,a),u=c[0],d=c[1],h=h3(["react-colorful",n]);return t.createElement("div",r3({},s,{ref:l,className:h}),t.createElement(k3,{hsva:u,onChange:d}),t.createElement(S3,{hue:u.h,onChange:d,className:"react-colorful__last-control"}))},N3={defaultColor:"000",toHsva:m3,fromHsva:function(e){return v3({h:e.h,s:e.s,v:e.v,a:1})},equal:E3},M3=function(e){return t.createElement(O3,r3({},e,{colorModel:N3}))};const L3=tU((0,UP.jsx)("path",{d:"M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.5-.67 1.5-1.5 0-.39-.15-.74-.39-1.01-.23-.26-.38-.61-.38-.99 0-.83.67-1.5 1.5-1.5H16c2.76 0 5-2.24 5-5 0-4.42-4.03-8-9-8m-5.5 9c-.83 0-1.5-.67-1.5-1.5S5.67 9 6.5 9 8 9.67 8 10.5 7.33 12 6.5 12m3-4C8.67 8 8 7.33 8 6.5S8.67 5 9.5 5s1.5.67 1.5 1.5S10.33 8 9.5 8m5 0c-.83 0-1.5-.67-1.5-1.5S13.67 5 14.5 5s1.5.67 1.5 1.5S15.33 8 14.5 8m3 4c-.83 0-1.5-.67-1.5-1.5S16.67 9 17.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5"}),"ColorLens");var F3=n(1725);function B3(e,t){const n=j3(e),r=j3(t),o=n.r-r.r,i=n.g-r.g,a=n.b-r.b;return Math.sqrt(o*o+i*i+a*a)}function j3(e){e=e.replace("#","");return{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16)}}function z3(e){return/^#?[0-9A-Fa-f]{6}$/.test(e)}function V3(e){return GM("MuiDialog",e)}const U3=KM("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]);const H3=t.createContext({}),q3=["aria-describedby","aria-labelledby","aria-modal","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","slots","slotProps","TransitionComponent","transitionDuration","TransitionProps"],W3=UM(wJ,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),G3=UM(MJ,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),K3=UM("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.container,t["scroll".concat(JF(n.scroll))]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),Q3=UM(qz,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t["scrollPaper".concat(JF(n.scroll))],t["paperWidth".concat(JF(String(n.maxWidth)))],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})(QF((e=>{let{theme:t}=e;return{margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:e=>{let{ownerState:t}=e;return!t.maxWidth},style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:"px"===t.breakpoints.unit?Math.max(t.breakpoints.values.xs,444):"max(".concat(t.breakpoints.values.xs).concat(t.breakpoints.unit,", 444px)"),["&.".concat(U3.paperScrollBody)]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(t.breakpoints.values).filter((e=>"xs"!==e)).map((e=>({props:{maxWidth:e},style:{maxWidth:"".concat(t.breakpoints.values[e]).concat(t.breakpoints.unit),["&.".concat(U3.paperScrollBody)]:{[t.breakpoints.down(t.breakpoints.values[e]+64)]:{maxWidth:"calc(100% - 64px)"}}}}))),{props:e=>{let{ownerState:t}=e;return t.fullWidth},style:{width:"calc(100% - 64px)"}},{props:e=>{let{ownerState:t}=e;return t.fullScreen},style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,["&.".concat(U3.paperScrollBody)]:{margin:0,maxWidth:"100%"}}}]}}))),Y3=t.forwardRef((function(e,n){const r=$F({props:e,name:"MuiDialog"}),o=jz(),i={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{"aria-describedby":s,"aria-labelledby":l,"aria-modal":c=!0,BackdropComponent:u,BackdropProps:h,children:p,className:f,disableEscapeKeyDown:m=!1,fullScreen:g=!1,fullWidth:v=!1,maxWidth:y="sm",onBackdropClick:b,onClick:w,onClose:C,open:_,PaperComponent:x=qz,PaperProps:S={},scroll:k="paper",slots:I={},slotProps:E={},TransitionComponent:T=mJ,transitionDuration:R=i,TransitionProps:P}=r,A=a(r,q3),D=d(d({},r),{},{disableEscapeKeyDown:m,fullScreen:g,fullWidth:v,maxWidth:y,scroll:k}),O=(e=>{const{classes:t,scroll:n,maxWidth:r,fullWidth:o,fullScreen:i}=e;return nA({root:["root"],container:["container","scroll".concat(JF(n))],paper:["paper","paperScroll".concat(JF(n)),"paperWidth".concat(JF(String(r))),o&&"paperFullWidth",i&&"paperFullScreen"]},V3,t)})(D),N=t.useRef(),M=IB(l),L=t.useMemo((()=>({titleId:M})),[M]),F={slots:d({transition:T},I),slotProps:d({transition:P,paper:S,backdrop:h},E)},[B,j]=SU("root",{elementType:G3,shouldForwardComponentProp:!0,externalForwardedProps:F,ownerState:D,className:ZP(O.root,f),ref:n}),[z,V]=SU("backdrop",{elementType:W3,shouldForwardComponentProp:!0,externalForwardedProps:F,ownerState:D}),[U,H]=SU("paper",{elementType:Q3,shouldForwardComponentProp:!0,externalForwardedProps:F,ownerState:D,className:ZP(O.paper,S.className)}),[q,W]=SU("container",{elementType:K3,externalForwardedProps:F,ownerState:D,className:ZP(O.container)}),[G,K]=SU("transition",{elementType:mJ,externalForwardedProps:F,ownerState:D,additionalProps:{appear:!0,in:_,timeout:R,role:"presentation"}});return(0,UP.jsx)(B,d(d(d({closeAfterTransition:!0,slots:{backdrop:z},slotProps:{backdrop:d({transitionDuration:R,as:u},V)},disableEscapeKeyDown:m,onClose:C,open:_,onClick:e=>{w&&w(e),N.current&&(N.current=null,b&&b(e),C&&C(e,"backdropClick"))}},j),A),{},{children:(0,UP.jsx)(G,d(d({},K),{},{children:(0,UP.jsx)(q,d(d({onMouseDown:e=>{N.current=e.target===e.currentTarget}},W),{},{children:(0,UP.jsx)(U,d(d({as:x,elevation:24,role:"dialog","aria-describedby":s,"aria-labelledby":M,"aria-modal":c},H),{},{children:(0,UP.jsx)(H3.Provider,{value:L,children:p})}))}))}))}))})),X3=Y3;function $3(e){return GM("MuiDialogTitle",e)}const J3=KM("MuiDialogTitle",["root"]),Z3=["className","id"],e6=UM(m1,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),t6=t.forwardRef((function(e,n){const r=$F({props:e,name:"MuiDialogTitle"}),{className:o,id:i}=r,s=a(r,Z3),l=r,c=(e=>{const{classes:t}=e;return nA({root:["root"]},$3,t)})(l),{titleId:u=i}=t.useContext(H3);return(0,UP.jsx)(e6,d({component:"h2",className:ZP(c.root,o),ownerState:l,ref:n,variant:"h6",id:null!==i&&void 0!==i?i:u},s))})),n6=t6;function r6(e){return GM("MuiDialogContent",e)}KM("MuiDialogContent",["root","dividers"]);const o6=["className","dividers"],i6=UM("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dividers&&t.dividers]}})(QF((e=>{let{theme:t}=e;return{flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:e=>{let{ownerState:t}=e;return t.dividers},style:{padding:"16px 24px",borderTop:"1px solid ".concat((t.vars||t).palette.divider),borderBottom:"1px solid ".concat((t.vars||t).palette.divider)}},{props:e=>{let{ownerState:t}=e;return!t.dividers},style:{[".".concat(J3.root," + &")]:{paddingTop:0}}}]}}))),a6=t.forwardRef((function(e,t){const n=$F({props:e,name:"MuiDialogContent"}),{className:r,dividers:o=!1}=n,i=a(n,o6),s=d(d({},n),{},{dividers:o}),l=(e=>{const{classes:t,dividers:n}=e;return nA({root:["root",n&&"dividers"]},r6,t)})(s);return(0,UP.jsx)(i6,d({className:ZP(l.root,r),ownerState:s,ref:t},i))})),s6=a6;function l6(e){return GM("MuiTable",e)}KM("MuiTable",["root","stickyHeader"]);const c6=["className","component","padding","size","stickyHeader"],u6=UM("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.stickyHeader&&t.stickyHeader]}})(QF((e=>{let{theme:t}=e;return{display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":d(d({},t.typography.body2),{},{padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"}),variants:[{props:e=>{let{ownerState:t}=e;return t.stickyHeader},style:{borderCollapse:"separate"}}]}}))),d6="table",h6=t.forwardRef((function(e,n){const r=$F({props:e,name:"MuiTable"}),{className:o,component:i=d6,padding:s="normal",size:l="medium",stickyHeader:c=!1}=r,u=a(r,c6),h=d(d({},r),{},{component:i,padding:s,size:l,stickyHeader:c}),p=(e=>{const{classes:t,stickyHeader:n}=e;return nA({root:["root",n&&"stickyHeader"]},l6,t)})(h),f=t.useMemo((()=>({padding:s,size:l,stickyHeader:c})),[s,l,c]);return(0,UP.jsx)(ZZ.Provider,{value:f,children:(0,UP.jsx)(u6,d({as:i,role:i===d6?null:"table",ref:n,className:ZP(p.root,o),ownerState:h},u))})})),p6=h6;function f6(e){return GM("MuiTableHead",e)}KM("MuiTableHead",["root"]);const m6=["className","component"],g6=UM("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),v6={variant:"head"},y6="thead",b6=t.forwardRef((function(e,t){const n=$F({props:e,name:"MuiTableHead"}),{className:r,component:o=y6}=n,i=a(n,m6),s=d(d({},n),{},{component:o}),l=(e=>{const{classes:t}=e;return nA({root:["root"]},f6,t)})(s);return(0,UP.jsx)(e0.Provider,{value:v6,children:(0,UP.jsx)(g6,d({as:o,className:ZP(l.root,r),ref:t,role:o===y6?null:"rowgroup",ownerState:s},i))})})),w6=b6;function C6(e){return GM("MuiTableRow",e)}const _6=KM("MuiTableRow",["root","selected","hover","head","footer"]),x6=["className","component","hover","selected"],S6=UM("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.head&&t.head,n.footer&&t.footer]}})(QF((e=>{let{theme:t}=e;return{color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,["&.".concat(_6.hover,":hover")]:{backgroundColor:(t.vars||t).palette.action.hover},["&.".concat(_6.selected)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):gA(t.palette.primary.main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):gA(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)}}}}))),k6="tr",I6=t.forwardRef((function(e,n){const r=$F({props:e,name:"MuiTableRow"}),{className:o,component:i=k6,hover:s=!1,selected:l=!1}=r,c=a(r,x6),u=t.useContext(e0),h=d(d({},r),{},{component:i,hover:s,selected:l,head:u&&"head"===u.variant,footer:u&&"footer"===u.variant}),p=(e=>{const{classes:t,selected:n,hover:r,head:o,footer:i}=e;return nA({root:["root",n&&"selected",r&&"hover",o&&"head",i&&"footer"]},C6,t)})(h);return(0,UP.jsx)(S6,d({as:i,ref:n,className:ZP(p.root,o),role:i===k6?null:"row",ownerState:h},c))})),E6=I6;function T6(e){return GM("MuiTableBody",e)}KM("MuiTableBody",["root"]);const R6=["className","component"],P6=UM("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-row-group"}),A6={variant:"body"},D6="tbody",O6=t.forwardRef((function(e,t){const n=$F({props:e,name:"MuiTableBody"}),{className:r,component:o=D6}=n,i=a(n,R6),s=d(d({},n),{},{component:o}),l=(e=>{const{classes:t}=e;return nA({root:["root"]},T6,t)})(s);return(0,UP.jsx)(e0.Provider,{value:A6,children:(0,UP.jsx)(P6,d({className:ZP(l.root,r),as:o,ref:t,role:o===D6?null:"rowgroup",ownerState:s},i))})})),N6=O6;function M6(e){return GM("MuiDialogActions",e)}KM("MuiDialogActions",["root","spacing"]);const L6=["className","disableSpacing"],F6=UM("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:e=>{let{ownerState:t}=e;return!t.disableSpacing},style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),B6=t.forwardRef((function(e,t){const n=$F({props:e,name:"MuiDialogActions"}),{className:r,disableSpacing:o=!1}=n,i=a(n,L6),s=d(d({},n),{},{disableSpacing:o}),l=(e=>{const{classes:t,disableSpacing:n}=e;return nA({root:["root",!n&&"spacing"]},M6,t)})(s);return(0,UP.jsx)(F6,d({className:ZP(l.root,r),ownerState:s,ref:t},i))})),j6=B6;const z6=function(e){let{open:t,onClose:n,flossRequirements:r,userInventory:o}=e;return r?(0,UP.jsxs)(X3,{open:t,onClose:n,maxWidth:"md",fullWidth:!0,children:[(0,UP.jsx)(n6,{children:"Pattern Floss Requirements"}),(0,UP.jsxs)(s6,{children:[(0,UP.jsx)("p",{children:"NOTE: Any DMC floss numbers that are double digits will note be counted here for the moment. Please double check your pattern and manually add these flosses. They will be coming in another update."}),(0,UP.jsx)(qz,{style:{marginTop:"1rem"},children:(0,UP.jsxs)(p6,{children:[(0,UP.jsx)(w6,{children:(0,UP.jsxs)(E6,{children:[(0,UP.jsx)(a0,{children:"DMC Number"}),(0,UP.jsx)(a0,{children:"Color Name"}),(0,UP.jsx)(a0,{children:"Required"}),(0,UP.jsx)(a0,{children:"Your Inventory"}),(0,UP.jsx)(a0,{children:"Status"})]})}),(0,UP.jsx)(N6,{children:r.map((e=>{const t=o[e.number]||0,n=t>=1?"\u2713":"Needed";return(0,UP.jsxs)(E6,{children:[(0,UP.jsx)(a0,{children:e.number}),(0,UP.jsx)(a0,{children:e.name}),(0,UP.jsx)(a0,{children:"Yes"}),(0,UP.jsx)(a0,{children:t}),(0,UP.jsx)(a0,{children:(0,UP.jsx)(m1,{color:t>=1?"success.main":"error.main",children:n})})]},e.number)}))})]})})]}),(0,UP.jsx)(j6,{children:(0,UP.jsx)(J5,{onClick:n,children:"Close"})})]}):null};const V6=function(){const[e,r]=(0,t.useState)(""),[o,i]=(0,t.useState)(""),[a,s]=(0,t.useState)(null),[l,c]=(0,t.useState)({}),[u,h]=(0,t.useState)(!0),[p,f]=(0,t.useState)(!1),[m,g]=(0,t.useState)([]),[v,y]=(0,t.useState)(!1);(0,t.useEffect)((()=>{(async()=>{if(VP.currentUser){const e=await(async e=>{const t=GI(n3,"users",e),r=await cT(t);if(!r.exists()){const e={};return n(1725).forEach((t=>{e[t.floss]=0})),await fT(t,{floss:e}),e}return r.data().floss})(VP.currentUser.uid);c(e),h(!1)}})()}),[]);const b=async(e,t)=>{if(VP.currentUser){const n=await(async(e,t,n)=>{var r;const o=GI(n3,"users",e),i=(await cT(o)).data(),a=(null===i||void 0===i||null===(r=i.floss)||void 0===r?void 0:r[t])||0,s=Math.max(0,a+n);return await mT(o,{["floss.".concat(t)]:s}),s})(VP.currentUser.uid,e,t);c((t=>d(d({},t),{},{[e]:n})))}},w=Boolean(a),C=(0,t.useMemo)((()=>{if(!e||!z3(e))return[];const t=e.startsWith("#")?e:"#".concat(e);return F3.map((e=>d(d({},e),{},{difference:B3(t,e.hex)}))).sort(((e,t)=>e.difference-t.difference)).slice(0,3).map((e=>e.floss))}),[e]),_=[{field:"floss",headerName:"DMC Number",width:130},{field:"name",headerName:"Color Name",width:200},{field:"hex",headerName:"Color",width:130,renderCell:e=>(0,UP.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[(0,UP.jsx)("div",{style:{width:"20px",height:"20px",backgroundColor:e.value,border:"1px solid #ccc",borderRadius:"4px"}}),e.value]})},{field:"count",headerName:"Inventory",width:130,renderCell:e=>(0,UP.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[(0,UP.jsx)(J5,{onClick:()=>b(e.row.floss,-1),style:{minWidth:"30px",padding:"2px 8px"},children:"<"}),(0,UP.jsx)("span",{children:l[e.row.floss]||0}),(0,UP.jsx)(J5,{onClick:()=>b(e.row.floss,1),style:{minWidth:"30px",padding:"2px 8px"},children:">"})]})}];return(0,UP.jsx)("div",{className:"content-container",style:{marginBottom:"2rem"},children:(0,UP.jsxs)("div",{className:"craft-section",children:[(0,UP.jsx)("h1",{children:"DMC Floss Colors"}),(0,UP.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,UP.jsxs)("div",{className:"color-search",style:{display:"flex",alignItems:"flex-start",gap:"10px",marginBottom:"20px"},children:[(0,UP.jsx)(Z1,{label:"Search by HEX color or floss number",value:e,onChange:e=>{const t=e.target.value;t.length<=7&&(r(t),i("")),7!==t.length||z3(t)||i("Please enter a valid hex color (e.g., FF0000 or #FF0000)")},error:!!o,helperText:o,placeholder:"Enter hex color (e.g., FF0000)",sx:{marginBottom:2,width:"300px"}}),(0,UP.jsx)(YV,{onClick:e=>{s(e.currentTarget)},sx:{mt:1,backgroundColor:e||"#fff","&:hover":{backgroundColor:e||"#f0f0f0"}},children:(0,UP.jsx)(v4,{title:"Select HEX color here",children:(0,UP.jsx)(L3,{})})}),(0,UP.jsx)(KJ,{open:w,anchorEl:a,onClose:()=>{s(null)},anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:(0,UP.jsx)(M3,{color:e||"#ffffff",onChange:e=>{r(e),i("")}})}),(0,UP.jsx)("input",{accept:"application/pdf",style:{display:"none"},id:"pattern-file-upload",type:"file",onChange:async e=>{const t=e.target.files[0];if(t){y(!0);try{const e=(0,t3.createScheduler)(),r=await(0,t3.createWorker)();await e.addWorker(r);const o=await Promise.all([n.e(749),n.e(903)]).then(n.t.bind(n,6749,23)),i=await n.e(959).then(n.t.bind(n,2959,23));o.GlobalWorkerOptions.workerSrc=i;const a=await o.getDocument(URL.createObjectURL(t)).promise,s=new Set;for(let t=1;t<=a.numPages;t++){const n=await a.getPage(t),r=n.getViewport({scale:1.5}),o=document.createElement("canvas"),i=o.getContext("2d");o.height=r.height,o.width=r.width,await n.render({canvasContext:i,viewport:r}).promise;const{data:{text:l}}=await e.addJob("recognize",o),c=/\b\d{2,4}\b/g;(l.match(c)||[]).forEach((e=>{F3.some((t=>t.floss===e))&&s.add(e)}))}await e.terminate();const l=Array.from(s).map((e=>{var t;return{number:e,name:(null===(t=F3.find((t=>t.floss===e)))||void 0===t?void 0:t.name)||"Unknown"}}));g(l),f(!0)}catch(o){console.error("Error processing PDF:",o)}finally{y(!1)}}},disabled:v})]}),(0,UP.jsx)("div",{children:(0,UP.jsx)("label",{htmlFor:"pattern-file-upload",children:(0,UP.jsx)(v4,{title:"Tip: only upload the pages with DMC floss numbers for faster load times.",children:(0,UP.jsx)(J5,{variant:"contained",component:"span",disabled:v,sx:{mt:1},children:v?"Processing...":"Upload Pattern PDF"})})})})]}),(0,UP.jsx)("div",{style:{height:"60vh",width:"100%"},children:(0,UP.jsx)(e3,{rows:F3.map(((t,n)=>{let r=999;const o=e.toLowerCase(),i=t.hex.toLowerCase(),a=o.startsWith("#")?o:"#".concat(o);return t.floss===e?r=1:i===a?r=2:C.includes(t.floss)?r=3:e&&t.floss.includes(e)&&(r=4),d(d({id:n},t),{},{sortPriority:r})})).sort(((e,t)=>e.sortPriority-t.sortPriority)),columns:_,pageSize:25,rowsPerPageOptions:[25],disableSelectionOnClick:!0,getRowClassName:t=>{if(!e||!z3(e))return"";const n=t.row.hex.toLowerCase()===(e.startsWith("#")?e:"#".concat(e)).toLowerCase(),r=C.includes(t.row.floss);return n?"exact-match-row":r?"close-match-row":""},sx:{backgroundColor:"white","& .MuiDataGrid-cell":{borderColor:"#f0f0f0"},"& .exact-match-row":{backgroundColor:"rgba(0, 128, 0, 0.2)","&:hover":{backgroundColor:"rgba(0, 128, 0, 0.3)"}},"& .close-match-row":{backgroundColor:"rgba(255, 255, 0, 0.1)","&:hover":{backgroundColor:"rgba(255, 255, 0, 0.2)"}}}})}),(0,UP.jsx)(z6,{open:p,onClose:()=>f(!1),flossRequirements:m,userInventory:l})]})})},U6=["className","component"];const H6=KM("MuiBox",["root"]),q6=FM(),W6=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:n,defaultTheme:r,defaultClassName:o="MuiBox-root",generateClassName:i}=e,s=iO("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(vN),l=t.forwardRef((function(e,t){const l=qF(r),c=LF(e),{className:u,component:h="div"}=c,p=a(c,U6);return(0,UP.jsx)(s,d({as:h,ref:t,className:ZP(u,i?i(o):o),theme:n&&l[n]||l},p))}));return l}({themeId:jM,defaultTheme:q6,defaultClassName:H6.root,generateClassName:qM.generate}),G6=W6;const K6=t.createContext();function Q6(e){return GM("MuiGrid",e)}const Y6=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],X6=KM("MuiGrid",["root","container","item","zeroMinWidth",...[0,1,2,3,4,5,6,7,8,9,10].map((e=>"spacing-xs-".concat(e))),...["column-reverse","column","row-reverse","row"].map((e=>"direction-xs-".concat(e))),...["nowrap","wrap-reverse","wrap"].map((e=>"wrap-xs-".concat(e))),...Y6.map((e=>"grid-xs-".concat(e))),...Y6.map((e=>"grid-sm-".concat(e))),...Y6.map((e=>"grid-md-".concat(e))),...Y6.map((e=>"grid-lg-".concat(e))),...Y6.map((e=>"grid-xl-".concat(e)))]),$6=X6,J6=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function Z6(e){let{breakpoints:t,values:n}=e,r="";Object.keys(n).forEach((e=>{""===r&&0!==n[e]&&(r=e)}));const o=Object.keys(t).sort(((e,n)=>t[e]-t[n]));return o.slice(0,o.indexOf(r))}const e9=UM("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{container:r,direction:o,item:i,spacing:a,wrap:s,zeroMinWidth:l,breakpoints:c}=n;let u=[];r&&(u=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return[n["spacing-xs-".concat(String(e))]];const r=[];return t.forEach((t=>{const o=e[t];Number(o)>0&&r.push(n["spacing-".concat(t,"-").concat(String(o))])})),r}(a,c,t));const d=[];return c.forEach((e=>{const r=n[e];r&&d.push(t["grid-".concat(e,"-").concat(String(r))])})),[t.root,r&&t.container,i&&t.item,l&&t.zeroMinWidth,...u,"row"!==o&&t["direction-xs-".concat(String(o))],"wrap"!==s&&t["wrap-xs-".concat(String(s))],...d]}})((e=>{let{ownerState:t}=e;return d(d(d(d({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"}),t.item&&{margin:0}),t.zeroMinWidth&&{minWidth:0}),"wrap"!==t.wrap&&{flexWrap:t.wrap})}),(function(e){let{theme:t,ownerState:n}=e;return yO({theme:t},CO({values:n.direction,breakpoints:t.breakpoints.values}),(e=>{const t={flexDirection:e};return e.startsWith("column")&&(t["& > .".concat($6.item)]={maxWidth:"none"}),t}))}),(function(e){let{theme:t,ownerState:n}=e;const{container:r,rowSpacing:o}=n;let i={};if(r&&0!==o){const e=CO({values:o,breakpoints:t.breakpoints.values});let n;"object"===typeof e&&(n=Z6({breakpoints:t.breakpoints.values,values:e})),i=yO({theme:t},e,((e,r)=>{var o;const i=t.spacing(e);return"0px"!==i?{marginTop:"calc(-1 * ".concat(i,")"),["& > .".concat($6.item)]:{paddingTop:i}}:null!==(o=n)&&void 0!==o&&o.includes(r)?{}:{marginTop:0,["& > .".concat($6.item)]:{paddingTop:0}}}))}return i}),(function(e){let{theme:t,ownerState:n}=e;const{container:r,columnSpacing:o}=n;let i={};if(r&&0!==o){const e=CO({values:o,breakpoints:t.breakpoints.values});let n;"object"===typeof e&&(n=Z6({breakpoints:t.breakpoints.values,values:e})),i=yO({theme:t},e,((e,r)=>{var o;const i=t.spacing(e);if("0px"!==i){const e="calc(-1 * ".concat(i,")");return{width:"calc(100% + ".concat(i,")"),marginLeft:e,["& > .".concat($6.item)]:{paddingLeft:i}}}return null!==(o=n)&&void 0!==o&&o.includes(r)?{}:{width:"100%",marginLeft:0,["& > .".concat($6.item)]:{paddingLeft:0}}}))}return i}),(function(e){let t,{theme:n,ownerState:r}=e;return n.breakpoints.keys.reduce(((e,o)=>{let i={};if(r[o]&&(t=r[o]),!t)return e;if(!0===t)i={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if("auto"===t)i={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const a=CO({values:r.columns,breakpoints:n.breakpoints.values}),s="object"===typeof a?a[o]:a;if(void 0===s||null===s)return e;const l="".concat(Math.round(t/s*1e8)/1e6,"%");let c={};if(r.container&&r.item&&0!==r.columnSpacing){const e=n.spacing(r.columnSpacing);if("0px"!==e){const t="calc(".concat(l," + ").concat(e,")");c={flexBasis:t,maxWidth:t}}}i=d({flexBasis:l,flexGrow:0,maxWidth:l},c)}return 0===n.breakpoints.values[o]?Object.assign(e,i):e[n.breakpoints.up(o)]=i,e}),{})}));const t9=e=>{const{classes:t,container:n,direction:r,item:o,spacing:i,wrap:a,zeroMinWidth:s,breakpoints:l}=e;let c=[];n&&(c=function(e,t){if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return["spacing-xs-".concat(String(e))];const n=[];return t.forEach((t=>{const r=e[t];if(Number(r)>0){const e="spacing-".concat(t,"-").concat(String(r));n.push(e)}})),n}(i,l));const u=[];l.forEach((t=>{const n=e[t];n&&u.push("grid-".concat(t,"-").concat(String(n)))}));return nA({root:["root",n&&"container",o&&"item",s&&"zeroMinWidth",...c,"row"!==r&&"direction-xs-".concat(String(r)),"wrap"!==a&&"wrap-xs-".concat(String(a)),...u]},Q6,t)},n9=t.forwardRef((function(e,n){const r=$F({props:e,name:"MuiGrid"}),{breakpoints:o}=jz(),i=LF(r),{className:s,columns:l,columnSpacing:c,component:u="div",container:h=!1,direction:p="row",item:f=!1,rowSpacing:m,spacing:g=0,wrap:v="wrap",zeroMinWidth:y=!1}=i,b=a(i,J6),w=m||g,C=c||g,_=t.useContext(K6),x=h?l||12:_,S={},k=d({},b);o.keys.forEach((e=>{null!=b[e]&&(S[e]=b[e],delete k[e])}));const I=d(d(d({},i),{},{columns:x,container:h,direction:p,item:f,rowSpacing:w,columnSpacing:C,wrap:v,zeroMinWidth:y,spacing:g},S),{},{breakpoints:o.keys}),E=t9(I);return(0,UP.jsx)(K6.Provider,{value:x,children:(0,UP.jsx)(e9,d({ownerState:I,className:ZP(E.root,s),as:u,ref:n},k))})}));const r9=n9,o9=tU((0,UP.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add");function i9(e){return GM("MuiCard",e)}KM("MuiCard",["root"]);const a9=["className","raised"],s9=UM(qz,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})({overflow:"hidden"}),l9=t.forwardRef((function(e,t){const n=$F({props:e,name:"MuiCard"}),{className:r,raised:o=!1}=n,i=a(n,a9),s=d(d({},n),{},{raised:o}),l=(e=>{const{classes:t}=e;return nA({root:["root"]},i9,t)})(s);return(0,UP.jsx)(s9,d({className:ZP(l.root,r),elevation:o?8:void 0,ref:t,ownerState:s},i))})),c9=l9;function u9(e){return GM("MuiCardContent",e)}KM("MuiCardContent",["root"]);const d9=["className","component"],h9=UM("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:16,"&:last-child":{paddingBottom:24}}),p9=t.forwardRef((function(e,t){const n=$F({props:e,name:"MuiCardContent"}),{className:r,component:o="div"}=n,i=a(n,d9),s=d(d({},n),{},{component:o}),l=(e=>{const{classes:t}=e;return nA({root:["root"]},u9,t)})(s);return(0,UP.jsx)(h9,d({as:o,className:ZP(l.root,r),ownerState:s,ref:t},i))})),f9=p9;function m9(e){return GM("MuiCardActions",e)}KM("MuiCardActions",["root","spacing"]);const g9=["disableSpacing","className"],v9=UM("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})({display:"flex",alignItems:"center",padding:8,variants:[{props:{disableSpacing:!1},style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),y9=t.forwardRef((function(e,t){const n=$F({props:e,name:"MuiCardActions"}),{disableSpacing:r=!1,className:o}=n,i=a(n,g9),s=d(d({},n),{},{disableSpacing:r}),l=(e=>{const{classes:t,disableSpacing:n}=e;return nA({root:["root",!n&&"spacing"]},m9,t)})(s);return(0,UP.jsx)(v9,d({className:ZP(l.root,o),ownerState:s,ref:t},i))})),b9=y9,w9=tU((0,UP.jsx)("path",{d:"M12 5.83 15.17 9l1.41-1.41L12 3 7.41 7.59 8.83 9zm0 12.34L8.83 15l-1.41 1.41L12 21l4.59-4.59L15.17 15z"}),"UnfoldMore"),C9=tU((0,UP.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit"),_9=tU((0,UP.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete"),x9=tU((0,UP.jsx)("path",{d:"M19 13H5v-2h14z"}),"Remove");const S9=function(e){let{open:n,onClose:r,projectId:o,initialCount:i=0,initialTarget:a=0,onSave:s,project:l}=e;const[c,u]=(0,t.useState)(i),[d,h]=(0,t.useState)(a),[p,f]=(0,t.useState)(!1),[m,g]=(0,t.useState)((null===l||void 0===l?void 0:l.subCounters)||[]),[v,y]=(0,t.useState)(!0);(0,t.useEffect)((()=>{var e;u(i),h(a),g((null===l||void 0===l?void 0:l.subCounters)||[]),y((null===l||void 0===l||null===(e=l.subCounters)||void 0===e?void 0:e.length)<2)}),[i,a,l]);const b=(e,t,n,r)=>{s(o,{count:e,target:t,repeat:n,subCounters:r})},w=d>0?c/d*100:0;return(0,UP.jsxs)(X3,{open:n,onClose:r,children:[(0,UP.jsx)(n6,{children:"Row Counter"}),(0,UP.jsx)(s6,{children:(0,UP.jsxs)(G6,{sx:{display:"flex",flexDirection:"column",alignItems:"center",p:2},children:[(0,UP.jsxs)(G6,{sx:{position:"relative",display:"inline-flex",mb:2},children:[(0,UP.jsx)(UV,{variant:"determinate",value:w,size:80,sx:{color:"primary.main"}}),(0,UP.jsx)(G6,{sx:{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,UP.jsx)(m1,{variant:"caption",component:"div",color:"text.secondary",children:"".concat(c,"/").concat(d)})})]}),(0,UP.jsxs)(G6,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[(0,UP.jsx)(YV,{onClick:()=>{const e=Math.max(0,c-1);u(e),b(e,d,p,m)},children:(0,UP.jsx)(x9,{})}),(0,UP.jsx)(m1,{variant:"h4",children:c}),(0,UP.jsx)(YV,{onClick:()=>{let e=c+1;p&&e>d&&(e=1),u(e),b(e,d,p,m)},children:(0,UP.jsx)(o9,{})})]}),(0,UP.jsx)(Z1,{label:"Target Rows",type:"number",value:d,onChange:e=>{const t=parseInt(e.target.value)||0;h(t),b(c,t,p,m)},sx:{mb:2}}),(0,UP.jsx)(_1,{control:(0,UP.jsx)(N5,{checked:p,onChange:e=>{f(e.target.checked),b(c,d,e.target.checked,m)}}),label:"Repeat pattern"}),(0,UP.jsx)(J5,{variant:"outlined",onClick:()=>{const e=[...m,{count:0,target:0}];g(e),y(e.length<2),b(c,d,p,e)},sx:{mt:2},disabled:!v,fullWidth:!0,children:0===m.length?"Add Sub Counter":"Add Another Sub Counter"}),m.map(((e,t)=>(0,UP.jsxs)(G6,{sx:{mt:3,p:2,border:"1px solid #ccc",borderRadius:1,position:"relative"},children:[(0,UP.jsxs)(m1,{variant:"subtitle1",sx:{mb:1},children:["Sub Counter ",t+1]}),(0,UP.jsx)(YV,{size:"small",onClick:()=>(e=>{const t=m.filter(((t,n)=>n!==e));g(t),y(t.length<2),b(c,d,p,t)})(t),sx:{position:"absolute",top:8,right:8},children:(0,UP.jsx)(x9,{})}),(0,UP.jsxs)(G6,{sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:2,mb:2},children:[(0,UP.jsxs)(G6,{sx:{position:"relative",display:"inline-flex",mb:2},children:[(0,UP.jsx)(UV,{variant:"determinate",value:e.target>0?e.count/e.target*100:0,size:60,sx:{color:"secondary.main"}}),(0,UP.jsx)(G6,{sx:{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,UP.jsx)(m1,{variant:"caption",component:"div",color:"text.secondary",children:"".concat(e.count,"/").concat(e.target)})})]}),(0,UP.jsxs)(G6,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,UP.jsx)(YV,{onClick:()=>(e=>{const t=[...m];t[e].count=Math.max(0,t[e].count-1),g(t),b(c,d,p,t)})(t),children:(0,UP.jsx)(x9,{})}),(0,UP.jsx)(m1,{variant:"h5",children:e.count}),(0,UP.jsx)(YV,{onClick:()=>(e=>{const t=[...m];t[e].count++;let n=c;t[e].count>=t[e].target&&t[e].target>0&&(t[e].count=0,n=c+1,p&&n>d&&(n=1),u(n)),g(t),b(n,d,p,t)})(t),children:(0,UP.jsx)(o9,{})})]})]}),(0,UP.jsx)(Z1,{label:"Target",type:"number",value:e.target,onChange:e=>((e,t)=>{const n=[...m];n[e].target=parseInt(t)||0,g(n),b(c,d,p,n)})(t,e.target.value),size:"small"})]},t)))]})})]})};const k9=function(e){let{project:n,onEdit:r,onDelete:o,onRowCounterUpdate:i}=e;const[a,s]=(0,t.useState)(!1);return(0,UP.jsxs)(c9,{sx:{minWidth:275,m:1},children:[(0,UP.jsxs)(f9,{children:[(0,UP.jsx)(m1,{variant:"h5",component:"div",children:n.name}),(0,UP.jsxs)(m1,{sx:{mb:1.5},color:"text.secondary",children:["Pattern: ",n.pattern||"Not specified"]}),(0,UP.jsxs)(m1,{variant:"body2",children:["Status: ",n.status]}),(0,UP.jsxs)(m1,{variant:"body2",children:["Needle Size: ",n.needleSize]}),(0,UP.jsxs)(m1,{variant:"body2",children:["Yarn: ",n.yarn]}),n.notes&&(0,UP.jsxs)(m1,{variant:"body2",sx:{mt:1},children:["Notes: ",n.notes]})]}),(0,UP.jsx)(b9,{children:(0,UP.jsxs)(G6,{sx:{display:"flex",justifyContent:"flex-end",width:"100%",gap:1},children:[(0,UP.jsx)(v4,{title:"Row Counter",children:(0,UP.jsx)(YV,{size:"small",onClick:()=>s(!0),title:"Row Counter",children:(0,UP.jsx)(w9,{})})}),(0,UP.jsx)(v4,{title:"Edit",children:(0,UP.jsx)(YV,{size:"small",onClick:()=>r(n),title:"Edit",children:(0,UP.jsx)(C9,{})})}),(0,UP.jsx)(v4,{title:"Delete",children:(0,UP.jsx)(YV,{size:"small",onClick:()=>o(n.id),title:"Delete",children:(0,UP.jsx)(_9,{})})})]})}),(0,UP.jsx)(S9,{open:a,onClose:()=>s(!1),projectId:n.id,initialCount:n.rowCount||0,initialTarget:n.rowTarget||0,onSave:i,project:n})]})},I9={name:"",pattern:"",status:"Not Started",needleSize:"",yarn:"",notes:""};const E9=function(e){let{open:n,onClose:r,onSave:o,project:i=null}=e;const[a,s]=(0,t.useState)(I9);(0,t.useEffect)((()=>{s(i||I9)}),[i,n]);const l=e=>{const{name:t,value:n}=e.target;s((e=>d(d({},e),{},{[t]:n})))};return(0,UP.jsxs)(X3,{open:n,onClose:r,maxWidth:"sm",fullWidth:!0,children:[(0,UP.jsx)(n6,{children:i?"Edit Project":"New Project"}),(0,UP.jsx)(s6,{children:(0,UP.jsxs)(r9,{container:!0,spacing:2,sx:{mt:1},children:[(0,UP.jsx)(r9,{item:!0,xs:12,children:(0,UP.jsx)(Z1,{fullWidth:!0,label:"Project Name",name:"name",value:a.name,onChange:l,required:!0})}),(0,UP.jsx)(r9,{item:!0,xs:12,children:(0,UP.jsx)(Z1,{fullWidth:!0,label:"Pattern",name:"pattern",value:a.pattern,onChange:l})}),(0,UP.jsx)(r9,{item:!0,xs:12,sm:6,children:(0,UP.jsxs)(Z1,{fullWidth:!0,select:!0,label:"Status",name:"status",value:a.status,onChange:l,children:[(0,UP.jsx)(JQ,{value:"Not Started",children:"Not Started"}),(0,UP.jsx)(JQ,{value:"In Progress",children:"In Progress"}),(0,UP.jsx)(JQ,{value:"Completed",children:"Completed"})]})}),(0,UP.jsx)(r9,{item:!0,xs:12,sm:6,children:(0,UP.jsx)(Z1,{fullWidth:!0,label:"Needle Size",name:"needleSize",value:a.needleSize,onChange:l})}),(0,UP.jsx)(r9,{item:!0,xs:12,children:(0,UP.jsx)(Z1,{fullWidth:!0,label:"Yarn",name:"yarn",value:a.yarn,onChange:l})}),(0,UP.jsx)(r9,{item:!0,xs:12,children:(0,UP.jsx)(Z1,{fullWidth:!0,label:"Notes",name:"notes",value:a.notes,onChange:l,multiline:!0,rows:4})})]})}),(0,UP.jsxs)(j6,{children:[(0,UP.jsx)(J5,{onClick:r,children:"Cancel"}),(0,UP.jsx)(J5,{onClick:()=>{o(a),r()},variant:"contained",color:"primary",children:"Save"})]})]})};const T9=function(){const[e,n]=(0,t.useState)([]),[r,o]=(0,t.useState)(!1),[i,a]=(0,t.useState)(null);(0,t.useEffect)((()=>{s()}),[]);const s=async()=>{if(VP.currentUser){const e=await(async e=>{const t=WI(n3,"users",e,"knittingProjects");return(await hT(t)).docs.map((e=>d({id:e.id},e.data())))})(VP.currentUser.uid);n(e)}},l=async e=>{VP.currentUser&&(await(async(e,t)=>{const n=GI(n3,"users",e,"knittingProjects",t);await gT(n)})(VP.currentUser.uid,e),s())},c=e=>{a(e),o(!0)};return(0,UP.jsx)("div",{className:"content-container",children:(0,UP.jsxs)("div",{className:"craft-section",children:[(0,UP.jsxs)(G6,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[(0,UP.jsx)(m1,{variant:"h4",component:"h1",children:"Knitting Projects"}),(0,UP.jsx)(J5,{variant:"contained",color:"primary",startIcon:(0,UP.jsx)(o9,{}),onClick:()=>o(!0),children:"New Project"})]}),(0,UP.jsx)(r9,{container:!0,spacing:2,children:e.map((e=>(0,UP.jsx)(r9,{item:!0,xs:12,sm:6,md:4,children:(0,UP.jsx)(k9,{project:e,onEdit:c,onDelete:l,onRowCounterUpdate:async(e,t,n,r)=>{VP.currentUser&&(await(async(e,t,n)=>{const r=GI(n3,"users",e,"knittingProjects",t);await mT(r,{rowCount:n.count,rowTarget:n.target,repeatPattern:n.repeat,subCounters:n.subCounters,updatedAt:new Date})})(VP.currentUser.uid,e,t),s())}})},e.id)))}),(0,UP.jsx)(E9,{open:r,onClose:()=>{o(!1),a(null)},onSave:i?async e=>{VP.currentUser&&(await(async(e,t,n)=>{const r=GI(n3,"users",e,"knittingProjects",t);await mT(r,d(d({},n),{},{updatedAt:new Date}))})(VP.currentUser.uid,i.id,e),s())}:async e=>{VP.currentUser&&(await(async(e,t)=>{const n=GI(WI(n3,"users",e,"knittingProjects")),r=n.id;return await fT(n,d(d({},t),{},{rowCount:0,rowTarget:0,repeatPattern:!1,createdAt:new Date,updatedAt:new Date})),r})(VP.currentUser.uid,e),s())},project:i})]})})};const R9=function(){return(0,UP.jsx)("div",{className:"content-container",children:(0,UP.jsxs)("div",{className:"craft-section",children:[(0,UP.jsx)("h1",{children:"Crochet"}),(0,UP.jsx)("p",{children:"Welcome to the crochet section! Content coming soon..."})]})})};const P9=function(){const[e,n]=(0,t.useState)(null),[r,o]=(0,t.useState)(!0);return(0,t.useEffect)((()=>{const e=VP.onAuthStateChanged((e=>{n(e),o(!1)}));return e}),[]),r?(0,UP.jsx)("div",{children:"Loading..."}):(0,UP.jsx)(ut,{children:(0,UP.jsxs)("div",{style:{backgroundImage:"url(pexels_yarn.jpg)",backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat",width:"100vw",height:"100vh",overflow:"hidden","--primary-color":wt.primary,"--primary-hover-color":wt.primaryHover,"--danger-color":wt.danger,"--danger-hover-color":wt.dangerHover,"--text-color":wt.text,"--background-color":wt.background,"--container-background":wt.containerBackground,"--link-color":wt.link,"--error-color":wt.error,"--success-color":wt.success,"--box-shadow":_t,"--border-radius":Ct},children:[(0,UP.jsx)(GP,{user:e}),(0,UP.jsxs)(Pe,{children:[(0,UP.jsx)(Te,{path:"/login",element:e?(0,UP.jsx)(Ee,{to:"/embroidery"}):(0,UP.jsx)(HP,{})}),(0,UP.jsx)(Te,{path:"/register",element:e?(0,UP.jsx)(Ee,{to:"/embroidery"}):(0,UP.jsx)(qP,{})}),(0,UP.jsx)(Te,{path:"/forgot-password",element:e?(0,UP.jsx)(Ee,{to:"/embroidery"}):(0,UP.jsx)(WP,{})}),(0,UP.jsx)(Te,{path:"/",element:(0,UP.jsx)(Ee,{to:e?"/embroidery":"/login"})}),(0,UP.jsx)(Te,{path:"/embroidery",element:e?(0,UP.jsx)(V6,{}):(0,UP.jsx)(Ee,{to:"/login"})}),(0,UP.jsx)(Te,{path:"/knitting",element:e?(0,UP.jsx)(T9,{}):(0,UP.jsx)(Ee,{to:"/login"})}),(0,UP.jsx)(Te,{path:"/crochet",element:e?(0,UP.jsx)(R9,{}):(0,UP.jsx)(Ee,{to:"/login"})}),(0,UP.jsx)(Te,{path:"*",element:(0,UP.jsx)(Ee,{to:e?"/":"/login"})})]})]})})},A9=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,6453)).then((t=>{let{getCLS:n,getFID:r,getFCP:o,getLCP:i,getTTFB:a}=t;n(e),r(e),o(e),i(e),a(e)}))};o.createRoot(document.getElementById("root")).render((0,UP.jsx)(t.StrictMode,{children:(0,UP.jsx)(P9,{})})),A9()})()})();
//# sourceMappingURL=main.289c72bd.js.map